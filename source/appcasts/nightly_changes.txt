2018-09-24: Change confirm quit to confirm even when there
are no terminal windows. Issue 7051

2018-09-24: Log all window become/resign key status to debug
issue 7057

2018-09-24: [python] Move screen streamer to its own class.
Fix up docs.

2018-09-23: [python] Bump version

2018-09-23: [python] Move ScreenStreamer into its own
submodule

2018-09-23: [api] Fix failing tests in test_it2api.sh

2018-09-23: [api] Improve how current directory is returned.
Fix a bug where the compmletion handler for the activate api
was called twice.

2018-09-23: [python] Remove uses of deprecated dispatch
functions. Remove deprecated dispatch functions from
Connection

2018-09-23: [python] Add color preset commands to it2api

2018-09-23: [python] Update docs

2018-09-23: [api] Update scripting templates for the new
regime

2018-09-23: [python] Cancel the dispatch_forever task to
avoid a noisy exception when a script terminates

2018-09-23: [python] Remove async_gather. Begin updating
code to use run_until_complete and run_forever.

2018-09-23: [python] Simplify how messages are dispatched
and how programs are run. Use run_until_complete or
run_forever. Dispatching happens in an infinite async loop
now.

2018-09-23: Remove bogus reference in prefs xib

2018-09-23: [status bar] Remove bogus draw calls

2018-09-23: Update docs to add variables and example of
changing color preset when theme changes

2018-09-23: [python] Fix up variable monitoring:

Move variable scope enum to variables submodule.

Allow async_recv_message to be cancelled without breaking
message dispatching forever.

Fix subscribing to app scope variable changes.

Add docs to VariableMonitor.

2018-09-22: [python, api] Add color presets to API.

Refactor Color into its own submodule.

Add gather to connection. Change how waiting on the
websocket works to support the case where two receivers
exist and the first one finishes before the second one.
Before, the second one would never await the websocket
leading to deadlock.

2018-09-22: Add advanced pref that excludes certain
characters from belonging to a URL. Issue 4842

2018-09-21: Move where the window background color is set to
after its last assignment to fix breakage of the dark theme
on 10.12. Issue 7068

2018-09-21: Fix dark theme on 10.12 and 10.13. it_tabStyle
was confused because the appearance was light prior to its
being set so it rewrote the theme to light. This preserves
the preexisting bug with the toolbelt when there's a dark
tab color and no tab bar, which is too complex to fix for
3.2.1. Issue 7054

2018-09-19: Improve text rendering on Mojave + non retina

2018-09-19: Make traditional fullscreen window
miniaturizable on 10.13 and up. The 10.12 behavior, based on
a suggestion in #4402 doesn't make much sense to me but I'm
going to leave it alone since I don't have time to
investigate it now.

2018-09-19: [python] Expose theme through variable. Add
python binding for it.

2018-09-18: Allow hotkey windows to align to the top of the
screen when the menu bar is hidden, as when over a lion
fullscreen window. Issue 7044

2018-09-18: Commit appcast to website after each nightly
build. Tag nightly builds and push tags.

2018-09-17: Clarify how Config Quit pref works. Issue 7051

2018-09-17: [statusbar] Tweak git status bar icon

2018-09-17: [statusbar] make it possible to bound the width
of various components that annoyingly change size all the
time: pwd, git, and jobs

2018-09-17: Update app icon for 3.3

Lose the titlebar which violated the hig. Add the outline
back so it's visible against all color docks.

2018-09-17: Fix the app name in the about box title (omg)

2018-09-17: Add lots of checks and consts to try to find the
cause of buffer overruns

2018-09-17: Invalidate process cache after attaching to a
running process. Fixes a bug where tab titles didn't have a
job name after window restoration

2018-09-17: Make tab bar height configurable by advanced
pref when compact and minimal

2018-09-17: Change default background color and outline
color prominence for minimal style so there's a subtle
background color difference and to make the line less
prominent

2018-09-17: Use a smaller font for the window number label
when not in the minimal theme

2018-09-16: [python] Change keycode pattern properties to
have setters

2018-09-16: Fix typo

2018-09-16: Add an experimental setting, on by default in
betas. When you split a divorced session, the new session
will also be divorced.

2018-09-16: Do not draw window number in full screen. It
overlaps the tab bar

2018-09-16: Fix switching themes on 10.13

2018-09-16: If there is only one tab and it has a dark tab
color then that causes a dark appearance on the window. This
caused problems for the toolbelt which did not update its
colors properly, since the theme (as returned by
it_TabStyle: would be light. It now returns dark if the
window background would also be dark. This change should not
affect Mojave

2018-09-16: Dont reloadData on ProfileListView when the
appearance changes because it broke edit session info
because it messed with the hidden profilelistview it was
tied to. Just update the profile list view in the toolbelt
since that's the only one that's affected by a theme change
on 10.13. Things should take care of themselves on 10.14

2018-09-16: Fix always-visible scrollbars in toolbelt with
dark theme on 10.13. The scrollview's white background
causes them to be invisible'

2018-09-16: Move "use bright colors for bold" in text prefs
to be a checkbox next to the "bold" color in color prefs. It
has been screwed up since I took over iTerm. The actual
semantics are that it enables the bold color you chose, as
well as modifying bold "normal" ANSI colors to be the bright
version. The second effect is not very important compared to
the first, which has caused mass confusion. This commit
makes the main purpose of the preference clear. Issue 7036.

2018-09-16: [metal] Use the same baseline offset as the
legacy renderer. This becomes visible when the nonascii font
has a different baseline offset than the primary font. The
legacy renderer always uses the primary font's baseline
offset.

2018-09-15: Fix failing unit tests

2018-09-15: Remove iTermVariables's delegate interface.
Change all existing users to use iTermVariableReference
instead which is a much cleaner interface.

This commit also fixes miscellaneous bugs like the width of
function call components.

2018-09-15: Incomplete implementation of variable references

2018-09-14: [status bar] Remove the status bar view when the
status bar is disabled

2018-09-14: Fix incorrectly drawn background color. Fix left
margin when status bar on bottom. Fix vertical offset when
status bar on bottom. Issue 6957

2018-09-13: [python docs] add mousemode

2018-09-13: [python] Bump version

2018-09-13: Fix up minimal and compact windows with tab
colors

2018-09-12: [variables] Add support for references, which is
a canonical way of getting notified when a variable changes.
For example, if you have a reference to
session.tab.currentSession.name, it could change because the
tab the session belongs to changes, because the tab's
current session changes, or because the name of the current
session changes. In the old way of comparing path strings
you don't get to find out about changes like these because a
dumb comparison can't resolve indirect references correctly.

2018-09-12: [status bar] Fix autoresizing masks on setup ui

2018-09-12: Fix build

2018-09-12: [status bar] Update icons

2018-09-12: [status bar] Fix a bug where text status bar
components' views did not get resized

2018-09-12: [python, api] Enable monitoring variables in
python. Expose mouse mode as a variable.

2018-09-10: [python] Bump version

2018-09-10: Add support for python 3.7 to copy_api.sh

2018-09-10: Fix a bug where the status bar would be reloaded
because of missing default values in the layout dictionary

2018-09-10: [python] Fix imports

2018-09-10: [python docs] Fix indentation

2018-09-10: Stop trying to be clever about the background
color of the find view. It looks way better when you're not
clever

2018-09-09: If the user sets a title override in prefs,
respect it even if it is empty. This is kind of a hack--we
just replace their value with a space.

2018-09-09: Enable saving a custom  window title in
preferences

2018-09-09: Do not reset bell when title changes. It is too
aggressive, since that could be a job name change.

2018-09-09: Put stoplight buttons in the hotbox (that
appears when you mouse over them) for compact windows with
left-side tabs when the tab bar is not visible.

2018-09-09: Show the window title when there is one tab and
prefs dictate hiding the tab bar and the tab bar is on top.
Also, show a window number in minimal+compact+top or left
tabs.

Alaso, ARCify iTermRootTerminalView.

2018-09-09: [Mojave] Precompute exponent for alpha channel
in metal text vertex shader for faster fragment shading

2018-09-09: Remove an assertion. Looks like you can get
sessionDidResignActive: when already suspended. I guess this
is if you fast user switch to a third user while already
switched away from the user the iTerm2 session is running
under.

2018-09-09: Limit depth that deepestForegroundJob will
search to. Despite cycle detection I saw a crash that went
hundreds of levels deep.

2018-09-09: Add subclasses to iTermData to see which one is
responsible for buffer overruns

2018-09-09: Remove sanity checks from LineBlock since there
haven't been any relevant crashes on 3.2.1beta3 yet

2018-09-09: Run iTermWarning alerts as sheet modals when
possible. Issue 7023

2018-09-09: Prevent a hotkey window from auto-hiding while a
sheet is being presented

2018-09-09: Don't let move to adjacent pane move to a pane
that only shares one point with the one you're moving from.
Issue 6025

2018-09-09: [api] Add an advanced pref to set the python
runtime URL

2018-09-09: [api] Update the banner for the new way of using
Connection

2018-09-09: [api] Assert that handlers are never called more
than once

2018-09-09: [api] Fix a bug in getting window frame called
the completion handler twice because of a missing break

2018-09-09: [api] bump version

2018-09-09: [ColorPicker] Rebuild framework

2018-09-09: [ColorPicker] Fix a crash when dragging a
CPKColorWell

2018-09-09: Cherry-pick underlined text color fix from
release_3.2.

2018-09-09: [metal, mojave] Improve how text is recolored on
Mojave. The system doesn't seem to simply multiply the alph
channel by the color. It's some nonlinear function that I
haven't quite figured out, but this is close.

2018-09-08: [python] Fix how properties are used to be
compatible with Python 3.7

2018-09-08: Move icon settings to profile. Also fix a few
retain cycles in profile general prefs.

2018-09-08: Add an option to show an icon in the tab bar. We
could be cleverer about this by analyzing screen contents,
but I'm not optimistic about that approach paying off, so
let's see how this does (this algorithm simply looks at the
deepest foreground job's command name). Icons come from
hyper-tab-icons-plus, which is MIT licensed.

2018-09-07: [api] Ensure pip3 is run from a spaceless
folder. It was failing when creating a full-environment
script with dependencies.

2018-09-07: [scripting] Fix hang after importing a script on
Mojave

2018-09-07: [status bar] Change how the git statusbar
component works. Now one shell script is launched and it
takes pathanmes on stdin. It outputs blocks of key-value
pairs giving attributes of that path's git state. If it gets
stuck the process is killed.

There is still some work to do: if you're in a slow network
path then it will always get stuck. We should recognize
poisonous directories and stop asking.

2018-09-06: Add an advanced pref to exclude hotkey windows
from cycling

2018-09-06: Don't go to user defaults every time an advanced
setting is read. User defaults is pretty slow. Intead, each
has an associated static NSObject that stores its (perhaps
boxed) value.

This commit also make section names into macros, which was
an ugly little shortcut I have never liked.

2018-09-06: When you right click in an existing selection
and it's not very long save it so that if it changes out
from under the selection we respect what you originally
clicked on. Issue 5471

2018-09-06: Fix a bug where _framesInFlight would be too
high if we failed to get a destination texture or render
pass descriptor. The result was infinitely fast trying to
draw and immediately aborting because it thought there were
too many frames in flight. Issue 7013

2018-09-06: Clean up a comment

2018-09-06: Update process cache when job PID changes for a
session or soft alternate screen mode changes. The former
fixes a bug where the status bar would show an empty job
name after restoring a session

2018-09-06: Tweak position of user icon

2018-09-06: [status bar] Improve look of git component

2018-09-06: Tweak git statusbar component icon

2018-09-06: Change git icon

2018-09-05: [status bar] Make font configurable

2018-09-05: [status bar] Make default text color
configurable. Use same key for text color across all
components.

2018-09-05: [status bar] Allow user to set the background
color of the status bar. Clean up how background colors are
drawn and make all components share the same knob for
background color

2018-09-03: [status bar] Make separator color configurable

2018-09-03: [status bar] Disable configure button after
removing an item because NSCollectionView does not tell you
the item was deselected when you remove it (ffs)

2018-09-03: Convert an NSLog to DLog

2018-09-03: [status bar] Allow backspace to remove a status
bar item in the setup destination collection view. Add a
poof animation when removing an item

2018-09-03: Fix a bad cherrypick

2018-09-03: Remove duplicate definitions from bad cherrypick

2018-09-03: Fix cellSize/glyphSize mixup in box drawing
characters (issue 6909). Also fix the background/foreground
color, which was somehow still broken on Mojave

2018-09-03: Add setting to control fallback LC_CTYPE when
your language+country aren't recognized

2018-09-03: Change project demployment target to 10.12. Not
sure if this will do anything since all the targets were
10.12 already

2018-09-03: Fix ProfileListView colors on 10.13. Should not
affect 10.14. Issue 6983

2018-09-03: Get rid of the prompt to update build settings.
It wants to screw with my signing settings to make them bad.

2018-09-03: Disable header maps

2018-09-03: Add script to notarize builds

2018-09-03: Drop suport for Growl. Revert this if there's a
decent answer to
https://groups.google.com/forum/?fromgroups#!topic/growldiscuss/Y0q07B8dkfQ

2018-09-03: Add a polyfill for NSImageView.contentTintColor

2018-09-03: Remove some unused variables due to the last
change

2018-09-03: [statusbar] Improve drawing of sparklines to
look more minimal, draw correctly when the size of the
region is more than 60 points, and generally look better.

2018-09-03: [status bar] Try hard to set user name and
hostname when not using shell integration.

* Set username and hostname variables when shell integration
  is not in use when a session is initialized.
* Fix a bug where they were nilled out if there was no
  currentHost.
* Refactor localhost name guessing into its own class.  *
Define a new global variable holding localhost's name.  *
Disable git polling when hostname is not localhost.

2018-09-03: Improve readability of completion blocks in
PTYSession

2018-09-03: [status bar] Change sparklines to use status bar
text colors for a more minimal look

2018-09-03: Poll for working directory when the user presses
a key and then a linefeed is received while not in alternate
screen mode, and shell integraiton was not used in the
session

2018-09-03: Add status bar icons

2018-09-02: [status bar] Tint status bar icons with text
color

2018-09-02: [status bar] Fix up minimal theme colors for all
existing components. Update icons sketch file.

2018-09-02: [status bar] Update icons and vertical alignment

2018-09-02: [status bar] Add support for icons.

2018-09-01: Inset status bar dividers a bit

2018-09-01: [statusbar] Make the text color of graphic
components, such as utilization meters, configurable

2018-09-01: Hide the title while an announcement is visible.
Issue 6981

2018-09-01: Increase side insets of stoplight buttons in
minimal mode. Issue 4080

2018-09-01: Fix typo

2018-08-31: Escape standard login command username. Issue
6999

2018-08-31: [api docs] Add notice to front page about API
instability

2018-08-30: Don't listen to carbon notification about the
menu bar hiding. It does not tell you which screen it's
talking about and if there are two you will be confused. You
could confuse it by changing the fullscreen status of a
window on a screen without an iTerm2 window. Also, fix how
menu bar frames are computed because they're flipped but
screen frames are not flipped. I'm not sure what will break
by removing the menu bar hidden test, but let's see. Issue
6985

2018-08-30: Fix a bug where labels in the open quickly
window would turn white when you pressed the down arrow key

2018-08-30: Expose various interesting bits terminal state
in a menu and let the user toggle it. Issue 6998

2018-08-30: Fix autoresizing mask of SplitPanel.xib. Issue
6996

2018-08-30: Disable the use of virtual keycodes to detect
digit keys by default. Issue 6994

2018-08-30: Don't allow minimum contrast to apply to box-
and block-drawing characters. Issue 6993

2018-08-30: Cache number of wrapped lines at each
offset+width+length. Since blocks are reasonably small this
doesn't seem to get too large, in practice. Will help with
issue 6952.

2018-08-29: Detect cycles in font weight. Issue 6960

2018-08-29: Fix a bug where the prefs window didn't resize
when going to the profiles tab (esp obvious from
appearance). Issue 6987

2018-08-29: Fix scroll-back in another way. Issue 6982
(#365)

Improvements to scrolling delta accumulator to simplify and
offer fast turnaround. By ghoostqq 2018-08-28: Specify
bundle to make using iTerm2 as a library less agonizing. PR
364. Most of this code was written by lemonmojo with minor
style/comment tweaks by me.

2018-08-27: Change command runner to only one run command at
a time. Use a dedicated reading and waiting queue so you
don't get deadlock when you have a single queue that can't
schedule waiting.

2018-08-27: [python] Expose mainmenu submodule. Remove menu
item code from app submodule

2018-08-27: [python] Fix some documentation bugs

2018-08-26: [python] Move main menu related functions to
their own module

2018-08-26: Change iTermCommandRunner to use a single queue.
I saw the git watcher use up all the queues, causing
dispatch_async for LSOF to hang the main thread. This
probably needs more work, to kill the slow process group.

2018-08-26: [python] Move RPC registration to registration
module

2018-08-26: [python] Fix a bunch of documentation bugs. Move
profile list functions into classes ino profiles module

2018-08-26: [python] Move window creation from App to Window

2018-08-26: [python] Move window arrangement code to its own
file

2018-08-26: [python] Reduce the amount of boilerplate in
scripts

2018-08-26: Add some polish to the status bar setup view.
Make it bigger, remove the misplaced separator.

2018-08-26: Increase the margin between status bar
components. Looks better, less confusing.

2018-08-26: Tie iTerm2's status bar to the tmux status bar
in tmux integration mode. :-)

2018-08-26: Fix a bug where the tmux controller was given
the wrong profile model when it was launched from a divorced
session and it was using the dedicated tmux profile. The
effect of this was that toggling the status bar on the tmux
profile would not change the frame correctly, leading to
clipped content. This happened because the tmux profile
which got passed all the way down to
_recursiveSetSizesInTmuxParseTree did not have a status bar
but the session's profile that was used for layout did have
a status bar.

2018-08-26: Fix a bug in the scroll accumulator that made it
reverse sometimes when scrolling ends. Issue 6982

2018-08-25: Update announcement frame more often and have it
account for title bar frame

2018-08-25: Draw window border on Mojave

2018-08-25: Add a calendar usage description. This seems to
help apps that need to ask for any permission to be able to
do so. Issue 6977

2018-08-25: Get rid of the metal synchronous drawing code.
It's better to live with the occasional glitch than 5 second
hangs as seen in issue 6919

2018-08-25: Fix transparency with background image on 10.12,
10.13

2018-08-25: Fix support for system
prefs>accessibility>display>increase contrast by detecting
the current appearance correctly

2018-08-25: Fix high contrast themes. You can't create high
contrast appearances directly. Also the tab theme shouldn't
use the window background color in Mojave because it's clear

2018-08-25: [mojave] Set window appearance properly to
correspond with the selected theme.

2018-08-25: Get rid of TAB_STYLE_COUNT

2018-08-25: Set tags on the separators in the theme popup so
you can select the light theme on 10.14

2018-08-25: Make window background color clear in Mojave so
transparent windows will work

2018-08-25: Don't set window appearance in mojave

2018-08-25: Set the window background color on Mojave. It
works again! But never set it to clear because then you get
a broken visualeffectview. Issue 6964.

2018-08-25: Fix a bug where tabs wrapping around didn't
convert the EOL marker to soft if the cursor was not on the
bottom line of the grid.

2018-08-25: Draw a dark color under the legacy scroller when
using the dark theme. Works around issue 6974.

2018-08-25: Fix a bug where you couldn't change theme on
10.13

2018-08-25: Add missing switch case

2018-08-25: Add debug logging to handle case where we don't
get a drawable or RPD and get wedged.

2018-08-25: Delete some duplicate code

2018-08-25: Move countedInstancesStrings to NSArray category

2018-08-25: Remove some 10.11-specific logic

2018-08-23: Retain incedental tokens now that VT100Tokens
are autoreleased

2018-08-23: Remove the critical log posted when we fail to
convert a coordinate from search. I didn't get to the bottom
of it, but it's very hard to reproduce and not a terribly
important problem--certainly not critical. I fixed the code
that consumes it to tolerate missing values. I beleive the
issue is that CoreSearch, which badly needs to be
refactored, returns out-of-bounds values. The critical error
in question showed the position in the result was past the
end of the last block. Issue 6972.

2018-08-23: Fix identifier for meta-frustration detector
announcement

2018-08-23: Ignore hard newlines while in interactive
applications. Issue 6969

2018-08-23: Fix a bug in the updated terminal punctuation
removing code that broke it by removing punctuation in the
middle

2018-08-23: Detect when you're annoyed that option doesn't
map to esc+ and offer to fix it

2018-08-22: Improve implementation of function that removes
terminating punctuation and add ] to it. Issue 6956

2018-08-22: Remove leftover method definition from merge
conflict

2018-08-22: Fix bug where the division view would disappear
when the tab style was automatic.

2018-08-22: Polish up tall tabs a bit more. Hardcode the
size. Fix switching to/from minimal theme. Fix bottom
tabs+minimal theme+exiting lion fullscreen (stoplights got
left visible).

2018-08-22: Don't lie in preferences when the title has no
components selected. Show the no-title emoji in the picker.

2018-08-22: Unregister carbon hotkeys while you're
fast-user-switched to another user. Issue 6721

2018-08-22: Fix a bug where tabs sometimes didn't snapshot
right when dragging them when Metal was in use

2018-08-22: Make tab height configurable. Experiment with
36pt tall tabs in minimal+compact.

2018-08-21: Change signing identity to adhoc

2018-08-21: [scripting] Fix creating full environment
scripts in subdirectory.

2018-08-20: Implement XTREPORTSGR

2018-08-19: Polish minimal theme. Continue selected color
into adjacent inset.

2018-08-19: Fix how background images are drawn in Mojave to
not clip their sides.

2018-08-19: Fix dragging tabs in Mojave.

2018-08-19: Fix various bugs in handling of background
images and margins in 10.14. The blending modes were not
right.

2018-08-19: Use setNeedsDisplay instead of immediately
drawing when scrolling. Helps keep the frame rate at the
expected value when scrolling because of new output

2018-08-19: Ensure title is never nil

2018-08-19: Fix open quickly on 10.13. Some of the visual
effect stuff didn't work right.

2018-08-19: Get rid of object pools. There were some crashes
involving them. They add a lot of complexity and having just
profiled I don't think they're a very useful optimization
any more.

2018-08-19: Bounds check APS hosts table

2018-08-19: Assert that we aren't corrupting memory owned by
iTermData.

2018-08-19: Bounds check smart selection action row number
to edit.

2018-08-19: Confirm running a script by opening it with
iTerm2. Issue 6948

2018-08-19: Improve logging of cadence info for issue 6792

2018-08-19: Fix a bug where texture sizes weren't always
counted in the histograms

2018-08-19: Fix appearance of copy mode cursor in Metal
renderer

2018-08-19: Let password key cursor blink. Let copy  mode
cursor show concurrently with the real cursor.

2018-08-19: Add password key cursor renderer to Metal. Issue
6929

2018-08-19: Minor optimization - avoid converting between
float4 and half4 in cursor fragment shader

2018-08-19: Do not create a new badge texture on every frame

2018-08-19: Reduce number of frames in flight when
currentDrawable takes more than 2 ms. Increase it when it
takes less than 0.5ms. Issue 6917

2018-08-19: Don't try to redraw when blinking text is found
if blinking is not allowed

2018-08-19: Add an advanced pref to adjust prominence of
text in unselected tabs when in colored-tab mode.

2018-08-19: Remove dead code

2018-08-19: Reduce floating hotkey window levels when an
app-modal dialog is present so it doesn't overlap it. Issue
6911

2018-08-19: Remove focus reporting announcement when focus
reporting is changed by control sequence

2018-08-19: Update travis version of box drawing golden

2018-08-19: Update golden for box drawing to account for
offset added in trying to improve nonretina rendering

2018-08-19: Fix a bug where the wrong visible frame for the
main screen is computed when the other display has a lion
full screen window because the OS lies about the height of
the menu bar.

2018-08-19: Fix a bug where legacy renderer didn't save
performance stats where "copy stats" could get them.

2018-08-19: fix an oops

2018-08-19: Improve consistency of box drawing characters
between legacy and GPU on nonretina displays. Issue 6851

2018-08-19: Improve logic for deciding if a fullscreen
window should leave space for a menu bar above it. Takes
into account whether it's LSUI, which cannot change the menu
bar, if it's floating, which overlaps the menu bar, and if
it's on a lion fullscreen desktop, which does not have a
visible menu bar. Issue 6918.

2018-08-19: Rename "Metal" to "GPU" in UI. A cherry-pick of
710216e73e172cb9ad484bd97dbb569cf0e23551

2018-08-19: Prevent a crash when doing smart selection with
no matching rule on a negative line number

2018-08-19: Prevent a crash when doing quicklook on a
negative row

2018-08-19: Fix a bug where iTermImage might get
autoreleased before its use in the following block. Blocks
and MRR make no sense.

2018-08-19: Only decode image in process if address
sanitizer is enabled

2018-08-19: Don't crash if doubleClickTabViewItem gets a nil
item

2018-08-19: Disable Send Signal button in jobs tool when the
selected job goes away. Preserve the selected row when
reloading data, if the process ID still exists

2018-08-19: Don't crash if you begin a drag at a negative y
coordinate

2018-08-19: Only look up metal devices one time.

This avoids tickling bugs in Metal where it overreleases is
own objects. A cherry-pick of
28b9efeccc6604b02098cd789bad4ef086243c68.

2018-08-18: Bump travis to xcode 10

2018-08-18: Fix a bug where the saved window type was often
wrong. When you drag a tab from a lion fullscreen window
whose saved window type is compact, for example, the new
window should not be normal but compact. Likewise, if you
restore a lion fullscreen window and then exit fullscreen it
should return to its normal type.

2018-08-18: When side margins are really wide keep marks
right aligned, not floating in the center

2018-08-18: Remove the upper bound on side margins in the
terminal windows. Issue 6932

2018-08-18: [Python] Add window mode and updated theme to
python. Fix JSON encoding of strings with backslashes.

2018-08-18: Draw an outline in minimal tab style to show
which tab is selected. Its weight is controlled by an
advanced pref

2018-08-18: Make difference between selected and
non-selected tabs configurable for minimal tab style

2018-08-18: Make prominence of tab outline when there is a
colored tab configurable by advanced setting. Fix a bug
where in the light theme tab titles were white because the
window background color's brightness couldn't be evaluated.

2018-08-13: Include status bar and per-pane titlebar when
computing window snap-to size.

2018-08-13: Update text color of text components more often

2018-08-13: Make text in colored tabs more readable by
increasing contrast

2018-08-13: Add decorations for selected tab when there are
colored tabs in minimal theme

2018-08-13: [Mojave] About window fixes: fix the colors in
dark mode and fix the frame to grow down, not up when
loading patrons

2018-08-13: Remove todo. I think the minimal scheme looks OK
with colored tabs the way it is

2018-08-13: Support highlighted tabs in minimal theme

2018-08-13: Fix color of status bar and titlebar when there
are split panes with dimming of inactive

2018-08-13: Fix a bug where text status bar components
didn't always update

2018-08-13: Make non-selected minimal tabs darker than the
selected one, when possible

2018-08-12: Allow placing the status bar on the top or
bottom. Add a bunch of TODOs for issues I noticed on the
way. Fix various problems with compact windows/minimal
style. Set window type sooner when exiting full screen mode
so -repositionWidgets can lay things out properly. That's
important when a tmux window exits lion fullscreen so it can
compute its new size properly.

2018-08-12: [Mojave] Disallow metal in uninitialized
PTYSessions without a textview. This causes a crash on
Mojave.

2018-08-12: [Mojave] Prevent a crash when initializing Metal
without a textview

2018-08-12: Add a rudimentary composer status bar component.
I'm not very happy with how it looks but it's a start.

2018-08-11: Improve support for minimal tab style,
especially in status bar. Also fix miscellaneous status bar
bugs I ran in to.

2018-08-11: Fix some warnings

2018-08-11: Update minimal tab style to indicate selected
tab a little more forcefully

2018-08-11: Make clean by deleting builds folder since XCode
10 is too dumb to make a clean build with xcodebuild

2018-08-11: [Mojave] Change how ASCII text is renderered by
Metal.

On Mojave:
  - ASCII glyphs will never be multipart. This commit
  separates glyphSize from cellSize. The glyph size is set
  just large enough to contain the largest possible ASCII
  glyph.  - Non-ASCII glyphs enjoy the same glyph size but
  still get stitched together from multiple parts so they
  can be very large.  - Relax the negative vertical spacing
  restriction. Metal can now run with any spacing and should
  render correctly.

Prior to Mojave:
  - glyphSize will always equal cellSize, so no change to
  text rendering.

On any OS, in Metal renderer:
  - Fix how italics are done to be consistent between retina
  and non-retina - Fix how underlines are done to underline
  only the center part and 1 right of center. The fragment
  shader had a bug that should cause all parts to receive an
  underline.

2018-08-10: Add minimal tab style (mojave only)

2018-08-10: Fix material of visual effect view.

2018-08-10: Tweak the vertical position of the new-output
icon in tab

2018-08-10: [yosemite] Fix a bug where the title of the
advanced tab didn't show up. Looks like an OS bug. The fix
was to make the initial window size (before the prefs panel
was shown) a little wider. In order to make that look good,
this commit moves things around in the general prefs tab.
This commit also avoids resizing the prefs window to its
wrong initial size when opening the Edit Info panel. Prior
to 10.14 it would get resized to fit the general edit
session view. In 10.14, that view gets resized so the edit
session window is really big.

2018-08-09: [mojave] Fix background colors of remaining
popups to work right in mojave

2018-08-09: [mojave] Fix up colors for dark mode.

2018-08-09: [mojave] Fix colors in advanced prefs

2018-08-09: [mojave] Fix transparent window issues in popups
and tip of the day. The window background color must be
clear for windows to be transparent now.

2018-08-09: [mojave] Use system colors where possible in
Mojave. Respond to system theme changes. Make
ProfileListView less insane.

2018-08-09: Add automatic tab style and migrate pre-10.14
users to it. At the moment it renders the same as Light.

2018-08-09: Disable synchronous drawing in metal because it
causes deadlocks on 10.14. See issue 6096. My theory is that
Metal needs the runloop to spin every now and again.

2018-08-09: Do not draw TextViewWrapper when Metal and 10.14
are available because it draws over top of the MTKView. This
works in 10.13 and earlier because compositing is broken.

2018-08-09: Add a separator to the list of window styles
which is getting long

2018-08-09: Improve layout of general prefs

2018-08-09: Fix transitions in and out of full screen
(native and traditional) with compact windows

2018-08-09: Remove some 10.11 code

2018-08-09: Add GZIP third party package

2018-08-09: [mojave] Fix a bug where text would poke a
transparent hole through the window (wrong blending mode int
he text renderer). Switch the character source to always use
transparent background for text on Mojave. Also fix the
box/block drawing code to use white on transparent on Mojave
so it gets recolored properly. Issue 6909

2018-08-08: Add support for CSI CHT (repeated tabs)

2018-08-08: Allow importing and exporting DVR recording

2018-08-08: Add block drawing text file

2018-08-08: Add test of synchronous updates

2018-08-08: [python]Add preferences.py

2018-08-08: Add mini paste view

2018-08-07: Add a new window type, compact. It puts the tab
bar in place of the title bar when possible. When the tab
bar is on the bottom the stoplight buttons show up when you
mouse over them. Windows with this style are currently buggy
when switching to full screen.

2018-08-05: Improve captured metal frame info to include
shader names and remove duplicate PIUs

2018-08-05: Move background drawing code into its own file

2018-08-05: Draw background image with sourceover so
transparency doesn't poke a hole

2018-08-05: Add support for new image modes to metal
renderer

2018-08-05: Change metal background renderer to respect the
existing background image modes with their new enum

2018-08-05: Add different modes for background images. The
metal implementation has not been done yet

2018-08-05: Fix a problem where -[TmuxController
registerSession:withPane:inWindow:] was called when the
session's tab's parentWindow was nil, causing a critical
error (issue 6905). This happened because the session's
delegate was set before the tab's parentWindow was set. The
effect is that the tab was not in the windows_ array, and
then crazy things could happen later (such as
-[TmuxController fitLayoutToWindows] not taking that tab
into consideration when computing the minimum size)

2018-08-04: Add logging to diagnose hangs on sync/async
draws

2018-08-04: Release postmultiplied render pass descriptor's
color attachment from the proper pool

2018-08-04: Remove the shared texture pool with a per-driver
texture pool. I don't think there was any real benefit from
sharing textures but the cost was real--if two sessions had
different sizes the pool wouldn't pool and you'd churn
creating and destroying big textures

2018-08-04: Use half4 in copy background fragment shader

2018-08-04: Fix leak of temporary render pass descriptor
texture

2018-08-04: Allow the auto-hide menu bar option when
LSUIElement is enabled. See comment in issue 6874

2018-08-04: Add Help>GPU Renderer Availability

2018-08-03: Improve echo probe to recognize CUB+EL instead
of BS+SPACE+BS. Issue 6878

2018-08-03: Make echo probe's state private

2018-08-03: Synchronize access to _state in echo probe since
the buffer update happens in PTYTask's thread

2018-08-03: Change the nightly changelog to show the last
month of commits with less noise

2018-08-02: Make underline cursor height configurable in
advanced prefs. Issue 6896

2018-08-01: Move password echo probing logic into its own
class

2018-08-01: [api, python] Enable creating tmux integration
windows and tabs
