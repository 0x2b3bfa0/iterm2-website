commit 5e195e4e1af0ba62e8f9bb74d8a8a34d0a1944ef
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jul 2 23:11:32 2018 -0700

    Add fastpaths for non-underlined text rendering that uses a much smaller vertex function output

commit 2a9e04a1bdf1ba9614ec6634bcf5640196dbbf36
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jul 2 22:59:32 2018 -0700

    Refactor metal code a bit to prepare for reducing the amount of vector function output in the typical case.

commit 6d9f424667301d30438ea2b3555a478fe01a8769
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jul 2 22:54:01 2018 -0700

    Use a separate render pipeline for emoji. This allows me to make the fragment functions simpler (albeit much more numerous)

commit cab7bd54405da5a6b682c458d5de7dbcabbfa801
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jul 2 21:56:58 2018 -0700

    Get rid of disableIndividualColorModels. It's faster to change fragment functions than to do a comparison in the fragment function. As it happens blending will always be on, anyway, because of pretty ascii overlap

commit a1da992a10a807607e88b4bfd3ff495e907b9847
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jul 2 21:51:40 2018 -0700

    Break underlining fragment shaders into their own functions to avoid what is either a compiler bug or the consequences of undefined behavior I cannot find. Issue 6779.

commit 7cfc9e3fe2d32a0d7dcb0b1fa2907730665b619d
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jul 2 10:44:16 2018 -0700

    Make beta-only experimental features on permanently so I don't forget to turn them on when 3.2 is released. Cherry picked from 3.2 branch

commit 3e3470a638b2c9de7a7a4f52c06bb4e1d6e4a1c8
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 28 11:45:14 2018 -0700

    [metal] Fix fake bold to use three different shifts for antialiased, like the nonmetal renderer

commit 6718fd7b6f6a25c46b2fff6261ff8a7edea581fe
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 27 22:34:58 2018 -0700

    Add menu item to arrange split panes evenly. In tmux, this uses the tiled layout.

commit 069494a9b1f71dea3d3ec2c309ee5858ba570c55
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jun 26 23:52:44 2018 -0700

    Fix crash when selecting vs code insiders for semantic history

commit 072c3a1b248893cacbd452ae9c501f121c6157fb
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jun 26 23:42:42 2018 -0700

    Add debug logging to track down initial PWD bugs

commit ddda3332f8998c224b0736039524f7d1f3dc6b81
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jun 26 22:13:16 2018 -0700

    Add a second way of getting strings from the pasteboard, which appears to work better in some weird edge cases like TIFFs that somehow have text. Issue 6811

commit b53cae6c21dda8dfe0199ccacf4ea8ec3c5bfbef
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jun 26 21:41:46 2018 -0700

    Fix a crash: avoid passing nil to hasPrefix:

commit 889d90960a76d13b74278b631d8beb5d76d70baf
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jun 26 21:39:01 2018 -0700

    Catch exceptions when writing log data and close the file handle instead of crashing

commit e0a78a8229647df22b9df75d97c52819cf55d5a3
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jun 26 21:32:42 2018 -0700

    Fix a bug where the window and icon title stacks were immutable after restoration

commit 67607a293d7c2803935cab7fed6abf8971354efa
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jun 26 19:58:32 2018 -0700

    Fix a bug where NSNull got into a tab arrangement which can't go in a plist. Issue 6812

commit d65577ce8100ed2c91c412649d1aaff5b0e5124c
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jun 26 19:23:53 2018 -0700

    Don't allow ssh url with path if it looks fishy

commit aaa55f59b7e19dcb600113b2ab01fe9cde31f36b
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jun 26 19:12:29 2018 -0700

    Allow ssh://host/~/foo URLs to cd to ~/foo. Issue 5813

commit c228db9a6656beab4a0dfe92cfc4f574e8a7df12
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jun 26 00:04:25 2018 -0700

    Log debug description of textures to metal frame capture

commit 07a1931316672c7b2a044a900d1bdda9356a7c4b
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 25 17:29:59 2018 -0700

    Try really hard to avoid getting into an infinite loop of sync metal drawing. Issue 6781

commit f17b4ebe4586a365419000e5e316320975ca3873
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 25 00:17:27 2018 -0700

    Don't make autocomplete suggestions in swifty text fields during various native editing operations

commit 8865263704ba2b017e55f5b197952817f9be9370
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 24 23:23:30 2018 -0700

    [api, python] Add support for app and tab variables in API. Update it2api, python lib, and docs.

commit 0dfc0fda1f872fcc87d905c9685edf4da55a36ac
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 24 15:10:02 2018 -0700

    Bump version since I had forgotten to add tmux

commit 2b084fe2aa03728b7df8d9b99ee033823bf87a1b
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 24 14:10:54 2018 -0700

    Add tmux.rst and tmux.py

commit 0a089cef146ef4274a9d31358207df0a2f5ddd6e
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 24 13:23:43 2018 -0700

    Move script management stuff into a submenu. Fix a bug when importing basic scripts

commit 437b2fbe040d043c62e54022dd3cc0781aa94534
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 24 13:12:31 2018 -0700

    [api] Add support for importing and exporting scripts

commit 359d5b82e265b19215d18c5e707660796d0b7784
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 23 17:23:15 2018 -0700

    Return scale in ReportCellSize to ease computations for imgcat now that it respects Retina. See mailing list thread subject 'images and retina display'

commit 98c237f29fab55eb111adf7787d816bc5354f24f
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 23 17:09:16 2018 -0700

    [api] Fix typo (I also fixed it in iterm2-pyenv)

commit 7b6574903aeead1ae3363f9c9c487cc1a63a4734
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 23 16:52:27 2018 -0700

    Fix a bug where sessions with a suspended job did not have a foreground job name

commit 29cb8a5c0a1976a1d71568ad2d1de560e21b8329
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 23 16:47:52 2018 -0700

    [api, python] Add support for tmux to the API

commit ea6c2ed5b79d7230be18d76a3a9645faaa0ce13e
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 22 09:56:50 2018 -0700

    [api] Disable the path watcher while installing a new script with full environment

commit 77f2353bc849d6cb0db08677e9ce4f074cbd15c0
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 22 09:53:22 2018 -0700

    [api] Add iterm2 as a dependency in setup.py always

commit ddfffe66632f93d56408b52c3bfe621f83f7694a
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 22 09:52:12 2018 -0700

    Use setuptools instead of distutils.core in setup.py because it supports dependencies properly

commit 54f6555ffb790798934e2c5aebf1d51660b22061
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 22 09:40:27 2018 -0700

    [api] Put full environment scripts in Scripts/Foo/Foo/Foo.bar so there can be Scripts/Foo/iterm2env and Scripts/Foo/setup.py and everything is nicely separate.

commit 1b3e26a45693d5cfa9d36fc2dc40e52f4d17cfd2
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 22 09:27:15 2018 -0700

    [api] Use autolayout for the save panel when creating a python script so the dependency chooser can be the right size

commit 36e49a53476405acf42fa46be559ff347d29229e
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 22 00:08:21 2018 -0700

    Fix a comment

commit 7adb14c0503ed6d62fd1d4510a40e3e43336985c
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 21 23:53:15 2018 -0700

    Remove debuglog spam

commit 0e9a1e9284c542122522915a109d5fa214bb8fd7
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 21 23:47:46 2018 -0700

    Check if tab/window button is enabled before emulating the key equivalent in the profiles window

commit d9cd8e80acb7f2662f73f6d7582626b9557fdd36
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 21 23:31:36 2018 -0700

    Fix fake bold shift to match nonmetal renderer

commit 4c261b8afe04d41d1fed7244f4b4c32723b0f71f
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 21 23:20:48 2018 -0700

    Fix missing argument to log statement

commit 7ec430fa64afa249dfeaaa35ee3bd88eb51120a4
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 21 23:17:36 2018 -0700

    Fix a bug where a missing image would cause endless redraws in Metal

commit b1c4aee0a3c774a74b6c1db587b0ca3fc2e6dcef
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 21 22:28:35 2018 -0700

    Fix typo

commit c859cc508b71a8a151d883b8058bc02a0350df4b
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 21 22:24:47 2018 -0700

    Don't create an iTermAPIHelper when opening prefs

commit c63af336844f2546694b31b73a3f0afd128de228
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 21 22:24:33 2018 -0700

    Remove logspam

commit f5d8f37a4b4d617e4e210c0cc27bc375acaa4ab0
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 21 22:24:19 2018 -0700

    Disable deferred currentDrawable because it was causing a crash/assertion-like error.

commit 2a391abfb4ebfdd1aae13b1ea95d07ac20a30c2f
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 21 09:39:41 2018 -0700

    Deal with openUntitledFile: being called before applicationWillFinishLaunching:. For some reason I can reproduce this with 3.2.0beta4 but not when it's run from the debugger. Must be a race condition in appkit? Issue 6804

commit 9eca14be5f95eb1f220eb042bc028d650aa79273
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 21 09:05:41 2018 -0700

    When lineblock gets width=1, do not try to rewrap double-width characters. It could cause you to get stuck in NumberOfFullLines. I meant for this to be impossible, but when plugging in an external monitor you get weird window sizes. Issue 6800.

commit 5e9952f2cd59a14b5d40198ba3c60fe487cd5b63
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 20 21:48:08 2018 -0700

    Release pooled textures when metal is disabled to try to let go of the discrete gpu

commit e14f1bb33935b5565aa7a7080e80ef54cbe3edb2
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 20 20:22:48 2018 -0700

    Don't let insertTab make a hotkey window key while it is being restored from an arrangement. Issue 6790.

commit 336173fd828cde72d2f213545a2d6ae317485880
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 20 19:46:31 2018 -0700

    Remove __weak from IBOutlets. macOS 10.11 is not cool with it.

commit c7759a86d60d0134444397b0d7696daca16ae205
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 20 19:24:34 2018 -0700

    Add experimental support for ssh URIs with a path. Issue 5813

commit 5db5ff8e69c921bb5f1bdbf050b2c239f214d3e3
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 20 19:11:43 2018 -0700

    Refactor parsing of URLs. Add the ability to specify a path to ftp and telnet since those don't come with the OS any more.

commit 398084abe2612f0bdc00bd120414ef1130eb6e43
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 20 18:36:31 2018 -0700

    [api] Create setup.py. Allow specification of dependencies in save panel when creating a full-environment script and run pip3 for you.

commit 6ad51b33dde801edc96d52fa39379b6f63d60725
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jun 19 23:31:36 2018 -0700

    [python, api] Allow sending text without broadcast. Fix a typo. Make custom tools reload when their script is registered. Link the targeted_input example.

commit cab02dc5f8e759f5e3ce3e10568a934bada60029
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jun 19 22:34:25 2018 -0700

    [api] Ask before enabling API server. Try to enable it before running a script. If it's enabled, start listening when the app launches.

commit ad4e242edf2e0e32297d184b4c6065d88659de88
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jun 19 22:33:52 2018 -0700

    [python] Handle exceptions in dispatch_until_future

commit 4c989f31777730d30f304c6c88a25c67880d9ab7
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jun 19 22:04:43 2018 -0700

    Allow HTTP connections to localhost to enable local webview tools

commit 2656eb0dfab09c462f43ad1c214065a9a346648a
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jun 19 22:02:11 2018 -0700

    [api] Fix resizing of webview tools

commit c4167f42e252b992044747e59d3f58dd15c2f76d
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jun 19 22:01:24 2018 -0700

    [python] Support reentrant dispatches

commit b2e242d8afc98ce06d137b728b48263872daa592
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jun 19 18:57:51 2018 -0700

    [api, python] Add support for broadcast domains

commit 2fa2dcce4b2893e7d50aa576347ef15dd1f4a4e3
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jun 19 09:07:13 2018 -0700

    Don't show tmux in title preview in prefs

commit ec5bcb52ac0236dedb044a0dbdcba6042c842286
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jun 19 09:07:04 2018 -0700

    Remove bogus delegate in session title menu item

commit 8931f358cc8ecdfe87f1ca53a5f2f3c288a962c1
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 18 23:46:23 2018 -0700

    Make maximize metal throughput defer getdrawable

commit 95955de121115c2c3fe040b8818a7f7fd4571925
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 18 23:43:06 2018 -0700

    Add advanced GPU prefs. Issue 6541

commit fe3d6947dce76659879e87928f86409265e7f805
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 18 22:51:26 2018 -0700

    Fix session.name to show the unformatted session title.

commit 222fd0568863831f82c12fbb06c82540b5a3b19b
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 18 22:21:28 2018 -0700

    Sort editors in semantic history popup menu

commit e7b4254c9a7a64d6d24c3acdaf67e4624a24e3cb
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 18 22:14:02 2018 -0700

    Add support for VS Code Insiders (VSCode's nightly build). Issue 6789

commit a3d01b6b4d07b367d94ce7f28fa471af828ba460
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 18 22:13:32 2018 -0700

    Fix a synchronization oopsie that may have caused crashes in the metal histograms code. I saw a dictionary with a nil key and nil value, and it threw an exception in allKeys.

commit a6e27c00bb05900927df77d5ff6076139486f85b
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 18 21:59:22 2018 -0700

    Fix support for 0 width margins. Disable metal when horizontal margins are 0 since it would stomp on the corners in a bad way.

commit 87c278217a914afb944e4120bdc882af933c3ed9
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 18 21:50:11 2018 -0700

    Make a cheesy shortcut in the profiles window to handle enter and shift enter shortcuts since they mysteriously stopped working for some people in issue 6770

commit f94b82bf37726928c13e5380d5a6e8ac8ca70e87
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 18 21:11:11 2018 -0700

    Fix a bug where non-homedir initial working directories was broken. Issue 6797

commit db3e20b6162158d82d962dd8b377a39400e4c9e9
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 18 20:59:15 2018 -0700

    [api] Rather than removing the install runtime menu item, change it to check for updates.

commit 503d3352d522063ede741fe028b72c5249abfbe2
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 20 20:39:53 2018 -0700

    [api] Install runtime before creating a script with a private environment

commit 6a63a8dd5cf9d631b9cd898d09af4eef10e32b62
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 20 20:25:26 2018 -0700

    Ask before downloading python runtime

commit 7755a5a7811f7075fef8d237bf329d263692ac52
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 20 16:24:59 2018 -0700

    Arcify PTYSplitView

commit c43ced7e9a4ea3af4910bcb70984db4ae1f4ba4d
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 18 19:08:52 2018 -0700

    Add new docs

commit a973e8bae28122c3ae35533cf24a5f1e60d03dbe
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 18 19:08:45 2018 -0700

    Add alternates to script menu to reveal scripts in finder

commit 91e8e7e412bc6acbb68adaee7fad7099999ee750
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 18 19:08:21 2018 -0700

    Fix a bug in the optional component downloader that cancel didn't always work

commit 1cd49aa11788fab94aa829e1f958fb4e93c70e40
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 18 18:04:06 2018 -0700

    FIx a crash when maximizing a pane.

commit d4957de94ab9ecf9ec0eca62a2b3d570b9c332cb
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 18 18:04:07 2018 -0700

    [python] Improvements to docs

commit c324379e4fe7fc78b9c7a3869a5fbbaca47b1568
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 17 10:22:43 2018 -0700

    Add keybinding action to duplicate tab. Issue 6733

commit aefe0e596ec4303223902102eeeb9dd6f958d6f7
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 16 23:55:01 2018 -0700

    [api] Show running scripts in the menu with a checkmark. Reselecting it kills it.

commit c1f5a8bd585a91667b4400a473c68146c78f574b
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 16 23:42:20 2018 -0700

    Fix bug where prefs didn't resize properly on Profiles tab. Increase max height so general prefs don't scroll

commit 032d7efec7acccfd2401ba7c1642ff030d6f251a
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 16 23:18:48 2018 -0700

    Bump the minimum python environment verison to 18

commit f0dd40270d72eb9523200381ff1bef83a86827ee
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 16 23:10:23 2018 -0700

    Bump python library version

commit 4c37476f84ad9048d6bcdc6a7bcfed99bbc6c51b
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 16 23:09:54 2018 -0700

    [api] Fix a bug with subscriptions to all sessions where it didn't take effect for new sessions.

commit a97e50c67ba815d074540cdbcb9a743ce1324ce2
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 16 23:02:14 2018 -0700

    [python] Add example for function key to select tab

commit 6383befbf4f69ec60f727b5181becf911095f1be
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 16 22:52:22 2018 -0700

    [api, python] When registering for keystroke notifications API clients can specify keystroke patterns for the app to ignore. Issue 6780
    
    Note these are only ignored as input to a session, not (e.g.) main menu shortcuts.

commit fcd450450399c61ed0293ea09803cbabab1e4f3c
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 16 12:31:24 2018 -0700

    Implement variable scopes. Change all reading and writing to go through them.
    
    Record all seen variables for autocomplete.
    
    Record seen variable names per context so suggestions can be more relevant.
    
    Get rid of all the legacy dictionary code.
    
    Pass around sets of paths instead of arrays.
    
    Fix a bug where suggestions had two colons after the argument name.

commit d7d9392cf697717eaaafcc569c32ae501b5c3aa4
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 16 09:04:49 2018 -0700

    Fix signing

commit efeee061f1f03a9905fca058996e38fe01fe6490
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 16 00:03:21 2018 -0700

    [python] remove duplicate subtitle

commit 0919e23b602a585d151f0c867db3d09d808cb858
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 16 00:02:15 2018 -0700

    [python] fix bug in example

commit f795d1f348959da409822e24e0d6c9333435ee98
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 16 00:01:05 2018 -0700

    [python]Fix typo

commit 1c176b9fbe94703b205cc43d237b75b0af521395
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 16 00:00:45 2018 -0700

    [python] bump version

commit 48ecd5aad06801bb51447adb943a700de4ebe2b6
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 15 23:58:20 2018 -0700

    [python] Link to examples in python api docs

commit 742bc113599ba8e51e490db22bc456c8907c85e8
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 15 23:57:49 2018 -0700

    [python] Add George's Title Algorithm as example script

commit 74a9f8b4dc4b4533d2d7800709a768883c01a445
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 15 23:28:52 2018 -0700

    Fix a bug where iTermAPIDidRegisterSessionTitleFunctionNotification was not posted. When a session title needs an unregistered function show an ellipsis instead of a ladybug.

commit 5e703f914a14d158faf24759c3c9db009a3f0eea
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 15 23:21:39 2018 -0700

    Add a restart button to the script console. Do not post a notification on manual termination of a script

commit 77a8b78e7376e8a5b0a903690cb65fa382472921
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 15 23:07:45 2018 -0700

    Change RPC registry to hold tuples, not dictionaries that always have a single value. Rename connection to connectionKey and specify that it's a string. Remove some dead code that sent an RPC synchronously on the main thread. Try hard to direct scripting errors to the proper history entry.

commit a551819bffa6daf85d2f87546b0c64e614a41b8b
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 15 23:06:01 2018 -0700

    [python] catch errors in json decoding RPC arguments. Control characters are not allowed but cna sneak in.

commit d9f2d7869db3b6c04d14df8db95ff6b7d9bd5bb4
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 15 22:50:06 2018 -0700

    Improve NSMutableDictionary's removeObjectsPassingTest

commit d93e53f70d71fd595b50e5492795ffe0e2725c3d
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 15 20:20:42 2018 -0700

    Set title settings popup button's title properly when a custom function is in use

commit a8ad4335787d5ffff5adea884362f5bde2dd3fff
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 15 20:14:25 2018 -0700

    [session titles] Fixes for tmux names. Use utf8 encoding for Python IO so you can print nonascii in your scripts. When a custom title fails show a bug in the title. Fix a bug where tab titles didn't update when the active session changes

commit b2b5fc434064553dbb5fe69f8184f98776b07494
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 15 18:50:47 2018 -0700

    Update session name controller immediately in setNeedsUpdate so its cached value isn't left as nil. Fixes a bug where session names didn't change when the title components changed.

commit 675b3c3896a754ee423306143abaa0cfe6cd65b6
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 15 18:50:08 2018 -0700

    Update badge when variables change.

commit fd7df125f8855b542569c4e8ac5f4f60e410254b
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 14 21:50:36 2018 -0700

    Add adaptive framerate for metal. It defaults to 30 fps via a separate setting than nonmetal adaptive framerate. Mitigates throughput issues in issue 6767.

commit 21ceb05a0694cc1230dd6f28cc99159c14d1140d
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 14 20:56:31 2018 -0700

    Typecheck tags in dynamic profiles. Issue 6776

commit 11f037c42c5296a04cacad7ac9a53086d06c42ee
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 14 19:56:57 2018 -0700

    Fix a bug when copying a divorced session's profile to shared profiles in Edit Session would show the wrong name in the alert. Do error checking before asking the user.

commit 8285a3e320893c181db1302e9d1d661209ed407b
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 14 18:02:07 2018 -0700

    Fix a bug where the badge is squished when you've scrolled up and it should be partially off the bottom of the screen

commit a3c284d196c039ac6fe53a506620435348a6b5d3
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 14 21:44:50 2018 -0700

    Handle ENOENT specially when forking fails, as that's probably the most common failure mode. Note this code path is not taken when session restoration is enabled.

commit a2207e1cfc273e90a32f4402c08edc7a70ec1698
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 14 17:35:45 2018 -0700

    Allow 0 side margins. Fix drawing of marks for this case. Issue 6769

commit 2b41cf990bde3ec74f87fe9d74bed9d501cd91a5
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 14 21:41:56 2018 -0700

    Fix a race condition where you try to draw a metal frame synchronously, it fails, you switch tabs or disable metal for some other reason, and it never quits trying even though it is doomed to failure. Issue 6781

commit c475c0cfed391c4b5e53fbf720138a1aef2bef97
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 14 21:16:08 2018 -0700

    Make PTYSplitView's delegate weak to try to fix 6784

commit aecb70f49c3dd8bb58beda1ae13c743d9b255833
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 14 20:06:04 2018 -0700

    Make badges use swifty strings. Add support for backslash escape to swifty strings. Fix bugs where the escaped state was never exited in the swifty string parser. Make the function call text field delegate pass through controlTextDidChange:.

commit a890b95ef851570f84611896bf4deb106f94e1ec
Merge: 8af544b2 70ac7414
Author: George Nachman <gnachman+github@gmail.com>
Date:   Thu Jun 14 21:13:40 2018 -0700

    Merge pull request #362 from Fishbowler/master
    
    Fix typo in Advanced Settings

commit 70ac74145260f575523c2a35626cb0f9885972c9
Author: Dan Caseley <dan@caseley.me.uk>
Date:   Thu Jun 14 13:44:21 2018 +0100

    Update iTermAdvancedSettingsModel.m
    
    Fix typo

commit 8af544b200d35a720cc6b24fb99bd70e58515d2d
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 14 00:15:05 2018 -0700

    [api] Improve error reporting

commit 5a711e4c1ae4df9007a97484f15a0fb4b0b2a304
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 14 00:06:53 2018 -0700

    [api] Log stack traces for failed RPCs

commit 2e61844d2b8812b741ce2c5bac7b926652cc3c6f
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 14 00:06:37 2018 -0700

    [api, python] Sort argument names when sending RPCS in app and looking up RPC handlers in python

commit 5c4676493f83486a3d6cbb68a15ef4b56f71699a
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 14 00:05:40 2018 -0700

    [python] Document hooks

commit 94239f3795bc41cb9ef367c72abb10356ca929be
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 13 20:59:34 2018 -0700

    Add iTermSwiftyString
    
    This commit adds machinery for evaluating swifty strings (i.e., string
    interpolations with a Swift-inspired syntax). The ultimate goal was to make it
    easy to define a string, as for tab titles, that references function calls and
    variables and updates itself when any of the variables' values changes.
    
    This requires properly tokenizing swifty strings, evaluating their values,
    calling functions synchronously (when possible, for builtins; when not, note
    the function call and treat it as returning an empty string) and
    asynchronously with a timeout.
    
    Swifty strings track their dependencies: variables and not-yet-registered
    functions.
    
    The function call suggester was improved to have a swifty string suggester that
    handles truncated swifty strings.

commit 497bc0cef7977d20d5ae8ef30ed46b9edfe09383
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jun 12 20:47:34 2018 -0700

    Add user and host as options to session title.

commit 85778ca9d7cad30c6842c69929830ac3fb29598b
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jun 12 13:39:23 2018 -0700

    Add share option to tip of the day

commit 116aea8c582c86b78456a6276c57aefaa5bd7db8
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jun 12 00:13:45 2018 -0700

    Add an experimental feature to defer calling currentDrawable until the last second. Issue 6767

commit d17202b8695258954e2699e2a9c8f16ee1416c6f
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 11 22:16:03 2018 -0700

    Allow metal when top/bottom margin is less than 2 when fullscreen.

commit ba068258c52e623f1c563deda99cf6c0109d75ab
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 11 17:44:24 2018 -0700

    initial add of move_to_user_namesapce.c from https://github.com/ChrisJohnsen/tmux-MacOSX-pasteboard/blob/master/move_to_user_namespace.c BSD 2-clause

commit eb3b9166d0f3025249bd91802e1249c15bf751f7
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 11 17:24:51 2018 -0700

    Log problems invoking session title provider scripts

commit 93f690f732c418f4bbbf36994e524838e3b47c35
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 11 10:32:21 2018 -0700

    Add an advanced pref to tweak bold font vs regular font threshold

commit 04cf784dd1f8ee5953e624578ca44bac8a4a3b14
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 11 00:00:29 2018 -0700

    Add support for yaml parser style column and line numbers. Issue 6765

commit bece9c30376a5c7517ac4217d26b0af3c600e58f
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 10 23:49:48 2018 -0700

    Refactor semantic history to make the process of getting line number and column number happen earlier when more info will be available for upcoming fancy techniques

commit dd16af7fba51091215b26a5566a249d8191f2c53
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 10 22:14:24 2018 -0700

    Fix some broken project file stuff

commit e6fde325aea1ad3685fe5fc1bed9ef36cca033c4
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 10 22:12:39 2018 -0700

    Keep tab's override title as a variable but don't make it a child of session. I think a better design will be for a list of evaluation scopes to be used so there don't need to be links from session to tab, etc. Doing so prevents cycles when dumping the legacy dictionary of variables.

commit bf9d62a0f01b0345ec3a32244107517bfde493fb
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 10 13:56:55 2018 -0700

    Add tab variables to session scope

commit 29091a585068c769271c62503f63654c6799eeb7
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 10 13:50:24 2018 -0700

    Change double click on tab to show an alert that lets you set a title override.

commit a2f046f55b305149fff553e04712792a5eb982a8
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 10 13:48:46 2018 -0700

    Fix a bug where the selected custom session title would not be added to the menu if it wasn't registered

commit 3b1ee7cd5cb35990e52af457813140a637015a46
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 10 11:53:54 2018 -0700

    Remove resolved todo

commit f7c27e1d8202e9eb6a12a435c6e387b7f31d523a
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 10 11:51:43 2018 -0700

    Fix presentation name variable

commit 9c661dd3b1542393f7a57f69337450dbf4431642
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 10 11:24:37 2018 -0700

    Remove resolved TODO

commit 94e29c6b91cc023e10bd86120b9369cc424edb63
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 10 11:24:30 2018 -0700

    Remove resolved TODO

commit 9cffa988f20d30ec7c4ddbfa3cf5e3e156782a2b
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 10 11:23:58 2018 -0700

    Tolerate calling the default session title callback when it's set to custom because it can happen in synthesized sessions (like DVR mode)

commit a54e80074b54ae361f1b81a1f818e110e7280413
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 10 11:19:50 2018 -0700

    Add some polish to custom title name stuff.
    
    Remove titleFormat from PTYSession's initializer.
    
    Add a delegate method to provide the invocation to the session name controller.
    
    Clean up prefs VC for session titles to udpate itself properly and show but
    disable functions that aren't available.
    
    Store custom func in user defaults as a tuple of (invocation, display name)
    
    Make it easy to convert a tuple to/from a plist value.
    
    Hack the API helper to convert NSNull in the root of a json dict to nil. There
    can still be NSNulls that aren't at the root, but that's a less pathological
    case.
    
    Allow synchronous evaluation of an RPC to call source on each of its
    dependencies.
    
    Clean up the names of things in the session name controller.

commit 96b98f34a2dfaecd867a8672525a59a9d8e5d61c
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 10 11:06:26 2018 -0700

    Add method to get unchecked value from array. Out of bounds indexes return nil.

commit 9c34e7933f3930380d1122344d6b02622d735fad
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 10 11:05:59 2018 -0700

    Fix signing BS

commit 7ca9241bd55a7258933f8bab557714e2288ba4a2
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 9 23:58:33 2018 -0700

    Add support for custom session title functions

commit c1f8f40c73dedbf3ec59213f2f8ba28b7f9d3ffa
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 9 22:01:22 2018 -0700

    Remove unnceessary todo. I can improve the suggester when there's a need to such as per tab titles

commit 8fb8908375ddf0d06d286788a63b198472d435fc
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 9 21:56:03 2018 -0700

    Remove todo. I think I'm happy with the migration story. If someone complains I can look into polishing it some more.

commit 69717bc2c146de4d8a9933e89ac1b270080c0b02
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 9 21:55:25 2018 -0700

    Handle migration to new session title settings

commit 8ce6dfead9ca741e8612c1c1f435f4bbf861967a
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 9 19:30:11 2018 -0700

    Remove todo. I don't want to change the suggester to accept paths until there are functions that people should call that take them. ATM there's only one and it's private

commit 39c4604286386f623b196fa564b0d54fef5d77ee
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 9 19:20:58 2018 -0700

    Remove session.backingProfileName which was not used or tested

commit 0decc6ff1722085142e8ed55ba2a0d1beba8daf4
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 9 19:19:50 2018 -0700

    Implement state restoration for session name. It seems to work well enough for legacy arrangements which have enough info in the profile to recover a proper name; the only exception is migration of the title format which is yet to be done.

commit 82fb64d3edc71cf55fcb02bbba29fce680f27d89
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 9 19:13:45 2018 -0700

    Set unused attribute on deprecated arrangement keys and add a todo to use them for migration, at which time the unused attribute may be removed

commit 8b52e00102c7180704e0099d0c901542d9ac77a8
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 9 19:09:20 2018 -0700

    Remove unused parameter from setupSession, remove obsolete todos

commit 1359978dea401ed684585b200e530c5d69be58ec
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 9 19:07:58 2018 -0700

    Tested that willRemoveSubview hack in PTYSplitView to update variables works

commit f2bdb2308bf8367b78bb29af4005bdd7bdc7f888
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 9 19:06:41 2018 -0700

    Use functions, not swifty strings, for the title format

commit 52599a7e814f155b30127385f92b948cd186bfe1
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 9 19:03:40 2018 -0700

    Get session titles working and semi-tested.
    
    Summary:
    Update prefs to allow selecting one of three kinds of
    session names.
    
    Add support for builtin functions.
    
    Remove custom title support. It needs to be redone.
    
    Replace bogus setValue:forKey: with
    setValue:forVariableNamed:
    
    Implement support for legacy title formats.
    
    Redefine session.name as the computed name. autoName is the
    most recently set session name (via manual, escape, or
    trigger), or if never set, the profile name.
    
    Fix bug in iTermFocusReportingTextField assuming its
    delegate implements its protocol. TriggerController blindly
    sets itself as the delegate and it does not implement the
    protocol.
    
    Accept paths for function names so there can be a private
    namespace.
    
    Hack script function calls to be synchronous. This works
    fine for carefully written builtin functions. Others
    evaluate to empty string.

commit 05e7dfcbbf5c1dd843a39630329d89700f507042
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 8 13:22:34 2018 -0700

    Clean up titleFormatForProfile to use constants

commit d680a13281b4c51532f25a92c0d1ac0e1f1356e2
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 7 21:50:23 2018 -0700

    Beat variable-based session titles into sort of working. * DO NOT MERGE WITHOUT EXTENSIVE TESTING *
    
    Fix prefs.xib linkage for custom title
    Remove name from PTYSession's initializer
    SImplify the session name controller to just evaluate the title format against the variables and store minimal state.
    Finally do away with updateVarabiels completely.
    Test things out and get them working at a first glance. Still needs a lot more testing.
    Deprecate SESSION_ARRANGEMENT_BOOKMARK_NAME. I'm not sure what it was for and I need to investigate.
    Add a bunch of new variables that are needed for titles.

commit 20ea6067ae292bf6894ad72ac0e2a55e51bdff4c
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 7 20:00:04 2018 -0700

    Fix a few little bugs

commit b282dcd4720e77861c9959e4255fef9007b71b92
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 7 19:09:00 2018 -0700

    Move variables into a treelike structure. Remove all calls to updateVariables and instead update them from delegate callbacks.

commit 1757ca282b99b1e9ea9193061d2b0af76ea135f3
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 7 00:09:12 2018 -0700

    Remove a bunch of old and broken title code. Actually evaluate expressions in the title format. Fix the function call code to accept any expression, not just function calls. This is not very tested and it kinda doesn't work so well because titles don't get reevaluated when a variable changes. I also have a theory that it's going to evaluate functions way too many times. It should be smart about managing dependencies (i.e., its variable inputs) and then rate limit function calls when they don't change.

commit 180374aa8090a8449df737eb0e641078b0fc0b08
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 6 23:07:08 2018 -0700

    Initial commit of session name controller. Still a lot to do:
    
    Actually use the title format
    Provide some kind of legacy-ish title
    Run unit tests
    Add migration path for current users
    save/restore of name state
    Call updateVariables when variable changes
    Make sure variables exist for everything relevant
    Try to prune down the size of the name controller's interface

commit e96bc7d01e131a6566595697b7e0deeb463cfb61
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 6 22:16:50 2018 -0700

    Add a proper completion block for when restoring a saved arrangement.

commit b3db2fb1e217ccf029f2b5c8e5eb7927b2ba40a8
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 6 21:32:44 2018 -0700

    Add missing completion blocks when restoring a saved arrangement

commit 9ecd039f645b2e6e6b9949b26ae0318fb36327d8
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 10 22:08:18 2018 -0700

    Revert "Move a bunch of session title logic into its own class. It still doesn't make any sense but at least the toxic mess is more contained."
    
    This reverts commit e5cc090410821356b9be134fd48c509e6b3e908e.

commit f1f7e33fae1b34f6ebf0f7e148f45155dd904774
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 10 22:00:01 2018 -0700

    Don't roll out hotkey window when it resigns key if it's in the process of opening a popup window. Issue 6763

commit 082ca2a37a6a03d71ee0ba16eac74533923823ff
Merge: 8b9f979e 668a8986
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 10 22:01:14 2018 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 8b9f979ec0b20dafbcf734e7423129526f2852a6
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 10 14:16:29 2018 -0700

    Make character width fraction offset an advanced pref for issue 6760

commit 668a8986b2fd1ed43240ad56044e69443ed740e7
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 8 23:29:56 2018 -0700

    Add an advanced pref to disable adaptive framerate in alternate screen mode. On by default in beta only. Issue 6758
    
    Conflicts:
            sources/iTermAdvancedSettingsModel.h

commit f7d9e2560a405d02c9941af6c4b82e15e0ad28be
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 8 23:19:41 2018 -0700

    Left clicks while not first responder do not get xterm mouse reporting. Makes it easier to change focus. Issue 6753

commit 5a1e9a38c0c1a97380048770f47550df776ab14a
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 8 22:54:59 2018 -0700

    Fix bug where disclosable view's textview can be very narrow

commit d011349a6a56697463d207dac7698dcf5d925335
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 8 22:43:35 2018 -0700

    Remove text prefs notification observer when the window closes to avoid a crash when changing unicode version

commit 77007d2af131ac623cc945c28ef9ca1ed0a4ac45
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 8 22:32:11 2018 -0700

    Try to prevent a crash when selecting a row from an empty profile list view. Not sure how that ever happened.

commit 5a53f0cb95c8c52a9ca4c3eea7ef7b34f458aee6
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 8 22:29:33 2018 -0700

    Synchronize crashlog messages to try to get more useful info for sanity check failures

commit 984d05f3f9208cc0d5a2cd18276679a24641bbf6
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 8 22:22:48 2018 -0700

    Prevent a crash where the file browser somehow had a nil directory

commit 643f1e8411668e8de40e40c462a19f6f2ffb95a5
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 8 22:20:54 2018 -0700

    Prevent a crash new to 3.2.0beta3 where a tab has a nil represented object

commit e5cc090410821356b9be134fd48c509e6b3e908e
Author: George Nachman <gnachman@gmail.com>
Date:   Wed May 16 23:05:20 2018 -0700

    Move a bunch of session title logic into its own class. It still doesn't make any sense but at least the toxic mess is more contained.
    
    - Move title stack code into session name controller
    - More refactoring. Rename profileName to firstSessionName. Move defaultName to the name controller and rename it to originalName. Add comments. This really needs to be burned to the ground and rewritten.
    - Fix bug where setting the original name reset the window title
    
    Conflicts:
            sources/iTermSessionNameController.m
    
    Add support for radio buttons that aren't matrixes in prefs. Convert the prompt before closing pref to a nonmatrix so it takes less space.
    
    Add a halfbaked title components UI setting that isn't hooked up to anything
    
    Add some infrastructure for custom title format strings.
    
    Conflicts:
            iTerm2.xcodeproj/project.pbxproj
            sources/PTYSession.m
            sources/PseudoTerminal.m

commit 6ad059938c61d7b2f5243c7820087078201e7510
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 4 23:45:41 2018 -0700

    [api] Add the ability to evaluate expressions as well as functions. Add off-by-default experimental feature to allow swifty expressions in profile names. The suggester was updated to suggest expressions but that's not well tested.

commit dcf1ac09ee624d413969b12c4e9ec782e7466191
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 4 21:47:47 2018 -0700

    [api] Add a method to async notify when an RPC is registered.

commit 6d470a46954ac909332d865689d8b85a353daf03
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 4 21:08:03 2018 -0700

    Add support for parsing 'Swifty' strings. That is, string sthat have embedded expressions using a kind of Swift like syntax. This will be used later for evaluating function calls in various places such as session name.

commit c81b2c342e92352bf20a0fa8bf1253c7a41cfca3
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 3 23:24:13 2018 -0700

    Disable metal when flashing tabbar in fullscreen since it can't composite over the text

commit 28cd7a6b330384bd43f0f53c97c3f006e177aed1
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 3 22:58:11 2018 -0700

    Make async nature of eval explicit in evaluating substitutions for startProgram.

commit 55e2179772562c5f76964a741368a2d9859871ad
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 3 22:36:02 2018 -0700

    Use a proper completion block for startProgram: in sessionFromArrangement.
    
    Start wiring up completion blocks to the session factory

commit 1d147146bf5111c2440773a02d0ab589ca18e66a
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 3 22:20:14 2018 -0700

    Reorder everything in PTYTask so it is more organized

commit 5c2b99908f041df9e2a7497be3d533b3f45cf5a9
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 3 22:05:45 2018 -0700

    Fix use of fprintf between after fork

commit 9b21c6c7304a0945230d9703e14d81f1a7ef2b0c
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 3 21:45:06 2018 -0700

    More refactoring of launchWithPath

commit 2f01a30e660bd4f887a047ffcf7449370bdff066
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 3 21:34:23 2018 -0700

    Refactor PTYTask's fork and exec and handshake code

commit 69bc02d5e591ebcf68eff2419c534a28f9b763cd
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 3 20:50:56 2018 -0700

    Refactor startProgram to be reasonable

commit 22bf2840874ee9d83b8b90438f7492392adf5b68
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 3 20:41:12 2018 -0700

    Remove substitutionsForCommand from interface

commit 099d101fcab9eeb3d3e56465d8bda00ed86eb800
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 3 15:45:45 2018 -0700

    Fix parameter panel to show the name properly

commit 1c4008666d8e8a339aa814f56f09d26386a98191
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 3 15:43:10 2018 -0700

    Make createTabWithProfile use the session factory instead of creating a session and massaging the profile itself

commit 934f772a1b9e3e244db7d7c5f6959d7ee6028989
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 3 15:33:40 2018 -0700

    Get rid of PTYSession's runCommandWithOldCWD. It had a bunch of near duplicate code.

commit 45edaeb3dc0ef4eaca7db2c70715b279c146d928
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 3 15:33:09 2018 -0700

    Modernize ITAddressBookMgr use of dicts

commit 873fecc48df5ca583dfeb26d2b1810c4532b8a1e
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 3 15:02:15 2018 -0700

    Reduce duplicate code in session factory

commit 5b91a6bc9b5cebc3fae5862596b1f4e4755185da
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 3 14:43:19 2018 -0700

    Minor refactor of session factory

commit f0245740b286f23a95b6bc88a63ae335c451ff3d
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 3 14:38:59 2018 -0700

    Move session creation code out of PseudoTerminal.m

commit 8b5f8f41134cb27281042b289d88548463a04926
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 2 15:47:21 2018 -0700

    Fix bug where send text with vim controls didn't work with <C-z>. Issue 6744

commit 4b7f91ad990352a3279cfc0e187a528414489f50
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 1 18:07:29 2018 -0700

    Minor cleanup

commit 7a74f2f7b1bcf2827f45831993f6d4a7a44f9da8
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 1 18:06:03 2018 -0700

    Remove no longer used code to prompt about remaining in the beta. It stopped asking in mid 2016.

commit 6dd242107440ea3647cf0de240cc4b42ad38e387
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 1 18:05:46 2018 -0700

    Move bookmark migration code into iTermMigrationHelper

commit 863617e94254841cbdd29f6c87ab65c74d094d87
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 1 18:00:34 2018 -0700

    Show a directory listing when begging you to move files to the new app support folder. Issue 6743

commit 897fb97f456ff94697d273aa83aeb412685c909a
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 1 17:19:34 2018 -0700

    Postpone creating the ApplicationSupport symlink. Issue 6746

commit b81cdf688b80daa89bca77628acd2ddd740a569b
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 1 17:03:23 2018 -0700

    Don't prefill name and email for eu users

commit 5baa8199316f8279ae5cc4ca62e55cc51d061c01
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 31 17:47:31 2018 -0700

    Don't run autolaunch scripts in tests

commit 10ec79bf02984aa2f5ce14d5a37bf72e688f50d4
Author: George Nachman <gnachman@gmail.com>
Date:   Wed May 30 10:06:42 2018 -0700

    [python] Fix wrong field name in set tab error handling path

commit 9a3794e76dc81ecb3e7f2a3a417cff9722956591
Author: George Nachman <gnachman@gmail.com>
Date:   Wed May 30 09:53:52 2018 -0700

    Add script icon from https://commons.wikimedia.org/wiki/File:Wikiversity-Mooc-Icon-Script.svg

commit c6b0cc1badba6306198ae04d4403a5285992f38a
Author: George Nachman <gnachman@gmail.com>
Date:   Wed May 30 09:53:17 2018 -0700

    [python, api] add the ability to customize the profile of new tabs and windows

commit eb40cf3701231ad13f7cea70df896a59f6f39816
Author: George Nachman <gnachman@gmail.com>
Date:   Wed May 30 09:32:34 2018 -0700

    [api, python] Add the ability to override profile properties when creating a split pane

commit a9521d36258fdb0a8edb568ef126c4aa0af7ebac
Author: George Nachman <gnachman@gmail.com>
Date:   Wed May 30 08:47:45 2018 -0700

    [api, python] Add API to bury/disinter sessions

commit 257894be159e2cf61afdea4a67319c5a2dfc9414
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 29 23:44:04 2018 -0700

    [api] Bump minimum version of pylib to 16

commit d3f186c8594da1762af781ae08dbd11c0e21e005
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 29 23:43:17 2018 -0700

    Add open quickly to run a script. The icon comes from https://commons.wikimedia.org/wiki/File:Wikiversity-Mooc-Icon-Script.svg

commit 9e451660ee2dfecea4560034ceb446d4745b82ae
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 29 22:40:31 2018 -0700

    [python] update docs to mention you can use a trigger to invoke a function

commit 47bdc51d4fb88b323456fe456153873f46e828ee
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 29 22:33:34 2018 -0700

    [api] Don't bake in python version when computing the path to the pip3 binary for substitution in the full-environment template. Instead, search the versions folder to find the newest version actually present.

commit dbf9b56eb441a7ba9079b608347b3a5a1012f4b3
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 29 22:11:49 2018 -0700

    Add support for synchronous iTerm2-to-script RPCs. This lays the groundwork for scripts to manage things like window size.

commit 6778140c9bdff01f3dbf4ae9fc7ebd70890287c9
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 29 22:08:55 2018 -0700

    [python] Bump version to 33

commit f888333d9e194e2105135ff7714232e9bb6714ec
Author: George Nachman <gnachman@gmail.com>
Date:   Sun May 27 15:14:56 2018 -0700

    [api, python] Add support for changing split pane layout.

commit 509dd570a1d3ad0d63932eb8ebd65664302411a9
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 29 22:04:37 2018 -0700

    Include scale when computing size of metal view to avoid going over the limit

commit f4c0b13093e5c4f6021f274dd9ba3899608a0a0e
Author: George Nachman <gnachman@gmail.com>
Date:   Sun May 27 14:08:15 2018 -0700

    [api, python] Add support for get/set session property of grid_size

commit c24c07bde01302964a7a208cf002d9132e023e46
Author: George Nachman <gnachman@gmail.com>
Date:   Sun May 27 11:36:12 2018 -0700

    Update goldens for new underlining location. Somehow this also fixed a misplaced diacritic; probably a macos change

commit 9ff1a365669709f4f33faae90544f627707f34a8
Author: George Nachman <gnachman@gmail.com>
Date:   Sun May 27 11:26:33 2018 -0700

    Update travis goldens for underline change

commit d8d0378b1e6c07070d6ef45dfffd4a914a2d4e68
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 29 11:44:49 2018 -0700

    Disable GPU pref on 10.11

commit e891936ed3876e42d1b39f988b1fd9dcf686e6c7
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 29 11:42:51 2018 -0700

    Disable metal renderer on 10.11 because of crashes

commit b4d71b7b18cfacdea25aab732da6d4240ef6313d
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 28 22:45:28 2018 -0700

    Rename misnamed iTermVariableKeySessionPID to iTermVariableKeySessionName

commit 546933ca2d067b7d4de3692b5ff8f310df457000
Author: George Nachman <gnachman@gmail.com>
Date:   Sun May 27 11:04:45 2018 -0700

    Guard correctly against out of range block indexes in findSubstring:stopAt:. The previous code fix the got-to-bottom case.

commit 0cb75b5f9317deea10282e9b0d1a9fa54e054c7d
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 26 17:59:08 2018 -0700

    Add an advanced pref to prefer the integrated gpu. Issue 6587. DO NOT CHERRY PICK INTO 3.2.0beta2 - wait and see if this causes more crashes on wake from suspend.

commit 77fcaf5bcd79c9ad13319edbea8b17b20bef67c2
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 26 17:44:37 2018 -0700

    Strip all private use characters in ScreenCharArrayToString. This affects find and triggers. It makes tabs searchable and fixes cases where DWC_SKIP would interrupt find/triggers. Issue 6728

commit 7788dd91cd23c3a4ac73705dc645dbaeeecc5f07
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 26 17:40:10 2018 -0700

    Remove dead code

commit 8eeb17ac140a4bbc1e340c80972001ea727a4569
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 26 17:39:31 2018 -0700

    Remove dead code

commit 887090f0da6c766ca022dbf3c9d25b0501aed86a
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 26 16:04:35 2018 -0700

    Fix a bug where rounding could push an underline (as in pragmata pro mono) one point below the bottom of a cell, making it invisible in the Metal renderer. See comment by @akio in issue 6689.

commit a505d00ce6f8726033f34d8b7991ccf0d7fa14b9
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 26 15:45:56 2018 -0700

    Center underlines vertically in the pixel grid in the drawRect renderer

commit eb4e53fbc097692f3f0536442958b333c5a44942
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 26 15:03:14 2018 -0700

    [api] When listing variables return the result as a list, not newline delimited

commit 91edf5fc81774218aacb3f592df5ae0eb80edeb9
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 26 15:02:43 2018 -0700

    [python] make utilities support None for formatting

commit dd8eceb76c106b3068b2ff25104529ac6bf12cb7
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 26 15:02:20 2018 -0700

    [python] set grid_size, frame to None in summary sessions

commit 5fde027c10fd899ca038b285ef697bbc6803d3b1
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 26 15:01:57 2018 -0700

    [python] default alpha on get-color to 255

commit 5c166265b2649587de1b6fc2b4a2c216c7d6418c
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 26 15:01:31 2018 -0700

    Fix it2api and write a little test for it

commit 6b23f6bc2b3c68270306daee342f90d8c500fb04
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 26 13:47:32 2018 -0700

    [api, python] Add support for buried sessions

commit 665161ac1975fb41323d937e809c7df4bda3197e
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 24 23:45:02 2018 -0700

    Remove obsolete comment

commit 185cb0578aca8c6a690b27dd95d16c3d99f26a62
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 24 23:44:33 2018 -0700

    Fix a bug where search kept starting over. Unsigned comparison is evil

commit 4c17c6f21942d78e8c9c182b4b676bf7db0cd7d7
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 24 23:23:04 2018 -0700

    Bump min pyenv version to 15 to make people upgrade

commit 8d9944b20b771064aa9c5f6d1de3c6fc0340a1f0
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 24 23:21:19 2018 -0700

    [python] bump version to 0.33

commit d32282744790885c9cfb8aa23c114cb96632eeaa
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 24 23:20:34 2018 -0700

    [python] bump version to 0.32

commit 4911c70a1078339925c4239668cba4a009ebf564
Merge: 57f004ea e505c388
Author: George Nachman <gnachman+github@gmail.com>
Date:   Thu May 24 23:19:01 2018 -0700

    Merge pull request #360 from yilei/select
    
    Update the command range when the cursor moves.

commit 57f004ead7d35ad99f595096a9f96f6636ec271a
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 24 22:53:42 2018 -0700

    [api, python] Add support for invoking and querying state of menu items

commit adfa7129db9cc323834be05fe945b8b76ef4c207
Author: George Nachman <gnachman@gmail.com>
Date:   Wed May 23 20:38:33 2018 -0700

    Try to fix a crash in converting a double to ascii.

commit 729d86fdcf882eb602aace740a449fe06741ef1d
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 22 22:47:35 2018 -0700

    Guard the broken low-power GPU code with an #if. I am at a loss as to why the advanced pref didn't prevent crashes but commenting out the code did.

commit 86fd19d69f3df2ad0c1a61570b29696857b2f2f2
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 22 22:46:55 2018 -0700

    Fix a warning

commit f0be4b1911b7845225c57b5bcde3f1ef39055052
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 22 22:09:15 2018 -0700

    Add a trigger than runs an RPC. Requires major heroics to glue all the bits together.

commit b43c5bb68f169c0630a8eff8601cf65cecf7934d
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 22 18:00:14 2018 -0700

    [api] Add support for restarting the session. Fix up some naming issues in session.py

commit c886c4ae9cd96874e955682f9120db723c71bd45
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 22 17:58:27 2018 -0700

    [python] Rename App.windows to App.terminal_windows. Fix a bug where async_refresh() would forget the selected tab/session.

commit 0df1312b4fb147cf76d0c9b1ad37742c675d008e
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 22 17:56:13 2018 -0700

    [api] When restarting the REPL the cookie will be invalid but it should still be able to connect. Allow connections with bad cookies to proceed through the usual auth path.

commit 0f8c405f11e84b6078a113abfde9ba954efff723
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 22 17:55:35 2018 -0700

    [python] Remove hierarchy.py which is no longer used.

commit 0e5b0697bfab855c78223d7a90dada32b7c1a6fb
Author: George Nachman <gnachman@gmail.com>
Date:   Wed May 23 23:53:56 2018 -0700

    Fix merge oopsie

commit 82339d3dedc46eb01fc5206713a17b7c125527d5
Author: George Nachman <gnachman@gmail.com>
Date:   Wed May 23 23:05:12 2018 -0700

    arcify prefs
    
    Fixes a bug where 10.11 and earlier crashed because weak iboutlets are stillborn.

commit 50b34dc6875209dfe640580bcf51393d6016a7a1
Author: George Nachman <gnachman@gmail.com>
Date:   Wed May 23 23:19:19 2018 -0700

    Fix a bug where the text prefs pane doesn't expand on 10.13.2 and perhaps other versions too because the presence of preferredContentSize made it decide to use constraints

commit e505c3886654a0397387f9629ab4bb805dc0acfe
Author: Yilei Yang <yileiyang9@gmail.com>
Date:   Tue May 22 11:22:24 2018 -0700

    Use screenCommandDidChangeWithRange instead of screenCommandDidEndWithRange in terminalCarriageReturn.

commit ffd29a88889b9d6675cbce3ceecebedf213df224
Author: Yilei Yang <yileiyang9@gmail.com>
Date:   Wed May 16 17:03:49 2018 -0700

    Update the command range when the cursor moves.

commit 7f6f434473089e892355194384986bc8567a010a
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 21 22:49:55 2018 -0700

    Try to prevent the crash in issue 6724. It's pretty common. I wasn't able to repro.

commit 43a47e09594da9fff3da55de7459e3400fa5cbd2
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 21 22:04:10 2018 -0700

    A most delightful hack to detect the emoji panel and adjust floating hotkey windows' levels.
    
    Issue 6730 observes that when floating hotkey windows are at the status window
    level they obscure the emoji panel.
    
    If they are at a reasonable level then the dock obscures full-width hotkey
    windows, which people love because they are human and I can't help that.
    
    This thing detects when the emoji panel is gonna open and drops the level of
    floating hotkey windows. Then it polls once a second to wait for the emoji
    panel to close.
    
    As a safeguard, it must detect it open within 1 second (configurable) before
    deciding that it's actually open. If that doesn't happen then flip the level
    back.
    
    The way we test if the emoji panel is open is by looking at all the open
    windows and seeing if there's a level 20 one owned by Emoji & Symbols.
    
    I am both proud of and ashamed by this commit.

commit 0edf5cfa97626eb291bd680d260271ef15610dfa
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 21 21:40:22 2018 -0700

    [api] Fix a bug where the rpc ID was not incremented. Handle errors better.

commit 2ea563d04e6320c3d5082fb5a57652b90711924e
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 21 21:20:30 2018 -0700

    Use SLR instead of LR1 parser

commit 7e8a3cd09bbb78c9d0c2e92336a023e1fd0e120d
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 21 21:16:06 2018 -0700

    Add iTermGrammarProcessor to make compilers cleaner

commit 0b144dacc783d16f3965fe906aa7c8cdc4deb357
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 21 17:57:55 2018 -0700

    [api] preauthorize RPL with cookie

commit 69c02e9d22583467b58fe2453491ecd32968bc22
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 21 17:57:40 2018 -0700

    [api, python] Use JSON to get/set variables

commit 3aadd9fa7029ad4d1c17a0383ab67c8ec0e18b2a
Author: George Nachman <gnachman@gmail.com>
Date:   Sun May 20 22:30:07 2018 -0700

    [api] Turn off noncontiguous layout in console text views to improve scrolling behavior

commit 88fa53d405504e2409089c07a3a39e686874b150
Author: George Nachman <gnachman@gmail.com>
Date:   Sun May 20 22:29:50 2018 -0700

    [api] Recognize the REPL and authorize it automatically

commit a267b9e1ae30aaf0169668d33c240a961a2d838b
Author: George Nachman <gnachman@gmail.com>
Date:   Sun May 20 21:45:46 2018 -0700

    [api] Make RPC timeouts settable at registrationtime

commit 73ab9b082ddead697d480fa2f33f51670395f6be
Author: George Nachman <gnachman@gmail.com>
Date:   Sun May 20 13:09:32 2018 -0700

    Add autocomplete for function invocations.
    
    Details:
    - Add iTermFunctionCallTextFieldDelegate to hide the awful
      details of implementing autocomplete on macOS
    - Add iTermTruncatedQuotedRecognizer to tokenize
      unterminated strings, needed for suggestions.
    - Move function call parser into
      iTermFunctionCallParser.[hm]
    - Add iTermFunctionCallSuggester that implements a similar
      grammar to the parser but allows it to be cut off anywhere
      in the middle.
    - Move the constants defining built-in variable names to
      iTermVariables and add machinery to track the addition of
      user-defined variables.
    - Rename variables from kVariable... to iTermVariable....
    - Refactor iTermEditKeyActionWindowController to be
      maintainable and sane

commit fd0cfb6ed3c463eea4e53afe973cd5addca6ea2e
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 19 15:26:20 2018 -0700

    [python] Fix formatting error in docs

commit 0c81cf203ead3fe76c65f79d3af7834b9d24e5c1
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 19 15:10:09 2018 -0700

    [api] Add CoreParse.framework. Oops

commit 34fb277996e40173eabce69984eb2f6ef99d54a6
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 19 15:03:39 2018 -0700

    Bump minimum pyenv version to 13 for RPC support

commit 7fd88bfa0b3d11b4b378d1ae5064a62d0e041753
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 19 14:51:49 2018 -0700

    Make citations look nicer

commit bf702b376ebdb8d08c03401109b1e7d6929a732a
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 19 14:45:28 2018 -0700

    [api] Add support for function composition. Fix some warnings. Fix a bug where you couldn't reregister a function after a previous script registering it terminated

commit 1eb50c390a8eb0693a645746fff35f195247e059
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 19 14:02:52 2018 -0700

    [api] Accept function invocations with 0 args

commit 3e547980eb4402e77972102fa7102d7a53aaa270
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 19 14:02:29 2018 -0700

    Remove unused variables

commit b0a75271e7f46ad3ce3968d418612588f26ef1e5
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 19 14:02:02 2018 -0700

    [api] add _ to identifier characters. Ensure arguments are unique.

commit e0e2f22e043e320b1455725258d8e80048747b6c
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 19 13:55:40 2018 -0700

    [python] update docs for rpcs

commit c7610d67b4496ffb9381c6a9107623ea04b1b294
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 19 12:27:26 2018 -0700

    Update docstrings and rst indexes

commit 19ccf978bc30a8cf6370141f1504000f5513ddcd
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 19 12:17:55 2018 -0700

    [api] Giant friggin commit to add support for iTerm2-originated RPCs.
    
    - Add support for registering for iTerm2-invoked RPCs in scripts.
    - Add key binding to invoke a script function.
    - Add CoreParse third party library
    - Make session variables not always strings
    - Add session.id to variables. Gives the GUID.
    - Recognize Python as the name of a python binary. It can be distributed as an app bundle.
    - Refactor request handling in APIServer
    - Expose textview in disclosable view so it can be made selectable.
    - Add support for disclosable view accessories to iTermWarning.
    
    Still left to do:
    - Autocomplete for function arguments in the keybinding text field would be nice
    - Update docs, adding app.async_register_rpc_handler, notifications.async_subscribe_to_server_originated_rpc_notification
    - Add a tutorial on how to write one an RPC handler
    - Allow SetVariable RPC to send non-string values. Use json to encode its value.
    - Allow GetVariable RPC to return non-string values over JSON.

commit f60814a429bb4fbcf84d965cb5cd7a401bab2967
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 18 10:05:59 2018 -0700

    [api] Escape path to apython in case it contains spaces

commit f4c288c00199cd8d6b452545dd7655f136466ea4
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 17 22:34:20 2018 -0700

    [python] Fix rst formatting issue

commit 5a767a54914bca6dcf17137211ae0f4782b6df25
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 17 22:28:46 2018 -0700

    [api] Use aioconsole's new --banner flag

commit 5f890a6670e088c8d621046e9d7923c67a731a8a
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 17 22:25:51 2018 -0700

    [api] Enforce minimum python environment version consistently

commit f5278484b2f2e69973ddae1babdff7cf381bf4b6
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 17 22:07:05 2018 -0700

    [python] bump version to 0.31

commit 301aef30fa4771061bbf165f40fb4987f7cda403
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 17 21:59:58 2018 -0700

    [api] Allow python manifests to include a min, max version, and the be an array of dicts so multiple versions can be offered. iTerm2 can also specify a minimum version it will work with.

commit 2e92010a70fbefd87ca4d9a2ad87407627f657a2
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 17 21:59:00 2018 -0700

    Fix a bug where you couldn't turn off paste bracketing from the announcement because it actually turned off reportFocus

commit 542fcc5b84ec80df40d79f5b443bbb56be6ab689
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 17 21:23:47 2018 -0700

    [python] Fix a bug in list profiles with None guids

commit 6bb9818455fab1121175eb33bbcfe64d0bc03dc9
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 17 21:23:26 2018 -0700

    [python] Change async_list_profiles to return a full profile if guids=None

commit 16fe375ab1127e093cb35063ca73c199c8a790e7
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 17 21:22:47 2018 -0700

    Add list-profiles to it2api

commit 867efa1bf80ed4a5add553aa55f29a54a364bcb8
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 17 20:57:39 2018 -0700

    Add python stuff to xcode project

commit 60aa10a265fac768f826a61ae2f48a3fe9ac050a
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 17 20:30:33 2018 -0700

    Add support for missing keys to api and python.

commit 20bf0e3e08bc3d71fed694592096cb8e76d079c9
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 17 19:56:33 2018 -0700

    Add apis for listing profiles

commit ff5a7df64bccbf31a4cdb794dbd8c462336866e9
Merge: 0b370079 a554d503
Author: George Nachman <gnachman+github@gmail.com>
Date:   Wed May 16 16:12:21 2018 -0700

    Merge pull request #359 from yilei/setting
    
    Fix the showSessionRestoredBanner description.

commit a554d50315cce869052b7274f79de06b3d927ac6
Author: Yilei Yang <yileiyang@google.com>
Date:   Wed May 16 16:03:13 2018 -0700

    Fix the showSessionRestoredBanner description.
    
    The banner message displayed is “Session Contents Restored”.

commit 0b37007935c02aec4ee8f2635fca7d55798a3450
Merge: 275684dc eb3b5615
Author: George Nachman <gnachman+github@gmail.com>
Date:   Wed May 16 10:29:53 2018 -0700

    Merge pull request #358 from yilei/select_current_command
    
    Allow 'Select Current Command' to select currently running command.

commit eb3b5615d4b06cd15ade7d1ec79890747161dd97
Author: Yilei Yang <yileiyang9@gmail.com>
Date:   Fri May 11 15:55:17 2018 -0700

    Allow 'Select Current Command' to select currently running command too.

commit 275684dc1346a32d856b3b99f0510b4141da43ab
Author: Mathias Leppich <mleppich@muhqu.de>
Date:   Tue May 15 07:08:10 2018 +0000

    Squash of PR 357 by muhqu@github: add a trigger to make text into a hyperlink.
    
    This includes a few changes on top of the PR to use the default param to
    prefill the parameter field in the table rather than applying it at execution
    time. Also to adjust the title from Hyperlink to Make Hyperlink...

commit abd1458cd75be8de62a34031e9751b9db8aa3c4a
Merge: 17c3e893 a0511e6a
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 15 18:06:46 2018 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 17c3e89357ccd119591ace1558a608a8446ec2ae
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 15 18:05:45 2018 -0700

    Reduce minimum underline thickness to a half point.

commit a0511e6ad4fe6716c85e32da612eb7cb6374920f
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 14 22:55:52 2018 -0700

    Temporarily disable telling the delegate something changed when doing reloadData on a profile list view and not changing the selection. Fixes a bug where adding a trigger in edit session would close the trigger panel.

commit 794ae8943cabe745d6770a15cb1038966946b790
Merge: d9c114cc 887846ea
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 14 21:41:06 2018 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2
    
    Conflicts:
            api/library/python/iterm2/iterm2/_version.py

commit 887846ea04a071ca05927defe78a955d00386b26
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 12 17:20:12 2018 -0700

    Disable integrated/discrete GPU switching to see if it caused the spike in crashes on 5/1

commit e7a6dd9f038183e65a30d6f534f4a92597a1cdd7
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 12 15:58:18 2018 -0700

    Apparently prefs panel is getting its outlets dealloced but the toolbar delegate lives on. Don't try to stick nil in an array when that happens.

commit 22dc811324008eb231612c64d819f3d56a477f81
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 11 23:31:02 2018 -0700

    Fix missing headers

commit 58bd794943d1bdf1984dcbe78272207a5fa9c158
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 11 23:21:41 2018 -0700

    Document REPL in running.rst. Add a link to xkcd.

commit ef8755e3dc7b0bb34a4145796b924f1e4660e910
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 11 23:21:26 2018 -0700

    Copy built files to website repo

commit 6ea54868a829f48bc18a967088e85d53e7da386b
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 11 23:02:21 2018 -0700

    [api] bump minimum pyenv version to 11

commit e9bc66bac13259b844cb93a28357ad6b9d854d7c
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 11 23:01:19 2018 -0700

    Remove duplicate separator identifiers

commit 4d5752088ca70909a6491ed5c9f860bf2901b6bc
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 11 23:01:09 2018 -0700

    [python] Fix small docs errors

commit 09b1f4630ace0d789536d1f7a005907b94d272c3
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 11 22:51:00 2018 -0700

    [python] fix typo

commit 0e6e51437d86e36dcb67ec1f5663dd04303cf9ef
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 11 22:48:23 2018 -0700

    Add async_create to connection docs

commit cb446af1c8e9363e00ca2f3885171459cf77264e
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 11 22:46:52 2018 -0700

    [api] Make it clear the hyperlink is a hyperlink

commit c7fc3d83cfa8be240d828af334e4b6d777d1e002
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 11 22:26:26 2018 -0700

    [python] bump version to 0.30

commit 6a2269364a53bf00b8d89202c2a310ad96191dea
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 11 21:42:59 2018 -0700

    Reorder menu items in Scripting

commit fd1b278ebae8a5015fbf2f0807569befd7bdf2de
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 11 21:39:57 2018 -0700

    [api, python] Show a banner above the REPL. Export Connection in python lib.

commit 94e4b23b2b805faab95bc584a09f77d4ae419c6e
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 11 21:21:39 2018 -0700

    Add a menu to open a Python REPL. This assumes that future pyenvs have apython (aioconsole) installed

commit 5fd35e5128af2a27055f4a0673770084b79c8377
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 11 21:02:11 2018 -0700

    Refactor API auth code. Improve unique identifier. Use disclosure in request dialog.

commit 8ebd2c75317266a7c4b30de7979a7481daef6478
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 11 20:15:49 2018 -0700

    [api] Prepare for REPL support by parsing python args and ignoring aioconsole stuff.

commit e6744c254c89cc28f5b65ca545193d91fb206e2e
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 11 18:39:08 2018 -0700

    [api] Fix broken window focus notifs

commit 00c9b2c6dc9171635c57f2919d1dbc0dfdad4de8
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 11 18:38:50 2018 -0700

    [python] add support for apython REPLs in Connection

commit 1211bc74b549c9ddd180d42bc977d7f17a624ce4
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 10 20:15:31 2018 -0700

    Post a notification when opening the tmux dashboard. Issue 2547

commit d246543f264b162b04432d034e66c06d53d78fdb
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 10 19:36:17 2018 -0700

    [python] Add accessors for current tab and current session

commit a04cc18546d8ea4440e3a4dea3ad2ffab91a83fd
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 10 18:35:34 2018 -0700

    Enable closing the script console with the keyboard and don't let it hide hotkey windows

commit 6acd3f102c034e2a21e9b44231fd278c3baba81f
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 10 18:35:02 2018 -0700

    Implement canProduceMetalFrameCap, to unbreak making Metal frame captures

commit b1033921648fa6ce63cb25932a6f0f0ea1c785b5
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 10 18:12:55 2018 -0700

    Show exit reason in script console

commit 97e77d0a12649b23224948d8ff84f06593bdcf16
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 10 18:12:32 2018 -0700

    [python] fix a call to a method that got renamed.

commit 87c933dc98a36f974983851ee3d8e3d9a132cc94
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 10 20:16:35 2018 -0700

    [python] Change App.key_window to App.current_terminal_window because it is now set even if a non-terminal window is actually key.

commit 7f3a20f4ac42eb6021e857f084a8be2f1a945e54
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 10 17:54:55 2018 -0700

    [python] Improve focus notifications

commit febdeca091efeecd316f6a1144f513d0102b3eb9
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 10 17:39:51 2018 -0700

    When the focus state is inconsistent, refresh everything. It was possible to handle a focus changed notif before a layout change notif and have tab be None, which would leave things in a bad state.

commit 69cde31ac0f1ed8c6e159cefb254eb84e772e228
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 10 17:33:15 2018 -0700

    Fix a bug where you couldn't have multiple subscriptions to the same notification

commit 106532e385909023ef7a9127479765fb42a56375
Author: George Nachman <gnachman@gmail.com>
Date:   Wed May 9 23:14:45 2018 -0700

    Replace yen with backslash in insertText rather than in keyDown to avoid breaking IMEs. Lots of gory details and history in issue 6699

commit 417547501886e6e2ef112dd7c54f9c29f46b422b
Author: George Nachman <gnachman@gmail.com>
Date:   Wed May 9 22:21:00 2018 -0700

    Optimize appending text to a command. Issue 6690

commit 40bdd87bb41adbe720e31a461c690ae0bfa866ab
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 8 09:26:30 2018 -0700

    Fix a bug where images could be encoded as cheap strings, in which case they were not drawn properly. Issue 6702

commit 8fb2c0461ec0ce778093dea6184c43db9af63be6
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 7 23:07:16 2018 -0700

    Discard transparent fragments in text fragment shader. Fixes a bug where a double-width character would get cut off by an overlapping character after it (e.g., smiley emoji followed by x).

commit cec200566ded9ac3a3c305f241a74684d97566e5
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 7 23:03:38 2018 -0700

    Improve underlines in Metal. Nonretina underlines were all broken and often didn't draw at all. Also don't underline only the center part of any character. A comment on issue 5450

commit 873a704e6769429ac779f2fc03639736177fa3cb
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 7 21:44:34 2018 -0700

    Toggle metal when splitting a pane. Fixes a bug where moving a session into a pane (e.g., Move Session to Split Pane context menu item) would leave it in a bad state where _useMetal was true and _suppressDrawing was set on the textview but there was no MTKView since that only gets created when useMetal goes from NO to YES. Issue 6700

commit df79b350f1ccbe90a334476d4a51ce697ab02583
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 7 21:24:31 2018 -0700

    Give an escape hatch for the scripts folder migration.

commit c075755c4376f13c350421787abaa4e84bf8c784
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 7 21:23:18 2018 -0700

    Don't let the metal view overlap legacy scrollbars. Use the clip view's frame instead of the scroll view's frame since that should give the frame of the content area of the scrollview.

commit edc3ff2a1987cb0e2c90242fdd5da63bd7f23528
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 7 18:24:01 2018 -0700

    Finish writing daemon docs. Add spit and polish. Fix width of document

commit f395de72d698f6a9204ca184dc4bbe9b53178da6
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 5 16:58:57 2018 -0700

    Make the Sphinx docs look like the official site.
    
    Use build.sh instead of Makefile because Sphinx doesn't copy files from _static over.

commit fc168c02520b6254b7bd5469f66fdf62e0c0f121
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 5 15:36:11 2018 -0700

    Fix support for nested folders in scripts directory. Allow creating them and show the hierarchy in the menu.

commit 600622441708123675f74bde6f2e67f3a8b2d139
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 5 15:28:55 2018 -0700

    Remove the preexisting iterm2env zip before renaming the temp file. It refused to overwrite it.

commit 350873482f5b33397ebbda0fd096630f9604cdde
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 5 14:56:35 2018 -0700

    Force migration of app support/iterm to iterm2.

commit d6ff452182301f4d226e4e8c83b88a1e0364738e
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 5 14:25:41 2018 -0700

    Fix some mysterious warnings about automatic preferred width for text fields

commit 0d4341f3844339c6d3f58fa706d3b011eafc77cf
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 5 14:16:53 2018 -0700

    Fix some implicit-retain-self warnings. I wish NS_NOESCAPE would prevent them.

commit 241f5d5d5fefb2b7a1426213f28a864ea13d4d6b
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 5 13:44:01 2018 -0700

    Bump python lib version to 0.29

commit d9c114cc56136f1a09c437453d3934f5480dd383
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 4 22:14:03 2018 -0700

    Bump python lib version to 0.29

commit 9187bcab0ab470b172398a49b380f9655895f0e5
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 4 10:15:19 2018 -0700

    Fix an assertion where the grid's delegate was nil. This happened because metal left the flicker fixer on. This commit changes PTYTextView's interface to make it safe so that the flicker fixer cannot be left on accidentally.

commit 50685312a1996249a3cf7da716c7bdb21163eeae
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 4 09:59:21 2018 -0700

    Be more careful about removing menu items in the scripts menu after the separator. Somehow we were running off the end of the array and throwing an exception

commit 4b432691ee0a921148ec1c48b338ab1639d12ca5
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 4 09:48:48 2018 -0700

    Make sure iTermPreviousState doesn't get dealloced while it's in use. I wasn't able to reproduce but it is likely this will fix issue 6698

commit 32a9d9d4c09357cabfb97f24145a4ddfddb7d356
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 3 20:07:00 2018 -0700

    Don't use metal if the tab has more than 6 split panes to avoid unexpected crazytimes

commit af4002f102c30f516f0bc24db42e7254797b2e7c
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 3 19:44:58 2018 -0700

    Use consistent naming for the python runtime

commit e7a449fd5b154ccdd47321d6340226a7002f6cbd
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 3 19:44:12 2018 -0700

    Add menu item to install python runtime

commit be68c6d1441c14d710c9aeed8904f26b2fcd9b5a
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 3 19:31:27 2018 -0700

    Update readme for examples, remove remote control since the daemon template is better.

commit 8046f15e34472d3ec2b8065a0cf48cbd09d6e92a
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 3 19:26:42 2018 -0700

    Update templates for the new namespacing

commit 41285054c05c503f6d2cf9f73c0fcc3671de3322
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 3 19:18:53 2018 -0700

    Improve docs. Change init to from blah import blah.

commit 54cd00c207f68d4df3ae89879afef8ee9878c160
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 3 18:34:26 2018 -0700

    Fix a bunch of bugs

commit 31661337f956f4bded8c6dd150c52ed64252e076
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 3 18:34:20 2018 -0700

    Update it2api for the new interface names

commit af24816320f9ca15bf25d5afb600604f97890c79
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 3 17:04:27 2018 -0700

    Fix indents to be 4 spaces

commit 890c3eef1a4e6871667cd5831b1d50e4c80b89d7
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 3 17:03:12 2018 -0700

    Use properties wherever possible. Untested.

commit fcfda7a8d5329e322b7f429078573253811517c4
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 3 08:48:25 2018 -0700

    Don't allow underlines to escape the cell. Issue 5450 (comment at the end)

commit d1229dbc9bec7271dfa0de7f66bf80edac4736ae
Author: George Nachman <gnachman@gmail.com>
Date:   Wed May 2 22:53:10 2018 -0700

    Fix failing toolbelt tests

commit aa10ce27c8ff1ffd8b6fd3ed40c6a45639f36a79
Author: George Nachman <gnachman@gmail.com>
Date:   Wed May 2 22:30:37 2018 -0700

    Add support to semantic history for filename[line, column], used by visual studio. Issue 6688

commit 5b965be48c3f21153f4fdd136137466b3437fc0a
Author: George Nachman <gnachman@gmail.com>
Date:   Wed May 2 22:08:26 2018 -0700

    Update goldens for travis. The code changed how the top and bottom margins are drawn, otherwise they look fine.

commit 2cb7fad3b7caa4db19a840edf1428baa955a7ff4
Author: George Nachman <gnachman@gmail.com>
Date:   Wed May 2 21:27:41 2018 -0700

    Add a key binding action to toggle mouse reporting. Based on PR 147

commit ac84c2fe8ce0e165337906bafb046b3c886391d0
Author: George Nachman <gnachman@gmail.com>
Date:   Wed May 2 21:01:31 2018 -0700

    Xcode decided to change some random crap that does who the hell knows what. Never change, xcode

commit 7a0d9e09b96b822e894b4f2b96292a29ea6eb3da
Author: George Nachman <gnachman@gmail.com>
Date:   Wed May 2 20:56:13 2018 -0700

    Fix scroll wheel when scrollbars are hidden

commit 044dc5b9e09208642cae289071844c51a6e57006
Author: George Nachman <gnachman@gmail.com>
Date:   Wed May 2 20:03:49 2018 -0700

    Allow period in ssh username. Issue 6685

commit 1f79abc06650e55e54ef2f6620b57064024dd265
Author: George Nachman <gnachman@gmail.com>
Date:   Wed May 2 09:50:50 2018 -0700

    Ensure that either all or none of a DWC is selected. The right half is selected if and only if the left half is selected. Issue 6687

commit 5661e5681f1d19aad28a33a30b9b1380b48962a2
Author: George Nachman <gnachman@gmail.com>
Date:   Wed May 2 09:40:08 2018 -0700

    Fix a bug where multipart glyphs would get drawn for each part. This caused some small differences in antialiasing that were very apparent with Chinese text. Issue 6687

commit a9792ade17c40ba9176cae1e30622ac79080af21
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 1 10:09:05 2018 -0700

    Bump version

commit 67dd9cdb12d8f829f6db027b8bb1e51375fe9ef1
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 1 10:06:10 2018 -0700

    Rename all async methods in the library to async_

commit 0c7ed3db9af4e5d5773f0250b81ca2ce3e61f9b9
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 1 08:57:18 2018 -0700

    Bump version of iterm2 library to 0.27

commit 6ccd425790559306a43fb4e3c9b37faf94b021e2
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 1 08:55:02 2018 -0700

    gitignore api/library/python/iterm2/docs/_build/

commit 95650781254f33efab695c92dabf45561bf5fb6f
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 30 23:20:23 2018 -0700

    Add an experimental feature (on in beta) to show inline images at retina scale. Issue 6682

commit 5237bb8fcb63b2d4f6f2880fced08ab965d735d2
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 30 22:40:07 2018 -0700

    Metal: Fix a bug where the cursor was shifted vertically when there's vertical spacing > 100%.

commit 880e902d99313065257f626de32f4d4546c37588
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 30 22:14:18 2018 -0700

    Fix the width of cursors in Metal when horizontal spacing is more than 100%.

commit ced897b740f7243d0fd701b7598914f9b53a82ff
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 30 22:13:52 2018 -0700

    Fix various nits in the tutorial

commit 910f838e511b2a8257c4513b4e11823b5f2f8920
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 30 21:33:23 2018 -0700

    Change 128x128* and 256x256* to be downscalings of the 1024x1024 image. Fixes the problem where they looked too small. The other sizes appear to be fine, and look much better than a naive downscaling. Export to png and replace existing icon.

commit ed540bc27320800f1dce31d4f87031343a0afe27
Author: Jason Long <jlong@github.com>
Date:   Wed Apr 11 08:12:46 2018 -0400

    Add .sketch and .icns files for refreshed app icon
    
    A few other changes were squashed:
    Scale prompt cursor larger at smaller sizes
    More sizing tweaks

commit 5da704f65f75b3180636d2c5c059dfbfb92f026f
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 30 19:17:20 2018 -0700

    Fix a bunch of bugs

commit aea4c6ba6049ea6e50bc1b04a0d48fa3981c4205
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 30 18:21:01 2018 -0700

    Fix some bugs with the window arrangement APIs

commit c3f0241d390d71b25a7f8267bfe81e22ca1b7f63
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 30 18:20:49 2018 -0700

    When refreshing the app, update existing objects so old references remain intact. Make create_tab, split_pane return Tab and Session rather than IDs. This necessitated an ugly cyclic reference which I need to deal with.

commit cb4cbe10e8ec6b86cdc5ea61e6c5344f222e65ac
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 30 18:19:20 2018 -0700

    Add a note not to set PYTHONPATH

commit 3231044fe522908f3893508811cd7cc8506454f1
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 30 10:00:30 2018 -0700

    Update tutorial. Fix shebangs to use the full path to the Python install so they can be run at the command line.

commit 69f90eefab8ff4893860c7211d398f7bf922b86b
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 30 09:13:53 2018 -0700

    Move sphinx to docs

commit c810e9a0c38f805af51fe12f8e40edda45402286
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 30 09:13:28 2018 -0700

    Remove sphinx build directory

commit 044eca6941c4988dfc8d164f9abf1e117bc801cb
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 30 00:12:07 2018 -0700

    Update docs. Split them into multiple files. Begin writing a tutorial.

commit 2581a8a232060c6011b54f461da8ade3eb16888c
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 29 23:37:53 2018 -0700

    Update docstrings to work with sphinx. Make HTML sphinx docs. They aren't too pretty yet, but even the defaults beat pydoc by a mile

commit dbfb66623aee74a1a3850352d4d5a2bac36bcfaf
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 29 22:12:21 2018 -0700

    Bare sphinx config

commit fb543ac9f465fec73312ba1bb257cc23542ba4d0
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 29 22:00:20 2018 -0700

    Remove copy iterm2env step

commit 1e4480e3c1030006f4f395126f19b432f78d720a
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 29 21:59:43 2018 -0700

    Don't hold fdSync while doing a blocking read. It keeps threadSafeClose from being able to close the socket. This caused scripts to hang on exit

commit ad55a8e40fb755605f886f553eb373f223e994d7
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 29 21:59:12 2018 -0700

    Merge Hierarchy into App. Hierarchy was never a good name.

commit 398b59a3e7ff9d5071a262b36cc74b3571fba49b
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 29 21:24:21 2018 -0700

    Download python runtime when creating a basic script, if needed. Don't allow spaces in script names because of the silly shebang limitation

commit c4016a8e2fa5b4908f7852196432ace92ae205ff
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 29 21:23:52 2018 -0700

    Fix IB warning

commit 423c851c78de4a329f6ece9b4998258284b740d4
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 29 20:56:56 2018 -0700

    Undo accidental team change

commit d721ddb0a9a46aa50cb34028d7fb46a12e519fec
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 29 20:22:16 2018 -0700

    Ignore trailing parens only when showing job name in tab titles

commit 480937de79caaf1cd6b211f3f16a12ed7c15e446
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 29 16:07:23 2018 -0700

    Add an advanced pref to prefer the integrated GPU when not connected to power. Issue 6587

commit 6ad27eb0332504bd117a1e769596aaf156809b7a
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 29 14:46:54 2018 -0700

    Add an experimental feature to reset SGR on prompt

commit 0920e9028933be881935cf4deb41ffd50aebc61c
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 29 14:40:07 2018 -0700

    Don't use metal renderer when vertical spacing is less than 100 percent. It's complicated to fix.

commit fabf38748b617681bc0c3e938717d3913ce018dc
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 29 14:38:05 2018 -0700

    Fix double-width and full-height (advanced pref) cursor in metal. Issue 6668

commit 6959ccd6ca0db019bd27ff747f749c11000a7fc1
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 29 14:01:09 2018 -0700

    Ignore malformed OSC 11. Issue 6667.

commit 6f09f38c50903e4e73f56d8c1d97a38279c22b92
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 29 11:37:12 2018 -0700

    Fix indentation

commit 8d510d3d07046fe74d4dd4153d26a5533557a00c
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 29 11:17:36 2018 -0700

    Forward setNeedsDisplay: from SessionView to the metal view

commit 59b457e42e21f9cb622ba0be7b49cff34c425d1f
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 29 11:12:01 2018 -0700

    Do not use metal if the view size is crazy. Metal asserts if you try to get a drawable that's too big. I don't know why it happened, but at least we shouldn't crash if things get into a nutty state.

commit 8b15edd145ba2c98782bf57114f185190ab7ec89
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 29 10:44:10 2018 -0700

    Fix a bug where cmd-0 did not restore the original font size in tmux integration. Issue 6648
    
    Description of the problem
    --------------------------
    
    There are three profiles:
    
    1. The profile in the model
    2. The session's originalProfile (which is a copy of the model profile from the
      last update)
    3. The session's profile
    
    When you change the font size, the model updates. That's done by
    `-[TmuxController setTmuxFont:nonAsciiFont:hSpacing:vSpacing:]`. A call to
    setSessionSpecificValues notices this and updates the session's originalProfile
    and profile.
    
    Pressing cmd-0 resets the font to the value in the original profile.
    
    The profile in the model gets changed because all tmux sessions must have the
    same font size. This ensures that new sessions are created with the right font
    size.
    
    Description of the solution
    ---------------------------
    I think it was a mistake to update the model when you make a font size change.
    I belive there were only a few code paths where that made any difference, and
    they all had to do with restoring arrangements to create a new session. The
    solution is to add a new key to the session saved arrangement that contains the
    font overrides for the tmux session, which the tmux controller already had.
    When setting the profile, replace the font in with the font overrides. I chose
    this approach because passing the tmux controller itself into
    setAddressBookEntry: was very difficult.
    
    I tested the following cases:
    - Create a new tab/window after adjusting font size
    - Split a session
    - Resize window
    
    And the above when tmux is using the gateway's profile (not the tmux profile).

commit 9a5c912ec43ccdbd95ac03cbf5811c08388ec7f5
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 28 22:48:04 2018 -0700

    Add public key for validating python runtimes

commit ce60b720696121d5b3eb6afb2a8d301fec21732f
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 28 22:47:19 2018 -0700

    Show a progress indicator while extracting a python runtime. Ask the user to confirm the editor before opening it.

commit 146c39d93b4c067a38ff533163531ed6004fa739
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 28 22:24:02 2018 -0700

    Deal with replacing templates in pyenv files, and that shebangs can't handle spaces in the path to the executable. So create a symlink from Application Support to ApplicationSupport. There really isn't any other reasonable place to put this stuff besides app support. Also fix various bugs.

commit 995502bf0f3164aa404a858fd990e10ab1e6e4c8
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 28 17:27:35 2018 -0700

    Make it possible to upgrade the python runtime by an explicit check for updates, same as Sparkle. That will only check if you already have it installed. Also fix a bug when the optional component installer's window was closed.

commit 0f50c6dfd81b3d902224866a186285b995909c49
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 28 17:03:16 2018 -0700

    Validate the downloaded python runtime's signature

commit bae8c9b89d322c32e9cd124ac384d27394fd089f
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 28 16:49:59 2018 -0700

    Bump pythin lib to 0.25 and fix makefile to remove previous builds before uploading

commit 21122a870ba83499d72fb701aeaa9771f5f1359f
Merge: 7a6442c1 4601c2b9
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 28 16:49:31 2018 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 7a6442c1a8312628aaa4d77c498636fdc53f3ef3
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 28 16:49:26 2018 -0700

    Ad machinery for downloading optional components. This will be used for the python runtime.

commit 4601c2b91e97e0e11b5c3d897c509f105391113d
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Apr 27 23:21:18 2018 -0700

    Add a class to perform RSA signature validation.
    
    This will be used for checking the signature of the python runtime.

commit af9c76d67279c6d66acd574e41c5b866eeafd1c3
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Apr 27 09:02:33 2018 -0700

    Remove iterm2env. It goes in its own repo now

commit c772d1367e1173efedde8d31b6efa4a19e70088b
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Apr 27 00:03:13 2018 -0700

    Always track script history. Limit the number of lines of output to avoid using unbounded memory per script

commit bae36c79a2165f95c61cf19d3eef138f9a89f097
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Apr 26 23:35:30 2018 -0700

    The websocket server stuff had a ton of threading problems. This commit gives each class its own queue and ensures operations are performed only on the right queue. The only exception is the HTTP connection's fd which is synchronized with a lock because while it is blocked doing a read we might want to write or close it.

commit 5e8b9b6ef894244eacc6d54aecf25ca95801b8a6
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Apr 26 23:31:58 2018 -0700

    Rename the script launcher's queue to make it less confusing

commit 782c41644fc9efb5c33f0d440c0fe2b6fc6abb5e
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Apr 26 21:31:38 2018 -0700

    Add terminate button to script console

commit 371e66cf495e3f5d7d0e5d3fe811b20a964fe444
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Apr 26 19:25:11 2018 -0700

    Ditch virtualenv in favor of pyenv in launcher and menu controller. Add UI for creating new projects

commit 2a1e4c6c6ad084ee7b74eaeb8abace289fb3e3fd
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Apr 26 19:23:42 2018 -0700

    Add enumerateHierarchy and mark blocks as noescape

commit 1b045531f3d14d1020f8cc416e8549eb4c65072b
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Apr 26 19:15:19 2018 -0700

    Update for latest changes

commit eb773497a7ec05e7b9b0c592757aecfc8d11a729
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Apr 26 18:55:27 2018 -0700

    Set PYTHONUNBUFFERED so script output can be seen right away

commit 5c148cc63ef55fadb35c0f335301a55d0dd6eb03
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Apr 26 18:52:22 2018 -0700

    Fix bugs in subscribing to messages from all and getting key window

commit 357b10e470c42c9a97c91d3794f48cfcee3bb70c
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Apr 26 18:44:11 2018 -0700

    Fix identifier for New Python Script menu item

commit fb732ed0ca4b1864a3aa12761860dc2e3b60891a
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Apr 26 18:43:10 2018 -0700

    Change script launcher to use pyenv

commit 340b2a8db859b4d1337f3ecca76f926e1ecc89bc
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Apr 26 09:48:51 2018 -0700

    Update template to use pyenv instead of virtualenv

commit a402058a0d87f5a77860a3382f7840754a93ff04
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Apr 26 09:47:17 2018 -0700

    Change iterm2env to be a pyenv

commit c08e986507706462bb9d21e399d659713530d5c8
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Apr 26 09:46:50 2018 -0700

    Remove iterm2env, built with virtualenv, because it depended on system python

commit e1a03a5a08fb4899b1f2826f7208bb7885dd73ee
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Apr 26 09:46:34 2018 -0700

    Update build_iterm2env to use pyenv

commit 763508b3ff1cc332d540db686ede66d97d6b9dcf
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Apr 26 08:55:22 2018 -0700

    Update iterm2env

commit fb933dbb989fb14e9140037cf0b571bad0ab63a5
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Apr 25 23:05:55 2018 -0700

    Add advanced setting to disable opening a window at startup if nothing would be restored

commit 9e4b97b18fac24bea6147c296b65687f0523ad83
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Apr 25 22:56:13 2018 -0700

    Do not override scrollWheel:. It is a lost cause. This fixes horribly janky scrolling when scrolling up slowly.

commit 793f30a13be9bfdb19eef3d3e3fc60d66c3ff13e
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Apr 25 22:47:12 2018 -0700

    Add focus change notifications and API to query focused objects

commit 4e79d63e3e2df5c44a85daf4f2048440c8bc11f7
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Apr 25 22:46:37 2018 -0700

    Unset PYTHONPATH in API wrapper

commit c78f91d072f3dfcc3f3f45ff1d841b13b7eb4122
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Apr 25 22:45:57 2018 -0700

    Add 'new python script' to scripts menu

commit 99fe6db8d06749d872b0f649579fb616a37934ab
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Apr 25 21:31:38 2018 -0700

    Add interfaces for saving/restoring window arrangements

commit 6bc0658a6320f55dec7e9585310cf97064943d3b
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Apr 25 20:53:34 2018 -0700

    Add support for activating the app

commit b56009b774c8d20eb4e15b846bce9329230f76bc
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Apr 25 19:06:19 2018 -0700

    Python lib reports its version to iTerm2 server. iTerm2 checks if it's new enough to work.

commit 75f5623f6668b0348934fc18156a75bd1b2b7b5c
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Apr 25 18:41:31 2018 -0700

    If the library is newer than iTerm2 then respond with an error instead of just not ACKing

commit 7385fba7407714007d074a2d32b1e3fb9c1c0234
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Apr 25 18:32:57 2018 -0700

    Move top level message fields into oneof

commit 9e5b63965bb8ef10875c325ec7154873f5eca318
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Apr 25 18:24:52 2018 -0700

    Add ability to get and set variables

commit b3a561c2761f958d61ee31bace662a5fdf9e19e9
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Apr 25 17:42:10 2018 -0700

    Update iterm2env. For some reason it was a broken python install. Add Activate API.

commit de3f7a28c2ae9e9cbaff76688fecacd56f458ad6
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Apr 25 10:21:00 2018 -0700

    Let smart truncation ignore the parenthesized term at the end of the name so that when showing job name it will still be able to truncate the head when the thing that comes before the job name is more diverse than the prefixes of the tab titles

commit 3b0dd0e41181b200c06e0191c5126d7a9b4244ce
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Apr 25 09:40:13 2018 -0700

    Make IBOutlets weak.
    
    They were unsafe_unretained, per tradition. But since I learned about weak
    references in MRR, make all the things weak! Some day when everything is
    ARCified these should become strong, which is the new model.
    
    This fixes a crash when you edit a text field in advanced prefs and close the
    window while still editing it. The trigger controller was released but then a
    notification was posted to reload profiles and that referenced the trigger
    controller from the advanced prefs controller.

commit 956818bf4e9eb1f0d63fd580d7c0f4aee910b97b
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Apr 25 09:10:26 2018 -0700

    Make max framerate when not using adaptive framerate settable in advanced prefs. Issue 6656

commit 902323ab24940a8852be8bfbc37a146912ec693b
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Apr 25 09:09:58 2018 -0700

    Turn off responsive scrolling. It doesn't work

commit d0e5c54884ace76c218f7e2bc095ea0bc6d8334f
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Apr 25 08:51:11 2018 -0700

    Turn off disable-metal-when-idle. The ripc crash did in fact return.

commit 233d54cd3a19036b5c165d6bb41b67359953bcf1
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 24 22:19:40 2018 -0700

    Make -[PTYScrollView scrollWheel:] call super. This fixes the bug where scrolling with the wheel and then moving the mouse near the scroll bar did not cause it to get thicker. Issue 6637

commit 107728b3b4db31fe79d02272875414847c8bb3f8
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 24 21:35:27 2018 -0700

    Turn on isCompatibleWithResponsiveScrolling in PTYScrollView. Helps but does not completely resolve issue 6637

commit 391f394a15d71ce04068e0416c7c3c4c8c1228a3
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 16 21:11:16 2018 -0700

    Add debug logging around miniaturization

commit 53f267c80e4021580447f72acee3c8a19e25d0c5
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 24 09:44:52 2018 -0700

    Add support for scripts that have their own virtualenv's

commit 752a67a9852239fcab6e4ceda19a6aabc6542021
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 24 09:25:51 2018 -0700

    Use SCEvents to monitor scripts directory. No need to manually refresh it now.

commit c5c78db1a0dc9a84cf6072a7ddc8b2afb83bcb46
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 24 09:18:12 2018 -0700

    When there's an autolaunch script, update defautl window arrangement, open bookmark window (if prefs say to), open saved arrangement (if prefs say to).
    
    Move a bunch of code out of iTermApplicationDelegate and into iTermScriptsMenuController.

commit 85fd55a15ccf2633cc875d27a275fdcedb43771a
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 24 08:55:36 2018 -0700

    Bump python lib version to 0.23

commit a109d844d4c2b775765bbfc51935d00ada47ebe5
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 23 22:07:40 2018 -0700

    API: Add inject RPC

commit 8bf54c52c8e24fa120fd7a3204e22a442bd87332
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 23 21:36:14 2018 -0700

    API: Add property getters and setters. For now, just frame and fullscreen exist.

commit d96d7068d7e35ca84333e3b664de097f62cc534a
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 23 19:35:48 2018 -0700

    If an API script has the right cookie, bypass the auth UI.

commit 96a05112c7be7fcd6c69f5732489ba4c91979af0
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 23 19:33:48 2018 -0700

    Make Scripts menu permanent. Add reveal in Finder.

commit 1a4ad78c5a0d2bc15f0529f176150feeebd1ab81
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 22 15:54:42 2018 -0700

    Update to 0.22

commit f30c0941f301eb11302d60c5e71008fad9f7675b
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 22 15:53:51 2018 -0700

    More docs improvements

commit 592d0e5e87044d1593e1fc3e23be196dcc17b303
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 22 15:51:16 2018 -0700

    Update docs

commit f411accc71e40b6829c3f52e9bb1cb17317da8cc
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 22 15:41:47 2018 -0700

    Fix metal idle when there are split panes. Now they must all be idle for metal to be disabled for the tab.

commit 5d57de012cd2d9d9e1735688bedaa52d3ae43664
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 22 15:41:32 2018 -0700

    Update documentation in python library

commit 4b91514d297b50fe20c5e1e0d7dd6626013b1aa9
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 22 14:19:43 2018 -0700

    Add 'any' and 'all' sesison ID api support.

commit fced048b9a5ba964e9529c5043038bcc5179cdf0
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 22 14:19:22 2018 -0700

    Add special 'active' and 'all' session IDs to API proto

commit 31e24c22f6043542b03848a960793bc0d20feaa7
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 22 14:18:57 2018 -0700

    Add show_hierarchy to it2api

commit 2f49efc74c1651fb2ab0ec514ee4848f50d16bd2
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 22 14:18:31 2018 -0700

    Support special session ids of 'active' and 'all'.

commit 09f0f8c41c40f43215fe0b743d22bf291d70ee33
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 22 11:39:51 2018 -0700

    Clean up websocket connection when it closes unexpectedly

commit 896b6a7b40f6e60bc23fcc62a462b9647376652c
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 22 11:32:39 2018 -0700

    Improve the docs on virtualenv

commit ef811a032a0428f7f9938ee2dfd6697e55c3ad15
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 22 11:26:35 2018 -0700

    Update README. You should use virtualenv.

commit 65111f2e768a7811d553e63a23ad43f7e750baa1
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 22 11:15:29 2018 -0700

    Remove notifs.py example. It was outdated and remote_control.py makes a nice example

commit 02ba435ec3fe73e7f4c008431d9a51ef424b6df3
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 22 11:14:58 2018 -0700

    Rewrite remote_control.py using the new library

commit 18db84e63098480f228fbc000c5e6f4634523354
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 22 11:14:34 2018 -0700

    Catch and print exceptions in Connection.connect since otherwise Websocket silently swallows them

commit 58ee31c06126ab69a26e3bc294d7dc625823dd8c
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 22 11:11:58 2018 -0700

    Remove newline

commit 28ef4fcb20405d5ca606835056e33048c235d3ee
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 22 11:11:34 2018 -0700

    Only have one api_pb2.py. It's the one in the python library.

commit b02fbf042377a09b6e5210b09094392ffe87b0fa
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 22 11:10:01 2018 -0700

    Remove api_pb2.py from examples. It is too low-level and people should use the iterm2 library instead

commit 79a62ddae5785abc0acc25b52edbff1c659d6748
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 22 10:42:41 2018 -0700

    Update iterm2env to 0.21

commit 57101e66e315a982a3898de74539156a9101e601
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 22 10:42:06 2018 -0700

    Adjust version to 0.21

commit 41e44152225f506d6b81adb4a47b112909e308ea
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 21 16:10:43 2018 -0700

    Update makefile and version to 0.2.1

commit a10910e45e9d0ed4f28bcc7e0fe663c14f4d6120
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 21 16:06:17 2018 -0700

    UPdate build_iterm2env to use pypi

commit 42ed4e6c96da7e17368be89fc048cc3697ac399f
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 21 16:06:09 2018 -0700

    Look only at the executable name for auth purposes, not its arguments. It was too intrusive to ask about every different args combination.

commit 2517d0b68d6a979fc7b4fb8c09b00b9723a8bb95
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 21 16:05:39 2018 -0700

    Make ProfilePReferencesViewController's delegate weak now that MRR has this. Yay

commit f87d86ba1a3bb5dac836f04973e079085fcc5234
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 21 16:03:49 2018 -0700

    Update iterm2env

commit a74fe389d3f3400d883d36b3f465cef8b14e399a
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 21 16:03:28 2018 -0700

    Fix a bunch of bugs: profile didn't havea  session id, set_profile_property didn't take a session_id, _color_set didn't take a session id, color_get would throw if there was no entry, colors would get confused if you gave them a non-number, and the before property of split pane requests was not passed through

commit fcde56774aaf0a0c68c2b99f48733ea1d35a57ff
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 21 16:02:20 2018 -0700

    Remove outdated python example

commit 77c5e89b1cf7c04484160fa8ca291b9a4bec904f
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 21 16:01:51 2018 -0700

    Modernize iTerm2 CLI utility

commit dd58a53451c331f84f328abd860d1ef114359f89
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 21 12:14:20 2018 -0700

    Add custom escape sequence test file

commit c7277cade1b919c9b2808b1c64a6cadaa75bc77d
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 21 12:13:10 2018 -0700

    Make script console text views scroll horizontally. Enable the find bar in them.

commit 76c703cc462e94520f91937eede1cdf4834e304f
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 21 12:12:53 2018 -0700

    Add menu item to open script console

commit cf53f6c05d6f8536e5e60f4f1475aa6360afc85f
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 21 12:12:33 2018 -0700

    Remove duplicate copy files for iterm2env

commit 11314cd5eb9faf96008b64eb7a0bdb4455756c80
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 21 11:34:48 2018 -0700

    Fix a new xcode warning

commit 8ddedcdac0797cb635b773b99111b104c2fbbad8
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 21 11:15:14 2018 -0700

    Use NSScrollView, not the debug scrollview in the script console

commit acffd03b81eb1a808d9f0569950da4466ff5c898
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 21 11:01:14 2018 -0700

    Fix websocket dependency and bump version to 0.2

commit dcc52ff15d68162df41c917eceb10dbe7d7f3b1d
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 21 11:01:00 2018 -0700

    Return session IDs rather than trying to return sessions, since that would require session/window depending on Hierarchy

commit d2a48dc190b715f144160e2d46cbab84319998da
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Apr 20 22:14:01 2018 -0700

    Update pypy library

commit 5b4e650f47b92d748873fdace38ba8fc6aaad2fc
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Apr 20 22:10:06 2018 -0700

    Add script console

commit 48b8e1daa3e9160fb495445b9a9a9c8fa2067931
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Apr 19 19:34:51 2018 -0700

    Add ability to launch a python API script from the menu. Its output goes to the console. It gets initialized with a cookie environment variable that bypasses some auth checks

commit 68ad6627814cfbe1b54a7480f6a04b9d60a72e38
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Apr 19 17:30:06 2018 -0700

    Add the ability to launch API scripts from the menu

commit 0f72673e6d88cbffef1c25e6a68b595196768465
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Apr 18 19:11:57 2018 -0700

    Move API handlers from iTermDelegate to its own class. Add a cookie jar to help authentication for scripts launched by iTerm2

commit f1907c77e7654d8a07d92c5561810645243d8bac
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Apr 18 17:35:01 2018 -0700

    Rename request and response to be more general

commit 318884ed5f887fc42b9530dd657fed393a709c79
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Apr 18 19:36:12 2018 -0700

    Update API to use python 3.6 asyncio. Improve the proto to include splitter hierarchy.

commit 783204cc48681c70ca24236674f311ef2efa1abd
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 17 23:31:56 2018 -0700

    Convert some float4s to half4s

commit ebca121d0ff164cce23b1aa1c651cabb7b43bce6
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 17 22:55:32 2018 -0700

    Use half precision floating point in more places in iTermText.metal

commit d6b9be62221424970ae45e16ce486e795d2e83cf
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 17 22:55:21 2018 -0700

    Remove dead code

commit d8f49f86c45e91eb6a6ab936a3a00b9d93f21743
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 17 22:51:55 2018 -0700

    Change SessionView to use a more modern dragging API

commit 51afb87bf3162fd6e819f9fdcd9e9312b48c9fe6
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 17 22:47:51 2018 -0700

    Remove unreachable code

commit 6c197a7be3872a473b1935ddc96b731e9379ebbe
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 17 22:46:43 2018 -0700

    remove dead code and nil profile prefs tableview delegate on dealloc to fix a crash

commit 59f1c476990b9b9c4d0a2c1c5b928ea86b911b10
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 17 19:16:35 2018 -0700

    Change ProfileListView to be a view-based table view.
    
    Predictably, this involved a huge amount of work only tangentially related to the actual change. I hope I didn't break anything.

commit c2c38e5dc22db69b1fb1377d2497c3c3efcdb97f
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 17 18:45:20 2018 -0700

    Use new accessibility APIs in PTYTextView. ARCify the accessibility helper.

commit 689265c2ad82bf957dee71220b02aed8c15ee2ac
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 17 11:06:13 2018 -0700

    Turn 'disable metal when idle' back on to see if the RIPC crashes return

commit 90ce654d74091f08fe8ab496be2067d7e92ea94a
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 16 21:02:08 2018 -0700

    Add an advnaced pref to make semantic history more conservative about what it thinks a URL is. When enabled, it must have a scheme and a two+ part host. Issue 6652

commit 9c57a584b588dbf87ac023eb30260b08ecd4480a
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 16 16:41:14 2018 -0700

    Only show the pointy hand cursor when it's over something you can click. Issue 6651

commit 25d5f62230f003ba4485d8951cf3b38b7260ed77
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 16 16:19:20 2018 -0700

    Move esctest to its own repo

commit 08a838ece5ba0f0af813589eb2b7f9822b2f1357
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 16 14:57:31 2018 -0700

    Convert colors sRGB before putting them in fastMap. Issue 6643

commit 5cd70a7d61e144b1f72d7f75d8836474efd73722
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 16 12:32:28 2018 -0700

    Make all the tool table views except profiles and captured output into view-based table views that look right with a dark theme. Issue 6639.
    
    If I may, I'd like to rant about NSTableView. Every time I have to touch this
    garbage-pile I waste a day trying to figure out how to do the simplest things
    and it's always a combination of witchcraft and tribal knowledge. The docs are
    good for nothing. For example, wtf is NSTableCellView? Apparently it's used in
    view-based table views but you won't catch Apple talking about it. Seems you
    don't need it. If you read their docs you'll infer you should create
    NSTextFields, but you need to set half a dozen fields so it doesn't look like
    garbage. Did I get them all? Who knows. Why isn't captured output using
    view-based table views? Because afaict it's impossible to have wrapped text of
    variable height. Even for fixed-height text you're expected to hard code the
    number of points of row height. I guess accessibility can just go take a
    plunge.  There is some truly astounding BS you're supposed to do to measure the
    height of wrapped text that Apple buried in a technical note, but it's not even
    right. You have to multiply it by a fudge factor. But still, resizing the table
    view doesn't work right--the rectForColumn: doesn't get updated correctly.
    After wasting a morning disassembling it all I can say is their caching is
    broken.

commit 7f4db5c3a2a0c866b16f05b483f706069ebb4a42
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 15 22:00:04 2018 -0700

    Fix a bunch of issues with the previous commit. Include $s in the returned value, replace $$$$ with $$ after parsing.

commit c823898323dafed6c3d70a4ed335824683e64ff8
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 15 21:52:59 2018 -0700

    Allow escaping 14947var14947 with 1494714947 in a command (such as in applescript). Give up on using a regex to find 14947...14947 variables and do it by hand. The problem with regexes is that they would happily overlap, producing absurd results. I think we didn't do the right thing in the face of multiple variables, and it made escaping 14947 with 1494714947 very difficult. Issue 6631.

commit 63e5f2de4ebfe1fb0c928565d4a0a9830742706e
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 15 21:36:22 2018 -0700

    Pester the user to upgrade if their nightly build is more than 30 days old. Adds the ability to suppress a warning for 30 days

commit 697eeae5186dfa27e680b611092fa2b0c76c1a09
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 15 21:17:44 2018 -0700

    Show a checkmark when debug logging is on

commit 3746e2bd269b0c3561296786199498a4f1c82475
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 15 21:15:26 2018 -0700

    Make it possible to append to debug log instead of replacing it. Add more logging to diagnose issue 6632

commit fa222eccc1eb4adec94585bb86cb2c4788426680
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 15 18:35:18 2018 -0700

    Fix a bug where part of the area around the MTKView was not drawn

commit f11f6cc4defb95933414ba1732eb25f120a28c87
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 15 16:40:58 2018 -0700

    Ignore modifier+number when there's no matching pane/tab. Resolve the inconsistency that some of them would be let through while others would not. Issue 6624

commit 0e35ec0fb6fe8824742dda9bd8f1eea261bd828d
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 15 16:22:07 2018 -0700

    Log lots of historical info about changes to profile models in beta/nightlies to get to the root of the sanityCheck failures, which still happen

commit 1ce64ee0670a5178c3c7d4599efea24ee699ea14
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 15 14:24:21 2018 -0700

    Add a 'help' option to the paste bracketing announcement to take you to a page that explains everything. Issue 6642

commit c7bb3f221bcaac3bcefaa78ed8a28c134ad3b890
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 15 13:23:51 2018 -0700

    Change the command history tool to use a view-based NSTableView. Perhaps it will fix 6639

commit e983422cac7cb9009b3fc1206aaaec836feed87f
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 15 12:58:40 2018 -0700

    Update notes tool colors based on window appearance.

commit 0883550d5fc41bffcb8fae7d5fc886d2621e5453
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 15 12:58:29 2018 -0700

    Remove dead code

commit 241f6b1121865d35ebfd273111c0bbbd382df16d
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 15 12:41:40 2018 -0700

    Make profile list adapt its colors to match the window's appearance when dark

commit 8c594f9484043b4d88cc05f1bf456e11d039427c
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 15 12:30:51 2018 -0700

    Change Cmd and Option into their symbolic equivalents in advanced prefs

commit 260199a9db2ccd7365ba7dd4d78de88bd357a3a5
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 15 12:27:53 2018 -0700

    Add an advanced pref to disable underlining of semantic history items. Issue 6638

commit f99ce48c1b6c234f4543ce06496635320d44cbca
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 15 12:21:00 2018 -0700

    Convert title case to sentence case in various places in settings

commit c30342675ad8ec851844d86c53a688b2f2169ac7
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 14 20:13:28 2018 -0700

    Show an error when the password manager fails to fetch a password

commit 2bdb8ac75de797075dadef0411153f8bf0ce2f8e
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 14 20:02:04 2018 -0700

    Add debug logging to pw mgr

commit bbf543313f32a598b06814059264f02c4e680562
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 14 19:11:50 2018 -0700

    Focus follows mouse: Add an advanced pref that controls whether the view under the mouse is made first reponder when the app is activated. Switch the default behavior to not activate the window and view. Issue 6633

commit 293c7b95475514a9c42477e2a4af26e109c4bfac
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Apr 11 23:30:55 2018 -0700

    Fix a bug where a divorced session might not be in sessionsInstance. Remove a lot of code to work around symptoms of this problem.
    
    If you created a split of a divorced session with a keyboard shortcut and then edited the split, the new session's GUID was that of the shared profile. It was not in sessionsInstance.
    
    This triggered some bug-workaround code in sanityCheck that added it to sessionsInstance. You could end up with many divorced sessions with the same GUID.
    
    A very detailed analysis is in issue 6493.

commit 529038099bfa0de7c715f56d6f3045c5c634d5d2
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 8 23:05:02 2018 -0700

    Initializer error to nil

commit ebedfb64c38086c95f81b652aa8fda58c848d31f
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 8 17:09:13 2018 -0700

    Add API endpoint for getting profile properties

commit ddaebd9f36f1346036e11e408f273f39f3c7323e
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 8 17:09:02 2018 -0700

    Log errors to console from websocket connection

commit 78652047f942e90d55ed6d09b0512bb16252e06b
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 10 15:46:10 2018 -0700

    Don't try to synchronously draw if view is nil or has no delegate as that will never terminate

commit 4744b55f4f15e0aee9ed4bce380fa4d07b231fc4
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Apr 6 15:51:35 2018 -0700

    Change histograms to store only sampled values. Now the sparklines and histograms are linear, not log scale. Choose the number of histogram bins more intelligently.

commit 13b142284110456b17c42cbbe00a23f1e2fe95ab
Merge: 8f9dc818 bdf460ab
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Apr 6 14:14:52 2018 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit bdf460aba75d59b17a72b2faa656102c947319ee
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Apr 6 14:11:38 2018 -0700

    Fix capture frame not saving the right texture for output

commit 8f9dc818ee6aa596ca768b31a24555ff70e9d909
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Apr 6 11:59:04 2018 -0700

    Update goldens for new mark and faint rendering

commit 21a69e5c19f3469a8d919797a08b3620250d42e2
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Apr 6 11:57:24 2018 -0700

    Restore goldens to not have the background drawn in the header.

commit f3bb8e0074ed2ceb465318e1ed6610b9675b7fd0
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Apr 6 11:53:43 2018 -0700

    Make sure profiles have guids in golden tests

commit 4ee7609003179e6584227c36ddb83d7a84c46b6b
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Apr 6 11:53:33 2018 -0700

    Fix how faint text is rendered to not rely on alpha value. The problem was we took a shortcut and didn't calculate the background color in some cases (e.g., when there's no contrast, dimming, etc.) so the faint text couldn't be processed. This commit calculates the background color late.

commit ea03dd2004c1731b856d927201c0e64323c0a03e
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Apr 6 11:17:38 2018 -0700

    Remove accidental commit of debug stuff

commit 082f38d7e986a02f5a4102ae9295ac8ad00da42d
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Apr 6 11:05:01 2018 -0700

    Fix warning

commit a01fff9ca57261c98428120a6d8c78d698004a8d
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Apr 6 11:04:57 2018 -0700

    Remove use of deprecated API

commit 27407c09dbf4fee19a48d94ff10fb350435a5924
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Apr 6 11:00:23 2018 -0700

    Move metal pref to general pane. Enable by default for everyone

commit da1d89a3e03e179459b134b67f0aa738e51a005e
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Apr 6 10:48:09 2018 -0700

    Fix alignment of items in general prefs

commit cf200861353a1bc97df5d77a4674c1730dc37484
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Apr 6 10:23:39 2018 -0700

    Fix insets for background image renderer to account for the fact that the metal view is inset one point on the left and right.

commit 0520b187081509fa15637076a0f811313537aba4
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Apr 6 10:20:47 2018 -0700

    Temporarily disable metal while toggling fullscreen. This hides a bunch of artifacts.

commit 6f8b85e8fb3b69b5513f6c078b4af1f10f656503
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Apr 6 10:05:46 2018 -0700

    Inset metal view by one point. This makes its sticking out of the corner almost unnoticeable. The only downside is that marks now have to be inset one point and are a little smaller. Restore the vertical margin default of 2 points so people's layouts don't get changed. Ensure the horizontal margin is never less than 1.

commit 4a7595eea9eb835ba0a189acc186466044a285be
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Apr 5 14:27:53 2018 -0700

    Attach histogram to metal stats and format them more nicely

commit 589cd94ecbe921c635bda3a81551a2b68956fb1f
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Apr 4 22:17:19 2018 -0700

    Tweak indicator appearance to look the same in metal and nonmetal

commit 10aba4fdc227859d7e72a7e700e627327111e44c
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Apr 4 22:16:44 2018 -0700

    Don't retry async draw of metal if the session's delegate is nilled since it's not therefore visible.

commit 3b150c8aa53b37454b75eaaab789092342bf99b6
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Apr 4 21:59:19 2018 -0700

    Fix frame of metal view when in tmux integration with splits causing dead-area insets. Fix drawing of image backgrounds in such situations.

commit 72cbcf4c0b2c5068cf1e6c9381d9cbaed35b83c2
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 3 09:31:02 2018 -0700

    Change how cursor type is set by escape code. Divorce the profile, etc., rather than just changing it in PTYTextView which is overwritten by any change to the profile. Issue 6615

commit 72a74995d603aef8518e872bf1a21099f86fa973
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 3 09:25:52 2018 -0700

    Add an advanced pref to disable opening untitled file

commit 430a438939cff710daffa89468e901bfbc6bab40
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 3 09:16:13 2018 -0700

    Implement movesWhenDraggedOntoSelf in FakeWindow

commit f1d6c7db860307d1a41acd7cf43eab3530891fe7
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 3 09:15:53 2018 -0700

    Remove deprecated dragging delegate method

commit 0be74cb0f8dffab28190cdb9dd71e623f54be526
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 3 09:10:23 2018 -0700

    Don't implicitly retain self, even in noescape blocks or dispatch_async blocks. This pleases xcode 9.3.

commit eecbc477ac1d5cf103b321a2aa6f11f8e643efdd
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 3 08:56:51 2018 -0700

    Use a set for metal disabled tokens. Should be faster than an array and a little more correct in case something unexpected happens

commit 4d67d24e0f503d89401bcd716e8cb5029742d5fd
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 3 08:55:49 2018 -0700

    Change how temporarily disabling metal works. Instead of using counters, keep track of tokens. This ensures correct behavior.

commit 8a45bec1ab33118303a582e599236823092fc086
Merge: f1b74f15 c8a3b66b
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 3 08:52:50 2018 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit f1b74f15d8a0d1ec8f9510859a13e19508e7d3f5
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 3 08:52:45 2018 -0700

    Update project to latest settings (weak for MRR)

commit c8a3b66bc9b9b278176e8530bf92d947ba4c94ed
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 2 22:43:53 2018 -0700

    Remove notifications after they get clicked on

commit 691a6b25b1b1dca536c9047cf8daf7844ae0e046
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 2 22:38:31 2018 -0700

    Fix failing tests. Pass the new argument to terminalAppendTabAtCursor in tests. Update goldens because the background at the top and bottom is now drawn.

commit f90a52d633711a530827c4d346e26689b67a84f8
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 2 22:25:44 2018 -0700

    Update goldens for travis. We now draw the background on the top and bottom of goldens

commit ed838af8aca2dc800a3cacab5f195bcdacb65d23
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 2 21:45:33 2018 -0700

    Add debug logging to notifications

commit 812ee6c00bab41741c4e661541c49ba1a9a3c185
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 2 21:41:27 2018 -0700

    Don't included invisible (ordered out) windows when looking for a hotkey window that will gain focus. Issue 6600

commit 1164f3a2a54216ed79f9f91a9fdee7661c203537
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 2 09:31:55 2018 -0700

    Don't use sentence case in prefs dialog for Use unicode version 9 widths

commit 172fe7574339c17be9ac8538786fa2c8939fb342
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 1 14:44:06 2018 -0700

    Set colors on cells skipped by tab when not in alternate screen mode. Issue 6592

commit c9eb2f91ef495cbdac47f9251cb93a9d982f2441
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 1 14:28:03 2018 -0700

    Track whether we the remote believes we're in alternate screen mode, regardless of whether it was disabled on the client.

commit 21de4e4f4dffcdeb32b8cee08ede678ef2b1b89f
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 1 14:13:20 2018 -0700

    If a tmux session closes and is configured to prompt only if jobs not on a whitelist are running, it must prompt because tmux does not expose the process hierarchy. Issue 6607

commit e8d699ad5f7b04b2222ffdfb123a977d8b5986f1
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 1 11:56:27 2018 -0700

    Add a macro to simplify turning on advanced settings for beta users. Also turn on the modern scroll accumulator for beta users

commit a45c4e56babeaff29c2e1f3a98e2113d60434882
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 1 11:56:06 2018 -0700

    Use scrollingDeltaY for wheel mice. It seems to work well.

commit efb33befc72379f92778f79686f5a207c6235a88
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 1 11:36:36 2018 -0700

    Defer updating the number of lines of scrollback when you edit the text field until the text field loses keyboard focus. Makes it possible to go from 100->5000 without losing everything. Issue 6606

commit 51e09893f6a62745fafe72aee89d6e0f19147192
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 1 11:08:48 2018 -0700

    Get rid of legacy NSSavePanel code and use the modern APIs directly. Add a way to set the save panel's directory on first use but then remember where the user put it from then on. Issue 6605

commit 916e68166c511fcc0d3570bd356af05067c1b24d
Merge: 4fd7f621 6c70dda5
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 1 10:31:07 2018 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 6c70dda546017901337070bfb172a62269c0122a
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 31 21:39:26 2018 -0700

    Change the default top/bottom margin to 5 points.
    
    This is going to be unpopular, and if you're reading this in anger, I'm sorry.
    I think it looks good, but it messes up some people's existing setups, which is
    a shame. You can change it back to 2 in advanced settings > height of top and
    bottom margins in terminal panes, but doing so will disable the Metal renderer.
    
    The reason is this:
    
    On macOS, a Metal view can overlap its window's rounded corners. It looks
    terrible, and is made especially obvious because Metal is switched on and off
    all the time because MTKView is the leakiest abstraction ever.
    
    There are three possible solutions.
    
    1. Put the root view in a layer. This is a no-go because it almost halves the
    frame rate.
    
    2. Make the metal view's CAMetalLayer non-opaque and cut out the corners. This
    is a no-go because it also almost halves the frame rate.
    
    2. Do this.

commit 267f1dab2a67b15e4b0d64108c2a5a138cefbd9a
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 31 16:57:24 2018 -0700

    Fix right margin gutter width computation. It was too large by the size of the left margin causing the default background color to be double drawn. It's visible when there's a background image

commit 9c535bc30ff40dff797d16e94d96a77ea141effc
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 31 16:56:29 2018 -0700

    Sometimes CGImageGetWidth/Height returns an insanely large value. Don't create textures larger than 4k pixels wide/tall because the GPU will barf

commit a2b68dc62d174113fba6c8a099a85d2e63567779
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 31 16:11:56 2018 -0700

    Improve label for render encoder

commit 1c4cb3fc1c6f734616f9e0d8c7cbb95d8af9a860
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Mar 30 22:13:11 2018 -0700

    Add 'pretty ascii overlap' to make overlapping ASCII glyphs look nicer. Requires the use of a temporary texture but the performance hit was very small on my MBP.

commit fa204c8a6cf1a43a7a0ce21fa8716140c7ba71ea
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Mar 30 21:20:09 2018 -0700

    Enable an optional temporary texture to avoid rendering directly to the drawable in the hope this could make a non-opaque metal layer fast. But it is still dog slow.

commit dc09977b1de53dff3d8edc9ce7e4749d5cfada48
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Mar 30 17:55:10 2018 -0700

    Move creation of render encoders into frame data

commit 8d7f3d741da5a5801ddf3a6a767c00c010299ede
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Mar 30 17:05:26 2018 -0700

    Pass frame data instead of render encoders to renderers' draw methods so they can eventually change the render encoder

commit 4fd7f6219c1efba4d01b5efd9815f7d139e13cb2
Merge: d586360d 14503579
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Mar 30 11:47:29 2018 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 34d5865169d87458bfd435919ec13bb41d653a41
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Mar 30 11:06:11 2018 -0700

    Clean up metal driver init interface to not take a view

commit b7a411c729070a8b03edddf4b3a9e26c1ed4efd0
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Mar 30 11:03:09 2018 -0700

    Don't retry drawing a metal frame while temporarily disabled if the generation has changed

commit 14503579ce5e93ddfeb3d11eb5339e18791298e7
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Mar 30 10:55:38 2018 -0700

    Revert corner-cutting code. It killed performance (gpu time went from 10ms to 30ms on my macbook pro). The culprit was making the metal layer non-opaque.

commit 51970962cc90e8bd3572f1ed717d5c2b02cae407
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Mar 30 09:41:36 2018 -0700

    When you close a hotkey window by pressing the hotkey, don't immediately restore the previously active app as had been done before this commit. Instead, check if the next window to become key (by searching through ordered windows from front to back) is a hotkey window that already had focus since the app was activated. If such a window is found, let it become key. If no such window is found, restore the previously active app. Commit ff4fe50 looks like it had a bug where it called keyHotkeyWindowController. As far as I can tell it would always return nil. The original intent was closer to what this commit did--it checked if any hotkey window was key. The original algorithm couldn't be used after ff4fe50 because we need to activate another app before doing orderOut, which is why this commit tries to guess which window will become key. Issue 6600

commit bfd6192d6fc20a16f346ee981072631f378212a6
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 29 21:09:41 2018 -0700

    Add corner masks to project

commit fe2f666c82bb9c41d86438e872cf64ceeb7dd056
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 29 21:09:15 2018 -0700

    Only cut out corners when session abuts bottom

commit 1f70fc5c7eef16c7ec0f8d0ad39eaf551f907ce3
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 29 20:58:51 2018 -0700

    Add corner mask images

commit c1352d59a184e814536c13fbca123fac74b34f1d
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 29 20:21:35 2018 -0700

    Update colorpicker framework

commit dbe3258ca8664cf15b449ef652e2328107974ba7
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 29 20:20:07 2018 -0700

    [CPK] Round colors using floor to get better approximations of the true color

commit ab0307471122ce82016d10382093631d0667090c
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 29 20:11:06 2018 -0700

    Update colorpicker framework to latest

commit bd4c59810339a05f61eed9ce0e478b8c67ecb782
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 29 20:03:12 2018 -0700

    Restore the previously key window when closing the color picker

commit 0e452775f2acd08fd0f1f65010c10be7810ede5c
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 29 19:56:37 2018 -0700

    Press any key to dismiss color picker

commit b2f1cdf8d46904fd858ae590aab88a33a1df82a0
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 29 19:41:05 2018 -0700

    Move CPKScreenshot to its own file

commit 44dc113cff7b710b709af108619392e5e2d06c0c
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 29 19:28:22 2018 -0700

    Move more code into CPKScreenshot

commit 964a512d77ea58c360feeff451f7b5fd9e450ee5
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 29 19:26:42 2018 -0700

    Grab screenshots in SRGB. Fixes a bug where the eyedropper lied

commit d482767d8d7176a222296d9bd3eaac5db9eb2f26
Merge: cd3ee724 71c164de
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 29 18:08:41 2018 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit cd3ee724bec12cfd3a72da8dde2a9899e95e9532
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 29 17:54:12 2018 -0700

    Don't decrement _metalTemporarilyDisabled if setUseMetal:NO was called after its matching increment

commit eb207582e794f5b47847487f82f2e5cf756509d9
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 29 17:52:18 2018 -0700

    Don't update the metal frame by default. When the session view's frame change, make the nonmetal view visible and wait a spin of the runloop. Then, knowing the metal view is not visible, change its frame. This fixes streching when going fullscreen and splitting a view

commit 1748d040c7cc888ba844e6f49d91c1e4cf40ac9e
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 29 16:43:14 2018 -0700

    Cut out corners of metal view so the window will have rounded corners.
    
    I had a hard time getting the mask right. A more theoretically correct one with
    varying alpha values looks worse. I suppose that's to be expected since I'm
    cheating. The content view should be drawn first and then masked by the
    window's border. But the only way to do it *right* is for the window's
    contentView to have a layer. Doing so breaks drawing (things randomly don't
    draw, or draw incorrectly, or disappear). I think they're incompatible with
    scroll views but I'm not sure. The one thing I do know is that you need to be
    an Apple employee to use layers on macOS without going crazy.

commit d66eac8fba2d4d0c738d1e19ec12f167fa66852a
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 29 13:37:59 2018 -0700

    Fix up some comments

commit 230b5e64782b7587e82abfa35126cca4e508aed9
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 29 13:35:55 2018 -0700

    Retry drawing a frame when metal aborts.

commit 15ccadb9e671755746ac0c269d7fd463cc05470a
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 29 13:33:10 2018 -0700

    Improve handling of async/sync metal drawing when it fails to draw

commit ce7555b6220f87e2f903986f6ab2ccab7ad4a485
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 29 13:03:34 2018 -0700

    When metal gets temporarily disabled because of a frame change, force an async draw to begin and reenable it. If a session iniated a size change with an escape sequence it would get temporarily disabled and never re-enabled. Issue 6593

commit 71c164de5881ac7a7be6089dbda0750a2e8e6f22
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 28 16:45:56 2018 -0700

    Change bwColor_in in RemapColor to a float4 since it can take values much larger than a half4 can precisely represent. Issue 6576

commit 8a6779d8be00d9fc05a0bb0f0a1286af12d12df1
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 28 11:58:23 2018 -0700

    [Metal] Use unprocessed background code when computing processed text color.

commit 4db702b96bc5fd290966df9077965e6f446ca0c9
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 28 11:56:38 2018 -0700

    Fix colorDimmedBy:towardsGrayLevel: to preserve color space. This will modify the dimmed colors users see, but makes it possible to keep metal and nonmetal colors the same since metal wants everything to be srgb

commit d586360d992cfe38348dc7477183f3eba0b1f0b2
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 28 09:51:05 2018 -0700

    Don't allow windows to be moved by dragging with cmd-opt-shift-drag if they are fullscreen or attached to an edge of the display

commit f547274e2cb4a7451e60b4cbadaacfe925d30267
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 28 09:46:13 2018 -0700

    Fix a bug: when dragging a session onto itelf in a window with split panes, we moved the window. It should do nothing. If you drag a session onto itself in a window WITHOUT split panes the window should move.

commit 6a1e1581147fa5140fc03d4a1b8628c9bcd6901c
Merge: 64b9eb31 a81e2d22
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 28 09:52:13 2018 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit a81e2d225a336f5d2b2937a19f07f16f0b8b58d4
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Mar 27 10:03:21 2018 -0700

    Fix wrong window getting made key when cmd-tabbing into iTerm2 when focus follows mouse is on. Turns out reverseObjectEnumerator was not the right thing to use--we just need to wait a spin so the OS can fix the window order.

commit 64b9eb31fd6455dcbbfca48b6146bb4317628bd3
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Mar 27 09:38:27 2018 -0700

    Add a sad comment

commit 8aff99762a978b12024893d6adbd96337aa48e35
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Mar 27 09:37:41 2018 -0700

    When the app becomes active and focus follows mouse is enabled, search windows in front-to-back order until you find one the mouse is over. Make that key and order it front. There was a break statement in the wrong place that would cause it to stop searching as soon as it found any terminal window even if the mouse wasn't over it

commit 72c49805aade23c6820390fae2f27a0c9996171b
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Mar 26 22:24:15 2018 -0700

    Fix a bug where focus follows mouse would raise a window obscured by another if the mouse was moved while iTerm2 wasn't active and then was activated. Issue 6442 (Steve's comments)

commit da89ff39e9364f0ad5bba9001511edbad1b79e16
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Mar 26 09:56:25 2018 -0700

    Move scroll wheel accumulation into its own class. Rewrite it to be more sensible and to behave better when momentum scrolling. The new algorithm is similar to OpenJDK's. I still need to test this on a scroll wheel mouse so it's off by default. Also apply it to mouse reporting. Issue 6534.

commit 1ea84de2ef23d70a69ec5403ff88b2a29173a046
Merge: 025795bb 4d54d77e
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 22 10:14:11 2018 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 025795bbb77cb09a56205e78d24d8f9f58fa742c
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 22 10:14:06 2018 -0700

    Forward copy and paste methods from popup windows to the 'real' first responder. Issue 6585

commit 4d54d77ee790ca24c0b0b6bb2c8187e7011e2e43
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 21 22:37:49 2018 -0700

    Add proportional scrollwheel mouse reporting. Issue 6534

commit 870a84c07b4c946e78c7ea72097f7d8b1318a2b7
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 21 11:07:43 2018 -0700

    Only write subpixel debug info once, rather than once per draw

commit acd9d5b269956b898fa75330721c432aeedfbb02
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 21 10:56:34 2018 -0700

    Save data that contributes to subpixel model in framecap

commit 3da26ca1cd8ee1d727a059c044da6d0e2179c5dd
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 21 10:56:12 2018 -0700

    Fix a bug in converting 1 byte per pixel to 4 bytes per pixel

commit 17b087cbb66ed99d4565dcbb28788fd0bfd6e0f8
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Mar 20 23:09:28 2018 -0700

    [Metal] Fix bugs in vertical position of text and marks when there's extra vertical spacing. Issue 6583

commit 3602420e87f94a046df218a1f2e29d0ef2ba835a
Merge: 2aa3add6 d15057f0
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 18 22:32:11 2018 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 2aa3add6571d4b453b36401e417f5dab274118cf
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 18 22:32:01 2018 -0700

    Make restorable sessions (used by buried sessions and undo) remember the window type so it can be restored if a new window must be created. Issue 6582

commit d15057f027390c24bdd6e7455117e2c946a8f920
Merge: 0078ee64 e3e2fb71
Author: George Nachman <gnachman+github@gmail.com>
Date:   Sun Mar 18 21:44:11 2018 -0700

    Merge pull request #354 from tessarin/native-notifications
    
    Add an advanced setting (on by default for beta) to use macOS's notification APIs rather than going through growl. This can be switched on in release by default if feedback is positive.

commit e3e2fb71549629231057fd4b8c9a04a39c7cbbc0
Author: Cesar Tessarin <cesar.tessarin@gmail.com>
Date:   Sun Mar 18 23:24:33 2018 -0300

    Implement native notifications
    
    The advanced setting which disables Growl is checked and if true, the
    notification will be sent to NSUserNotificationCenter directly.
    
    This controller is also set as the NSUserNotificationCenter delegate, and
    implements methods to guarantee that the notification is shown and to react
    accordingly if the user activates (clicks) the notification.
    
    The delegate method growlNotificationWasClicked: is now redirected to the new
    notificationWasClicked: method which does the same job of activating the
    corresponding view. It is also used by the native notification center
    delegate.

commit 41165112050a78800aa584846e3832edfb564cc5
Author: Cesar Tessarin <cesar.tessarin@gmail.com>
Date:   Sun Mar 18 22:36:08 2018 -0300

    Update iTermNotificationController description

commit b7f34df0a791958275e209aaea0a02646165e869
Author: Cesar Tessarin <cesar.tessarin@gmail.com>
Date:   Sun Mar 18 22:32:41 2018 -0300

    Rename `growlNotify:` methods to `notify:`

commit 6f53c09bb86ee8e6d1e8106bb1bbc7afb2c1c6f4
Author: Cesar Tessarin <cesar.tessarin@gmail.com>
Date:   Sun Mar 18 15:39:17 2018 -0300

    Rename iTermGrowlDelegate class
    
    Renamed to `iTermNotificationController`.

commit 27b659311422d37904b4a3c9ce8f81a20cc267df
Author: Cesar Tessarin <cesar.tessarin@gmail.com>
Date:   Sun Mar 18 15:21:31 2018 -0300

    Add advanced setting to disable Growl
    
    This option will control whether notifications are derived to Notification
    Center directly or to Growl (which in modern systems usually just forwards
    them).
    
    Delivering notifications directly allows better customization and enables
    sound alerts.

commit 0078ee645077b780d043d7242e0a6f892e9c9e8a
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 18 14:23:29 2018 -0700

    Update testMark golden for travis

commit 3dfac467e17c2f6de7dfe354459630a0b1d0f756
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 18 11:22:33 2018 -0700

    Fix a bug where scale was wrongly interpreted in the metal badge renderer causing it to only show part of the badge. Issue 6527

commit 65a7569e8156fab282798ad1489c385164e1842e
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 18 10:22:16 2018 -0700

    Fix metal frame capture. Save b&w color model data in framecap for issue 6576

commit faa537b771176889b6e2bb32d9923020c63d1870
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 17 17:04:46 2018 -0700

    Bump up the bottom of marks by up to three points, as it was before tweaking it to match Metal. The tests on Travis will still be broken because of a half point offset but I can safely accept the next golden it produces.

commit fb71690a34138e7961c7308e8f0492f82cfe8899
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 17 15:18:49 2018 -0700

    Fix a bug where the text color mode was not used when checking if the text color in a run changed in Metal. Issue 6539

commit 526313a3a0ba20e6a224102af4a4ba6d336dc38d
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 17 14:42:15 2018 -0700

    Fix a bug where the metal renderer wouldn't draw enough right margin. Use the plist in issue 6571 to reproduce. Somehow the right gutter is the same as a cell's width, which is a bug in computing the grid size.

commit 8d92dd6e05f7b9b680465ccd24dc4a1ef598931b
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 17 14:32:08 2018 -0700

    Respect 'open tmux windows as tabs in existing window' for windows created with 'tmux new-window'. Issue 6571

commit 4ea7e49d2fc650eca29c30e5aca055995c7413db
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 17 14:08:33 2018 -0700

    Fix some races found by tsan in the hopes of fixing the mysterious crash introduced on 3/12

commit e096717fd158e253737525f20b50e05914f4a0dd
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 17 13:10:36 2018 -0700

    Turn off disable metal when idle to see if it's responsible for the spike in crashes starting on 3-12-18. Issue 6579

commit a0d379b04b5a5c19590f867452ea83a7938ce31d
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 14 22:27:52 2018 -0700

    Fix a deadlock when draw doesn't do anything

commit 1953c39ada5b1c09191d12b96a160bcdb934c426
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 14 22:09:20 2018 -0700

    Save tState.disableIndividualColorModels to state.txt

commit e5d914c278c8d468d2002ef98a5f49e21de2ec95
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 14 22:08:09 2018 -0700

    Always time drawing. It's not that expensive.

commit 351f0bc1d6fbdb7ed38560ea822afd720dca1431
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Mar 13 23:50:09 2018 -0700

    Improve metal performance when there are a lot of combinations of text and background color. See mar 13 comment in issue 5963

commit 6294a903f3e80890c77de9a9aa700c6ec358a8f2
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Mar 13 22:12:15 2018 -0700

    Make metal-drawn marks look _almost_ the same as traditional marks. The remaining differences have to do with bezier path craziness.

commit e33dcb471763ac12810fccd575e56866bf452782
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Mar 13 10:16:40 2018 -0700

    Make double underlines look the same in metal and nonmetal. This required moving the underline up in nonmetal by the line thickness.

commit 4fc6cab1af9f9f6803f32242d9475720e6586d5b
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Mar 13 09:49:18 2018 -0700

    Turn off metal when showing hover URL

commit e421b111ea7f2b4af98f0d791c7af9e64d1824da
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Mar 13 09:49:11 2018 -0700

    Draw underlined spaces for osc 8

commit 775b1c673441468fbf16718d37c05ae8f04a4d4c
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Mar 13 00:10:04 2018 -0700

    Perform bilinear interpolation on subpixel color models using a texture sampler.
    
    I was inspired to change it when I noticed my code was producing the wrong results. For example, with black text on a background of color (78, 120, 133) there would be ugly brown fringes around text. I never did figure out why--looks like it was a rounding error somehwere--but this code is faster AND more correct.

commit dbdc973de00180b59038360225d188968e84f70c
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Mar 12 23:50:32 2018 -0700

    Fix off by one error in drawing fps meter

commit dc7455e22865266dad2220be159af011cf4399ee
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Mar 12 23:50:21 2018 -0700

    Draw cursor guide before text

commit 5fc3609f8284127dce5834b55100a73f77b7096c
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Mar 12 21:37:43 2018 -0700

    Fix a bug where turning on metal briefly causes a slightly old frame to be displayed

commit 0b93f27a61a7710ba2955913c5bb252f19ed2d60
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 11 15:04:15 2018 -0700

    Reject three finger tap if the number of touches goes down before reaching 3. Issue 6456

commit 6533f55dd0a636407abc085a157bc18a7ef1c3e8
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 11 14:44:47 2018 -0700

    Fix failing tests

commit 3138059abb6b6a0e0c0eda51718466d4f0a34a55
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 11 14:44:43 2018 -0700

    Open finder window to metal framecap

commit 21f7c39f5805005fe55a5ae88c5300d6724da71c
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 11 14:30:52 2018 -0700

    Make it possible to capture a metal frame when idle. Turn metal on just to get the capture

commit ae76817b3a7b7db989719333abad82474810b06f
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 11 14:16:15 2018 -0700

    Log screen chars in metal frame capture

commit 31ce6ddad6f87c071a4745113073e46325a2ce59
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 11 13:48:32 2018 -0700

    Turn metal renderer on when scrolling even when idle

commit f6be133baa45bd6ec50b2f1ae4ee964f2a3db803
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 11 13:27:47 2018 -0700

    Disable metal renderer when idle. Gated by an advanced pref. Issue 6530

commit 90e269f3d1e3b5682ccee57e444a967f294538e3
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 11 12:17:56 2018 -0700

    Fix the fps meter

commit 0d1949589c9dad4b7a8448e05b798405274a4dd7
Merge: 982f007d 18425960
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 11 11:52:17 2018 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 982f007d7d3e257d3a5f64a54ad70381842f2c97
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 11 11:51:47 2018 -0700

    Make width of vertical bar cursor respect advanced pref, and also respect display scale. Issue 6525

commit 18425960e0675dbe05760358966e74cbf8903c99
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 10 16:06:34 2018 -0800

    When duplicating a profile turn off the hotkey window so you don't end up with two that have the same hotkey. Proposed in issue 6561

commit 8084d6b2611ca12eec25685e21626ecacaaa91be
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 10 15:30:57 2018 -0800

    Don't make a window key and ordered front unless the mouse is over it when the app becomes active. Issue 6442.

commit b4e7b28216a3f3c0e780fa1d8e727418cc4cb1a4
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 10 15:01:03 2018 -0800

    Fix a bug where the metal driver used _columns instead of getting the grid size from framedata. It caused out of bounds reads when a window changes sizes. Caught by address sanitizer.

commit 6ba4353ccae0e60a89f8bf75362526234794909b
Merge: fedef9ae 646363ea
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 4 12:13:24 2018 -0800

    Merge branch 'fix-6550' of https://github.com/mspasov/iTerm2 into mspasov-fix-6550
    
    I added some formatting and naming changes.
    
    Conflicts:
            sources/iTermPowerManager.m

commit fedef9ae48a686c37be98736a30e7de93a6eb5b4
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 4 11:59:30 2018 -0800

    Fix iTermPowerManager's broken singleton accessor. Issue 6550

commit 631a6cb9bbe9304f51cdb6ed92f10db760b939b4
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 4 11:52:51 2018 -0800

    Deselect captured output when the buffer is cleared. Reset the last mark and deselect in command history. Issue 6552

commit d73992b3f0797a325d4d292e059be8a98ee0e209
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 4 11:01:06 2018 -0800

    Warn when minimum contrast is over 97 percent so people don't get confused about why text is black and white

commit b00e8cc86473fc421f9376bc20c13637ce691f86
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 3 18:16:24 2018 -0800

    Replace dots with underscores in cask version

commit 018a3fafc8033aa8622819b9c8192681afdaae44
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 3 18:12:54 2018 -0800

    Invoke cask-repair after building a nightly build. https://github.com/caskroom/homebrew-versions/issues/5228#issuecomment-366506481

commit 646363ea2ad3c6d58d8ca6b4c7d57781154f8e24
Author: Martin Spasov <mspasov@gmail.com>
Date:   Fri Mar 2 01:36:04 2018 +0200

    Fixes singleton, refactor power monitoring mode
    
    Fixes singleton implementation of the power manager instance (bug #6550)
    Changes the way power status is monitored to a more optimal callback
    when power source has been changed to a limited power source
    (IOPSCreateLimitedPowerNotification)

commit 082a4c09e4cd776aa62a977d5fdc33d85f66d231
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Feb 28 22:12:59 2018 -0800

    Redraw aggressively on scroll in metal renderer. Issue 6531

commit 95d9f3988d18867b6d4c91205b069802a9927343
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Feb 27 20:42:15 2018 -0800

    Bound the number of empty lines a lineblock can hold to 10k. Should improve performance of session restoration for users who have a lot of empty lines. Issue 6509

commit 5f36b9ccf6439656069bdbaefce68d49d453622d
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Feb 23 16:59:59 2018 -0800

    Fix a bug where timestamps would get stuck on

commit 105e28b4fa5eb438975df7163043761b19a72fe5
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Feb 23 16:46:07 2018 -0800

    Disable metal by default when not connected to power. It makes discrete GPUs turn on. Can be overridden with an advanced pref. Number of frames in flight will always be 3.

commit 64f80a4fcf9dc2bf33861d50ca47f23d44a5e82c
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Feb 20 22:11:10 2018 -0800

    Image cells were not always considered drawable when their code was less than 32. The test for drawable never included a test for the image flag, which it should have. This was made worse by commit 245fa031782d6d5a4b54bc1967e3b31f389179a5 which marked control characters as undrawable. Issue 6523

commit 8a42e50b907a9333f2421326853b5dc0a268c4ce
Author: msvticket <Marten.Svantesson@ticket.se>
Date:   Mon Feb 12 17:19:58 2018 +0100

    Add F21-F24 to Touch Bar
    
    Some hinky games played with virtual keycodes that Apple doesn't define. You can't use F21-24 as hotkeys (they won't get routed to shortcut inputs, and without a virtual key code you definitely can't register a carbon hotkey handler for them, although that's broken for the touch bar anyway).

commit 12ee27a7a6ec4e5bad14242ad71c7bd786172fcf
Merge: 55e4052a cde000ef
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Feb 13 22:15:35 2018 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 55e4052a025ac72aebb40bd814bf25d8cb05d934
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Feb 13 22:15:06 2018 -0800

    fix signing crap

commit d14fa9c9105c98f21a1b28c072c7b1ac9fd327f6
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Feb 13 22:11:36 2018 -0800

    Fix search code to avoid subtracting from a NSUInteger that's 0. Curse unsigned integers. This caused issue 6503 because a regex query of $ matched an empty line and the location underflowed to 2^64-1. That created a crazy result range which failed to convert properly and hit an assertion. This commit also changes the assertion to a critical error with lots of useful info.

commit cde000ef31f9036110c501686cbcc4cf3f947a85
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 12 22:31:35 2018 -0800

    Fix a few bugs in inline images in Metal. The code wasn't set so only the first image ever showed. Asynchronously loaded images never got their textures rebuilt. Use an associated object to mark gray missing-image-info textures as temporary so they can be rebuilt when the image is available.

commit 2fecae9a08109b2662ee8639c479a750b9530ac5
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 12 22:13:13 2018 -0800

    Fix stupid signing stuff

commit b2c9a76b8b5a9e8557a0994690aec33472f3a74b
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 12 22:10:48 2018 -0800

    Update goldens for Travis. The meaningful changes are some trivial text rendering diffs, different unicode version defaults because travis is stuck on 10.12 causing emoji to overlap in the golden tests, and an alignment change for timestamps

commit 1afa01c7cefbc3d4b577ae8a173124df9e09e123
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 12 10:30:02 2018 -0800

    Change osx to use xcode 9.2. 9.3beta is totally broken

commit f48df570a81f115ebd8d120dfd8a8a02240e6bd0
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 12 10:25:03 2018 -0800

    Update travis to xcode 9.3 beta so we get macOS 10.13 which renders some text a hair differently. This should help the golden tests

commit 39360cc2808445a17a9a09839b84e6cb94f425f8
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 12 10:08:13 2018 -0800

    Give dropbox uploader another argument. upload takes 2 args

commit 2baa33253f8c4d2809774a4826abce91870daa78
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 12 09:01:16 2018 -0800

    Fix path to dropbox uploader input

commit 6840333f9f57d6612950b2a45071420439bab9bb
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 11 22:08:51 2018 -0800

    Switch back to automatic signing

commit ba95f8580bf55728c570075ed69bae6e9e7119df
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 11 20:39:07 2018 -0800

    Fix path to dropbox uploader

commit d84d7e74a69f702a5ee0987a45c3fad417d6e754
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 11 15:31:31 2018 -0800

    Add encrypted dropbox uploader config

commit d4604ad55a92a036a82b0848bfc31cea4405e434
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 11 12:18:38 2018 -0800

    Adjust how we show tabs when any tab is colored. Reduce brightness of text (makes the selected one really pop) and reduce the alpha of the ugly outline

commit cf26ed13a0dbf669e3be28bbbb6e6e0887149c80
Merge: d9e7a9a7 f8a5930b
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 11 11:20:33 2018 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit d9e7a9a7905f478faf40540106149f2eaa0b8f97
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 11 11:18:18 2018 -0800

    Have travis copy build artificats to dropbox instead of spewing base64 to its logs

commit f8a5930b5c47fa6420f423fcb33320029abdcd5b
Merge: 09144b3f 61d8125e
Author: George Nachman <gnachman+github@gmail.com>
Date:   Sun Feb 11 11:01:16 2018 -0800

    Merge pull request #351 from adamnemecek/master
    
    Trimm whitespace (except in third party)

commit 09144b3febd7167fc492d8ae729f14ed1cb02707
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 11 10:59:06 2018 -0800

    Log whether metal is enabled in PTYSession's description

commit ebaf30e26eeeb6e17f0551c22a16fa759e84356d
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 11 10:58:33 2018 -0800

    Turn on metal by default for nightly and beta users

commit 61d8125e56d15b5d18c349955fddb71371c09cc8
Author: Adam Nemecek <adamnemecek@gmail.com>
Date:   Sun Feb 11 10:31:50 2018 -0800

    * trimmed whitespace (except in third party)

commit d1f9eff3d3daf34f635343aab6e42810eeb0bfa2
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 11 10:04:39 2018 -0800

    Accept double-backslash in a trigger action as an escaped single backslash. Before it was hard to send a single backslash. This was brought up on the mailing list in a thread with subject 'Set my prompt on remote hosts'

commit 68d4afee1a192e16e2137cd056a8cff523eb6847
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 11 09:34:37 2018 -0800

    3.1.6beta3

commit 578a430870ce091b4310f398b9123d18dbb9a7ab
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 10 22:43:40 2018 -0800

    Make it possible to disable middle click closes tab with a new advanced setting. Useful for accessibility. See email with subject line 'Fwd: gnome-terminal'

commit 91c7827c93745110a713ec582c7397a4339920dc
Merge: 9e56b604 68e62939
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 10 22:18:23 2018 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 9e56b604f59875a66eab3ce0f8751d9271b9d68d
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 10 22:17:59 2018 -0800

    Add an advanced setting to allow tabs to wrap. Issue 6488

commit 68e6293962f970344ee06fddd61e35597572bdeb
Merge: 03b2a5a6 5c6de386
Author: George Nachman <gnachman+github@gmail.com>
Date:   Sat Feb 10 16:24:46 2018 -0800

    Merge pull request #350 from gj/patch-1
    
    Fix typo

commit 5c6de38645472166e004bd6e815196221e446a76
Author: Gabe Jackson <gj@mail.co.de>
Date:   Fri Feb 9 21:51:08 2018 -0500

    Fix typo

commit 03b2a5a681fb8488cc6775c2588bf71128d30382
Author: George Nachman <gnachman@Georges-MacBook-Pro.local>
Date:   Thu Feb 8 23:40:58 2018 -0800

    Turn off metal when the paste view or the find view are open because macOS can't reliably composite other NSViews over the metal view.

commit 3dd9d8dcb8f074f7f06d0823f3e9195088bb8ce4
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Feb 8 22:15:40 2018 -0800

    When you have selected 'Open tmux windows as tabs in existing window' that used to prevent you from opening tmux windows as windows (e.g., with cmd-n). I don't think that was ever what I intended to do. That setting was meant to control what happens when you attach to a tmux session and there are windows iTerm2 has never seen before. This commit changes the behavior of the window opener to bind new windows to the gateway's window only for the initial opening period, and otherwise the user's intent of creating a window vs tab is respected.

commit c021570ad5ac6fecd3945e817e1a59ceb1db657b
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Feb 7 23:35:37 2018 -0800

    Fix a bunch of races where shared data in iTermMetalDriver was written in the main queue and read in the private queue. Fixes a problem where new tmux windows rendered all wrong.

commit 81d47e38017f2c1b81df89502dacfb1cde2e00f8
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Feb 7 21:49:16 2018 -0800

    Fix a bug where fake bold was broken in the Metal renderer.

commit 0053d31fef0944dd70c6ff668c6b35525c71d71b
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Feb 7 21:34:00 2018 -0800

    Turn off the metal renderer when resizing a view. Turn it back on again after the renderer produces a frame with the right geometry.

commit 182094d50d8e9e3279951ad5378c6360047b5ce4
Merge: 7b814b41 8efd7e48
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Feb 7 21:13:52 2018 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 8efd7e4856ebe0dd05a2bfcf5c1e311c9e692499
Merge: bafbe0df b8abf0ae
Author: George Nachman <gnachman+github@gmail.com>
Date:   Wed Feb 7 13:32:47 2018 -0800

    Merge pull request #349 from brads55/master
    
    Add advanced setting to prevent selecting an adjacent pane from wrapping around the edge.

commit b8abf0ae3fe4b1b34c7cd2f52a141132e4aeb32e
Author: Bradley Smith <brad@brad-smith.co.uk>
Date:   Wed Feb 7 17:56:17 2018 +0000

    Add advanced setting preventing directional focus from wrapping

commit 7b814b416d1c7bd3367367fc14ebdf15531a3536
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Feb 6 23:01:31 2018 -0800

    Try to catch a crash where smart selection calls rangeForWordAt: with a negative Y location

commit 1c6f47d43792bf66bac7a58209878a7b85d6eaef
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Feb 6 22:53:48 2018 -0800

    Fix a crash when a trigger's message text is nil

commit bafbe0dfe46b932c7cdcb668f8cbc34e401a6983
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Feb 6 22:38:22 2018 -0800

    Prevent histograms from having more than 256 buckets to avoid hangs like issue 6491.

commit 7260fc80aba6d6d776b4ebcbc5c59eef2dfc5d3e
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 5 22:42:03 2018 -0800

    Update metal driver on scale change. Issue 6489
    
    Also, redraw sessions after changing screens in case scale changed.

commit 549da80cb73f210c3a8299102846f61c5f0f4015
Merge: 4b038f88 74ffb9b6
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Feb 6 22:00:35 2018 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 74ffb9b64ce4ad2f982324e0f6ee8ead27c5fca5
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 5 23:12:05 2018 -0800

    Tie metal availability to ligatures enabled properly. A couple conditions, such as whether the nonascii font is enabled or the ascii font has ligatures available were not taken into consideration, and it wasn't updated often enough to catch all cases of enabling/disabling them. Issue 6486

commit 438f69b5a4d5af129e60c7729de31254169750f3
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 4 22:51:00 2018 -0800

    Fix some memory leaks. Issue 6478

commit 505a8a5fb48dc2167ac3e1a98a8ea7caae846f41
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 4 21:06:25 2018 -0800

    Fix a bug where the Metal renderer didn't identify emoji correctly. I'm not sure why the family name sometimes has spaces and sometimes doesn't. Was able to repro on a 10.12.6 machine. Issue 6471 (hopefully)

commit 4b038f885e446648c36e6131ec682946e616fcaf
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 4 11:38:44 2018 -0800

    Add libc++ to linker args for Beta target

commit f8df6c3412209d9f0632a3c35beb88bb7cfeb8e8
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 4 11:33:51 2018 -0800

    Fix a bug where timestamps weren't properly rendered in golden test. Update the golden for left-aligned timestamps

commit 9b98d1771368e29591c3692fd40d6818643753fd
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 4 11:20:48 2018 -0800

    Update goldens for new default double-width unicode 9 width tables; update goldens for trivial font changes; add missing delegate method in PTYTextViewTest that caused failures

commit ac90ea39f18e412e2ada1855dd7f8106ab2cf95b
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 4 10:43:49 2018 -0800

    Log malformed text

commit d96ede684ad4779ebd949496cd42111e44dafe05
Merge: 114810da 0b9a0dff
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 4 10:07:34 2018 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 114810daba9fd8592158f3e0ed0ceb831dfd8569
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 4 10:06:41 2018 -0800

    Allow focus follows mouse to select non-hotkey windows when a hotkey window has focus provided it's not an auto-hiding hotkey window

commit 0b9a0dff5c43a4b22188a3c3c39cdc99822ca64c
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 3 23:10:34 2018 -0800

    Disable metal while resizing splits

commit 56e14067f581db4dc37affde37907838a505d95b
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 3 22:53:56 2018 -0800

    Disable metal renderer while window size is changing because of live resize, entering/exiting fullscreen, or using standard frame

commit 382f834154b27fc0d3b5f6fa6c6a4c885f131ad8
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Feb 2 22:53:08 2018 -0800

    Draw margins after background image. Modify alpha of margin color when a background image is present. Issue 6481

commit b5c92ab340cb0a1efe449ba9a425cb73ee157bc1
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Feb 2 22:38:23 2018 -0800

    Fix the margins to used the processed default background color so they get dimming in the metal renderer. Issue 6476

commit 9cc4fa0a1b2440c4c5bb655899df10cd0f9280b8
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Feb 2 22:36:56 2018 -0800

    Each metal session has its own queue, which means there's concurrent access to shard data like the supbixel model builder. Synchronize access to it. Since it mostly returns cached values it was hard to hit the race condition, but having split panes where one is very chatty did it.

commit 0e63695948f9f57cc486cfdbc88d3b7dda45a4b8
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Feb 2 22:20:08 2018 -0800

    The last commit broke non-emoji characters because it overwrote the context's text color. Set it after filling the background.

commit a83353e6f109da438b596cac4186da24e64e6361
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Feb 2 22:06:43 2018 -0800

    Fix a bug where emoji was not properly detected in the Metal renderer, which broke non-emoji characters that were misdetected. Issue 6473

commit 76cc3b987ff9d20a0263cee3f2b45b85ff931769
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Feb 2 21:54:06 2018 -0800

    Fix bug that broke drawing complex characters

commit 2ce88dfcd2b3836a2c07483fa75e3b58c8438983
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Feb 2 21:16:03 2018 -0800

    Revert "Force PIUs to fit in 64k to try to avoid the weird stuff going on in issue 6453. I'm sure this isn't the right fix for this issue, but I'm at a loss as to what the real cause might be."
    
    This reverts commit 543160b313aa77881f73f89d40fb85a913b8036b.

commit 6a7c1db43df4162da2325acace4c50cfc2331b65
Merge: b81032fd 543160b3
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Feb 2 21:15:44 2018 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit b81032fdb4969ebe9a17a6ba4388a71fd43878b1
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Feb 2 21:15:35 2018 -0800

    Change potentially large uniforms passed to vertex shaders to device address spaces. Apparently some NVidia GPUs silently truncate constant buffers to 64k. It's a pity Apple didn't see fit to document this. How the heck are people supposed to figure this stuff out? I mean, really! FFS! ARGH! At any rate, this is a nicer fix for issue 6453.

commit b8839168504fbdc550b2cc3b46bc149e4f6283f2
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Feb 2 21:12:23 2018 -0800

    Rename pius.txt to non-ascii-pius.txt in captured metal frames

commit 505b9a71e0e0c4befb750a15c2ac85127d69bb5c
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Feb 2 21:12:02 2018 -0800

    Fix formatting of description.txt in captured frame

commit 543160b313aa77881f73f89d40fb85a913b8036b
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Feb 1 23:22:20 2018 -0800

    Force PIUs to fit in 64k to try to avoid the weird stuff going on in issue 6453. I'm sure this isn't the right fix for this issue, but I'm at a loss as to what the real cause might be.

commit 16e39bca40bb8d5e035e3abd694ca46a8f02dda0
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Feb 1 21:18:27 2018 -0800

    Use upper_bounds to find the background color RLE that contains a fixup.

commit 78daa4cc4d8636d4ca8887f492b29d0a4b0b45dc
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Feb 1 21:13:32 2018 -0800

    Adjust length of background RLE data so we don't search bogus data when handling fixups

commit ca506d769b85410f7a0bbf34ea8f3a659a5c01f3
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Feb 1 09:15:26 2018 -0800

    Show only geometry in window title during resize when it is narrow. Issue 6434

commit 79aff4d59fd591e7628649bcabe5f27541740bf6
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 31 09:29:45 2018 -0800

    Don't try to use metal on devices that don't support it. They will return nil when you try to get the system device. It's necessary to check this way to avoid turning on the high power graphics card.

commit 33776572c90dc01342e68c65fea6d4aa73004ace
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 31 09:08:46 2018 -0800

    Fix a bug where the document visible range tends to be too big. I'm not quite sure why, but perhaps because drawing the metal view happens at a bad time where things are out of sync.

commit 3f61c6157a0e97c6d19d4e7c1976adcdca141394
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 29 21:41:54 2018 -0800

    Add the ability to capture a ton of data about a frame render.
    
    Also fixes a few bugs: a misnamed advanced setting and out-of-bounds references when the cursor is beyond the right margin in the metal renderer.

commit d4a934ddb59509a19ef09e870a747fd615d6ea59
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jan 26 09:22:33 2018 -0800

    Fix Travis: Redact xcrun output because the log size exceeded 4 mb limit

commit 68f54c214b2089b9f0ff5f4dde27279dee26ade1
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jan 26 09:14:06 2018 -0800

    Disable metal while an announcement is visible. They don't composite correctly over the metal view, and it's not worth the effort to fix since that might require a performance hit.

commit bc26874be897ef109740a5ea9b724b23d7c843c0
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jan 25 22:52:21 2018 -0800

    Make the hotkey window key and front before activating the app when it is not a floating panel. This prevents non-hotkey windows from getting ordered above other apps. This was fixed for issue 4068 and then reappeared because of commit 02e75fef6b1b432c337cd08c81e01b7a8dc39a9f. Issue 4068.

commit 43fcbe4de6d93ddc8be26868c5e804a5fecf660a
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jan 25 22:29:26 2018 -0800

    Turn on unicode 9 widths for high sierra users by default (used to be just beta). Issue 5293

commit 1deabdb9127bb9f26451d8cac4a1c86ed5e27316
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jan 25 22:25:20 2018 -0800

    Fix uninitialized read

commit 1687dfacd9ee41d7ca281f82fa441e22b8a9f1a3
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jan 25 22:25:03 2018 -0800

    Show correct port number in scp error message. Issue 3800

commit 521fd8c6a5135ff7d0f68c136d41fd0980afcb51
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 24 09:46:11 2018 -0800

    Turn off logDrawingPerformance by default. It was on during Metal development

commit 729f530c190afa1855aaffe6fad9da72bd4c072d
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 22 23:53:33 2018 -0800

    Remove an unnecessary copy of screen_char_t arrays when copying from scrollback history

commit 376efc6a5be70ebd3c7aacbd524daa5e91f6173b
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 22 23:52:56 2018 -0800

    Handle missing images without crashing (Metal)

commit afa358bdb174aab7a1d423f309dc9b88761ecd5a
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 22 23:23:30 2018 -0800

    Fix mismatch of stat names to enum

commit e3e33114766470c4fd215ea347e1e4d46401a05d
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 22 23:02:55 2018 -0800

    Add some optimizations to the metal code path to reduce CPU load

commit 2a9e4baf69ca1238e25833465b6058748611d15b
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 22 22:24:15 2018 -0800

    Reduce number of frames in flight when on battery power

commit 769569efeb3678b57879885e66c24a9bae6d2678
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 21 10:29:42 2018 -0800

    Disable metal when Ligatures are enabled

commit b2e94fc67fa6c5e68f09b9cceac815fe00b20faf
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 21 10:26:22 2018 -0800

    Increase timer precision so we can hit 60 fps

commit a69a91ddbba40094d5f235151ad9ca913686cebd
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 21 10:25:52 2018 -0800

    Avoid drawRect: when using Metal

commit 9b389f28ae4a469ec93e320b3afd3ec1a609c67e
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 21 10:25:33 2018 -0800

    Fix indentation

commit 74801aa488810c08552fa82991c6ad862456f863
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 21 10:09:18 2018 -0800

    Avoid drawing the background in PTYTabView when it's not needed.

commit 9b1f35b534ea559b7c2340dedfbbd238be8472af
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 17 23:30:36 2018 -0800

    Draw a dark background on the tabview when the window appearance is dark. This makes legacy scrollers dark and makes their indicator visible (since it's expecting a dark background). Works on metal and non-metal code paths.

commit 69efdd1a4faa4834ea648995915fb201b84557ca
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 17 10:12:26 2018 -0800

    Fix legacy scrollbar in metal with dark appearance.
    
    There is some seriously weird stuff going on and I wouldn't be surprised if this were still broken. Overriding -scrollWheel: in PTYScrollView changes how scrollers render for some stupid reason. After flailing around for a while I found that this works but it might just be the mood my computer is in at the moment.

commit 55c85409383f1dfdf2245dd60863a9632b84f10d
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 15 15:19:00 2018 -0800

    Don't fiddle with the textview's alpha value. It's unclean.

commit 78486a7b2498f36d72df361d0896b685ae9b23b8
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 15 15:13:30 2018 -0800

    Remove code to put metal view in a layer backed view. It killed performance

commit 7e7f95d31164e133d7933bcbda5636d5c17b1d79
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 15 15:01:24 2018 -0800

    Change limit of frames in flight to 3

commit 691caee0eb0e5453265b1af713f07eeb9b8f57fc
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 15 14:35:34 2018 -0800

    Allow room for more text PIUs in the pool if multiple frames can be in flight

commit 59368593520ab2222549c575ff1032d729cae355
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 15 14:35:20 2018 -0800

    Fix a bug where buffer pools didn't work right for the largest size. They returned nil even when one was available because insertionIndex returns the index after the last one

commit 989d429d2d37b115f2720c67e9777aa56f00144e
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 14 11:24:00 2018 -0800

    Fix memory leaks in Metal code

commit 98d1a2a7d0a121fb6b8e0f02128f153d450ee27f
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 14 10:53:32 2018 -0800

    Keep summary stats on main queue and private queue times in metal renderer. Reset precise timers in metal driver on applicationDidBecomeActive.

commit 2d6c9be8bd23f6e65dda4f2e00d442f76f034a42
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jan 13 15:49:53 2018 -0800

    Make various improvements to metal performance stats

commit 6962e0a84af7646c134272d32ad666eeb1efce62
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jan 12 23:25:31 2018 -0800

    Fix a bug where the cursor guide jumped to first row when cursor blinks (metal).

commit 56a70f52282a23543c63a2f9b283981adde41666
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jan 12 23:23:27 2018 -0800

    Improve metal stats

commit 3c10a84600c606e1e619ddcd650ea0b00ad57a7e
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jan 12 09:15:53 2018 -0800

    Disable adaptive framerate when using Metal renderer.

commit c05a4466612d7119003e1749670c06782f10eb9c
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 10 23:36:46 2018 -0800

    Refactor per frame state initialization

commit 95bfb491000c9cd1c7a0e6194466ad68d4834879
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 10 23:32:31 2018 -0800

    Fix wrong DLog

commit d71f7293785111614e6fe98cc6874bc736ab1e9a
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 10 23:12:45 2018 -0800

    Fix flicker fixer in metal renderer

commit 2d7e781ea7388a78403377223afc91354f738da4
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 10 23:01:12 2018 -0800

    Fix a bug where the TextViewWrapper didn't draw properly when switching tabs because its useMetal flag got set to YES too early and it didn't redraw itself when useMetal got set to NO.

commit dbfdae9f50bfc3bc5ad428a958f5a6492df08ba8
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 10 22:44:20 2018 -0800

    Fix a bug where toggling the use of layers reset first responder

commit 1a571910d9e58d6593507908ab52044fba92a8fc
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 10 22:17:42 2018 -0800

    Fix a bug in tracking number of visible notes (only worked for restored notes, not newly created ones).

commit b946ab066283d4b3061c74617027d014958f2c74
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 10 22:17:28 2018 -0800

    Add higlight row to metal renderer

commit 921cfb28f3a2cd5fd0519d9a67d53d8c4e3e4078
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jan 9 22:53:34 2018 -0800

    Add support to Metal for annotations. When any noteview is visible, turn off Metal. This keeps me from going insane trying to enable NSView compositing for this silly feature.

commit c04c255b26977b5ac0041dfd18d9b053f5c1a40d
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jan 9 22:49:45 2018 -0800

    Add iTermTuple. Don't need it yet but I'm sure it'll be useful. You shouldn't really do this, but what can I say? I thought I'd need it and now it's there and I certainly don't have the time to write it again. You know what, I'm not going to defend myself. I do this for fun. So there.

commit a8171769ba772dff0f4e5e3a6e9f9eb328d13244
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jan 9 08:28:23 2018 -0800

    Add support for box drawing to Metal code path

commit 366981ebcb251061f4f51ba12397c74e2a830a39
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 8 23:51:58 2018 -0800

    Add support for inline images to Metal

commit 9f4898134bcad08cb347e7088875c6b4e08d6535
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 1 12:06:44 2018 -0800

    Histograms keep a random sample of 100 values so they can estimate percentiles. Print median and 95th percentile in logs

commit b2883f38d77146c3ad2b69c1af917319ecfdef4e
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 1 11:03:36 2018 -0800

    Turn NSLogs into ELog or DLog. Abort early if the metal view's size is 0x0

commit 5dab4abe340da11834b66fbc6809b3be2da0208c
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 1 11:00:37 2018 -0800

    Cleanup FPS meter

commit 323700fef9d5673b7846f2bd3fe10030719ed7c8
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 1 10:47:36 2018 -0800

    Make framedata.transientStates private

commit 78c2804cf1b05d6dc53da0ca9203ab0e17041320
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 1 10:44:48 2018 -0800

    Make it easier to access transient states in framedata

commit 56991462f9af7df603fdebe2cb7f1fe0c8971145
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 1 10:37:06 2018 -0800

    Big refactor of metal driver

commit 75d949cad59546d34351c75cb9d9700c501abb22
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 1 10:15:55 2018 -0800

    Fix text color of find matches

commit 9ce9cab43ff685f446df0e0462ff904f0653a1a7
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 1 10:00:03 2018 -0800

    Make the metal timestamp renderer use pooled textures. Move the texture pool code to its own file.

commit f7ffd0d002d19fc21dee43b9beedeebd377aeb01
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Dec 31 16:05:53 2017 -0800

    Add support for timestamps in Metal.

commit b5048d6b8116b170d4e7949197cd7001c5bcc345
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Dec 31 12:32:31 2017 -0800

    Refactor timestamp drawing so it's reusable by metal codepath

commit 0e308e13dc801b7328e4874bbdb822bcd14fee26
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Dec 31 11:24:36 2017 -0800

    Implement indicators and full-screen flash in Metal

commit 92723d7d32ba494811a641f4c7a40ab977b6d3d7
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 30 11:05:26 2017 -0800

    Draw cursor guide in Metal

commit e3743523a03ed99f86d3d55e1f8c3fb15217ef59
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Dec 29 16:43:42 2017 -0800

    Add support for marks to Metal renderer

commit 5e8ba743f1edb5a8592f6fbde6a2d2767ee8d08c
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Dec 29 13:38:10 2017 -0800

    Support broadcast stripes in metal. Move creation of intermediate render pass descriptor and texture into iTermMetalFrameData and out of background image since there are many renderers that could require it.

commit 1dab16982f39ed3b0390ef9dd1cf98b23136e2b6
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Dec 28 22:54:14 2017 -0800

    Clean up metal config defines

commit f2442162e174439b023f607fef17892fb8a0a013
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Dec 28 22:44:51 2017 -0800

    Remove dead code

commit 430ece40dc53fa3755ccb967ba9ce1a3a9b2de56
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Dec 28 22:36:14 2017 -0800

    Synchronize access to shared histograms

commit e9fa5a2b2ca98f4f3a023357eb775e3ddc06718b
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Dec 28 22:27:18 2017 -0800

    Marked text support for Metal

commit c51028854b3f2f000cfaab079814aa5ae16799c9
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Dec 28 18:52:13 2017 -0800

    Remove resolved todo

commit d10dfb94b9b1e3ca7df6f8a8ec577fa5ed37948c
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Dec 28 18:42:22 2017 -0800

    Refactor shouldShowCursor

commit d4cf3b4d528eaedd187a24f51c9d719affa1fa2f
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Dec 28 18:30:13 2017 -0800

    Refactor more copypasta

commit 629446835b68e03b1d40f338ac2ad031ad388753
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Dec 28 18:14:13 2017 -0800

    Refactor neighborsForCursorCoord copypasta into one

commit b1116c8521233540f2f7f93501df95298c2bb5e8
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Dec 28 18:05:22 2017 -0800

    Remove incorrect TODO

commit a346691b84ae7118d29af7708e1f7d2e9f63d8ee
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Dec 28 17:54:34 2017 -0800

    Remove incorrect todo

commit ebfce1aa84fc9089fa784d50242603fe4923e3b7
Author: George Nachman <gln@whatsapp.com>
Date:   Thu Dec 28 17:45:04 2017 -0800

    Fix cursors in metal

commit 0614348e8d8d90fdb48fe777bfa6e10024ca7d29
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Dec 27 19:54:06 2017 -0800

    Relax key window requirement

commit 983f36bcc7feb0ae7181db66a1c59fa62d3e87e2
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Dec 27 18:22:06 2017 -0800

    Fix up cursors for metal. Copy mode cursor doesn't appear for some reason.

commit ca09ec7f40e721bb9ce239c8b664c3d9b965caa4
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Dec 27 17:54:06 2017 -0800

    Remove incorrect todot

commit 245fa031782d6d5a4b54bc1967e3b31f389179a5
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Dec 27 17:53:06 2017 -0800

    Remove some copypasta

commit 01b492159b3d5df063653f87dbc8d2c5807a3f39
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Dec 27 17:48:06 2017 -0800

    Remove incorrect warning.

commit 80a449a24bbcc09d28634f24605260bf3d92bfda
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Dec 27 17:27:06 2017 -0800

    Draw badge in Metal

commit 9879015fa13c814084367219d3d752e51c5e496e
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 26 16:31:47 2017 -0800

    Remove incorrect TODO. TBH I don't know why colors are right, but they exactly match what the non-metal renderer does.

commit 583300d7b47cf0262746ae8a6e9d894bbe010fb0
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 26 16:11:08 2017 -0800

    Create an ARCified objc wrapper around iTerm2::TexturePageCollection so it can be released after the last reference is gone. This also fixes a retain cycle caused by the glyph creation block holding a strong reference to frame data. It went iTermTextRendererTransientState->iTermASCIITextureGroup->creation block->iTermFrameData->NSMutableDictionary of transient states->iTermTextRendererTransientState.

commit d3c2e71db085637a066649b7477d7ab89cc61dc6
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 26 15:44:03 2017 -0800

    Bound the size of PIU arrays by using iTerm2::PIUArray everywhere. Try to have a more disciplined reason for the max capacity of the PIU array buffer pool for the text renderer (work backwards from 100 megs, which ought to be enough for anybody).

commit c8a9f35faebde9003fee72a5a0d3f727e7b3a9fa
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 26 15:09:32 2017 -0800

    Add support for tiled background images in metal renderer

commit 073f4ab4d876b3a5414badb4f625a535570734ff
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 26 14:49:13 2017 -0800

    Background image blending is handled by adjusting the alpha value of each cell, not a global blending value on the background image renderer. Remove the vestigial property.

commit 5dcbbbc981e4f6a467e335a24047de793c0be7dc
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 26 14:40:38 2017 -0800

    Remove note to test prune code path. It works and does not leak.

commit 5f520321f85550c4336b5e9f469b5242fdf2f5ad
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 26 14:40:16 2017 -0800

    Fix some memory leaks in the metal renderer.

commit d16da2d031c7b434e691363e93440a3062ea7d38
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 26 10:59:56 2017 -0800

    Convert warning to comment

commit c8e8aef4ff6419acf2255b0d92713c929c301067
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 26 10:57:40 2017 -0800

    Draw tab view's background only when not using Metal

commit 1620eb36a5715660fb56af6953e75dcdfbb8a793
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 26 10:55:08 2017 -0800

    Draw underlined spaces in Metal renderer.

commit 04541c01bb7e5b10917be5d57e1d8be749bbf908
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 23 16:51:35 2017 -0800

    Clear stats logs when app becomes active

commit 9ffa09c41d15debeb7109933e339271a78e26a06
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 23 16:49:17 2017 -0800

    Make it easy to copy performance stats to the clipboard.

commit 68bd950e7f37a49f117915023d4cfbec005ab6ea
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 23 15:46:55 2017 -0800

    UPdate version.txt

commit 08291f876c7010770715690a9d621dab56b75acc
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 23 15:43:07 2017 -0800

    Enable private queue and disable per-frame stats

commit 495e07ff3c5e9b4c4107528254ec78d5407c3f34
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Dec 22 10:22:20 2017 -0800

    Try doing everything on the main queue to see if that improves performance on bad computers

commit d3e33ff36d27658fdb7a08edccad26fbdb112346
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Dec 22 09:28:19 2017 -0800

    Split the various parts of text renderer into their own files because it was getting too big

commit 1e9af1135b98da2427fb90c7cf9dd8adb9311e44
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Dec 22 09:09:54 2017 -0800

    Refactor C++ classes that help the text renderer into their own files

commit af616c3e49b9a5406d11fc0b98c069d9e2a524bf
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Dec 22 08:51:14 2017 -0800

    Availability fix

commit efe55034df3580d484769fc5c36d9bdddea955df
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Dec 22 08:50:28 2017 -0800

    Fix a bug where text quads were returned to the buffer pool but remained in the quad cache, causing the wrong teture coordinates to be used when two different atlas sizes existed concurrently.

commit 8573c0db1134a4097918e6be237dcb7a1d4aa82d
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Dec 21 15:52:20 2017 -0800

    Reduce the amount of work done to draw the background. When two rows have identical background colors, do it in one draw. This reduces time spent drawing the background from 8ms to <1 ms on a terrible computer.

commit ace63ee94073d61bd9a1a53f85a5c28926ce9c24
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Dec 21 09:22:43 2017 -0800

    Measure stats for number of textures created

commit 29ff15bf77d7e053af4bfc7c0d7c4205cd4be579
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Dec 20 23:18:10 2017 -0800

    Get rid of a pointless large buffer allocation

commit 694bf15af0959e3dd534a3ed52abc2348892658a
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Dec 20 23:16:33 2017 -0800

    Log buffer size histograms. Make it easy to enqueue draw calls on the main queue, but disable it by default.

commit 19c008fe139bd97c6b0cf35bc73b1d62149cb369
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Dec 20 23:06:49 2017 -0800

    Log histograms of buffer sizes and wasted space

commit ff8e75e75e8369adc50c198459a26ebea407f5b5
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Dec 20 22:49:47 2017 -0800

    Make it easy to disable a renderer

commit fa52f93245ff583b3967d36a1e9f45f17abf350a
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Dec 20 22:40:31 2017 -0800

    Measure time waiting to be scheduled on GPU

commit 9fc1440f430f95b1901fc5ae825dbfda2f2cf71e
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Dec 20 22:27:31 2017 -0800

    Refactor metal driver

commit 94f45d8d7fd905aca6b91572c48f5709a734f536
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Dec 20 22:04:02 2017 -0800

    Move enqueue draw calls into private queue. Seems to work? Makes a huge performance difference on a laptop.

commit 43a7f41dc578ae66d035974711f17c370712a7e5
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 19 21:43:24 2017 -0800

    Avoid giant allocations for PIU buffers in the background color renderer. Instead use a large number of smaller ones (up to 1024 PIUs per buffer).

commit 036c5cc63388cf4ea6b9d933e13562f6c3391488
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 19 21:42:27 2017 -0800

    fixup

commit 8bf175ee11bbe7fea9fe7672691457c8d3b1657b
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 19 21:29:09 2017 -0800

    Move PIUArray into its own file

commit b41907c41ef8fa32c81189e48a30d757bce4e776
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 19 21:28:37 2017 -0800

    Don't try to create 0-width marks when the margins are tweaked to 0

commit 4a8e9051c867bdfde970785c9bfcd599f2a5e543
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 16 17:46:39 2017 -0800

    Performance improvements for mixed size buffer pools. Avoid creating the same buffers over and over again in text renderer. Fix some warnings and todos

commit 58abe868cc4983c062d17aaab2491adc3387ba6a
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 16 16:16:15 2017 -0800

    Allow individual renderers to log per-frame stats

commit cf10cb550662bad9beebf94d33572eb9f9ba0f6e
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 16 15:16:08 2017 -0800

    Tune buffer pool capacity

commit 32fdce0090d27f14b733a93d59c32fcd70118cd6
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 16 15:01:36 2017 -0800

    Speed up creating new glyphs by copying directly from the original bitmap context that drew them rather than redrawing it in a different format. Also fixes some bugs in reference counting when purging old texture pages.

commit fa2dffc1f8c587093935218d099f6bd646cd99b0
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 16 11:57:18 2017 -0800

    Use buffer pools for text PIUs and variable-length subpixel models

commit d0d68a8bf469e70c3be72e42127388c0a5909900
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 16 11:56:52 2017 -0800

    Reduce number of frames in flight to 1. At 3 we run out of drawables and block the main thread for 2 seconds

commit eba38c409cf0221bd120d9418c76b989debe8610
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 16 11:28:23 2017 -0800

    Get drawable and render pass descriptor before going to private queue. Doing it later means we might try to use the same drawable twice for two frames. I guess you really are supposed to do all your work on the main queue. Perhaps MTKView is not what we should use; CAMetalLayer might be a better fit since it doesn't drive draw calls. OTOH, MTKView has a few other modes I could look at where I could do the driving. Keep in mind that I need to find something that works with setNeedsDisplay: when called by the clip view.

commit aea3d4fcdebb58fbc3b401d3977636030dea4677
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 16 11:04:36 2017 -0800

    Add stats and refactor drawing method

commit 854c22594d50a113f7951a5b1fcfc144fa6b8073
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 16 10:37:49 2017 -0800

    Add a pool for metal buffers that contains mixed size buffers. It keeps up to a fixed number of buffers, keeping only the largest ones to avoid creating a new one.

commit e1191e3cf7efedcc9244bc56fdf08ff833b12020
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 16 10:11:15 2017 -0800

    Improve formatting of single-event precise timers. Add emoji to see at a glance where there are problems.

commit a2ce21138140a323b8f162f88ac25ea49064bc14
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 16 10:00:21 2017 -0800

    Avoid bzeroing big chunks of memory used by the metal renderer for better performance.

commit 42b094bea7ba4cb53af42b8fdc35e1199545238f
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 16 09:55:11 2017 -0800

    Avoid creating MTLRenderPipelineStates more than once per renderer.

commit 9376ddbccbbba53e4b7e06af9df8708fbe89cb57
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Dec 14 15:18:12 2017 -0800

    Cache MTLBuffers in pools and reuse them since we keep creating the same tiny buffers over and over again, and sometimes it's very slow to do so.

commit 5c2096f9ccec7612278c82b2d73cdd5d0effe3a2
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Dec 14 14:13:09 2017 -0800

    Add detailed stats for creating transient state. Fix a few bugs where we tried to use nil tstates.

commit ef457722392b62d99e5aea9575dee0cae4f1a128
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Dec 14 13:44:55 2017 -0800

    Simplify control flow through metal driver and make frame data's interface simpler

commit 36c026ea4c10402283ee7e25f7cedfa3d317cb3e
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Dec 13 19:54:25 2017 -0800

    Add a warning

commit 9f25d5501d689453ccb558f36a3403258c76102a
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Dec 13 19:49:38 2017 -0800

    Store background colors in runlength encoding to avoid drawing a huge number of instances

commit d306fbaf6c98248c228851cf82612dc0ba8fd807
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Dec 13 18:06:43 2017 -0800

    Fix a bug where we always blended a background image, even when the background image renderer should have been skipped. This caused great cost in the fragment shader, etc.

commit e890b202cf8793f17415a73fe29f001ed490032c
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Dec 13 18:06:14 2017 -0800

    Fix a bug where we drew the cursor as many times as there are columns. Probably a copy paste error.

commit a150f36a020a072ec8159a81f05be70e5d45533d
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Dec 13 17:59:42 2017 -0800

    Remove unneeded log statement

commit ad534abac660e9bf3e775e21a719e87de24e65fc
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 12 22:53:19 2017 -0800

    Replace the texture map with a new approach. Rather than one big atlas, keep a large number of smaller ones. Rather than accounting for glyphs one by one, expire whole atlases. This is a lot less work spent messing with reference counts because there's one reference count per "page" (née atlas) rather than per glyph. The downside is more draw calls and more PIU buffers to create. That is possibly parallelizable.
    
    The code is a hell of a lot simpler now.
    
    Also fixes a bug where we'd crash after closing a tab because we try to draw a 0x0 grid.
    
    This commit is kind of half baked because there's untested code and memory leaks. This whole thing is still more researchy than I'd like.

commit 48ff92712d20b2220aaa7a4539ccd381ca3f143d
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Dec 6 16:55:29 2017 -0800

    - Request the currentDrawable and the currentRenderPassDescriptor at the last moment. Do all draw calls on the main thread. This is more theoretically correct (I think!) but adds latency (another trip to the main thread!) and I hate it. Also improve performance when thre's a background image.
    
    - Keep a pool of textures in iTermBackgroundImageRenderer. We used to create a new surface to draw on in every frame and that killed the frame rate when GPU memory got full, or something like that. We'd chug along at 30 fps for a while and then drop off a cliff and spend like 40 ms waiting for dispatch_async to the private queue to happen; renders would take 60ms. The symptoms are bizarre and unexplained, but this fixes it.
    
    The fix involved adding a "texture pool" to the background image renderer. It allocates new textures as needed but can recycle old ones that are not in use. The expectation is that it will create as many textures as there can be frames in flight. When the viewport size changes they all get thrown out.
    
    The background image renderer's transient state owns the render pass descriptor that's used as a temporary surface.
    
    - Remove wedge detection. The completion handler isn't called if you misuse Metal and do stuff off the main thread. This will just create false positives and wreak havoc.
    
    - Schedule a draw (if needed) from complete: so dropped frames eventually get drawn.
    
    - Modify how MovingAverage works so it immediately takes its first value. This way it doesn't take a while to converge from 0, which is arbitrary.
    
    - Timing code improved to track manymore things. A comment was added to metal driver explaining the stats.
    
    - Optionally show a moving average of FPS and a frame number onscreen. Enable with a #define

commit 669ff7a9b1382f7b8c19fa5459636f2333c4df6a
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Dec 6 11:22:03 2017 -0800

    When entering metal mode make TextViewWrapper clear its backing buffer. Since it doesn't have a layer it works weird.

commit 70c654c2f404875d1a991d90997b87cfe6f51c69
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Dec 6 11:05:56 2017 -0800

    Move color remapping code into its own function. I doubt the function call will make this much slower considering how complex it is.

commit 5def8eb05d3bb882db34da22820883799a1c6184
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Dec 6 10:10:53 2017 -0800

    Make selection and find results background colors opaque in metal renderer

commit db73acbb2ac50b4b575b85c353cec52145858dda
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Dec 6 10:07:07 2017 -0800

    Refactor creation of subpixel models and make it managed memory

commit 54d1e991f571fbcd547737a03b9f28b711df5276
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Dec 6 09:17:30 2017 -0800

    Make metalview a subview of the layer-backed view, not a subview of SessionView. Because the scrollview is a sibling of the metal view and must overlap it, their common ancestor must have layers. This fixes a bug where the scroller wasn't visible when it had a legacy scrollbar.

commit fd7d3939c4166822aeff5ff220723395176d26ac
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 5 22:47:58 2017 -0800

    Allow ASCII cells to spill into their left and right neighbors. This is a problem with wide glyphs like m and with italics, especially fake italics. Fake bold also tends to hit this with wide glyphs like m.

commit 10d08accabce9a40181ebc41a8e51a9e1aad1ec6
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 5 15:57:39 2017 -0800

    Improve metal logging stats to include more detail about the finalize stage

commit aefdf4220db0bd63763e207585093b88b2293cfc
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 5 15:56:36 2017 -0800

    Fix a bug where the alpha value of the wrong view was tested in textViewShouldDrawRect

commit f242e738154fb38c8f392def3f0d970d54a9f4f3
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 5 15:24:12 2017 -0800

    When transition into metal rendering, don't hide textview until metal view has rendered a frame. This prevents a gray screen from being visible while it prepares to draw, which can take some time as a bunch of glyphs need to be drawn.

commit ee0112b3a7eb247832b6348c4300a5b7e7dab275
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Dec 4 22:09:10 2017 -0800

    Add support for double and dashed underlines. Along the way fix support for underlinedRange.

commit a6da38983ad215fee2e27aa389f27ee8f3e8de2b
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Dec 4 20:00:11 2017 -0800

    Add support for underlining in Metal. It's freaking complicated. If a cell is underlined, the underline only gets drawn where there is no text, nor any text in adjacent pixels. In the text drawing fragment shader, we already did an early exit for pixels that didn't have text. At that point we check if the cell is underlined. If it is, we sample the neighbors of the texture to see if they are also all not-text-colored. If so, we calculate how much of the region that should have an underline intersects the fragment's pixel: this is the weight. We return the color of the underline weighted so it blends with the background if it should occupy less than one pixel.

commit 2a6200c8bba707c66c6a1d11389138513285eea4
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Dec 3 14:55:43 2017 -0800

    Add file demonstrating all combos of bold, faint, italic, and underlined text

commit 1db3f83a6c085d9a987257780645b2fa97107991
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Dec 3 14:28:18 2017 -0800

    Turn off per frame metal stats

commit 507beb15ea2960a9e0f0eff42f226b0b0fbf1154
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Dec 3 14:20:24 2017 -0800

    Remove excessive objc_msgsend in a tight loop while building PIUs for background color

commit afb9a19eb5ffe0eb6f1d6b0ab9ccd76985ba1ded
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Dec 3 14:19:48 2017 -0800

    Move stats logic into iTermMetalFrameData
    
    Now it logs per-frame data as well as periodically logging aggregate stats.

commit 18be0302dba490d0b355ded9bc710552bff21dd4
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Dec 3 11:30:48 2017 -0800

    Add missing availability annotation

commit 235e0e9fa0181d2e406540039754f295cc60c43e
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Dec 3 11:30:22 2017 -0800

    Fix a build break

commit 17b61f727a647bb7dd6116ca91a55ef57007bff7
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Dec 3 11:28:12 2017 -0800

    Add an ASCII fastpath to metal renderer
    
    This commit ended up with a bunch of things in it:
    
    - Add debug-only assertions
    - Cache the hash in iTerm2::GlyphKey
    - Expose typeface (bold/italic flags) to glyph keys
    - Add a fastpath for ASCII that doesn't use any fancy data structures to manage
      textures. It's an array of textures for each set of (bold, italic, thin
      strokes) flags. If any of the inputs to texture generation change (e.g.,
      font, cell size, etc.) then these are re-created.
    - Add a method to iTermTextureArray to expose atlas size (the true size of the
      texture backing it)
    - Refactor iTermTextRendererTransientState to move the nonascii handlers into
      their own methods as they're pretty big and slow enough another method call
      won't make a difference.
    - Add timing stats for metalDriverWillBeginDrawingFrame
    - Treat space as a nondrawable character
    - Avoid repeated calls to -[PTYTextView drawingHelper]

commit 8b43d2981b7eae99211512705805242a53dba485
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Nov 26 15:35:16 2017 -0800

    Refactor character drawing for metal into its own file. Increase the number of parts to 5x5. This revealed an issue where wide characters like 'm' in 12 pt courier have one pixel spill over into a second part.

commit 1268304bb8ca99dfc5a251c99735c260cb84a31e
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Nov 25 16:16:02 2017 -0800

    Get fallback working properly. Move textures out of the LRU cache while they are in use to avoid crazy race conditions. Lots of assertions and logging now make this slow.

commit fc1558147f5fc48944bac7e7818c3d74ef5c8315
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Nov 19 23:43:37 2017 -0800

    Refactor some classes out of iTermTextureMap.mm into their own files

commit dd90e3e70f05c2b33f77e3cd5f5c88679e2b3f9b
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Nov 19 23:33:16 2017 -0800

    Draw default background colored margin around edges of session

commit 4c578114e7f9b1124a96e9590bace71dc42adeb8
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Nov 19 22:19:02 2017 -0800

    Take scale into account when computing margin size

commit d083b3bef79239f0bac4505ee82895f99bf83872
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Nov 19 22:08:36 2017 -0800

    project file changed for no damn reason except opening it.

commit 1e54d2279ea8dc3a9bb88ee25eb312db5271e7cf
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Nov 19 22:04:14 2017 -0800

    Add cpp-lru-cache to Licenses.txt

commit 2a23feb91fed1dbff28d15c7f41135477145d6a2
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Nov 19 21:42:06 2017 -0800

    Adapt cpp-lru-cache's unit tests to work with XCtest

commit c0a5828ae9997a56e3c303ce4edb1a45562b2c31
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Nov 19 21:35:15 2017 -0800

    Sometimes the cursor is off the bottom of the screen, somehow. Don't throw an exception. I need to go back and figure out how that happens.

commit 1c4168aad5429db7697eab7593642c2a27ff88f8
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Nov 19 21:31:05 2017 -0800

    Customize CPP-lru-cache for iTerm2.
    
    Don't throw when get fails. Return nullptr instead.
    Add peek() to get a key's value if it belongs to the cache without bumping it to mru.
    Add erase() to remove a key.
    Add exists() to check if a key exists.
    Add size() to return the number of entries. Replace tabs with spaces. Remove files we don't need.

commit 70ff16465587f60dc5c44281324d00e2deb6b5c6
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Nov 19 21:26:00 2017 -0800

    Initial add of cpp-lru-cache by lamerman.

commit 36dda32f8418373eceda00ca0024d4276855f7b9
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Nov 19 21:18:34 2017 -0800

    Make the use of metal renderer contingint on the window being key, the session belonging to the active tab, and there being no transparency

commit 03c1c69d46c9fb9471d5f544008e575414d58904
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Nov 19 14:16:32 2017 -0800

    Restore the fast path for solid color backgrounds

commit d32d959435914ca0f3d6ed14d68a93e9e4f41c8f
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Nov 9 22:38:37 2017 -0800

    Add support for emoji. The fragment function now knows about which cells are recolorable.

commit f130b3508ed30d81285c1d505a40f8a4236010b0
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Nov 9 21:47:23 2017 -0800

    Add support for glyphs that take more than one cell, spilling into their neighbor. This commit probably adds a performance hit to the CPU side of things which I need to work on reducing in the normal case.

commit ac834d307a49ec18e9493263cb1829cda0e3b1e4
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Nov 7 22:41:40 2017 -0800

    Only allocate PIUs for drawable glyphs. Increase the size of the glyph texture atlas to fit multipart glyphs

commit 77c5885796daaa45b34354bab3e48893c5e4cc95
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Nov 5 14:35:50 2017 -0800

    Make text transient state have a strong reference to the texture map since it might be removed when the window changes size

commit e41f81617f7de1f47c43c78cb6034f7ef0ff4a4f
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Oct 28 21:35:04 2017 -0700

    Implement a really damn elegant solution to subpixel antialiasing in the GPU renderer, if I don't say so myself.
    
    - Add a frame cursor renderer. Pass screen scale through to all transient states.
    - Use a single value for gridsize between frameData and perFrameState
    - Subpixel color channels are completely independent. Change models to be keyed on a pair of colors, not a combo of six.  Get bilinear interpolation working! YAY!
    - Refactor here and there
    - Move inputs to transient state into a new class so it's easier to pass new data to renderers' transient states
    - Fork the text fragment shader into a blending and nonblending version
    - Draw background image to a temporary texture so the text renderer can sample its background color to do subpixel aa
    - Alpha blend default background color over background image

commit 1d2802c84bb39fd052ddae707dce81072f4bb47a
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Oct 28 21:11:08 2017 -0700

    Make the cursor blink in Metal

commit 00d5bff1d0b11f05561cd593d6e637757a6c2f55
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Oct 28 20:01:50 2017 -0700

    Use a SIMD type for the background color in the text color key

commit 56236d32548ff1f3c903d88d89fd62f3676ff95b
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Oct 28 19:55:47 2017 -0700

    Set background colors in foreground color key

commit 6a92ccfb2a8b7a0b5dc6fdd18066815ddbb06c44
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Oct 28 15:52:25 2017 -0700

    A bunch more optimizations. Prepare is almost as fast as finalize now.

commit 4f8e187bec18dfc195602a4daaddb2b4ac60d9e0
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Oct 28 15:16:21 2017 -0700

    Fix rebase problems

commit 082b39eb1815e0de49725c716f48b8c717bff301
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Oct 8 17:45:48 2017 -0700

    Basic proof of concept is working.

commit 5d64fa30f544220285efc96808caf07fbd8e4aa0
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 21 18:55:03 2018 -0800

    Stop progress indicator while entering/exiting fullscreen. Issue 6363

commit a81219b7916d5ee01c2d6bd1f9b1430e7ec67360
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 21 14:23:31 2018 -0800

    Add support for OSC 10 and OSC 11. Issue 4953

commit aee274874adcc2f710f115a51ad34d1048d89672
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 21 13:39:34 2018 -0800

    Show session name separately from profile name in tab title. Issue 6443.

commit 69cddb829980bd9a21cb7df7544ca274189b4d56
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 21 13:07:27 2018 -0800

    Remove Gemfiles because of dependency on old nokogiri

commit 60ec971bde0a6f08f28c2ee842edff4fd3b9795a
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jan 20 14:35:11 2018 -0800

    Fix a bug where mutable attributed string builder would do a double append when you do the following sequence:
    
    setAttributes:
    appendCharacter:  // _characterData=[c1]
    setAttributes:    // _characterData=[c1], _attributeString=Cheap(_characterData)
    appendCharacter:  // _characterData=[c1, c2], _attributeString=Cheap(_characterData)
    setAttributes:    // _characterData=[c1, c2], _attributedString=MutableAttributedString("c1,c2,c1,c2")
    
    It would now go like this:
    
    setAttributes:
    appendCharacter:  // _characterData=[c1]
    setAttributes:    // _characterData=[c1], _attributeString=Cheap(_characterData)
    appendCharacter:  // _characterData=[c1, c2], _attributeString=Cheap(_characterData)
    setAttributes:    // _characterData=[], _attributedString=MutableAttributedString("c1,c2")
    
    Issue 6435

commit ff4c24e08515311861a58e1378a629c0c07c8224
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jan 20 10:40:45 2018 -0800

    Activate iterm2 after switching spaces

commit 7d36668f513707ae47a6c72d17f6215482271fcd
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jan 20 10:22:29 2018 -0800

    Add some extra space to rows in the profile list view that was inadvertently removed when caching heights, the effect of which was to make tags not visible

commit 02a19214762caee1dc1c9541f3c61ce1af747622
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jan 20 10:18:16 2018 -0800

    Use automatic signing

commit ffedf02b5a2ea656aac426fbd06a0a4e0daa57d9
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jan 20 10:18:04 2018 -0800

    Remove dynamic tag when duplicating a profile. Issue 6437

commit cd2e438508079c0e0688cbdfe671923e84debc05
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 17 22:51:18 2018 -0800

    When handling SIGUSR1 in the fd server, use _exit instead of exit to avoid crashing. exit is not async signal safe but _exit is. Issue 6417

commit 74b6277ec5aa67e9ea95633c9c65f39c73d8a15f
Merge: d4ea637a 76960ed6
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 17 22:11:35 2018 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit d4ea637a673ff2e24372b4ae0d6be7911d5425cc
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 17 22:08:36 2018 -0800

    Don't unmaximize a tab when switching to its active session from Open Quickly. Issue 6426

commit 76960ed6da27dab6f0eecaecb401d6732cab79b6
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jan 16 22:39:12 2018 -0800

    Route function keys from touch bar to shortcut input views. This allows you to customize their actions. They still don't work as hotkeys because carbon won't notice them. Also, this only works when a terminal window is open. Kinda hacky, but I'd need to rearchitect how the touch bar is done to really fix it (so it isn't just assigned to the PseudoTerminal). See mailing list message with subject: Cannot set keyboard shortcut in touch bar for function key

commit 8530daf4b9fd08492158b52266b045e2d364927d
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 7 22:08:26 2018 -0800

    Compute canonical frame correctly for lsui floating panels. Issue 6415

commit 78e4a2d3102a1f5dde79b9e7edd059637f07108f
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jan 6 18:00:52 2018 -0800

    Sort files in Scripts menu. Issue 6408

commit 1e870875318712bca11d35726786e894f9710693
Author: Fusion86 <fusion86@cerbus.nl>
Date:   Thu Dec 14 00:35:39 2017 +0100

    Add option to suppress restart session confirmation (fusion86). Use iTermWarning for restart confirmation (gln).

commit 916de7a7f55e0c9787f7240f7e6a857fc629c997
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jan 6 17:20:56 2018 -0800

    Disable paste bracketing for uploads. Don't save uploads to paste history. Issue 6405

commit 65c5d46db6c86e5d4aee9cfb649fd243f6b61cd6
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jan 6 17:13:46 2018 -0800

    Don't offer to turn off mouse reporting, paste bracketing, or focus reporting when we transition from no hostname to having a hostname. See https://github.com/fish-shell/fish-shell/issues/4521

commit cf5e6b462f19dc3d0a577178098b9033eba1628c
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jan 5 22:07:45 2018 -0800

    When opening a new window wait for the app to become active (if it isn't already) before making the new window key. Issue 6397

commit c6236dd327c31c863c1fd76d4b68850873bea3ce
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jan 2 22:07:03 2018 -0800

    Add buried sessions to status bar icon menu. Issue 6391

commit 83d15ce2ef6046485fd3dc9eb2cde47adddf5117
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 23 15:04:52 2017 -0800

    Rate limit changes to window title. Sanitize tab and window titles to prevent slowdown from trying to draw an enormous title in the tab bar. Issue 6381.

commit 740c77dba4a8aa136a0b76002cc9bbd6a134dc6c
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Dec 18 22:32:52 2017 -0800

    Deal with CSI 38:2 which turns out it has a color type and color space and everyone did it wrong. Issue 6377

commit 1ef1952b93dd6d82fbcfc1c34db014384d78ec16
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Dec 18 21:13:21 2017 -0800

    Fix a problem where second and later tabs in a window with a left-side tab bar that's limited by the 1/3 * content size bound will have fewer columns than it should. Issue 6371.

commit c71a6a682b4f1eaf52682037dbba0d9beb37eb5e
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 16 16:03:40 2017 -0800

    Make sure servers get killed on user-initiated quit. If we just HUP the shell then the server won't notice until it becomes attached as an orphan on the next launch. Issue 6369

commit 868d531b93969fae55a19e647ae9e3f7224cc53c
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 9 21:59:09 2017 -0800

    Improve performance of opening a window with the Profiles tool present when there are many profiles. We spent a long time calculting row heights. It's still slow because every row needs to be queried, but it's a lot faster than it used to be. Issue 6322

commit 02e75fef6b1b432c337cd08c81e01b7a8dc39a9f
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 2 15:19:14 2017 -0800

    Fix a bug where hotkey windows appearing in a different display than the currently key window (in another app) would not receive focus and would forget which app was previously active. Issue 6353
    
    The two key changes are
    1. Add a method to activate the app with a completion block
    2. Don't throw away the existing previous state when a non hotkey window becomes key during a rollin. The logic already existed for a rollout.
    Here's what would happen:
    
    rollInAnimated
      [NSApp activateIgnoringOtherApps:YES]
      rollInAnimatingInDirection:
    (if there's no animation, the rollin finishes immediately)
    App becomes active
    A non-hotkey window becomes key
    
    Now, here's what happens:
    
    rollInAnimated
      [NSApp activateIgnoringOtherApps:YES]
    App becomes active
    A non-hotkey window becomes key, but it's ignored because there's a roll-in in progress
    rollInAnimatingInDirection:
    (if there's no animation, the rollin finishes immediately)

commit 8dca4b364de0ca9f763e2d1c857682ac5d497638
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Dec 1 09:01:20 2017 -0800

    Move beta users to unicode 9 widths by default

commit 8b1966cd9c5d7368a396014b47bc6516ddde38eb
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Nov 30 09:10:21 2017 -0800

    Make it clear that smart cursor color is only for box cursors by disabling the setting when a different cursor type is selected. Also change the verbiage and move controls around in the prefs panel to make more room for the longer string. Issue 6343

commit 4ee6c91e7198f702e1cb816c795010090b44f0ef
Merge: 82c7b348 cc44ed9c
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Nov 30 09:01:36 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 82c7b348cf29e6fabde247bc73bbbe1ff89a055c
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Nov 30 09:01:16 2017 -0800

    Only show key icon at password prompt in active terminal. Issue 6342

commit cc44ed9c794541d1967b068c4b115be915425e09
Merge: e3d6e2e6 4a5fc0ec
Author: George Nachman <gnachman+github@gmail.com>
Date:   Wed Nov 29 22:32:12 2017 -0800

    Merge pull request #345 from gentoo-root/master
    
    Fix build failure on case-sensitive file systems

commit e3d6e2e608039e2ea8c388930e982431f8bffeb0
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Nov 29 22:18:21 2017 -0800

    Add a flag to show block boundaries for issue 6207

commit be6ca896d57098bbd4c0c0f9df69496d6853e2bb
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Nov 29 20:59:22 2017 -0800

    Put in a hack to allow images to go wider than 256 columns. If we see the x value go to 0 right after it's 255 and the image code and row number stay the same, treat it as a continuation. Issue 6335.

commit 9333a320109f18c6ca6ca74a14c21337ad535382
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Nov 29 20:31:57 2017 -0800

    Fix version.txt, which broke nightly build updates

commit 4a5fc0ec75d40859aa7e3cfea7c6a1d4fef4553f
Author: Maxim Mikityanskiy <maxtram95@gmail.com>
Date:   Sun Nov 26 22:45:59 2017 +0200

    Fix include file name

commit 1272d4b23a01031f82846b5d0ead235ed7d5d9cc
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Nov 23 16:34:50 2017 -0800

    Fix modifier+number menu items to have proper titles

commit 223717bcfdc6cd4ef1225d0e6612d78aa973b864
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Nov 23 16:30:13 2017 -0800

    Rebuild touch bar when color presets change. It was not picking up changes on macOS 10.13. Mentioned in a comment in issue 5281

commit 2b4e2f595c6c8430d060d51599e52bb9f3e215fc
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Nov 23 15:58:16 2017 -0800

    [Focuse follows mouse] If the mouse has not moved between when the app resigned active and when the app becomes active again do not make the window under the cursor key.

commit e45273d181cef2c5e9fec0b6b712e9325b50cf80
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Nov 23 11:04:32 2017 -0800

    Set find bar text field's apppearance to light when there's a dark theme so it is legible. Issue 6330

commit 5fcd81ff1345e134513f68bbcff842ab457d6cf3
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Nov 22 21:35:30 2017 -0800

    Make reset (both user initiated and ANSI RIS) show the primary buffer when in alternate screen mode. Issue 6325

commit fb6cf3eebb59c4bb6526153783d3b4aeed51eae4
Merge: aa138ba4 8983e35a
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Nov 22 21:23:15 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit aa138ba4614127200575beb630a86eaf2559aeab
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Nov 22 21:23:01 2017 -0800

    Add Edit Session to the tab context menu. Issue 6281

commit 8983e35ace3eef82c3de35204f64c96d5cd82325
Merge: 307be176 04c42588
Author: George Nachman <gnachman+github@gmail.com>
Date:   Wed Nov 22 21:17:42 2017 -0800

    Merge pull request #343 from juanibiapina/fix-solarized-colors
    
    Update solarized light and dark color presets to match the SRGB colors from the spec. Issue 3989.

commit 307be1762ca3a487bdccb740aedee717f8e4012e
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Nov 21 22:21:31 2017 -0800

    [tmux integration] Store "none" for the tab color when tab color is off for a session. This fixes a bug where new tmux sessions didn't use the profile's color. Uninitialized (which is now indicated as an unset tab color) should (and now does) mean to use the profile's value. "none" means no color. Otherwise it'll be a #hex value.
    
    Issue 6320

commit 536148366f2b7c49dd59c0014cfc946d4990a185
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Nov 19 22:09:03 2017 -0800

    Fix duplicate identifier in menu

commit 86f20ce31f1d1409de8a0a5fc9bcd5d88a3299e3
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Nov 19 21:59:54 2017 -0800

    Remove silly diff file

commit 7e1cfada2d3e2843a46b0256dd3bd53af2804c5d
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Nov 19 21:59:45 2017 -0800

    Add entry under Help to show open source licenses

commit a74b0e46c625d6fcc49f7f41e8277cf52072a581
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Nov 19 21:55:41 2017 -0800

    Fix missing license files for third party projects

commit afa9f9b55bce6be2100cefd1944d4aad55ce869f
Merge: 9cead861 061432b9
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Nov 17 23:47:09 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 9cead8613ff3377c5b5d481b1e58a6b65e08862a
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Nov 17 23:46:38 2017 -0800

    Fix an off-by-one bug where we don't zoom on the last selected line. Issue 6321

commit 061432b9f0d50b26ead13429eaa81bc9cb1a2aab
Merge: 78a9f0dc 0cbfcccc
Author: George Nachman <gnachman+github@gmail.com>
Date:   Thu Nov 16 22:21:10 2017 -0800

    Merge pull request #342 from lxcode/typo
    
    Tiny typo fix

commit 78a9f0dc07f3ce03d22da79844f8b97514bd1482
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Nov 16 22:12:15 2017 -0800

    Fix advanced pref for suppressing the tab-to-spaces conversion.

commit a5b1060a574c9195b04d3e4e756c8a1af757dd7a
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Nov 16 21:48:02 2017 -0800

    Draw tab color in white if the window appearance is dark. This happens to work for the main menu (it has a window!) as well as the context menu on a tab. Issue 6286.

commit 04c425883b241971cda2ecc37aed8e14abdc65df
Author: Juan Ibiapina <juanibiapina@gmail.com>
Date:   Wed Nov 15 22:33:04 2017 +0100

    Fix solarized colors
    
    This fixes the solarized dark background being slightly darker in iterm.
    I also ran the same script to generate the colors for solarized light,
    although I didn't check before if the colors were incorrect.
    
    This changes solarized colors to use sRGB. The colors are calculated by
    dividing the reference RGB values by 255.0 in ruby.
    
    As discussed here: https://gitlab.com/gnachman/iterm2/issues/3989#note_47289852
    
    These are the reference colors used:
    ```
    SOLARIZED HEX     16/8 TERMCOL  XTERM/HEX   L*A*B      RGB         HSB
    --------- ------- ---- -------  ----------- ---------- ----------- -----------
    base03    #002b36  8/4 brblack  234 #1c1c1c 15 -12 -12   0  43  54 193 100  21
    base02    #073642  0/4 black    235 #262626 20 -12 -12   7  54  66 192  90  26
    base01    #586e75 10/7 brgreen  240 #585858 45 -07 -07  88 110 117 194  25  46
    base00    #657b83 11/7 bryellow 241 #626262 50 -07 -07 101 123 131 195  23  51
    base0     #839496 12/6 brblue   244 #808080 60 -06 -03 131 148 150 186  13  59
    base1     #93a1a1 14/4 brcyan   245 #8a8a8a 65 -05 -02 147 161 161 180   9  63
    base2     #eee8d5  7/7 white    254 #e4e4e4 92 -00  10 238 232 213  44  11  93
    base3     #fdf6e3 15/7 brwhite  230 #ffffd7 97  00  10 253 246 227  44  10  99
    yellow    #b58900  3/3 yellow   136 #af8700 60  10  65 181 137   0  45 100  71
    orange    #cb4b16  9/3 brred    166 #d75f00 50  50  55 203  75  22  18  89  80
    red       #dc322f  1/1 red      160 #d70000 50  65  45 220  50  47   1  79  86
    magenta   #d33682  5/5 magenta  125 #af005f 50  65 -05 211  54 130 331  74  83
    violet    #6c71c4 13/5 brmagenta 61 #5f5faf 50  15 -45 108 113 196 237  45  77
    blue      #268bd2  4/4 blue      33 #0087ff 55 -10 -45  38 139 210 205  82  82
    cyan      #2aa198  6/6 cyan      37 #00afaf 60 -35 -05  42 161 152 175  74  63
    green     #859900  2/2 green     64 #5f8700 60 -20  65 133 153   0  68 100  60
    ```

commit d1d0c11b7235cd1fdc6464e525d635167616c195
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Nov 14 22:01:04 2017 -0800

    Don't crash when saving an arrangement but one of the windows somehow had 0 tabs.

commit 217b5e1709f2c3d59dfc5e869232aca67376f698
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Nov 14 21:58:06 2017 -0800

    Don't crash when you delete a password manager entry that is your only one and you are editing the password

commit c968c8825dbeeec4f910fd05d41989ff49dde53c
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Nov 14 21:45:15 2017 -0800

    Make the add mark touch bar icon smaller. Issue 6285

commit f2529218bce51b4a795dbe3dc93e2376b4eb8382
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Nov 14 20:46:12 2017 -0800

    Fix implementation of REP to use the last appended character

commit 421714f5dd71ac0d85e16ead0bf951ec16c6919a
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Nov 14 20:33:25 2017 -0800

    Enable REP by default for beta and nightly users

commit 0cbfccccdf457a17d2fac995dfabf296ccea7d3d
Author: lxcode <lxcode>
Date:   Wed Nov 8 11:43:47 2017 -0800

    Tiny typo fix

commit eb0af195f00a70e3b858aadf7fe6a1e1bf75fcd8
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Nov 5 21:01:43 2017 -0800

    3.1.5.beta.2

commit 3f5417dd28e2c4ba4bcb3b4e952166e49bde220a
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Nov 5 20:50:28 2017 -0800

    Fix some bugs in the beta release tools

commit a9395fc5f2d2a2d9925e070060351873de52d4b4
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Nov 5 20:45:11 2017 -0800

    Fix failing test

commit 7ab8222161a1046d7133a28806df2b58b5c9fc4e
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Nov 5 20:45:07 2017 -0800

    Fix esctest for change in iterm2's 1049 behavior of moving the cursor to 1,1 on DECSET

commit 8e9aee0b468a32000def37fc1cabff769a6410fc
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Nov 5 19:56:55 2017 -0800

    Add option-forward delete as a shortcut for delete word forward in natural text editing. Issue 6272

commit e462104d646556940c452b41c39590a79df2f06f
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Nov 5 15:21:05 2017 -0800

    Add off-by-default support for the REP code. Issue 6249

commit 6e6a09e34d7e49748cc83001c7528b2582faa7b5
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Nov 5 14:56:34 2017 -0800

    Deal more gracefully with 0-size windows as suspected in issue 6005

commit 8bc31051974d720ea077d2e9184197633f5f7269
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Nov 5 11:58:58 2017 -0800

    Remove mechanism for catching proc_pidinfo and statfs timeouts. It was causing crashes, but I don't understand why. Perhaps mixing ARC and non-ARC code has some problem? I saw lots of crashes on 3.1.4 where proc_pidinfo exceeded the timeout and when it finally returned there was heap corruption. It looked as though the dispatch group had been freed even though there was an outstanding reference to it. At any rate, if proc_pidinfo is hanging you're going to have a bad time even without this workaround.

commit 26838c29e01b5043f4a8406399aec0eff674b70a
Merge: 922f8ad4 5936da05
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Nov 4 15:29:06 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 922f8ad4203b8c1cad2bf25e0e79498a10253a20
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Nov 4 15:29:00 2017 -0700

    Avoid looking up a negative index when you have a tail find going (i.e., the find panel is open) and you clear the buffer and it becomes empty (i.e., there's nothing before the cursor such as a prompt at the time you do cmd-k). Issue 6271

commit 5936da052c1d70a2adb065dcb74ffbcf4e813185
Merge: 1954f360 95935bbd
Author: George Nachman <gnachman+github@gmail.com>
Date:   Sat Nov 4 15:14:28 2017 -0700

    Merge pull request #340 from lepistone/duplicated-tooltip
    
    Remove incorrect tooltip on "show mark" button in prefs.

commit 1954f36036dbd22550de92b3c1e17a11c340077b
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Nov 4 15:11:36 2017 -0700

    Having merged in the PR for selecting an account after opening the password manager from a trigger, add manual retain-release code and rename ivar.

commit acc89806ac9f03b4dd51a783f96d9a4d85812cf1
Merge: f409c283 41f32bd2
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Nov 4 15:08:30 2017 -0700

    Merge branch 'pwmgr' of https://github.com/yilei/iTerm2 into yilei-pwmgr

commit f409c2836b9991baaaca7d68757ed97bbfad23ee
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Nov 4 15:01:42 2017 -0700

    Fix a bug where double-tap shift to open a hotkey window didn't work. It was using the mask for capslock instead. Issue 6251

commit 82bc59491c0d1aba8e5102bff86ee81a20e6f4e5
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Nov 4 14:40:05 2017 -0700

    Migrate persistent stores automatically. Should fix a bug that caused shell history to get deleted due to the addition of an index and a changed versionHashModifier

commit 95935bbdb83249476f9a28b8c4e1dca363de16fe
Author: Leonardo Pistone <lepistone@spotify.com>
Date:   Sat Nov 4 17:15:37 2017 +0100

    Remove duplicated tooltip from the option above

commit a395d555148cdcfdf31a80b7319d7c1dfa4d74eb
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Oct 30 22:57:00 2017 -0700

    Delete directories from the MOC. Don't leave them dangling.

commit 98973d4a712f0bb3f1b3d3effbd84fd14cb83fdf
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Oct 30 22:46:27 2017 -0700

    Add an index to lastUse on recent directories. If there are more than 1000, remove the older ones.

commit fec3c06c80c015a232a95aac7dcf1398a58068a1
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Oct 30 21:53:30 2017 -0700

    Don't perform timing when precise timers are off

commit d88b43ffdddd28353eccd15bb7447c43430937e3
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Oct 25 20:02:03 2017 -0700

    Require a minimum delay between taps of a modifier key for people whose keyboards don't debounce. Issue 6206

commit eba3557665d0ce60dcb0f1da08cba98e85987e87
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Oct 25 19:58:30 2017 -0700

    Fix warning

commit 36cfd509d927a430a4eb722c17e6a2b9fa38f7ab
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Oct 25 19:56:14 2017 -0700

    Don't draw any lines above the visible range. Their descenders can hang down into the display when vertical spacing is less than 100%. Issue 6223

commit 41f32bd203daa33365f82f3961d5e896d6a791de
Author: Yilei Yang <yileiyang@google.com>
Date:   Tue Oct 24 22:53:39 2017 -0700

    Auto select the account in the password manager after auth.

commit ef97b1817591c6bdf02e15fccd317e907c7f3f4a
Merge: 696ad07e 871b508f
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Oct 24 21:03:15 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 696ad07e3ccfab3d0f75a5c874236fdb78988231
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Oct 24 21:02:49 2017 -0700

    When there is no terminal window, allow keybindings with the action "select menu item", "new window", "new tab", and "undo" to be executed. Issue 6232

commit 871b508fac0be6ce5f6339b78268416d2d12d014
Merge: 6df7f1b7 8b68dc0a
Author: George Nachman <gnachman+github@gmail.com>
Date:   Tue Oct 24 20:28:15 2017 -0700

    Merge pull request #337 from brenns10/master
    
    Allow ~ in HTTP URL paths

commit 6df7f1b73982d709dbe1da378f8a54a2fccea736
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Oct 22 15:32:45 2017 -0700

    Update goldens: I turned on subpixel antialiasing on my test machine.

commit aea3dd08a1eeb58a0193bf025784a171a4f2efb6
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Oct 22 15:27:19 2017 -0700

    Fix a test failure. The test touched an out-of-bounds dirty bit past the right margin.

commit 96a351106ac9cc631a214d82d35e63ee18d77924
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Oct 22 14:55:28 2017 -0700

    Use the beta build configuration for beta releases. Update the makefile and release_beta script

commit a7a79d4d8ba04cbedfe7033314ffccb694d53048
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Oct 22 14:39:30 2017 -0700

    Fix a crash on launch bug where a selection could have a negative endpoint, causing us to look up a long-gone line. Presumably this occurs because of the 10k line cap on session restoration.

commit 9f92cf701db42ef113d5fd944cd2017c50bfa58b
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Oct 22 14:38:52 2017 -0700

    Fix a bug where selection length was not calculated correctly. This affected various optimizations that disable features for long selections. If the column window was not set then a length of up to the grid width (but not greater) was returned.

commit 728390c93e95fa7af144d84ed8ecd7591add5271
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Oct 22 14:35:33 2017 -0700

    Allow services that receive text input if up to 10k lines are selected. There has to be a limit because services grab the contents before you know they're needed, at the time the context menu opens. Issue 6218

commit ba70b4ba9fe87dd0eabc913220d5ac80a5a72583
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Oct 22 14:11:53 2017 -0700

    A single click on the key icon (shown when at a password prompt on localhost) opens the password manager

commit 623612b18cde813f9fb520b203cce1f519616aa6
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Oct 22 14:04:45 2017 -0700

    Rename lastDirectoryIsRemote to lastDirectoryisUnsuitableForOldPWD and add some comments. I always find this code hard to analyze.

commit 9977ec5d50ec095b4ff8f3cc561f558529726df8
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Oct 18 21:46:03 2017 -0700

    Initial text automatically gets a newline sent, so remove the one that used to be added when executing a script.
    
    Issue 6067

commit 2c73a1d638cf6b7b3b6240fc2fe03f37e9927d4c
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Oct 18 21:32:42 2017 -0700

    Add an advanced pref to use the "correct" algorithm for computing line height, which involves magic incantations. It produces better results for Input Mono Condensed and seems to match what Terminal does. Issue 6159.
    
    Also removed some unneeded baseline offset plumbing.

commit 8b68dc0acdf1d9401efb6a92df34cafe57778315
Author: Stephen Brennan <sbrennan@yelp.com>
Date:   Wed Oct 18 10:57:48 2017 -0700

    Allow ~ in HTTP URL paths
    
    This allows URLs such as http://sharedserver.com/~homedir/index.html to be
    parsed and opened correctly.

commit fe761422235579e81ada15f4ea34fb834b119e7b
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Oct 17 22:55:32 2017 -0700

    Don't make tabs change the background or foreground color of the uninitialized cells they skip over. Issue 6193

commit fccf911f5183d39e4453a031ea458945bae6db84
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Oct 17 22:46:06 2017 -0700

    Set SUFeedURL in Info.plist. Sometimes Sparkle doesn't see the user defaults key and then dies because it lacks a URL. The down side of this is that beta users may not pull from the beta track and the experiment bucket will get more than its fair share of requests on the stable track. But it beats the heck out of crashing for no reason.
    
    Analysis here:
    
    https://github.com/sparkle-project/Sparkle/issues/1139

commit 4b119db9344d5142289ee4bd1263ffcabb24a2d7
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Oct 17 22:31:49 2017 -0700

    Clarify language in the setting to be on the beta track. Issue 5931

commit 4c5794f5cf843dd5bfced8d44b0620ff611f1da0
Merge: 78d6e322 a8f0f6c6
Author: George Nachman <gnachman+github@gmail.com>
Date:   Tue Oct 17 22:19:39 2017 -0700

    Merge pull request #334 from andystanton/add_check_for_updates_to_menubar_icon
    
    Add "check for updates" to menubar icon

commit 78d6e3229a286f18b3ed228d9572463afc046fa3
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Oct 17 22:18:38 2017 -0700

    Disable tabbing completely. The user defaults hack isn't sufficient because holding down option causes a new window to open as a tab. Issue 6197

commit 38b37ab62e6d369b99309113bde90fb7ff43b7f4
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Oct 17 21:33:51 2017 -0700

    Add a beta build configuration, and use it for betas. Change beta, debug, and nightly build configurations to set the preprocessor BETA=1. Add ITBetaAssert, which crashes only in those build configurations. Add some ITBetaAsserts to find why we sometimes try to get negative line numbers.

commit 68faf1c93911a87f348324ee94f6ad3af80c3c81
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Oct 17 21:01:02 2017 -0700

    Prevent calls to retainWindow:withTab with a nil tab, which apparently happens although I don't know how or why. There was a crash log.

commit a8f0f6c6fa579d72d173730db7803f8993242df1
Merge: 3b0a5906 6b5442b3
Author: Andy Stanton <andystanton@users.noreply.github.com>
Date:   Mon Oct 16 22:46:54 2017 +0100

    Merge branch 'master' into add_check_for_updates_to_menubar_icon

commit 6b5442b30e9a8aa1157fe355fe9495549466e5b1
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Oct 13 20:43:35 2017 -0700

    Remove some weird logic dating back to commit ee11b549068742112b4d7e3141a9eeece81aa50f in the old-iterm repo that was supposed to "improve function key handling" and made Fn+Ctrl+key send the key ignoring modifiers and Fn+key (without Ctrl) send the key with modifiers, as though Fn weren't pressed. I have no idea what this was meant to do but it caused issue 6176

commit 3b0a59067c3a5bcde8738e554884b051492d96e2
Author: andystanton <andystanton@gmail.com>
Date:   Wed Oct 11 22:07:23 2017 +0100

    Add "check for updates" to menubar icon

commit d76d1e5abaf6aebc830bf73a8d9720f8dbd7ddec
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Oct 7 15:46:36 2017 -0700

    Fix failing tests. In macOS 10.13, U+200C does not combine with U+200B.

commit cf3c8a066fbb1443e57716af9b402ba0f8e4a922
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Oct 7 15:02:25 2017 -0700

    Use a custom key graphic instead of the key emoji, which is too garish.

commit 108c54d39f9270fe4f0fffee5f1989b636f57ccd
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Oct 7 14:38:48 2017 -0700

    Reset user scroll when the buffer is cleared. Change the convenience accessor for verticalScroller to ptyVerticalScroller since in xcode 9 you can no longer override a superclass method and change the return type to a subclass of the method's original return type. Issue 6174

commit d2786790186061ff79c0188de3c637cde70c38ee
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Oct 7 14:10:18 2017 -0700

    Add iTermCallWithTimeout since 10.13 has a lot of system calls that never return. Prevent proc_pidinfo for hanging for more than half a second.

commit 2b4ccebfe50d0235f5b037af1b500fe15e7338e3
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Oct 7 13:31:02 2017 -0700

    Add an advanced pref to disable custom box-drawing code. Issue 6151

commit ccddc395f26494efb995cd87469a8736ebff0c69
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Oct 7 13:01:57 2017 -0700

    Update colorpicker framework to latest version

commit 76e3e510026b09946f01f7aea80f0fa3df503e6b
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Oct 7 11:32:31 2017 -0700

    Update colorpicker to use latest project settings and warnings. Fix a bug where the eyedropper window is never hidden on 10.13. Issue 6171

commit 8359920601e725177294154b9de0084f7c6b8e9a
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Oct 7 11:14:19 2017 -0700

    When the autocomplete window opens and then discovers it has no results and closes it causes a nonpinned hotkey window to close because the window gets closed before becoming key. That confuses the very complex logic for autohiding. To make the smallest possible change, I do a dispatch async on the close to order it properly. Issue 6169.

commit c0879458116dc4ef17f30ab75c8e5ab2cee6a758
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Oct 5 22:24:09 2017 -0700

    Add some explanation to pathsToIgnore description

commit b68070421834fbad68596737022f6e40b6b74f0b
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Oct 5 22:22:09 2017 -0700

    Prevent statfs from hanging the app for more than half a second in the face of broken network filesystems. Issue 6110

commit 87dff6eb03154536adcd00e06e2e1249802d40e4
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Oct 5 21:58:54 2017 -0700

    Update touch bar tab titles immediately when they change because of an escape code. Issue 6164

commit ec4d35f7fbeaecf9b7009e4c94456e9a155e1076
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Oct 5 21:28:08 2017 -0700

    Don't set desiredRows_/desiredColumns_ when adding a tab to an existing window. It should stay at the value set by the first tab. Issue 6141.

commit ee6673a16b356e8b810c25859414a486facc4f6b
Merge: 85222c59 af31bd55
Author: George Nachman <gnachman+github@gmail.com>
Date:   Thu Oct 5 10:52:07 2017 -0700

    Merge pull request #336 from KarboniteKream/warning-fix
    
    Fix warnings introduced in Xcode 9

commit af31bd550f303b307cc90fadb79d1c8c2916576f
Author: Klemen Košir <klemen.kosir@kream.io>
Date:   Thu Oct 5 08:46:39 2017 +0200

    Fix Xcode 9 warnings in ColorPicker source

commit 85222c598e8974036cc508ac57ac62870a88f42a
Merge: 86e1d97c ea65ed89
Author: George Nachman <gnachman+github@gmail.com>
Date:   Wed Oct 4 15:56:48 2017 -0700

    Merge pull request #335 from KarboniteKream/paste-button
    
    Fix vertical alignment of 'Paste' button in advanced paste.

commit e350f2b3d9c32f71b3dcb4b5cead830188332301
Author: Klemen Košir <klemen.kosir@kream.io>
Date:   Wed Oct 4 10:47:39 2017 +0200

    Fix warnings introduced in Xcode 9

commit ea65ed8998b23d0e9f406a99ac7ebad2fbb6ddcf
Author: Klemen Košir <klemen.kosir@kream.io>
Date:   Wed Oct 4 10:34:21 2017 +0200

    Fix position of 'Paste' button

commit 86e1d97c243f3f2688aca8df3d6a7fd93272ef4d
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Oct 3 21:46:54 2017 -0700

    Don't allow two threads to call proc_pidinfo at the same time. Issue 6142

commit c49c4ebb684a55a5f232fa995a747724f1ac40a3
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Oct 3 21:35:07 2017 -0700

    Limit blur to 24 to avoid a performance hit for some users. Issue 6138

commit 236509767debdf444094055deafabc0f38f32b76
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Sep 29 16:49:21 2017 -0700

    Allow windows to be wider or taller than their current display. macOS
    actually allows this if screens don't have their own spaces. Issue 6125

commit 1265313be80e198a5f566ea0394a88e760c516cd
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Sep 29 14:30:32 2017 -0700

    Fix multiline badges. Apple broke measuring text with newlines in 10.13.

commit 4f62651389b85ba96d99e941376b79f196839fe0
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Sep 27 22:06:47 2017 -0700

    Accept dead keys as hotkeys. Issue 6102.
    
    This fixes both deadkeys alone (e.g., ` on a DE keyboard) or deadkey+key (opt+` on DE to give '). I tested migration from 3.0 and it seems fine.

commit 6dabbd29f481bccbc149513666e8d41dd4cf8d5e
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Sep 27 21:00:50 2017 -0700

    Don't allow blur values over 26 on high sierra. Issue 6115

commit cf31428e028d17429aa19cf9a7e40ef9309fd9f1
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Sep 27 20:45:17 2017 -0700

    Fix castFrom: to return nil on type mismatch

commit c05915526f81943533363ca33ac7ea65fd0cd9ba
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Sep 27 20:41:40 2017 -0700

    Wrap-around navigation among split panes.

commit 6d8fe23264dbb3e4677f81829f039c8c65eb9762
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Sep 26 22:32:18 2017 -0700

    Reset underline, URL code, and image flag in the default character used to erase. Issue 6105.

commit c6323c3053e17466909d1b4e84ddc99d64a85e00
Merge: 8894fbd0 b9afda66
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Sep 26 22:19:24 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 8894fbd0f93d17864d71cdde2250fc18a386781e
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Sep 26 22:18:30 2017 -0700

    If no local authentication policy can succeed, then authenticate the password manager. This is the previous behavior from 3.1.1. Apparently OS X 10.11 has the APIs but can't authenticate with them. Issue 6113

commit b9afda66129e53becab825ffa0f139d73d2a9e77
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Sep 26 15:44:20 2017 -0700

    Allow disabling ligatures for FiraCode. Issue 5857

commit efef26d5779f4291949770e8ac7ec31b3584cf13
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Sep 25 20:31:43 2017 -0700

    Only use Atop blend mode for faint text. It breaks subpixel antialiasing

commit df5bce6b63f29c1fe2ce612c88c15c9d85ca5ea9
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Sep 25 20:11:41 2017 -0700

    Fix a typo

commit b5962bbd0cda7c72eaee2ed7ef931a6dbf22a2d4
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Sep 24 11:26:26 2017 -0700

    Update announcement button appearance when window appearance changes. Issue 6091

commit f75987b19ec8624ca94cfa3ca31f962da9294daa
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Sep 24 11:17:46 2017 -0700

    Disable High Sierra's system tabs, which you can get when System Prefs > Docks > Prefer tabs when opening documents is set to Always. Issue 6096

commit 588845f33260f6ccbc1a7225be211821a78f1cb4
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Sep 24 11:06:06 2017 -0700

    Add advanced setting to make scroll wheel response very sensitive.

commit 289f3183e90d61870f33133683efe76352a9d1da
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Sep 24 10:28:10 2017 -0700

    Ignore new control mode notifications in tmux 2.5. Issue 6093

commit f5015c4ba8ee9aaed0cd741b78b2eb21d27f448e
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Sep 24 10:16:37 2017 -0700

    Detect tmux 1.8. Do not attempt to recycle directory since it doesn't know how.

commit a7b946be3bd36bf16c885c74a9aa625e81323100
Merge: ce69289a 73f11d32
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Sep 23 15:57:53 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit ce69289a55b2df64c37d06b3db00f64044ff3503
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Sep 23 15:47:07 2017 -0700

    Reduce log levels of various log statements

commit e164227c9912dae876645fb11f59740d4cba4dec
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Sep 23 15:45:11 2017 -0700

    Fix a crash when the app support directory couldn't be found and crashlog the reason

commit 9852cc82ddfe5b07f0d47bf16d4916fc54c29432
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Sep 23 15:40:41 2017 -0700

    Avoid crashing when getting an SCP path for a file that has scrolled off

commit e939dc0cc8d1d88ed0e9eaf2f44184b96daec1dd
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Sep 23 15:37:01 2017 -0700

    Fix a crash when you do find-next or find-previous and the result  has scrolled off.

commit 111fcc90bfdb8941d94e7a4efec739d18888e719
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Sep 23 15:23:45 2017 -0700

    Fix a crash when a profile has a nil name. Not sure how that would happen.

commit 5f259fe308aff5683fd8974aa68f066b436833fa
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Sep 23 15:21:36 2017 -0700

    Fix a crash when copying with styles.
    
    Add +[NSObject castFrom:]

commit 73f11d3278a49c1456947f0920f7ff66aeef578b
Merge: fe3d97ac 1135b0d5
Author: George Nachman <gnachman+github@gmail.com>
Date:   Sat Sep 23 14:37:11 2017 -0700

    Merge pull request #333 from grimreaper/eax/typo/minor_sessions
    
    Fix a minor typo

commit fe3d97ac5a6a2a939cc30969500bba37a008d3fe
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Sep 23 14:30:02 2017 -0700

    Make the division view between the titlebar and the terminal content dark in dark themes.

commit 58944bf27f9ed969da59a92d16689fe5f01c44f7
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Sep 23 14:18:41 2017 -0700

    Fix a bug where thin strokes be used when the setting was "dark background" or "retina + dark background" even when the background was light because the background color didn't get passed through since we dididn't want to split up ligatures on background color changes. Since the thin strokes setting means the foreground depends on the background, the background color must be passed through and ligatures will be broken if the background color changes within them. Issue 6027

commit c227537848bef3b9e8d15f094198bb0d06ca6aeb
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Sep 23 14:00:35 2017 -0700

    Fix blend mode so faint text does not punch through the window. Issue 6074

commit 1135b0d522f5b35fa4b8964fe181b2c18923c5d5
Author: Eitan Adler <lists@eitanadler.com>
Date:   Fri Sep 22 23:57:02 2017 -0700

    Fix a minor typo
    
    This is a minor typo in the advanced prefs UI

commit 4132f4cd4c745116d3a349a94a15493e263c3d8f
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Sep 22 22:14:45 2017 -0700

    Make selected colored tab box more subtle

commit 8cb0a7d146d9a7a398ec4dd58fba5ba487197502
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Sep 22 21:47:49 2017 -0700

    Make background single-use commands use system() instead of opening a short lived window because it goes nuts when this is done in a fullscreen desktop. Issue 6033

commit 0aae5e7c25dce979202a18575336c63ec1e48d88
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Sep 22 15:08:29 2017 -0700

    Fix bug where tags weren't visible in toolbelt profiles list because the cells weren't tall enough because nstableview is a big old mess. Issue 6056

commit 3f99c189f5a0125a26d9db1164e6fa1c3fb08a88
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Sep 22 14:56:05 2017 -0700

    Turn off experimental keyboard handling by default. Issue 6052

commit ca3ebbb3eb17a820099ad4c51e0cae73e333664f
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Sep 22 10:19:36 2017 -0700

    Halfwidth katakana voiced and semi-voiced sound marks are not treated as combining marks by Terminal. I don't really know why; my only guess is that japanese text should be rendered monospaced (TextEdit does) but when these marks combine they don't become double-width, so things don't line up as you'd expect. The solution is to force them to be base characters. Issue 6048.

commit c7a08b081e1235d3076efebb7a73910141e87b7d
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Sep 22 10:19:18 2017 -0700

    In LSUI mode the menu bar doesn't hide so don't make fullscreen windows go all the way to the top of the screen.

commit 23c1c5da1c5e4b62d8751725d30d01969c1aeb7c
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Sep 22 09:18:21 2017 -0700

    Add an advanced pref to disable the status bar icon. Issue 6047

commit a89e0e3bf8e6a8c794085e860e86aed306df3164
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Sep 21 21:28:28 2017 -0700

    Make sure lion full screen windows restored from an arrangement open on the proper screen even if the screen's frame doesn't match what's in the arrangement. Issue 6043

commit b3b02933620432a16b26b581b25b2d483f840ef5
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Sep 21 20:14:43 2017 -0700

    closeSessionWithConfirmation: would always close the current tab if a tab was to be closed. This was only visible from scripting. Issue 6029.

commit 8ac04c1c6154b0341e7366ad944eef7f99154d94
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Sep 21 14:23:41 2017 -0700

    Add arcs, diagonal lines, and X to box drawing. Issue 6076.

commit 783a8ba9d76b2ae63857e02f16ab981faff80b11
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Sep 21 10:04:09 2017 -0700

    Fix how authentication is done for the password manager.
    
    We should not have requested biometric authentication, since device owner
    authentication includes biometric. Device owner is better because it gives
    you the option of using password auth (e.g., if your laptop is closed).

commit c1c79836b768f70dc46a322bd36c8b3ec43a09f6
Merge: 427e8e50 ea39940f
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Sep 20 22:47:21 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 427e8e504a535d7ff7980c08ae684e9016075a57
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Sep 20 22:47:11 2017 -0700

    Fix travis osx_image

commit ea39940fa0fe6db01538e14ff258cf72e46063b8
Merge: 6420d5a6 33ccaf61
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Sep 20 22:35:44 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 6420d5a60057152f3ada4493412ccaa71c29f275
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Sep 20 22:35:36 2017 -0700

    Add substitution back to version.txt to fix nightly build

commit 33ccaf61e34ef32ffc9d6b2be5dd218f6bb55f51
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Sep 20 10:05:38 2017 -0700

    Fist swipe at removing DNS code

commit 9eed17c4871032d2fa2cc19734820d1755fa72eb
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Sep 20 09:56:58 2017 -0700

    Fix a bug where a hotkey window that has only a double-tap but not a hotkey
    will open when you press 'a'.

commit c09316ed3e6605780793a6a478d11914d544a3e2
Merge: 101698bf d40c14de
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Sep 20 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit d40c14de61c1574a58780967afd3c17583b33cd8
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Sep 19 22:46:48 2017 -0700

    3.1.2.beta.1

commit 0a1e040c30fb196649c201e4d81d96686774ac92
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Sep 19 22:27:32 2017 -0700

    Bump travis to xcode 9

commit 17c432d43d59d62a7b0d060e0d7e3e587a8f33ef
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Sep 19 22:26:53 2017 -0700

    Fix warnings new in xcode 9

commit ab2a7c9b5798fcaed126a5827da6f5f6075b9c15
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Sep 19 21:45:34 2017 -0700

    Move 'blinking cursor' out of the way of the cursor radio buttons. Issue 6046

commit 910a2f25cd94e32515280ddba02d1961a27109f9
Merge: e7e8f161 1c5f3949
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Sep 19 21:40:10 2017 -0700

    Merge branch '3.1.2'

commit e7e8f1619e6eeb4de7ba05ec9394969595c9e032
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Sep 19 21:39:33 2017 -0700

    Change release_stable to update the htaccess file for the latest stable download

commit 01686dcd8c0e2eaa65c0f42f819aa0b97f246dc1
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Sep 19 14:37:36 2017 -0700

    Disable DNS lookups on hover by default. Issue 6050

commit 55a4d6a2243ecc9e3d0b08d56f0c9437072efd10
Merge: b74c8b0d 64cc557e
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Sep 19 14:36:43 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit b74c8b0d7249379d3bc817f21cf3292f63e3c650
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Sep 19 11:02:21 2017 -0700

    Use unicode.org's list of IDN characters instead of alphaNumeric characters as the list of legal URL haracters, plus those in settings for various punctuation marks like / which can occur in a URL

commit 64cc557e25ba7f78e43f0f41cfc4f3e78f479fb4
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Sep 19 14:01:21 2017 -0700

    fixup

commit c6543c4d5c2d8ec01103ab506d48916cf9bc74e8
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Sep 19 11:02:21 2017 -0700

    Use unicode.org's list of IDN characters instead of alphaNumeric characters as the list of legal URL haracters, plus those in settings for various punctuation marks like / which can occur in a URL

commit 90af03c6a3fc9de22e07f93d9f3ebaa2f33f9994
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Sep 19 09:24:04 2017 -0700

    Move a bunch of formerly experimental advanced settings to new homes. Turn on password prompt detection by default.

commit 97e973ef8848b92ae44051a60ef4df0993ecef02
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Sep 19 09:06:35 2017 -0700

    Enable double-width character line cache and number-of-lines caching by default for everyone (used to be on by default only for nightly build users with random correctness checks, but the checks have been passing for a while with 0 assertions)

commit 099e36bc96a93b34b3dcb834b5702f8a532894f7
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Sep 12 22:23:27 2017 -0700

    Don't assume that the mouseDown preceding a mouseDragged had coordinates that can be compared with the drag. Require two consecutive drag events. Issue 6023.

commit cd0a5480e8c7c20b56c87a2be9a9d0b2940c8335
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Sep 19 08:47:21 2017 -0700

    Restore hotkey windows' screen setting from arrangements. Issue 5627

commit 101698bf80170f5b97037006a165bf6821d6c85e
Merge: 98878b5c 58211e02
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Sep 19 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit af685cec6a4d38c67da8b90418bfd592435c2408
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Sep 18 21:46:15 2017 -0700

    Add script to create a stable release

commit 1b30ef2eac5df6247fff7c28c2d883bf4d7b6237
Merge: 691b458e 58211e02
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Sep 18 21:30:14 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 58211e02dc40e50616dbfdccbcd6ac82630fafd1
Merge: b786988a 5c82286e
Author: George Nachman <gnachman+github@gmail.com>
Date:   Thu Sep 14 21:57:28 2017 -0700

    Merge pull request #330 from ryan-petrich-mpf/patch-1
    
    Fix "Connect anyay?" text in SSH authenticity prompt

commit 98878b5ce9db31e2d7082e9ba82834ea51b888b9
Merge: d949ffe3 b786988a
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Sep 13 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 691b458ec317862e094be267f12de23a8276acc9
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Sep 12 21:16:41 2017 -0700

    Update release_beta to avoid problems

commit b786988aa3004c48ac4b061af83e852b456f2682
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Sep 12 21:12:58 2017 -0700

    3.1.beta.10

commit 5c82286ecc6946344d2dffacee6b801716c510da
Author: ryan-petrich-mpf <ryan.petrich@medialets.com>
Date:   Sun Sep 10 16:47:59 2017 -0400

    Fix "Connect anyay?" text in SSH authenticity prompt

commit d949ffe3ddbf8b65d6934afbc4cd4d25c0dc3a70
Merge: f6be6b8f e19c58ea
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Sep 9 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 1c5f39496e9859af09cb848dad16b952e3bddc7e
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Sep 8 16:35:35 2017 -0700

    Add ability to copy password from password manager

commit e19c58eaffaf870c58a3d9ce55065433b9d0dce7
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Sep 8 16:30:49 2017 -0700

    Don't try to open the password manager sheet when it's already open. Leaves dangling references to the released window controller. Issue 5983

commit f6be6b8f4da34ed9541438c7fa0b94fe390ded63
Merge: c125bc5e 9937fd32
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Sep 5 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 36b6d305044b7da0b6d951a265a755f5e0615caf
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Sep 4 22:24:04 2017 -0700

    Improve docstrings for hierarchy.py

commit 73ea49568759325ee1b73a6daae1f00d5ce64e57
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Sep 4 22:18:34 2017 -0700

    Manually removed private stuff

commit 80f38905abdddddc81ca7b5a186763eccd35dbe7
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Sep 4 22:11:24 2017 -0700

    Working docs for everything including private files

commit d679b5e501f69e44768c43dba9a94acfc0c185fc
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Sep 4 22:07:20 2017 -0700

    Fresh docs folder

commit 10e0e3d7c09a19cbcfb54573328ac205a54e35ed
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Sep 4 21:59:50 2017 -0700

    Add convenience makefile and skeleton docs directory

commit b5f9f63233993dd6ce8bc924e09785d8982592e3
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Sep 4 21:57:13 2017 -0700

    Use underscore prefixes for private files in the iterm2 python module

commit 0703ba7b06c196743dc608de4380e607762a7175
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Sep 4 21:32:24 2017 -0700

    Move private python module code to the private subdirectory

commit 9ee5285dc5824c5af502ce8d18c4df9a2c7a250c
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Sep 4 15:29:03 2017 -0700

    Do some refactoring to the python API.
    
    You now do iterm2.run(f) to run a function `f` within the iterm2 context.
    
    Add session.read_keystroke()
    
    Refactor various classes into their own files

commit 9937fd320d0febffa386774decd504113f7eff3f
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Sep 4 10:40:53 2017 -0700

    Don't go into an infinite loop when trying to convert positions with w idth of 0. Hopefully fixes issue 6005

commit c125bc5e311ed2384a2ca41723dd184dad1c4522
Merge: 6647f6c7 c5c7b1d4
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Sep 4 00:05:02 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit c5c7b1d444b1f087726d2b1058a8dbb0ea0ca5a7
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Sep 3 16:48:45 2017 -0700

    Beta 8 does not have crashes in OffsetOfWrappedLine. Increase testing fraction to 10% since I haven't seen any crashes yet in the nightly build

commit 6647f6c71773cbc47d7b27c384c855d283cdaeea
Merge: b3a73558 652db390
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Sep 3 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 652db390dd680c9c3850a87a1db7eebbf34be2b6
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Sep 2 10:38:52 2017 -0700

    Don't search more than 500,000 cells in a very long line to avoid hangs. This is tricky to split up into multiple searches since lines can change.

commit dc2295ebf73a95cbabd2f7e742b5478a5af11d20
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Sep 2 10:10:08 2017 -0700

    Update travis goldens more more dimming tests that got fixed recently

commit 9077b9249b0f217c97adc8673093b82621d33fca
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Aug 1 22:16:34 2017 -0700

    Move cadence management out of PTYSession and into its own class.
    
    Refactor timer stuff into a single file.
    
    Defer decreasing the frame rate until the next frame is drawn to try to avoid issues like 5928.

commit 40ee7b464f2a819afb7b68df905fb765c6b50d03
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Sep 2 09:08:35 2017 -0700

    Turn on zombies in debug builds

commit b3a73558a083d131dc40944abe42935b61c37657
Merge: fbf6cf10 98276b8e
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Sep 2 00:05:00 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 98276b8ef1f05811648842dcbdf8cbb8467e60a1
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Sep 1 22:04:56 2017 -0700

    Improvements to double width character cache.
    
    - Enable it for nightly build users
    - 1% of lookups are checked for correctness, leaving a crashlog on failure
    - Clear the DWC cache when dropping a line. I beleive this was the cause of the assertions in beta 6 and 7.
    - Make the check for nightly build faster

commit fbf6cf1048dcb91f1982ce3fef02d79ca0b7dbcc
Merge: 16cdb4fe a15db16e
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Aug 30 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit a15db16ed868bb592c6610d98132a2a5f967c9c2
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Aug 29 22:02:42 2017 -0700

    Update tab bar sanity check to log when dragging ends (it was called too soon) and to log more info. Issue 5055

commit 01e929e16e62e13e245eb9e78be79c5e28e801e5
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Aug 29 21:09:49 2017 -0700

    Make travis pass. Goldens look fine

commit 7a34f42c04fb57ce591f53a05966b08ba685cfe4
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Aug 29 21:01:13 2017 -0700

    Update tests for dimming bug fix (I had incorrectly accepted broken tests)

commit 16cdb4feea001bae173821dc6c368af8579c18d5
Merge: d352e22b cb805653
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Aug 29 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit cb805653366e8c25908458fd4cdbceb7a7a122b6
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Aug 28 22:22:19 2017 -0700

    Fix a bug where dimming did not affect foreground colors. Issue 5990.

commit 629fb688d6d08de4914406444e93b598721b287b
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Aug 28 22:06:57 2017 -0700

    Don't log all sendAction: calls because it crashes a lot when formatting the string. Maybe some kind of object has a bad -description method.

commit d352e22be3d92a2a14e2fee23e5914285b7634f3
Merge: e93b8186 9125a733
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Aug 25 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 9125a7334f809a502a06cb4e622c65419d01016a
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Aug 24 21:16:04 2017 -0700

    Make the outline used to indicate the selected tab less ugly when there are colored tabs

commit e93b8186f540edbe12e8dd4994203adae248228c
Merge: f723c797 1efea8cc
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Aug 23 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 1efea8cc6f1c3543d5d5054d230de87001540932
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Aug 22 22:37:35 2017 -0700

    Disable number-of-wrapped-lines cache. There's a very common crash in OffsetOfWrappedLine starting in beta 6. This is the likely culprit. Issue 5980

commit 9a8b260109daeb07e64658c063d8f34c541e2875
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Aug 22 22:08:11 2017 -0700

    Revamp command line parsing. Now it supports single quotes and has fewer bugs. Issue 5979

commit f723c797780847c34d1f6ebcce176d0acdcb7680
Merge: b4ecb898 d5fd87dc
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Aug 21 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit d5fd87dcd2b3b7d99d7c788b37440840817c88b0
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Aug 20 21:21:58 2017 -0700

    Allow saving, copying, and inspecting broken images from imgcat. Issue 5971

commit 3983a3b234ff3e9454bf80e9348952c5117e3a86
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Aug 20 21:13:12 2017 -0700

    Update tests for using core graphics across varied backround colors

commit 93d4f22e351a8afba102376a7db4297a21b797f3
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Aug 20 21:12:51 2017 -0700

    Disable ligatures-across-different-backgrounds when muting is in use (cursor boost and dimming use this). A background color is needed to compute the dimmed value.

commit 5db330e16161bec86bbf243c237501cd26f5370a
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Aug 20 16:32:25 2017 -0700

    Don't allow saving broken images, as it just saves the broken image icon. Issue 5971

commit 9a0a5a8e4688173d58578edd8b1ee4b36a248796
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Aug 20 16:31:48 2017 -0700

    Fix a bug where left-aligned images got their leftmost columns truncated.

commit b4ecb898ae441db09cdba28eb36b52f3f0edbe13
Merge: 3a2d830a 8b4ab10a
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Aug 14 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 8b4ab10a2f69faca8a0bc91f0f5eee5541df6120
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Aug 13 16:03:16 2017 -0700

    3.1.beta.7

commit 3a2d830aa8114563bb8e21fa64d0be771856685b
Merge: e8c1c2d5 e802c952
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Aug 13 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit e802c9529255be4595c83967e381822815c1e31b
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Aug 12 22:03:10 2017 -0700

    When copying with styles, copy inline images too.

commit 40ad7e6b223f277ddb3bf852d1e6824641979b11
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Aug 12 14:33:11 2017 -0700

    Fix a bug where numberOfEquivalentRows was always 0 when minimum contrast is 0, which caused text to have the wrong foreground color.

commit c57437f4b78fc7a653a82b8aa95c94e7c7d5e523
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Aug 12 13:52:16 2017 -0700

    Add an advanced pref for vertical bar cursor width.
    Issue 5961

commit 6dcd66d8037329691d357b768be2b60ce3a9d91d
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Aug 12 13:39:17 2017 -0700

    Fix a bug where the cursor type buttons all had tag 0 so you couldn't change cursor type. Issue 5957

commit e8c1c2d59df1bfd1c7220b35f2921ec0abc78a6e
Merge: c139b830 4bea4c4a
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Aug 11 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 4bea4c4adc8eb85a6bec0c58c66514522f897c3b
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Aug 10 21:59:10 2017 -0700

    Gray out non-selected tabs when colored tabs are present. Also make the outline black-white-black or white-black-white. Trying to improve visibility of selected tab.

commit c139b8304e420e419fcb4d193be0db2d7f70d1ab
Merge: 3c75d3f5 be33d4c8
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Aug 10 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit be33d4c8c6fa272504400cfc6c73a70a0c34ca6c
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Aug 9 21:54:06 2017 -0700

    Make tab labels black and white when any tab has color. Make the outline always stark white (with very dark tabs it ended up the same color as the tab bar lines). Make uncolored tabs have a white outline.

commit 609f66f7a16cb31db82193c0b1b20d105f9d0d8d
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Aug 9 21:49:44 2017 -0700

    Make selected color tabs a little more prominent.

commit f5b219ab14c428fda837ec0d9d255eeb9a3c2821
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Aug 9 20:40:24 2017 -0700

    Trim trailing slashes from the initial working directory, unless it is "/".
    Fix a bug in stringByTrimmingTrailingCharactersFromCharacterSet:, where it should have removed everything when all the characters in the string belonged to the set.
    
    Issue 5950

commit 6c07918d719ce69185e0eb9819842c3e9c66ed30
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Aug 9 20:40:02 2017 -0700

    Make the orphan server adopter log to the debug log, not the console

commit dee788f6aef4cd433195d717aad684fb657f1811
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Aug 9 20:11:04 2017 -0700

    Use App Support/iTerm2/Scripts if it exists, otherwise use App Support/iTerm/Scripts. Issue 5948

commit 89951c2db1f1a56d602c80a96df570feaddb5b73
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Aug 9 20:10:26 2017 -0700

    Change signing identity back

commit 2ff34d7ef98a37a3a068f910241bc04536a2d4cb
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Aug 9 19:59:20 2017 -0700

    Restore currentTerminal, accidentally removed in 78cba9bea7d89f12ff5982635671e19d9a69fa54. Issue 5959

commit 3c75d3f5ccb5db963d0e54703f5047c10297c64c
Merge: 6f4ddfde 3fd773ec
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Aug 9 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 3fd773ec804bf8fc747b2969bada459248d45d03
Merge: e497fd30 78cba9be
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Aug 8 21:34:44 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit e497fd303a01f12451f8d609b50ce465e6befc21
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Aug 8 21:32:44 2017 -0700

    Get rid of the ugly gradients used with colored tabs. Draw a light outline around the selected tab if any tab has a color. Issue 5799.

commit 78cba9bea7d89f12ff5982635671e19d9a69fa54
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Aug 8 13:47:59 2017 -0700

    Remember the last selection. Make paste from selection use that instead of
    searching all sessions with current selections for the one whose selection
    was created most recently. This way even if the selection is emoved, you
    can still paste it. Brought up in email, subject line "Keep selected text
    in buffer until I select another text (like Mac terminal does)".

commit 6f4ddfde24c7c8fb8c1105b24eec6df04c5348da
Merge: a450cad6 4eefc2a3
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Aug 8 00:05:02 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 4eefc2a3a533a56d17779d67c9362db572613467
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Aug 7 22:29:29 2017 -0700

    When minimum contrast is 0, don't break ligatures that have different background colors. Issue 5947

commit 7b5eae71c1b4ddeae911d3c6c3d61127d5a4f8a6
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Aug 7 21:54:19 2017 -0700

    Accept services that want us to send a plain text selection as input.

commit a450cad6d28503a347edb20f9197cf6145ea57cc
Merge: f01a355a a13244a2
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Aug 7 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit a13244a23be0499811237ac1faab0b3e9d53f1d3
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Aug 6 22:06:50 2017 -0700

    Improvements for services. Only validate services that don't expect us to send data, unless we have a selection. If we do have a selection, it must take plain text as input. likewise, the service must produce no or plain text output. If it does produce output, call insertText: with it.
    
    Issue 5942

commit 7e60ad38e5ddf768dcb2e57b807d718c2e79fa6d
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Aug 6 21:41:19 2017 -0700

    When you perform a new search, begin the query one character in front of the find cursor. That way if the new query should match at the same starting point as the currently highlighted result, it will simply extend it. I think I broke this because it only worked by accident before and I made SearchResults make sense recently. Issue 5949

commit f01a355a232bc3294061f9315778ccec23fc3281
Merge: 1d334b07 c8a8042b
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Aug 1 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit c8a8042b07ebde9f680f5e63e058ce2b6e18bd62
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jul 31 21:25:17 2017 -0700

    Allow more services (those that do not produce input and those that accept input) to appear in the services menu. Issue 5942

commit 1d334b0788b2a009361cf0d9704506cc61699eff
Merge: 356fff39 811f0c5e
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jul 29 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 811f0c5e0dfea7736635d60fe0a9a2f95211e20e
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jul 28 22:27:57 2017 -0700

    Fix a bug in regex search where a regex like xa* would return multiple search results against a document like xaaaa (xa, xaa, etc.). Now that search results are properly sorted, this causes strange behavior. For example, only part of a match might be selected. Now, we ignore results that are a subset of a previous result. This works because the search progressively shortens and re-searches the document (e.g., xaaa, xaa, xa, x). Issue 5937

commit 356fff39d2418b9b91b1da6c444f73d9420ed916
Merge: c88e552a 46fe3ca0
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 27 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 46fe3ca0ee500dfdffe33037050f5fb4c41cf21c
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 26 22:13:31 2017 -0700

    Fix a bug where coords and content would not be in 1:1 correspondence when an url action is found and hard newlines are ignored (set by an advanced pref, which is not the default setting). Remove the corresponding coords as well as the newlines from the string. Issue 5929.

commit 756ed28dc3d274924f6812a23d8afe4f83096dae
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 26 09:37:27 2017 -0700

    Fix a bug where triggers would highlight lookahead matches. Only the first range needs to be highlighted. That's the range of the string that matched the pattern. Additional ranges correspond to captures, not all of which are necessarily contained in the first range. Lookaheads fall outside the matched range and should not be highlihgted. Issue 5934.

commit c88e552a645db7794dd7df6eca74f6cc155e455b
Merge: aa63fdcf 535b7358
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 26 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 535b7358a8429deb6c56b9ddd0d96674df3592e8
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jul 25 22:21:04 2017 -0700

    Fix a bug where the newline policy kiTermTextExtractorNullPolicyFromLastToEnd would include a leading newline after removing text prior to a null. This caused URL actions to detect a region that began one cell early. That null policy is only used in URL action detection.
    
    Issue 5929

commit aa63fdcfd73b3e6513df353c9a622a015c581fb7
Merge: d4bc772a 54a0c989
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jul 25 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 54a0c989369b047012b887e423501cbc5e65cbff
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jul 24 22:30:13 2017 -0700

    Change how adjacent sessions are found. The previous algorithm could loop forever if things weren't laid out correctly, and I think there are subtle bugs in how the split views' subviews get laid out.
    Issue 5932

commit 1ef1e6e3227b9a836c13cd422f75ae1a4c7e1c72
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jul 24 21:28:22 2017 -0700

    Add some critical errors to catch issue 5932

commit d4bc772a77e41789f7d7133d7d45005c7875923d
Merge: 967b4579 71c71dc0
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jul 24 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 71c71dc0bb4b12bbfec90bb44a41e1ab645ce1cd
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 23 17:48:18 2017 -0700

    Add new thin strokes settings to enable it with light backgrounds. People who had Always or Retina are migrated to With Dark Backgrounds or Retina and Dark Backgrounds, respectively. Issue 5910.

commit 967b45795a12eb71b1d141d017ab036aa51e95e5
Merge: dac555c4 be900867
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 23 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit be900867d4e3ca4a1b0499cb551e95db6db2bea9
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jul 22 11:19:28 2017 -0700

    Make the app hotkey remember the previously active app so it can switch back to it from a lion fullscreen window. Issue 5925.

commit 784dcbfbee551d0db1cabc7fd0e5c6beadcf9e57
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jul 22 10:24:16 2017 -0700

    Respect changes to the preferred screen of a profile with an existing hotkey window. Update the window controller's copy of the preferred screen setting. Only hotkey windows are affected since other kinds of windows do not move from screen to screen after their initial creation. Issue 5923.

commit dac555c4ff41c3d47e187455119701b92f8dd0de
Merge: 29d8741b c67051d1
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jul 17 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit c67051d19907e77be670fa04d22d8d5710a0fc62
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 16 18:05:05 2017 -0700

    Update tips of the day for 3.1

commit b193b3e83e6b639ce831b1ec130c9afafcbf450e
Merge: 1a9c987f 4364423d
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 16 14:35:04 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 1a9c987fff92e1a365f5703cbcc693d5a7ad5477
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 16 14:34:46 2017 -0700

    Add an advanced pref to allow fast but poor quality combining mark rendering.

commit 4a254fe21010e39ebc50a91faf87319f3716be79
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 16 14:29:41 2017 -0700

    Disable the zippy text drawing algorithm for cells that have combining marks or surrogate pairs. CG draws combining marks really badly; core text is slow but much better.
    
    Disable fastpath drawing for box-drawing characters.
    
    This should fix the failing tests.

commit 4364423dd9e48c593ee568c16b347ba20b6d8968
Merge: 8bcb2752 55cd1ae6
Author: George Nachman <gnachman+github@gmail.com>
Date:   Sun Jul 16 13:45:34 2017 -0700

    Merge pull request #329 from hzhu/contrast-interface-typo
    
    Fixed typo in "Minimum contrast" slider.

commit 55cd1ae646c4f32043deafa3066b04acf015a5da
Author: hzhu <hz@henryzhu.me>
Date:   Sun Jul 16 01:34:28 2017 -0700

    Fixed typo in "Minimum contrast" slider.

commit 29d8741b7b2ad09a21b409bd2d297549545c8754
Merge: c503e9f7 8bcb2752
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 16 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 8bcb27526dcd347fd410eb7c65a45ae0c86d7086
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jul 15 15:17:47 2017 -0700

    For key actions that open a menu item, modify the parameter value to include a unique identifier for the menu item. Previously the parameter value was the title. That was bad because renaming a title would break an existing action. Titles are also ambiguous because they're duplicated between Restore Arrangement and Restore Arrangement as Tabs. Parameter values now may take one of two forms:
    
    Title
    
    or
    
    Title + newline + identifier
    
    If an identifier is present and the OS is 10.12+ (which has proper identifier on menu item support) then the title will be ignored when searching for a match.
    
    Issue 5914.

commit e719c0858f6cf97533dab2809afe7340cac801fd
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jul 15 12:58:04 2017 -0700

    Fix a bug where the first scheme in the list of URL schemes was not selectable because NSMenu is stupid. Issue 5897 (in a comment)

commit abf78064de7def250ed76df9b6218a83cf95c324
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jul 15 12:34:15 2017 -0700

    Add a context menu to the password manager with a Reveal Password item. Double click always sends the password now. Issue 5912.

commit 34fbdb603ddbd169cd07c1165edaf065de1cde20
Merge: c67ac35d 3bcb5751
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jul 15 12:22:06 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit c67ac35d3f8ba8b4d1bd4d8763bc72eb894c32f2
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jul 15 12:19:02 2017 -0700

    Refactor event taps. Fixes a bug: if we couldn't register the keydown event tap for lack of permissions, we also wouldn't register the flags-changed event tap (since we want all remapping to happen in sendEvent:). But that broke double-tap to open a hotkey window. In this commit, there is a separate object for keydown vs modifier changed event taps. The modifier-changed event tap is shared between the modifier remapper and the hotkey code. If we don't have permission for accessibility, the modifier remapper knows it and remapping goes through sendEvent:. It seems we can always register the flags changed event tap. Issue 5911.

commit c503e9f79e213d32ffdef7b69d7958e94d9eed15
Merge: 63bca277 3bcb5751
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jul 15 00:05:00 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 3bcb5751fcfceaf25a91bbb80369f8d7d13a791d
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jul 14 15:06:31 2017 -0700

    Fix button alignment

commit 63bca2774a681e4ae2ca4f85d24cf356678838cf
Merge: 10526033 08245e34
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jul 14 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 08245e344487b900e096c38fbd07095cf594fe8d
Merge: 87845c67 219b7b49
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 13 22:21:40 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 87845c67213edfc615f3d918131a1202f89fd2db
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 13 22:21:16 2017 -0700

    Hold option to scroll into history while in alternate screen when scroll wheel is in send-arrow-keys-in-alt-screen mode

commit 219b7b49b67082a3a431e9fc5cd1d61510b47bcf
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jul 11 13:15:14 2017 -0700

    Move ligature checkbox left of anitalised checkbox to avoid having a big
    hole.

commit 693a458fa54d302463c4a2425987dbc933a6f039
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jul 11 13:11:58 2017 -0700

    Disable ligature checkbox for blacklisted fonts.

commit 105260337a32cb0b13c5b165d015f82393a07fa1
Merge: a6bbf87a 4913bed7
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 12 00:05:00 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 4913bed7d2dc4a02ad559b7bed9dab11317ff8c1
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jul 11 21:57:08 2017 -0700

    Add support for using the numeric keypad to change tabs with cmd-number. Issue 5904.

commit af4dc83ee872e16f5453d80bb3e3bddd8f005f74
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jul 11 21:37:39 2017 -0700

    Fix build on 10.12 sdk

commit b21668225efac008847511c20a1af726b5e652cc
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jul 11 21:34:12 2017 -0700

    Disable ligatures by default. Performance sucks using core text and I don't see a way to improve it without using all kinds of private APIs. The only difference I can find between us and Terminal is that they have a very flat view hierarchy. They don't use NSScrollView. I can't ditch NSScrollView because I can't cobble together a frankenstein from its parts the way Apple can.

commit 41b8de6df667854899eed1bfba025f74ce25b07d
Merge: 6883ae37 32c35d69
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jul 11 21:31:40 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 6883ae37ccd5422aebc54b6acc8a939d3c85d3e2
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jul 11 21:30:40 2017 -0700

    Register for the keydown and flags-changed event taps separately. If you lack accessibility permission then the flags-changed event tap succeeds and keydown fails, but it doesn't let you know. This means you don't get modifiers remapped but the app thinks they are getting remapped since an event tap exists. Issue 5902.

commit 32c35d694709f06985a57dba6489fbba82f4bcd5
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jul 11 09:58:02 2017 -0700

    Prevent the system fonts from taking the ligature code path because it's
    slow, these fonts are commonly used, and they never have ligatures. I still
    need to update the UI to hide the ligature box for them.
    
    Also simplify how we detect ligature level 2 fonts, which are all Iosevka.

commit 1ba07878ecce13e3915f2db2ed2b323db554dcfe
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jul 11 09:44:16 2017 -0700

    Fixes for XCode 9, which makes publicly declared SDK ivars private.

commit a6bbf87acf09ea0f564b86226ac8f9de1113c450
Merge: 4c5fecd5 b92c5a93
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jul 11 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit b92c5a93cb6f9b9a805b5a9603f50b3aec6549a4
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jul 10 22:39:24 2017 -0700

    Fix bug where Applescript 'current window' would crash if there was no current window because the _underlyingWindow would be nil.
    
    Issue 5899

commit 4c5fecd5f84cbf6a9a5b51e6680b4d716aec930d
Merge: 0e16d544 3a0552d1
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jul 10 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 3a0552d11147aebebee966b4404fef73ecf64145
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 9 16:28:33 2017 -0700

    Don't try to make the window content size an exact multiple of cell size when standardizing the frame. This causes too much confusion for little benefit. Issue 5892.

commit 0e16d5441d858c66c01ba23c3a702347ef18443f
Merge: 4dc2d27a 9b8e9476
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 9 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 815a9585119f84fc0ea5da39959e0b692fecb43b
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jul 8 15:20:41 2017 -0700

    When you tap the touch bar button to view a man page on a command that does not have a man page, man will return an error. The window would close immediately. Modify the default man page command to wait a few seconds on error so you can see what went wrong.
    
    Issue 5891

commit 9b8e9476fa760a1b06f11aaacc007cdce2acae6f
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jul 8 15:01:00 2017 -0700

    Fix a bug where a buried tmux gateway could not relay title changed notifications to the proper PTYTab because it lacks a delegate.
    Issue 5890

commit 4dc2d27a81300cb006885834f4e53fa9f2ee9717
Merge: 68bf6f07 ae673787
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 6 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit ae673787e8d97e7c696302c60608c7e229fe17fc
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 5 21:15:51 2017 -0700

    Fix failing tests.

commit e0938e64a1baef0526ce0d8dab8c360d7c959914
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 5 21:04:06 2017 -0700

    Make a copy of the raw line block data in -[LineBlock dictionary]. It looks like OS 10.13 needs the data in the coder asynchronously. This was always a risky optimization. It used to work because nothing could be mutated between willEncode and the actual encoding, but it seems that is no longer the case.

commit a52f8deab2fadb65155248764529d0527658c50d
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 5 20:50:42 2017 -0700

    Prevent text extractor's line cache from outliving the vcall to performBlockWithLineCache, which caused a test to access freed memory

commit 86c1aefb839878fa1b1cbea3811c036a2b25ae87
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 5 20:15:36 2017 -0700

    Avoid hitting window title change rate limit when the title isn't changing. Issue 5876

commit 68bf6f07f7ce10a6f7a0e2c23758828ce2c9eb94
Merge: b5972742 4bde161c
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jul 4 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 4bde161c0ff86da0cc34212ac82b15f2f91bf245
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jul 3 22:20:02 2017 -0700

    Mask two cells for double width characters being drawn over a box cursor.
    Issue 5884

commit c3d2d4326376b47e100ab0228eaf75eb9ef2d64f
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jul 3 21:55:54 2017 -0700

    Show a warning if the shortcut to toggle the app is the same as the shortcut to toggle a profile window.
    
    Also fix a bug where duplicate warnings wouldn't be shown if some irrelevant modifier flag bits were set.
    
    Issue 5882

commit b59727427cc2a3ccf360b6ceea1c7ca32482c72f
Merge: df2981a5 20c0c6a2
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jul 3 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 20c0c6a26c2f3e8c08f9e4cb844818d176b684a2
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 2 14:21:28 2017 -0700

    Remove debugging statement

commit 429b76a6d407510d9fc22eec3a32d8a030f3213d
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 2 14:02:33 2017 -0700

    Remove the lag from updating the window title. Issue 5876

commit 90909b4ae9ae21e518e0bb09aa1b0019c2610509
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 2 12:06:30 2017 -0700

    Tmux 2.1 and earlier throw an error when you give new-window -c a bogus directory. Improve our error reporting in this case and in all cases to show the command response.
    Issue 5847

commit 862448da815e08431669f12a5d32d7f9bb1920eb
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 2 11:40:34 2017 -0700

    When the theme is dark and window titles are dark then use a dark background for the toolbelt. A comment by joshuajabbour in issue 3314.

commit 35f3dcb7a76a1b0c7839f7154d75c4ef78600e2d
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 2 11:33:58 2017 -0700

    When rolling a hotkey window in or out, do not animate it so that it begins or ends (respectively) on another screen. When screens have their own spaces windows can't span displays and the setting of the initial/final frame does something unexpected (like choosing a different frame in a completely different place). Issue 5871.

commit 6c40a849649ab07f3b20c1dd576e3d1ecae4c60c
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 2 10:48:33 2017 -0700

    Remove logging calls from MyLoginTTY, which runs between fork and exec. This was the likely culprit in a crash. Issue 5866.

commit 9d8e31cd4f91bb2696176a07988d56c052a01295
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 2 10:44:42 2017 -0700

    Fix various bugs with highlighting of search results.
    
    - Resizing a session would clear the find state, removing search results until the next search
    - Clearing a buffer would remove highlights but not search results so they wouldn't reappear
    
    Issue 5865.

commit df2981a5dec81f67f81d8175de31729ed55d3102
Merge: a1b3a79d b4bb1c2a
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 2 00:05:00 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit b4bb1c2a25e531c9bb72862d218810827b36f7ea
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jul 1 11:08:42 2017 -0700

    Refactor the man page viewer into a more general single-purpose window. Add a smart selection action to run a command in a single-purpose window. Issue 5862.

commit a1b3a79da6900779e8cb1a0660e7d15e8ab06764
Merge: dbe40c52 fb672c8f
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 30 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit fb672c8f1b10bc1de41994311f64aa998a30c7ad
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 29 21:16:29 2017 -0700

    Add debug logging for quicklook. Issue 5842

commit 8c83a89bb78fed5a88306b1460680cd4a41fdac5
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 29 21:07:58 2017 -0700

    Keep hotkey window from hiding when a local auth dialog is visible.
    
    Keep another app from becoming active after local auth dialog from pw manager sheet attached to hotkey window is dismissed.
    
    Fix a hang when hiding a hotkey window that has sheets (was using deprecated API)
    
    Issue 5860

commit 507097af54611e82f045d8ca04ef3d788a383020
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 29 16:48:17 2017 -0700

    If the font has default ligatures like FiraCode, show that ligatures are enabled in prefs and don't let the user turn it off. Issue 5857.

commit fd9444c647695d7ed2bff3bdb91ef80cc0e8f9f1
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 29 16:19:31 2017 -0700

    Add a cache to LineBlock that remembers where double-width characters that get moved to the next line exist. The cache is off by default except for nightly build users. For others it can be enabled with an advanced pref. Issue 5855.

commit 06449e357a8deaad044677e7d5087b4400e1dd49
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 29 14:59:42 2017 -0700

    Fix a bug where selecting whole wrapped lines failed because of overflow.

commit 2c0c382581ce1688ee29ded5f7cdf685eb0fe171
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 29 12:40:02 2017 -0700

    Add an optimization to the text extractor to cache the current line so repeated calls to characterAt: on the same line are faster. This speeds up double-click on long lines.

commit 5d9ef91624644c6ad0846954f7c1a88c69449f07
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 29 12:38:13 2017 -0700

    Change how the length limit in rangeForWordAt: works. The word is now truncated instead of returning nothing at all when it is too long. This is necessary since the limit was lowered from infinity in various places, such as semantic history.

commit 5003a5a8364e0106e02b98b1ac81b4f4a04000a2
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 29 12:36:02 2017 -0700

    Cache number of wrapped lines in a LineBlock's metadata for a raw line.

commit 0ebd06f92c39e522d275a6f2c2e163b25525790a
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 29 12:34:37 2017 -0700

    Use binary search when trying to find indexes in sorted array. This speeds up finding word boundaries.

commit 1f12bdc734e7c3cd970c338d193bbd005407010b
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 29 12:30:44 2017 -0700

    Add a test for the new maxChars argument to rangeForWrappedLine

commit 7a2f53f718cd8ceadeb08df1c7e7d132a7619fc3
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 29 12:30:05 2017 -0700

    Add missing maxChars arguments to various places.

commit 078c5c15c84de8f0755b210bdad363d87a3a6b83
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 29 10:06:53 2017 -0700

    Limit the number of characters that are searched for a word to 100k (was unlimited) and also don't search for the bounds of a wrapped line farther than they could possibly extend when a limit is present. This helps but does not completely fix some hangs when there is a very long line in a narrow window. Issue 5855.

commit 42673898ec2295cd15e19b83ae6e106f451861ba
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 29 09:35:19 2017 -0700

    Improvements to man page viewing. End the command with ampersand to skip opening a terminal window. Do not issue the short-lived session warning. Do not use a fullscreen window. Always close the window immediately. Issue 5757

commit dbe40c521462299770774dd17682d5befb7bb7a4
Merge: d42dd7df d655f619
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 29 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit f9ae50c67ab729265424bb8f1ebecc7f44a26901
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 28 15:27:46 2017 -0700

    Avoid opening the auto command history window when there are no commands to complete. Issue 5853.

commit d655f61965f37ff4eb2d84d47926fb9321473890
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 28 14:42:36 2017 -0700

    Enable drag-drop out of Jobs tool to paste process ID into terminal window. Not sure why I can't paste it into other apps.

commit 86a473affd56d48823b5f4d754f9e119c82eafb1
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 28 14:13:21 2017 -0700

    Fix a race condition when a tmux integration session is started immediately after one ends. See issue 5844 for all the gory details.

commit d42dd7dfbfce4ee06a7f6b8fa91ee7a7eaab600a
Merge: e0b91eb3 0614d644
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 19 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 0614d644721148b9c981ef7fe5465777ac268fcd
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 18 16:46:43 2017 -0700

    Add an advanced pref to keep CSI 3 J from erasing the scrollback buffer.

commit 2280bf95c312a6f8e55aed4210f1be7ca71f88af
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 18 16:29:21 2017 -0700

    Log timing stats to debug logs always.

commit b0622c2f0f86aa404957f12338a1b88f653cf4f3
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 18 16:28:23 2017 -0700

    Store the preferred width of the left tab bar separately from its actual width, which is constrained by the width of the window. The preferred width is set by a manual drag and is persisted in user defaults. When the window is wide enough to accommodate the preferred width, the tab bar will grow up to but not beyond that size. Issue 5833

commit cb97a71a5bc623c9b2a24eab5976049e03223ee9
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 18 11:14:45 2017 -0700

    Call refresh after changing font size to avoid doing a double redraw at two different scroll positions. Issue 5836

commit e0b91eb3685f9860c4913b8af74ea42ec9f0e73c
Merge: 7349e170 aee52e0a
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 18 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit aee52e0a02660ff5d7d6331a554ff064ae8980ea
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 17 11:52:03 2017 -0700

    If a window has a nil screen, it would get resized to 0x0. Just accept the proposed size in this case. Issue 5641

commit f63e53c47da671240bad8f41a6241e58601ccefc
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 17 11:18:59 2017 -0700

    Make it possible to open the tmux dashboard if there are no windows opened and the tmux gateway is buried. Issue 5835

commit c7270d8190044506977b4a8b41ad32df9a9ee71d
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 17 11:08:24 2017 -0700

    Rate limit updates to the manpage touchbar button. Issue 5834

commit 7349e17023c70f89bbbe3cd84c2c8a80d0688faa
Merge: 71117a7d 8292c0ff
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 15 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 8292c0ffe10980d94408b0f37071d8853e9672fd
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 14 22:16:44 2017 -0700

    Fix the origin of a new window that's created when you drag a tab out of the tab bar and drop it on nothing. What happened was the window got resized after adding the first tab to it and its originally (approximately) correct origin changed. The location is much closer to correct now and has been tested for all tab bar locations. Issue 5832.

commit 71117a7d2a7e7e04f2a38b86f32e870f15581caa
Merge: cf86b57e d0b51a2c
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jun 13 00:05:00 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit d0b51a2c00abcc06f04abc3166e7321952a50f79
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 12 22:30:44 2017 -0700

    Stop debug logging on termination

commit 135e1f5d51805fd60fce85cfa0785e8d03735640
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 12 22:19:16 2017 -0700

    Avoid filesystem access to network mounts by semantic history. fileURLWithPath: and standardizedURL would both perform I/O. Issue 5740.

commit cf86b57e96eab588453a4b2a31f38dcc6076f948
Merge: 920c0358 2a527d57
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 12 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 2a527d578cd7064ff6c5e6033dade18e4d808f8a
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 11 22:55:05 2017 -0700

    When you drag a tab from the tabbar into a split pane, that causes removeTab: to be called. It tries to create a restorable session to undo closure, but because no sessions actually get closed in this operation we create an empty shell of a restorable session. When it's restored, you get a zombie tab with no view. This commit ignores such operations and declines to push a restorable session on the stack. Issue 5785.

commit 920c0358ba165023e5ba1426a514de6720640812
Merge: 88d778c9 1780a9c6
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 11 00:05:00 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 1780a9c6e5cd7061d5ee9f264ab030f113f30e7d
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 10 17:42:54 2017 -0700

    Get rid of travis xcode output formatter. It stopped working for no reason.

commit 5480a22fe6e739629e1160b48ea6fcde0e5a4070
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 10 17:12:51 2017 -0700

    Fix a bug where the retina-only setting for thin strokes was not respected. Issue 5156.

commit a747cd41611a7e59d7e493363968ea67a6c719cf
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 10 16:06:03 2017 -0700

    Rename Don't Open Any Windows to Only Restore Hotkey Window to clarify its purpose.

commit 88d778c91a78e0e3ed748a562b9cf66dad8a43c5
Merge: 026d048b 2162b3ae
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 9 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 2162b3aefa804c07d67d13a93a498eee9f487fbb
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 8 22:46:49 2017 -0700

    Add debug logging for undo session closure

commit 9c07746e4bdefedbd0e73fa8f724d5add82b53d4
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 8 22:36:51 2017 -0700

    Fix a bug where the root splitter's isvertical did not change if necessary when restoring a split pane. To repro:
    
    1. Split vertically
    2. Split horizontally
    
    +---+---+
    |   | B |
    | A +---+
    |   | C |
    +---+---+
    
    3. Close A
    4. Undo close of A
    
    The root splitter was  not reset to vertical after undo, so there were two horizontal splits.

commit 026d048b0deca36385ddb5d4c193ec29f694638c
Merge: c4c62689 bce03ad0
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 8 00:05:00 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit bce03ad0e6b2922e082e5bbd395d897f64f85461
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 7 22:36:08 2017 -0700

    Don't use large horizontal offsets for glyph drawing.
    
    It upsets High Sierra. 😚💨
    
    Issue 5811

commit dfc1aaa7bb27f9295c01f3222e1d2e3eb460d856
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 7 22:32:55 2017 -0700

    Add a proper description method to iTermCheapAttributedString

commit c4c62689ddc5440edc3dd01713c80812dc7c81dd
Merge: 67f9157b 6ab7d445
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 5 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 6ab7d4452bb15bd129fc39522a70be2c84505cfd
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 4 15:31:06 2017 -0700

    Add an advanced pref to set the man page viewer command.

commit 67f9157b68078c288d93db0faf701dbb8815588d
Merge: 67108295 76c6ef05
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 4 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 76c6ef05267f82ecf47884f7f6e93a548a621a5c
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 3 14:07:55 2017 -0700

    Add an advanced pref to control which pane is focused on split pane when using focus follows mouse. Issue 5780

commit 97d4be9c4851ee67266c4a41a8083cb187cedb9d
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 3 13:43:33 2017 -0700

    Change the shortcut for bury session to cmd-opt-shift B. Issue 5803.

commit 964a75f7950dd2f8952dfb3346fd2f968d555bc0
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 3 12:16:10 2017 -0700

    Restore the find progress bar. When you do a search, perform the first chunk of work immediately. Make the timer run regardless of runloop mode so you can hold down cmd-shift-G and search fast.

commit 31ebc601497a4ba233f43c49d756cb57dfee505a
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 3 12:06:03 2017 -0700

    Ensure search results are sorted by start position. Fixes issues with find next doing crazy things.

commit c654c8ac668d8dfea850764d2b67716f6d9c6f91
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 3 11:22:44 2017 -0700

    Clean up how find-next works and fix a bug where the search results could be nonmonotonic and include duplicates because of tail find. Issue 5797.

commit 67108295e038d5b422945af7b8e5caa85833ce3f
Merge: cb5cd263 3816dfe4
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 2 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 3816dfe4becd6c46769b7e012e5d7c3f6de7e925
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 1 22:20:20 2017 -0700

    Fix a bug where non-animated hotkey windows did not follow the cursor from screen to screen. Issue 5786.

commit cb5cd263024ac460b9dde5bc29405be315e95c71
Merge: fc75b9ff d7c047c4
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 1 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit fb19d694b406237f5c1b6ab27395b42cca33435b
Author: George Nachman <gnachman@gmail.com>
Date:   Wed May 31 22:57:59 2017 -0700

    Add a date format to the helpful string parser to handle dates like "Tue, 16 May 2017 06:32:33 UTC".

commit d7c047c42d09b7150b7011b1304d5b44cf9a86fb
Author: George Nachman <gnachman@gmail.com>
Date:   Wed May 31 22:30:58 2017 -0700

    Add logging for issue 5672 (not detecting automounter paths)

commit fc75b9ff54d48d97e1b014a6e7b29129b2384f65
Merge: 70c2c6d7 faf3b633
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 30 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit faf3b633cee9d8749ca2f02a5b3226af4f93411f
Merge: c33f7118 93f7cb2d
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 29 16:59:39 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit c33f7118370ec999e501c60073b271bd06aa4928
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 29 16:59:23 2017 -0700

    Make the Python API library into a proper package.

commit 7feedbd8d0c0b6edd4215ffcb121f53e30441b06
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 29 15:58:20 2017 -0700

    Add a few new notifications to the API server for session terminated (i.e., removed from UI) and layout changed. Update the python library to keep its window hierarchy in synch with the truth.

commit 70c2c6d77167510f84d2b69aa46f8ddf2a9d4ca8
Merge: 69a66852 93f7cb2d
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 27 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 93f7cb2d1feb5a15ee60b598bd60adc168621e97
Merge: fb818c17 409d5840
Author: George Nachman <gnachman+github@gmail.com>
Date:   Fri May 26 16:35:28 2017 -0700

    Merge pull request #328 from 343max/FixActivityIndicator
    
    Fix apparent direction of animation of activity indicator in the tabbar

commit fb818c17211cfe1a66079b0fadaaaf30d715af31
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 26 16:33:02 2017 -0700

    Fix leak of password manager sheet window. Also add advanced pref to disable its animation. Issue 5794

commit 40d17c9f0cbf8844c5e5b254ad0de7984ddc7598
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 26 16:08:24 2017 -0700

    Add cancel button to "what kind of tab/window do you want?"
    
    issue 5795

commit 69a66852dabaeea351af9cbe08f77121fb82f900
Merge: f85f8644 2f040e01
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 25 00:05:02 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 2f040e0103db496652277eb769adc95067107e3b
Author: George Nachman <gnachman@gmail.com>
Date:   Wed May 24 21:03:31 2017 -0700

    Add some logging

commit 219342a69dc26f45f9c0db35e690461eaa4a2b1f
Author: George Nachman <gnachman@gmail.com>
Date:   Wed May 24 21:03:25 2017 -0700

    Fix a bug when two websocket frames are read at once. The offset was not reset so the second one got dropped.

commit 4276075111fd22137b2946d318b49ece2c0318ed
Author: George Nachman <gnachman@gmail.com>
Date:   Wed May 24 21:02:57 2017 -0700

    Do case-insensitive comparisons of websocket headers.

commit 3cea1df0ed0620fd6f9f32704fc0ace2f8e30841
Author: George Nachman <gnachman@gmail.com>
Date:   Wed May 24 21:01:33 2017 -0700

    Improvements to the python scripting library.
    
    Add NewSessionSubscription.
    
    Add idle observers. Before entering a cond-wait on the main thread let each idle observer run. A notification handler is registered as an idle observer to handle incoming notifications.
    
    Improve debug logging.

commit 409d58403b3e06b981b61058b505b220a5c839d3
Author: Max von Webel <maxvw@fb.com>
Date:   Wed May 24 15:53:40 2017 +0200

    fix spinner

commit 334a69d635673877aa38f24823f79d89be61fb91
Author: George Nachman <gnachman@gmail.com>
Date:   Sun May 21 22:17:15 2017 -0700

    Add rough sketch of python library for scripting.

commit 66f3e7bfe6f8245051c24cdde65a456e863e5b83
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 20 22:06:57 2017 -0700

    Add API to split panes to API server.

commit 21bc7a7086da000d7610088c3eb3da9b438cefa3
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 20 21:30:18 2017 -0700

    Add create tab/window API to api server.

commit f85f8644abcbd5e5597084925102c6238c800e23
Merge: 4161f9a8 9f4b32b0
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 19 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 9f4b32b066dc642363034b702e1d2d0962d05b03
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 18 22:30:46 2017 -0700

    Remove PtyTaskDebugLog and replace with DLog, which does something

commit ebc3d66d04a9da75c5cbf35e58e06f0dded10aeb
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 18 21:54:42 2017 -0700

    Add off-by-default feature to detect password prompts and change the cursor.

commit 4161f9a8c47ef35ceddb5543983bce9005167f17
Merge: 9d6f6736 12f1b62c
Author: George Nachman <gnachman@gmail.com>
Date:   Sun May 14 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 12f1b62cb6e78bd8805b0517b7a68074258299c1
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 13 15:07:23 2017 -0700

    3.1.beta.4

commit 5509e3969e9c8e89035cc187bdcf1b2faa78e2eb
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 13 12:48:22 2017 -0700

    Make orderedScriptingWindows use orderedWindows, which is ordered back to front, instead of windows, which is not ordered. Issue 5758.

commit 3dc4ef453bb9df736da2c3cfa7eb52415c0a8c44
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 13 13:14:26 2017 -0700

    Update emoji for travis

commit 9d6f6736f3fdddae018a95582ed809871452f6da
Merge: c243bd09 c5b481e2
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 12 00:05:00 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit c5b481e25e99397aaf7716bb22610c2793bbf816
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 11 18:40:01 2017 -0700

    Only update _statusChangedAbsLine when the status string changes

commit 71ccb475ba1528f73b2b0c3018f551e16f99f511
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 11 18:36:15 2017 -0700

    Add a status touchbar item.

commit c243bd09ab15a80ea3e07d165cc5753e72842dd9
Merge: 5180a228 1cdc0b4a
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 11 00:05:00 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 1cdc0b4accbce1b7f7fff505998e13fc54fb9786
Author: George Nachman <gnachman@gmail.com>
Date:   Wed May 10 22:07:42 2017 -0700

    Allow different tmux sessions to use different font sizes. Issue 5743.

commit 5180a228b4677013add362b217e4d69ea5525266
Merge: f55cf946 d6d7d25a
Author: George Nachman <gnachman@gmail.com>
Date:   Wed May 10 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit d6d7d25abaa14d218ff0863d9cc8c3e301a9a8ec
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 9 22:24:52 2017 -0700

    Add logging to try to find cause of tabs out of order issue.

commit 7a3f5a1dea9aaab9995471e9dca36479d8b9647f
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 9 21:30:10 2017 -0700

    Change how network automounts are detected. Issue 5740
    
    I had misunderstood how auto_master works. Its maps refer to files or certain harcoded values. Actually parsing it properly is difficult, so I'll take a conservative approach for now and ignore any mountpoint mentioned in it.

commit f55cf94649bad62b6fe57fcae8e9fa7d4777278f
Merge: a1d7116c e33238a1
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 9 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit e33238a199a1113134885e986e77970750434f14
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 8 21:42:53 2017 -0700

    Detect user scroll when live scrolls occur.
    
    A live scroll happens when you drag the scroller. It does not happen when you use the scroll wheel or keyboard shortcuts.
    
    This fixes a bug where the GCD refresh timer fires during live scroll causing the screen to jump to the bottom. It wasn't an issue with NSTimer since the screen was never asked to redraw during live scroll because of the runloop mode.
    
    See the thread on iterm2-discuss with the subject line: OSX 10.12.4 iTerm 3.1 beta 3 scrolling strange behavior..

commit a1d7116c913108178ad679ee35c915ea35f0a0b8
Merge: b23bb1f0 725b65dc
Author: George Nachman <gnachman@gmail.com>
Date:   Sun May 7 00:05:00 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 725b65dc1bff1aa061d97a6e64ebbc8011845a17
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 6 14:10:13 2017 -0700

    Prepare to store the tmux integration profile in the tmux controller. This allows each tmux session to use a different profile. This is a step toward making every pane able to use a different profile (but the same font, of course).
    
    The change is hidden behind an advanced pref which is off by default.
    
    It also fixes a bug where a new tmux tab in a fullscreen window when legacy scrollbars are enabled might have the wrong size.

commit 342edb03bf9e2b4304c2fc0b13ec34022ddb3733
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 6 12:45:49 2017 -0700

    Change signing to the right team omg xcode is so bad burn it with fire

commit b23bb1f04e82228b0d496cb82107bb002e5b020d
Merge: 047bc0d6 bb088233
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 6 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit bb0882332cec5196e4de4a4225978d746e935279
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 5 15:12:15 2017 -0700

    Add a session-created websocket API notification.

commit 617ad184c104d587e07661a977e8de6a51a92a14
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 5 14:39:43 2017 -0700

    Add a notification to the websocket server that receives custom escape
    sequences. Add a python example to receive them and a shell script to send
    them.

commit e40c77bd034d0c97e4a697cdca93544dda250f34
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 5 13:46:00 2017 -0700

    Only draw the line with the copy mode cursor when you press a key in copy mode

commit 9c877eeb728fd37c9380dc3fbbacecc5a14e3aef
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 5 13:41:43 2017 -0700

    Make / open the find panel in copy mode

commit 047bc0d6b8c7e88a36009d4f5504c9307dd8f559
Merge: da362aad c3b0f97a
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 5 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit c3b0f97aad9bb8d4555e9e19f45cb866440987df
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 4 22:08:58 2017 -0700

    Make the copy mode cursor fatter when selecting.
    
    Scroll to the copy mode cursor when entering copy mode if it's going straight into selecting mode.

commit 8a063160b00e97e9c3fb852bcd3d5f7942bf3864
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 4 21:58:40 2017 -0700

    Copy mode improvements:
    
    - Make it clearer which cell the cursor is on by drawing a vertical line from the arrow point
    - If there is a selection when you enter copy mode, begin by extending it.

commit 9314133b71c43430673372b928114a432212522f
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 4 21:31:21 2017 -0700

    Allow the user to enable ligatures on any font. Default to ligature level 1.

commit e3ecc334673f1cca612ab6217c80f04ef987a3be
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 4 21:15:19 2017 -0700

    Rewrite the code for finding the current foreground job. It now builds a tree of processes and finds the foreground job with the deepest path from the root. It is possible for a foreground job to have a child foreground job. Issue 5730.

commit 50f949ab9d3530a31f1e57579bf8852794d92d56
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 4 21:08:28 2017 -0700

    Move the copy mode cursor when you use Find on Page in copy mode

commit da362aad85faed0927c220255f54dd05f5203296
Merge: fec44329 153462aa
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 1 00:05:00 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 153462aab4817ae08cddd671e91d759026e5c061
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 30 14:40:09 2017 -0700

    Bump Iosevka and IosevkaCC to ligature level 2. Issue 3568.

commit 61660349070fd4c75d1dbf333db0aabf2456c938
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 30 14:28:47 2017 -0700

    Cache CTLineRefs in an attempt to improve nonascii performance when scrolling text. Issue 5731.

commit 491deca05fcf3805e7e175d7e426c72da0c7942c
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 30 11:33:07 2017 -0700

    Enable automatic signing

commit f1d65bf6de5e9ead2e68ddce04a94f7cede01d67
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 30 11:32:24 2017 -0700

    Fix a bug where the "Edit password" button would change your password into dots. Issue 5712.

commit 316b855b3410c5df65c4118d0b6cf26284ab0e33
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 30 11:04:35 2017 -0700

    Add an advanced setting to kill sessions on logout to try to prevent issue 4147

commit fec443294dfb65d1fa8744e3699aaa59d017b43a
Merge: 43b26d7a cf291bd7
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 30 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit cf291bd77234f3a48aeee025b4fc30a06f3bed84
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 29 22:50:38 2017 -0700

    Add Copy Mode.
    
    Also fix the menu opener to not select the last item.

commit 61f56d5a0008c0510fe56fc1907c34e241f93c07
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 29 11:24:02 2017 -0700

    Draw the default background color behind images. This makes images with alpha<1 areas look nice. It's unfortunate that the "real" background color isn't available since the image y position uses those bits, but this is a good start. Issue 5723.

commit 43b26d7a147a15512430f8ca5d6f2f72c523e76e
Merge: 0709c14d 8e592b24
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Apr 27 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 8e592b246285bbf48cf646fbdf8513c20c65d855
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Apr 26 22:11:11 2017 -0700

    Ignore 0-length OSC 7. Terminal.app removes the proxy icon, but giving up isn't our philosophy.

commit 30f1d16bc33402fc3af3313a10bd515a0c86b4c3
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Apr 26 21:53:00 2017 -0700

    Add some debug logging to the font size estimator and ensure it never returns a dimension with value 0. Issue 5684.

commit 0709c14d2b9568d091126c9c3017275b165aa224
Merge: 11d0ccf2 acde36f8
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 24 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit acde36f86b42ea932371979a9a733bc051381c89
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 23 10:32:47 2017 -0700

    Avoid updating touchbar during dealloc.
    
    A better solution would be to remove the delegate from the tabbar during dealloc but I'm scared of what might change.

commit bc2c687227621d98ed01c08ebade4b72f78025e1
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 23 10:21:28 2017 -0700

    Name auto session logs with a format defined by an advanced prefs taking values from the session variables.  Issue 1695.

commit 93d9587bf26ef7ac850241f5ac14c07c62bfb402
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 23 09:34:14 2017 -0700

    Allow the password manager to open as a sheet even if another sheet is already open. Issue 5667.

commit 11d0ccf29f44d5a2613b0769527e5b191b1c4a6b
Merge: e6313f33 d98f5b16
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 23 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 81b4871c657f22e2f803551c3dce532630b9b7d4
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 22 12:45:18 2017 -0700

    Bump bash shell integration to version 5 because of a security concern with evaluating text in backticks or $(...) in a directory name when you cd into it

commit d98f5b161fad5d1d563c27114c70643c4a9cdb8a
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 22 11:59:07 2017 -0700

    Fix a bug where non-shell integration users would not get current directory recycling. If shell integration was never used then -[PTYSession currentLocalWorkingDirectory] would return nil. Issue 5634.

commit e338a12e12dc719f38703ead46691264e8ad3451
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 22 11:34:06 2017 -0700

    Add tail find results to the search results array so that find next/previous can navigate to them. Issue 5677.

commit e6313f33ad47e7b5c4c55978b70121f80899d3e6
Merge: fb1edc4c e80f90d6
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Apr 19 00:05:00 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit e80f90d6080a35214197673d6ff3c9551e424985
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 18 21:45:11 2017 -0700

    Do not draw if the datasource width is negative. Tries to work around a crash pending the root cause's discovery.

commit fb1edc4ca95b257aad8f897584c3c789b177a26e
Merge: dca8f38a 604f138b
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 16 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 604f138b6bb34055a2d763594b0ee1d896b1f07e
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 15 10:05:25 2017 -0700

    Modify copy-with-styles to copy URLs of hyperlinks

commit dca8f38a7bda7f9ba9a05ce2f2b31f25beef4a42
Merge: 3a576281 ad738778
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Apr 12 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit ad738778827fc3d8af82278ac0ea91042af189c4
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 11 22:24:03 2017 -0700

    Validate characters in ssh URL user name

commit 168d0eee0f5369b8d91e129765bc9e47af0d491a
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 11 22:09:39 2017 -0700

    Validate hostname of ssh URLs and reject anything besides letters, numbers, dash, and colon. Colon is allowed for IPV6. Square brackets in IPV6 get stripped by the system.

commit 69c279ffe4d387fbfe3642c318022560caa6ea7e
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 11 21:29:39 2017 -0700

    Fix a crash when extracting a word including a complex char whose value was lost

commit 3a5762815bfa797dadaeb7eba4f4ef94afa8a49c
Merge: b5b275a0 eab86ef8
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 10 00:05:00 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit eab86ef8fecc0e88131f661eda0d5b65df67141d
Merge: 8cc9d096 4ae74bbd
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 9 11:51:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 8cc9d096e6afe10521271a5874ea129b7579a951
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 9 11:50:53 2017 -0700

    select output of last command now selects the current command's output if not at the shell prompt

commit 4ae74bbd34450f6144b7de864b692a0d6aa8da9f
Merge: 7c60f71c 930b443d
Author: George Nachman <gnachman+github@gmail.com>
Date:   Sun Apr 9 09:33:03 2017 -0700

    Merge pull request #325 from jyaworski/lint_83
    
    Updates for XCode 8.3: fix some nullability warnings and tell Travis to use XCode 8.3. Golden images are broken again.

commit 7c60f71cbec0f5bede12c4067dcf55f4817b4f5d
Merge: 6b1bf27e 6d17e6f4
Author: George Nachman <gnachman+github@gmail.com>
Date:   Sun Apr 9 09:31:37 2017 -0700

    Merge pull request #326 from grimreaper/eax/it/it2ent
    
    Update API docs and python examples to use more modern conventions: print as a function, virtualenv as an option.

commit 6d17e6f4af38d7e67ad08bab9e1cd69c667cf191
Author: Eitan Adler <lists@eitanadler.com>
Date:   Mon Apr 3 05:46:01 2017 -0700

    Reduce the amount of amount of python2
    
    Also stop recommending that people run pip as root and instead just use
    virtualenv.

commit b5b275a093c89c63b7edde6fafac711e2c260ad4
Merge: e8da7850 6b1bf27e
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 9 00:05:00 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 6b1bf27e83d0030d3c12bf0909d9f136b5be28b2
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 8 14:25:10 2017 -0700

    Attempt to scp semantic history and OSC 8 urls that have file scheme and non-localhost hostname

commit 03156a780d73ce4341028c89d56b928986fcd124
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 8 10:45:27 2017 -0700

    Move process cache delay to before the loop to reduce latency on new output

commit a7c290d12b6f568569ab700bf8fb690047a63874
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 8 10:34:45 2017 -0700

    Enable precise timers so beta users can give better feedback reports on drawing performance. I expect a less than 1% performance hit from this.

commit 8af74b020b4600e0b839aa109d0392114a45ef41
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 8 10:34:16 2017 -0700

    Rate limit ProcessCache's runloop so it doesn't use too much CPU.

commit 4ded97327e0300d14fa1fdf7f0f4a0691a03132b
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 8 10:33:09 2017 -0700

    Cache adaptive framerate settings to avoid expensive AdvancedSettingsModel lookups in a frequently called method

commit 930b443dbb79a2464d0856ce3a73355f07a5b733
Author: Joseph (Jy) Yaworski <jyaworski@carotid.us>
Date:   Sun Apr 2 15:21:35 2017 -0400

    Update Gemfile.lock, update to xcode8.3, lint

commit e8da7850182a36529352b1629730358704e930c3
Merge: c1622b82 b630f777
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Apr 6 00:05:00 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit b630f777e2012a22a6fe588bc7eb69af15e74357
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Apr 5 22:08:36 2017 -0700

    3.1.beta.3

commit c1622b8242dcdd42bda50e394f7e6a6b88cb92bf
Merge: 38d19064 0c6e5ac3
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 4 00:05:02 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 0c6e5ac303e036bafdec567679d1832dcc527047
Merge: c5d46087 c1941e95
Author: George Nachman <gnachman+github@gmail.com>
Date:   Mon Apr 3 23:02:09 2017 -0700

    Merge pull request #327 from grimreaper/eax/ato/enox
    
    Fix bug with signal handling in catch.c

commit c5d4608777734c1cab17abe51887808d0acf1b90
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 3 22:57:41 2017 -0700

    Fix a bug where double-tap of a modifier didn't work unless a hotkey keypress was also defined. This revealed a bug in how weak references were used. isEqual: uses pointer equality by default, so it doesn't work on arrays of weak refs. I hacked around it by implementing isEqual: for the one class I care about.

commit c1941e9544fbb32a95195e9a66e655b9d9f24724
Author: Eitan Adler <lists@eitanadler.com>
Date:   Mon Apr 3 06:05:15 2017 -0700

    Fix bug with signal handling in catch.c
    
    Signal handlers might be called repeatedly. As such they can't call
    non-async-safe functions such as printf. Instead set a sentinel and
    check for it.

commit 38d19064e6befb452bd97ca12be4b17e9c76ef78
Merge: 0d4d6dc3 7f9aefbd
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 2 00:05:02 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 7f9aefbd7457269c2c71432a3dfdabdf0d4f335c
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 1 13:25:08 2017 -0700

    Make iTermImageMarks serializable so we don't leak images after state restoration

commit d5c23f1f207ffd0723599be66fb7da6ccea59ce4
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 1 13:10:43 2017 -0700

    Fix state restoration when the number of scrollback lines is less than session height.

commit 9b56177544472f30aa90e04c47957b3b2f649944
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 1 13:04:36 2017 -0700

    Release URL codes when they're no longer needed. A mark is placed at the beginning and end of the URL. The one at the beginning is needed to keep the reference count to the code around until the one at the end is added. These marks are saved and restored.

commit 048464c592cf89af8941b72e8829839ed6b0aec0
Merge: 93712728 fad75b99
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 1 12:27:49 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 93712728e35d7cb3e53cda6ac22ba2445955818f
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 1 12:27:38 2017 -0700

    More OSC 8 changes: use colons to delimit params and hover adjacent links together if their URLs and IDs are equal, or if the URLs are equal and the IDs are both unspecified.

commit 0d4d6dc3d8cce1f43b2bc725ff2d43fed3bdd0d6
Merge: 92f247d2 fad75b99
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 1 00:05:02 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit fad75b99ed2e93ef1fce1c71b39bed8c1b344ad2
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Mar 31 13:31:26 2017 -0700

    Allow triggers colors in a profile to use #rrggbb notation so dynamic
    profiles are sensible.

commit ecf3053c5189236d010e7626bf6d1843c640181a
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Mar 31 10:08:10 2017 -0700

    Add more logging to track down the source of mysterious drags. Seems they're not being started through the expected code path that takes minimum distance into account.

commit 92f247d28b8212fd7d1c65563d09cc7179024769
Merge: 5f7492f2 037cb5c2
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Mar 31 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 037cb5c213b7c4bd998c1a6f2016c4beef2538dd
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 30 22:27:46 2017 -0700

    Update OSC 8 to require parameters prior to the URL. A difference in parameters prevents hover-underlining together.
    
    The new syntax is:
    
    OSC 8 ; params ; url ST
    
    params are (for now) space delimited ASCII and may not contain a ;.
    url is a URL. I'm more accepting that I have to be and will take UTF-8 encoded URLs that aren't properly percent-escaped.

commit 955979aaf3fdf4018d97fd861d51854ffc7d36cc
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 29 21:22:08 2017 -0700

    Add debug logging to tab library to record mouse down event preceding a drag

commit 5f7492f25a2dc1518101df94d1b971fe203cc120
Merge: 61cf1c68 f9708450
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 29 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit f9708450e2c7a2b948cfd21107477175ded76c20
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Mar 28 22:16:22 2017 -0700

    Auto hide find cursor window when the session that created it ceases to be first responder. Issue 5637

commit 61cf1c6888d71cb497c7d6f82baa276a0b4a418a
Merge: 502377d9 47b8c987
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Mar 27 00:05:03 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 47b8c9873f48950ed4ee5cdfd152cc445e6f5f50
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 26 22:27:23 2017 -0700

    Don't turn on Wait for prmopt in advanced paste if it's disabled

commit c9cbb8a8cc82e27beb4087b5dd9658128d88338b
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 26 11:21:21 2017 -0700

    Enable GCD update timer by default. No better time than the present to experiment with big changes.

commit 6787f6b4b0fd55c8edc71363f7d1fd2ec29cf561
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 26 11:20:26 2017 -0700

    Add crashlog messages to pinned messages so that you can create a debug log to report issues like the tab bar going bonkers.

commit deb68535c2e8eee06bd5fa184e588020af021dc1
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 26 11:13:16 2017 -0700

    Add some ILog's to diagnose bogus tab drags Nicolas and others reported.

commit 556293507ff81ad8606f8747c736ba62d41b3ad7
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 26 11:06:55 2017 -0700

    Get rid of NSEnumerator in some very ancient code

commit 62a8dcb8c202a3d22af10b2080c3f83f177158b7
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 26 10:53:23 2017 -0700

    Get rid of a gross hack when dragging the only tab in a window. We used to move the window to a hopefully offscreen coordinate of -10000,-10000. That's not guaranteed to work and is silly. Instead, order it out. This tickled another design issue where a placeholder cell was removed while it still had a tracking rect. This commit prevents that crash by first removing the tracking rect.

commit 14cf193a6f0e3d2b083e91a93e715e439ea261bd
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 26 10:05:31 2017 -0700

    Clean up PSMTabBar code a bit. Replace deprecated dragging delegate methods with more modern ones.

commit 502377d98ea019566b4b4743c8060ac5fbdcc441
Merge: c6ef5878 f0afc876
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Mar 24 00:05:02 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit f0afc876561b72c0f462c131de66b1a0062dfb17
Merge: 12f43d4c 56cb9e2d
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 23 21:27:52 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 12f43d4c0a4d1d552e49121470049b18c844b391
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 23 21:26:59 2017 -0700

    Add an advanced pref to log restorable state size info to /tmp. Issue 5623.

commit 56cb9e2d85b563ecfbd161d97a8288682e30e22f
Merge: 0e3ae7b5 58eec843
Author: George Nachman <gnachman+github@gmail.com>
Date:   Thu Mar 23 20:52:03 2017 -0700

    Merge pull request #324 from marcelocantos/master
    
    Add support for cmd-click file:line:col and VSCode.

commit 58eec843363f275535141b4b8d75e8f7aafaeb1a
Merge: 10e4937b 0e3ae7b5
Author: George Nachman <gnachman+github@gmail.com>
Date:   Thu Mar 23 20:50:21 2017 -0700

    Merge branch 'master' into master

commit 0e3ae7b5e3e28bbfc81681411449c69fc1adab56
Merge: 2d390f5d 36084a7f
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 23 20:48:40 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 2d390f5d4fd129a3aa84e07b9edd04bfb8723f0a
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 23 20:47:57 2017 -0700

    Change "Open in current space" for hotkey windows to move the hotkey window to the current space if it's already open on another space when the hotkey is pressed. Issue 5622.

commit 10e4937b9031e4466218a187c8302663e7821d3b
Author: Marcelo Cantos <marcelo.cantos@gmail.com>
Date:   Thu Mar 23 20:05:06 2017 +1100

    Support cmd-click file:line:col and VSCode.

commit c6ef5878a5bff1f1fc006da490524853bc1175b3
Merge: 2d51c88d 36084a7f
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 23 00:05:02 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 36084a7f315171b68e012bda0612ee8ef2095f03
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 22 22:07:31 2017 -0700

    Update travis golden file for vertical bar cursor being drawn under text

commit 11b8148fed8f539638860ea006b94c79c99132f0
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 22 21:59:43 2017 -0700

    Add an advanced pref to tweak the height of the underline cursor

commit 7c1f0d6bd9cff80ec89026e041a63e182266bcd8
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 22 21:55:14 2017 -0700

    Add an experimental feature to draw an outline around underline and vertical bar cursors to improve distinction from text. Suggested in issue 4614.

commit d97e0a7b40089cd51de035265f906506158ecc94
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 22 21:07:47 2017 -0700

    Give scrollers a light appearance when the window has a dark appearance so they'll be visible.

commit a21fa19912b71eade83382465f1f9c48723eb7d3
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 22 20:57:18 2017 -0700

    Fix a truly terrible memory leak.

commit 2d51c88da6acec368c58d2df4f5cd6c3adba43b2
Merge: 821c5f89 ad71f0f4
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Mar 21 00:05:02 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit ad470bea4ee5dda5824de300cefb66314f0a2347
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Mar 20 22:51:50 2017 -0700

    Spit out the diffs as a base64 encoded tarball because file.io is dead and using AWS to get these files through Travis's supported artifacts API is way too much work

commit ad71f0f4ff4bed2427b186bc22be800f9b261443
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Mar 20 22:45:37 2017 -0700

    Tell curl to ignore certs in after_failure.sh

commit 718831a7c64e18afc6299e68fcbe09e85c72e588
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Mar 20 22:44:33 2017 -0700

    Update golden because text is now drawn overtop vertical bar cursors

commit ff87e16159f5a05216bdd9bdf6f33c2d454ef521
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Mar 20 22:34:40 2017 -0700

    Add a send text request to the API server

commit c5a4d2153f23c72575c16e2c46580c3f34c1e876
Author: Darius Vallejo <dario.vallejo@rappi.com>
Date:   Sat Mar 18 00:34:02 2017 -0500

    Refactor touch bar code, removing duplicate code and moving some large code into its own method.

commit 55ee470d6306907f65dee8308a6043b52946d8cd
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Mar 20 21:50:23 2017 -0700

    There's a hack to make the app active when the space changes to a lion fullscreen window and the app isn't active. This is needed only for LSUIElement apps, where the OS gets confused. Limit the hack to LSUIElement mode since you could use spaces and have two monitors. Issue 5489.

commit 07a0dace9b329bfc9f1153c0a6b4fae6d56b4111
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Mar 20 21:37:31 2017 -0700

    Add option to use full-height cursor

commit ee4a6b90a5bb92e8577073530e35aa52399da312
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Mar 20 21:29:55 2017 -0700

    Draw underline and vertical line cursor behind text to improve readability.

commit 711b0b53d112a2d425f188f857d8006865f1af4b
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Mar 20 20:48:26 2017 -0700

    Improvements to critical error handling. Include them in crash logs and include args in debug logs always

commit c14098c3427872bfe580012fc01a036f229d2b26
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Mar 20 20:47:43 2017 -0700

    Add OSC 8 test.

commit c9495955910dec24259df635131194fcf484222b
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Mar 20 17:07:40 2017 -0700

    Fix some bugs in OSC 8 urls: reset state in softReset. Limit URL length to 2083 bytes. Handle non-ASCII URLs by percent-escaping them.

commit 621fcf0e62a2cbe0e68d2b387619a206961aff37
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Mar 20 16:56:26 2017 -0700

    Fix a bug in rangeOfCoordinates:passingTest: where it would go one too far

commit e7eb1c31f8e8d234eec2da8b0334dfe4af6cb53b
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Mar 20 16:45:31 2017 -0700

    Highlight OSC 8 URLs when cmd is pressed.

commit 821c5f89f417fa93c3a8240e69fb719e0afea570
Merge: aa0ef096 37c293e2
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Mar 20 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 37c293e2adbec0be49bdca93440665bb98e0d18d
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 19 20:14:44 2017 -0700

    Add support for OSC 8 hypertext links. Usage:
    
    OSC 8 ; url ST Anchor text OSC 8 ; ST

commit aa0ef0964ce4c19b11b3bf6df89a93e19c1512ed
Merge: 4baa38d9 4d0ab1ec
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 19 00:05:02 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 4d0ab1ec751472faca824c534cca3d31dba916d6
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 18 23:17:32 2017 -0700

    Add an off-by-default experimental feature to use GCD to run the updateDisplay timer. Because we use dispatch_async to kick off token execution, and that does not run in a runloop, it can starve a repeating NSTimer like the one that calls updateDisplay. That keeps the display from updating at a regular cadence when there are a lot of tokens. This is the case when scrolling through source code in nvim. Sometimes you see ~400ms gaps between redraws but it's very busy executing tokens. For some reason events like keydown do get a chance to run, but not NSTimer. Issue 5601.

commit 5314d769fcc92459495866d26010ec92255b1a83
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 18 23:15:18 2017 -0700

    Add debug logging to help time text drawing

commit 9ff652e96b22adfb39cf9014eeb1b6d3c829ef84
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 18 21:43:28 2017 -0700

    Use SRGB for OSC 6 ; 1 ; bg ; red ; brightness ; Pc ST. It was unstable before because I'd set the value in calibrated and then convert it to SRGB when modifying a different component. Issue 5606.

commit 2141e17c6267cda4ad0ddb6153fed7902b0cfa98
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 18 21:16:18 2017 -0700

    Always add the error log header to crash reports, even if there is no error log to append.

commit 8f7eb78741c78e5a0623423c298f4ff21bfd0c71
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 18 21:15:02 2017 -0700

    Fix a bug where transitions from ascii to non-ascii weren't properly detected by text drawing helper, causing the first non-ascii character after an ascii character to be drawn with the ascii font.

commit 4baa38d9e69da6d55b759f785c4175e9cbb67f4d
Merge: 875b0654 aaf0c916
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Mar 14 00:05:02 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit aaf0c91655d912b711ecf534994462b35d38f7cc
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Mar 13 22:21:03 2017 -0700

    Add a new debug logging facility that synchronously writes messages to a log file and then at startup either deletes them or appends them to a new crash log.
    
    Use ILog() to save such messages. ELog also saves them. XLog does not, but does log to the console. Old ELogs became XLog because I haven't audited them for privacy issues.

commit 875b0654b533cb448fbd2347dad28fca3eaeaf7b
Merge: 72d02ac9 bb8d0421
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Mar 13 00:05:01 2017 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit bb8d0421b3dca1b629923ff6d86224b058739bc3
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 12 10:24:26 2017 -0700

    Don't code sign tests. This makes tests work locally. I wonder if it will break Travis? I can't overstate how much I hate this.

commit af75ee0b5c5aa028c263763da08c967ff50cfeab
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 12 10:23:14 2017 -0700

    Add a test to catch unparseable smart selection plist

commit c844a37e32e68da5aadd2b9e0ed91d9e94c49d02
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 12 10:14:39 2017 -0700

    Add a crticial error to detect an unparseable SmartSelectionRules.plist file

commit 1a260f3b36c933ccd67b0883e3afd43ab8ab41b0
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 12 10:14:17 2017 -0700

    Fix a bug where this file was not parseable, causing Load Defaults to erase all smart selections.

commit 433a7f65a7a5813d3a5429f159013aab9778e593
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 12 10:13:59 2017 -0700

    Only alert for a critical error one time.

commit 72d02ac96658058a8f67b8cb945c172390c0d223
Merge: 72a833eb e46b11a0
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 11 00:05:01 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit e46b11a08fd1a4479c876aab1086390210edb19a
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Mar 10 21:32:11 2017 -0800

    Update to Sparkle 1.17 with my patch.

commit 72a833ebffaab978d8a22b4c49fcb73fb9762335
Merge: 9cec27b1 6f9ab245
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Mar 10 00:05:01 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 6f9ab24585101de8f7a4d091a06f8a7db97c2aae
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 9 22:14:59 2017 -0800

    Don't crash on OSC 7 with bad URL.

commit 9cec27b177b296c2ca78b637b6aac955ca9d12fc
Merge: 8e8295ca 0498d474
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 9 00:05:02 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 0498d4740e7ca51aa5b7c99f73c8f3088ac1edb6
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 8 22:39:53 2017 -0800

    The first time the tmux gateway is auto-buried, open the sessions menu and point out how to restore it with a popover hanging off an invisible high-level window.

commit 8e8295cabba1c317461f47ea6fe81dccd598d1ff
Merge: 40731741 1b5fc053
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Mar 7 00:05:02 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit d5a409adf41fbda1a37ee61030edaa4ad320110e
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Mar 6 20:22:49 2017 -0800

    Prevent marks from getting absurdly wide when margins are increased well beyond their defaults.

commit 1b5fc053fdf9f4d5486276edeed3de758509e059
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Mar 6 20:15:55 2017 -0800

    Add a clear button to captured output tool. Issue 5418.

commit 40731741fd4aca71a35ac66088fbcb90b7bed38b
Merge: ba1ac2b5 e5202182
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Mar 6 00:05:02 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit e52021827417533b7f79394932e38e2c4e1201bd
Merge: 91a343ff bcfb328d
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 5 22:12:46 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 91a343ff3845406941724ba26af94ba4897107d9
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 5 22:11:36 2017 -0800

    Remove some unnecessary synchronization in ProcessCache around sysctl and libproc calls. There've been a rash of reports of hangs due to this kind of thing lately.

commit a9f0806ba1acb6b52dd92c809e21111d44992eac
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 5 22:06:08 2017 -0800

    Use finer-grained locking in ProcessCache for issue 5577.

commit 90b23701209c2df409a6b8c864ea767aa1997f1b
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 5 21:37:52 2017 -0800

    Fix a bug where we incorrectly removed the tab color from non-tmux sessions. It should have removed the tab color from tmux sessions that have one in the tmux profile but not in the saved session state.

commit bcfb328d91afd418707fc5470ac7ff07cb989ab0
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 5 21:37:52 2017 -0800

    Fix a bug where we incorrectly removed the tab color from non-tmux sessions. It should have removed the tab color from tmux sessions that have one in the tmux profile but not in the saved session state.

commit b9873f6b867956e19af7f006ad29de9fc8a547cc
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 5 21:25:55 2017 -0800

    Tell the drawing helper that ligatures are enabled when a font has default ligatuers. Otherwise you get ligatures if an attributed string gets used for any reason. That user had switched to a font with non-default ligatures, turned off ligatures for the ascii font, and then switch to a font with default ligatures but the old setting persisted. Brought up in a comment by @hermo1 in issue 3569.

commit ba1ac2b5e1653187c92a3908d2dd69386c976919
Merge: 41a0d89c 704128e7
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 5 00:05:02 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 704128e77d9bfe41d87a0fa11aafcdac8ca97ea8
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 4 22:42:59 2017 -0800

    Fix some test warning and reset signing to development signing

commit bcf70242fc80a3727a825a5c6c1fd886b81a9ef1
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 4 22:34:37 2017 -0800

    Clarify text in advanced prefs for badge margins

commit e07115bf4cf57c073f87409ade3805c0f14ef51a
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 4 15:56:01 2017 -0800

    3.1.beta.2

commit 63c96d8e5f0bf18cd46343d74e202468d2baa0ff
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 4 14:57:08 2017 -0800

    Update goldens for current underlining and accent rendering and 10.12.2

commit 13a6f72e55a80b8607619ba8422973b92d2094db
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 4 14:56:42 2017 -0800

    Add new delegate methods to PTYTextViewTest.m

commit e77ddd1b9c05c66bcce27fcccc31b470686ba1e5
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 4 14:55:04 2017 -0800

    Fix problems with cherry pick of paste helper fixes

commit c4ce028c8ee6d820990ad9edf3b649ded1b1dff0
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 4 14:52:38 2017 -0800

    Add escapeShellCharactersExceptTabAndNewline to header file

commit 845d8649a04f45708640d687ae3d3ca78dc8a9a7
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 4 14:01:54 2017 -0800

    The paste helper tests were broken because of the change to escape tabs. This exposed a few bugs:
    
    - Tabs should be expanded to spaces before being escaped with backslashes
    - Do not double-escape with backslash and ^V. Prefer ^V.
    
    This commit also fixes the tests by adding tab escapes where needed.

commit 41a0d89c5381f58bcea4385d1fc9aa525944957f
Merge: b9bc505e 6c839654
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 4 00:05:01 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 6c8396545e008ee933bd57922ba1a83929828ecf
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Mar 3 22:18:40 2017 -0800

    Improve locking in ProcessCache. Issue 5581.

commit 51c23f615f69b6371a48888259af47417a1fbd0d
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Mar 3 21:49:56 2017 -0800

    Move hotkey window to screen with cursor when it's not animated. Mentioned in a comment in issue 3683.

commit b9bc505ea0e6478d826967687fffd8b77c895482
Merge: cbdae65b df80174d
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Mar 3 00:05:01 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit df80174d58670e98e019bdb2cba319cb2a5392c5
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 2 22:18:31 2017 -0800

    Prevent an exception when a tab view's image can't be constructed because it's 0x0. Seen in 3.1.beta.1, cause unknown

commit 5bbfe8334a48cb093ab551456ee7a4d396a10464
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 2 22:14:47 2017 -0800

    Remove syslog between fork and exec on child side. Caused a crash in 3.1.beta.1.

commit 691be301cea0d4ea020357f6be2111e249cba880
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 2 22:12:12 2017 -0800

    Try to fix an exceptionseen in 3.1.beta.1.

commit d78d3bc0e7d6317a170d18d586933514af7591fb
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 2 22:09:09 2017 -0800

    Try to fix a crash seen in 3.1.beta.1.

commit e479811af18557a9248312e1306756c915f20c1d
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 2 22:00:28 2017 -0800

    Ignore a paste escape sequence with an invalid base64 block. Caused a null pointer dereference. Issue 5578.

commit 8c242f230b4863fecacc86f5d2063a1ce71d8919
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 2 21:59:19 2017 -0800

    Ignore non-latin1 input to ReportVariable. Issue 5579.

commit f31009be85827a02f04751208b6c27efa91e0479
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 2 21:37:15 2017 -0800

    Remove contents.xcworkspacedata, which I don't think I want to comimt

commit fa4f9bc47b06e90ad8bf36fc6f410e704f91a71c
Merge: 32479d54 b1d12330
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 2 21:36:41 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 32479d54dc66c59613624963b4fdd3dc9751e1b2
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 2 21:35:37 2017 -0800

    Add iTerm2.xcodeproj/project.xcworkspace/contents.xcworkspacedata to gitignore

commit 41ccd2b8d689aa33fec7b19e9f523fbe30aed6af
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 2 21:34:54 2017 -0800

    Add shared scheme files

commit 06deb2826a863bb0dbd7b2ad00f827203793f06d
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 2 21:33:32 2017 -0800

    Escape tabs and newlines for shell. Issue 5582.

commit cbdae65b1c8c66cc49ed521a951aca56dd72b146
Merge: 24ce869c b1d12330
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 27 00:05:02 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit b1d123307da93bb204a24407e17612908ca88d01
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 26 14:12:43 2017 -0800

    Remove the last vestiges of cocoa pods.

commit 90381e1ffb66e6f936435e10994c0c6bdccdda11
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 26 14:07:23 2017 -0800

    Disable automatic scheme creation

commit 6ceabb7b683ea83e8b3e35ce5b2374fb7483e565
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 26 14:04:20 2017 -0800

    Use iTerm2 scheme for running CI tests. There's no need for a separate scheme.

commit d38a16ef8ee2fd34ea58ab64109b3a481bedc8f7
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 26 14:04:03 2017 -0800

    Add shared scheme

commit 3166ccb48aa4cc9283c2db998f04222661ebd6a0
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 26 13:49:14 2017 -0800

    Allow opening multiple profiles from the profiles tool

commit 9ff450a14858f123c85fb411b3e73d8004ca7ac1
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 26 13:17:21 2017 -0800

    Finish organizing iTermApplicationDelegate

commit 481ebae624bad5c2773509d8d9a94a1078a9a6d7
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 26 13:14:00 2017 -0800

    Clean up iTermApplicationDelegate.h

commit 090ed7b76e153523e6050ef0bd7f6622b286ac65
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 26 13:10:45 2017 -0800

    Move APIs to the top of the app delegate

commit fbfbf4f83899ff788b7301d42fc8fbfa33130703
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 26 13:10:07 2017 -0800

    Remove some dead code.

commit ca2eca61d2c4a684c3088c7c5f97b4b5f20f8451
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 26 13:09:09 2017 -0800

    Enable automatic code signing.

commit 3a158a443e721c1b9756b3405e15f77b1f747a13
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 26 13:07:58 2017 -0800

    Move methods around in the app delegate so it's not total chaos

commit 8efa0c89a357b521fa835f3748f64ea00c9b4e48
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 26 11:50:30 2017 -0800

    Move notifications in the app delegate to be together.

commit 896069ed3b8d8f5fd51e086f579e3babbb0cdb62
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 26 11:48:34 2017 -0800

    Move URLAction creation into its own file.

commit 24ce869cd2cdb6a43125ac7578523b0cebf2968b
Merge: 66fbf930 d7b46f3c
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 26 00:05:01 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit d7b46f3c74b1c32df1fcb161590240304e7ef666
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 25 17:41:47 2017 -0800

    Add touch bar icons sketch file

commit ca403601ded650e007d16305b0bf0893fafe98e4
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 25 17:39:47 2017 -0800

    Fix incorrect targets for some source file that made CI fail

commit 65581ca9a0cbc050c9e30a4ddd6f8796a038df36
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 25 17:37:13 2017 -0800

    Change the test scheme for CI

commit bbfcdb125390a7abc9a6a4e4b9564a9cea77f946
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 25 17:33:43 2017 -0800

    Don't crash when we're sent an inline file with no or invalid data. Issue 5568.

commit 2a1f423d86ae7b404c6af623ff4867b1903e2961
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 25 16:52:50 2017 -0800

    Get rid of cocoapods. Get rid of ocmockito. Get rid of ochamcrest. Now I understand the project again. Also, the tests now build.
    
    Add a fake user defaults class to mock out the one thing that needs mocked.

commit 229ff7f335d9ef0090690bcffcc3d1e63cd94c76
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 25 15:25:11 2017 -0800

    Add an advanced setting to exclude background colors from copied styles. Brought up by a comment in issue 3570.

commit 66696d78b12edc5192a6039075acabf54bd681d5
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 25 15:14:59 2017 -0800

    For the modifier+number shortcuts to switch tab/window/pane, use virtual key codes instead of the event's characters or charactersIgnoringModifiers. For some keybord layouts like AZERTY you must hold down shift or capslock to enter a digit. The feature is inaccessable on such keyboards because we require the modifier mask be an exact match. This is guarded by an advanced setting since it could block user-defined shortcuts. Issue 5573.

commit 0b1aa1c966d6b7290644e2a0a0d3b8789af33ff8
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 25 15:01:16 2017 -0800

    Refactor -sendEvent: into small sane functions.

commit 8d9d786b0cc21b03cf3b431146afb837cce3108e
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 25 13:19:59 2017 -0800

    Remove the -beta suffix from version.txt so the nightly build will continue to be correct

commit 9a617a5fad9428d9524dd82fb84a356289f950b3
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 25 13:15:13 2017 -0800

    Revert "Prepare versioning for 3.1."
    
    It didn't work because sparkle uses its own version comparator to detect downgrade attacks.
    
    This reverts commit 512c5b4abc01d849e9d1c45cfa695a3999ce8677.

commit 66fbf93057f0cd1138fab8e3bd4e05956baad2fa
Merge: cce68be6 e449874d
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Feb 23 00:05:03 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit e449874d99966de1bf711ccba4b56dddcc8163cc
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Feb 22 22:18:20 2017 -0800

    3.1.0.beta

commit 88ceb11c96f6ede79bbd5ae45ab516ef42e5e36d
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Feb 22 21:41:21 2017 -0800

    Remove unused build configurations. I hope this doesn't break the world.

commit fc57c1b18b72815e2664102f78012dbb22bc936f
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Feb 22 21:28:01 2017 -0800

    Revert accidental commit of plist file

commit aece977c54fd6e21a2a700cae46c67eab0d5ebb1
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Feb 22 21:26:25 2017 -0800

    Get rid of no longer needed security unlock-keychain

commit bd2c104a1bdefeeb5ca8aef81abccc2fa5a0672d
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Feb 22 21:25:31 2017 -0800

    Update the minimum OS version, default description, and remove duplicate beta from summary.

commit fd29c5a63c020d0d6cd154d53d74470bb8888f6a
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Feb 22 21:22:45 2017 -0800

    3.1.0.beta

commit 6c4ec2c281f3dc2ccec7e93f309f89cbc2b05821
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Feb 22 20:53:57 2017 -0800

    Remove command line signing in favor of xcode

commit f4d3623448c7fe3569739bbcdc0eaab9fc41d795
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Feb 22 20:40:43 2017 -0800

    Fix a bug where you couldn't bury a window in a tab that wasn't selected. This was an issue with tmux gateways auto-hiding. It was revealed after merging 3.0.15 into master since both dealt with the problem of hiding the gateway after a delay, but only master had burying, and I adopted 3.0.15's way of handling the delay.

commit 1880236a29af0c86e53c710595e25d5668e1ca42
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Feb 22 20:39:44 2017 -0800

    Don't open an untitled window if there are buried windows. A buried window could be a tmux gateway that immediately opens other tmux windows.

commit 096abd344173167eca08c48b2208ec0a0037f2db
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Feb 22 20:39:05 2017 -0800

    Fix merge problem with 3.0.15 -> master

commit fb832754c23d74a1aad42188ccfb31f117da2b71
Merge: 84bf4698 8a513abb
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Feb 22 20:11:05 2017 -0800

    Merge branch '3.0.15' of https://github.com/gnachman/iTerm2

commit 8a513abb263145c80cea4f9c315f719663337991
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Feb 22 20:05:37 2017 -0800

    Remove the pending window opens counter since there's already an almost identically named set that does the same thing but better.

commit 84bf469807c4dcd8b82d93348c21fd3183c6466c
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Feb 22 19:55:21 2017 -0800

    Allocate a dynamic buffer for screen chars more readily. The estimate of 2*length was not high enough since a double-width character in the right margin occupies three places (dwc-skip, char, dwc-right). The new bound of 3*length is loose but not too low. Issue 5564.

commit 2be164b092520785447854832fe784064401f169
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Feb 22 19:55:04 2017 -0800

    Use the updated shell integration installer

commit cce68be6850bf1aec861f0c99eec78a5ef32ad63
Merge: 831d464d d4cfe1db
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Feb 21 00:05:03 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit f60683de2266ad65be97735a78ce66b21abef677
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 20 15:08:35 2017 -0800

    Fix ReportVariable to return an empty string when there is no such variable. Returning (null) wasn't cool because we tried to base64 decode it.

commit 2922d1e81588cf3e4f00020b8b0dd1eafaf62797
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 20 15:08:10 2017 -0800

    Update shell integration versions to the latest

commit 270a710c82ae07ff75e8ddbef82ae0c3d7e93a43
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 20 15:07:53 2017 -0800

    Report the profile name, not the tab title.

commit d4cfe1dbd5b881d17322d5d8113a1bf67ce9879f
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 20 14:08:55 2017 -0800

    When doCommandBySelector: is called in response to handling a key event, we may pass it off to the delegate. We used to use the app's current event but that could change to a non-keydown event, so save the keydown event in an ivar while handling the event.

commit 23548d2750fbb2a98c3675513c057dc2aa9f6137
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 20 13:39:55 2017 -0800

    Update the touch bar when the number of tabs change. If a tab goes away its touch bar item must be removed.

commit 512c5b4abc01d849e9d1c45cfa695a3999ce8677
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 20 13:01:23 2017 -0800

    Prepare versioning for 3.1.
    
    Change the version number to 3.1.x. This affects only nightly builds, which will be named 3.1.x-nightly. When I build a beta release, the release_beta script will tack on .beta, so it must be run as release_beta.sh 3.1.0. That will produce 3.0.1.beta. This commit adds a Sparkle version comparator that special-cases versions ending in .beta so that a non-beta with the same first two parts will compare as newer (e.g., 3.1 is newer than 3.1.9.beta).

commit 97624332edae2ace5abfd0011ffb47e89cff48b7
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 20 12:06:37 2017 -0800

    Change version number to 3.1.x-beta

commit cea4450e7bb54c54f082f6077ddc5ea7d31cd44e
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 20 12:06:14 2017 -0800

    Fix indentation

commit 5d933beabe2079beaf4aeabf69414cdea1058761
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 20 11:48:11 2017 -0800

    Get rid of FutureWK... stuff and use proper version checks. I think it was based on the assumption we'd build under old SDKs, which isn't viable and was probably never a great idea.

commit 5614f2ce98f755d6d2fce3561c0e6a0e9557426a
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 20 11:42:33 2017 -0800

    Get rid of 10.9 specific code

commit 49ae6770e26fc4bc02a0487358ed13f2460f0628
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 20 11:39:04 2017 -0800

    Remove yosemite version checks

commit 16657a8dd59b11b61968538321dbc58a6a0ecd49
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 20 11:30:14 2017 -0800

    Fix deprecation warning

commit 4c2a77c908d844abd304f7b718f4a8e9f0527598
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 20 11:23:07 2017 -0800

    Fix some bugs in base64 uploads:
    
    1. If the filename begins with a - it confuses tar. Start all filenames with ./
    2. If the file is smaller than the chunk size it would finish before the upload was marked as started. Begin uploading a little later to avoid this.

commit 7971267f426b06f1b53e7e2558b1ed36d250a6de
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 20 11:14:50 2017 -0800

    Remove deprecation warnings

commit ac91d79e4fd5a33b538afce2abbbb161c7d410f6
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 20 11:06:16 2017 -0800

    Fix a warning

commit a4dfbbd5707fbf6a71ebddd792c32f9a7e047bef
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 20 11:05:49 2017 -0800

    Fix more deprecation warnings

commit 2edc38f1ff377c6b7ce30082b0d997ec69066ef2
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 20 10:57:30 2017 -0800

    Enable warnings for APIs that may not be supported. Add macros to selectively disable them. Move touch bar support into a category to do this sanely since it had a LOT of warnings.

commit d15c4d551c67aba678f739f0e35733119341a898
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 20 10:04:58 2017 -0800

    Add script to help send attention escape code

commit e20b94dfc29486415c411de54df764e65966b6f1
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 20 10:00:59 2017 -0800

    Add RequestAttention=fireworks.

commit a55e205286f14690da629e466a20c8ee800257ea
Merge: e80e93a1 2f2d4c57
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 20 09:42:49 2017 -0800

    Merge branch '3.0.15'

commit e80e93a13d466cf10782adc80994e7e9d067db19
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 20 09:11:00 2017 -0800

    Remove the layer and shadow from iTermAnnouncementView. Using a layer caused issue 5329 (the announcement is not properly composited under the find view). Not using a layer breaks the drop shadow. Also, not using a layer means that buttons become invisible when the window's appearance is 'vibrant dark', so set the buttons' appearance to vibrant light in this case to force them to render properly against a light background. Sheesh.

commit 831d464d00e46ea44b12daf7cba434d2c032ce77
Merge: e3b95d26 b375487a
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 20 00:05:02 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit b375487a9a5c3bee8702fa51e5a9944978f08a14
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 19 12:01:50 2017 -0800

    If no local auth policies can succeed, consider yourself authenticated. Fixes a problem where the password manager doesn't work on mac os 10.11. Issue 5553.

commit 58922dd6ae6d01b17443ffe1bbd0d6b59210907c
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 19 11:51:44 2017 -0800

    Keep track of how many lines are in the prompt so the whole thing can be preserved when you clear the buffer. Issue 1330.

commit 562ef133ffe1bcfd4bd01726ceef0048b2d4a8b7
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 19 11:09:16 2017 -0800

    Fix failing tests

commit 941ba89146e2124919e307015693db0db56bc0d2
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 19 10:55:41 2017 -0800

    Make the tab bar's minimum drag distance configurable.

commit 7e37f106346dcb33cd4a62fd7aacb73404736dc7
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 19 10:21:52 2017 -0800

    Fix deprecation warning in advanced settings view controller

commit db4120115743bfbcfb394c2cbf97be671ae3ab52
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 19 10:19:25 2017 -0800

    Change ProfileListView to not use deprecated cell-based table view methods. Change how text is truncated to use ellipses.

commit 35dec325fce2ce239630d1df27580005afbd3078
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 19 09:33:13 2017 -0800

    Fix more deprecation warnings

commit 96af09ef4ab8bdd5e0bb5900f238ce02688a02f0
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 18 17:51:28 2017 -0800

    Fix more deprecation warnings

commit 5845a61a801b7418d7621720d3a987fc0d8e7487
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 18 17:50:05 2017 -0800

    Fix more deprecation warnings

commit 1fa7ea6b411dbf1658da3adad49f6b6d3b741fd4
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 18 17:47:44 2017 -0800

    Fix more deprecation warnings

commit d2d1d54954879a7f775619d287a2b04022c85282
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 18 17:35:48 2017 -0800

    Fix more deprecation warnings

commit 7fb5411edd591bf9516b1370055ed1ee2d106810
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 18 17:15:45 2017 -0800

    Fix more deprecation warnings

commit f4acb6248923887449fd73022328a3166d0846f3
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 18 17:10:53 2017 -0800

    Fix an error in commit 3968544 where the past special dialog was made not-application-modal. It is app modal to prevent the window from closing while it is open.

commit bed2287ede2cc63d28be537164782008603c3774
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 18 17:06:52 2017 -0800

    Fix more deprecation warnings

commit 7c450140ff341ee6f18ba3bbb50431628eb0d541
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 18 16:59:47 2017 -0800

    Fix more deprecation warnings

commit 94012df133f3807a7dc5c8d37004c4be90af9061
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 18 16:53:22 2017 -0800

    Fix more deprecation warnings

commit 3968544810db601228eb512a1a064bbaa55b6744
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 18 16:37:53 2017 -0800

    Fix more deprecation warnings

commit 33971fcb39562f81f0fd2edb56f379dc969a6186
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 18 16:19:56 2017 -0800

    Fix more deprecation warnings

commit a216b74b77e5089093de75f333ae2e3f9d1bd73c
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 18 15:26:18 2017 -0800

    Fix more deprecation warnings

commit 45eb6a024e288aedefa75fe24e7fab03eee67938
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 18 15:15:31 2017 -0800

    Begin removing APIs deprecated before 10.10

commit 5e27c2839498b8d3a262573a283b399660b97a7e
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 18 14:56:02 2017 -0800

    Change deployment targets to 10.10

commit 563f4e22da484b5050508141a5c896a61b29b7b6
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 12 11:11:07 2017 -0800

    Improve accessibility for tabs by making individual tabs selectable.
    
    - Use the new OS 10.10 accessibility APIs to make tab bar cells accessible.
    - Populate the tab bar's AXTabs attribute with the tab cells' accessibility elements, including possibly invisible ones.
    - Tab accessibility frame are now reported in screen coordinates.
    - Tab accessibility labels now reflect tab titles (i.e., tab cell string values).
    - Enabled the tabs' newfangled accessibility representations' AXPress action.
    - Fixed PSMTabBarCell's -isSelected for cases where -tabState includes other flags in addition to PSMTab_SelectedMask.
    - Cleaned up the old vs. new accessibility implementation in PSMTabBarCell and added child elements for the tabs' close widgets.
    - PSMTabBar and friends now do proper accessibility hit testing.
    - Switched PSMTabBarControl to protocol-based accessibility support. (As a reminder, this requires macOS 10.10 or newer!)

commit e3b95d26b7defdb8e70c012017d849e1156b15eb
Merge: 2e24cc2c b1c645b7
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Feb 17 00:05:01 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit b1c645b7301a7280aa004022ce549a8e1cc5ef0a
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Feb 16 21:26:33 2017 -0800

    Try to fix the redistributeQuantizationError crash. Add some more diagnostics in case this doesn't do it.

commit 2e24cc2c8803bcf4c17b0dc1e0fb8d07a4f81920
Merge: 1eb894a5 05e54646
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Feb 16 00:05:01 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 05e546468bfccb6e571865540fa2ff688dff1baf
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Feb 15 20:11:04 2017 -0800

    Fix a crash when opening the password manager on os 10.11. Issue 5553.

commit 1eb894a5e25a0044ac5660f07039324bbb9aaae2
Merge: 1ff436dd 6df64aef
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Feb 14 00:05:01 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 6df64aef987c45a335a341fe84eae8a7a37219f1
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 13 22:30:21 2017 -0800

    Add critical errors to track down why tab split view hierarchies are failing invariants tests

commit 781eaea62a8271812ae464ee1540daff1e4a7b7d
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 13 21:52:29 2017 -0800

    Add a script that automatically accepts golden image diffs from travis.

commit bfbf8b7c6fe4c3a289196be9fb7a96cecb09eb0f
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 13 21:50:34 2017 -0800

    Update golden images for new underlining code

commit 7ea9509b3cb4efa5305dc14506023cc5b132426c
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 13 20:15:19 2017 -0800

    Bring back support for adjustable hotkey window animation duration. Mentioned in a comment in #2288

commit a17c1beef522a28db8f72948627f28eba9d49306
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 13 20:12:42 2017 -0800

    Write updated golden files to the source directory to make it easier to diff and accept them

commit 1ff436dd1cc58dce8f7ef375f2b5d0b3fea01f04
Merge: 0ce62581 a306be6a
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 13 00:05:03 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 64caf23b020bd35ac1f3fbd7f218acb2d0d9176a
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 12 14:13:04 2017 -0800

    Fix failing tests except goldens

commit a306be6a439d27d76f8d69faadd06ee0f61c380e
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 12 13:23:06 2017 -0800

    Add some polish to file upload support.
    
    - Integration with Uploads menu
    - Announcement on ^C to offer to stop
    - Fix how args were passed to tar for multi-file uploads

commit 6e975b05eec282805f8d59dda1e7f358dbd58a7c
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 12 11:35:32 2017 -0800

    Add 'clear all' options to the upload and download menus.

commit 0ce62581b0b2b54e46e7e42edc1728a201d52f49
Merge: e1693531 62160fb4
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 12 00:05:01 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 62160fb44abb5fb1294d733abc1ed6006eaf0bea
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 11 18:07:40 2017 -0800

    Indicate which session caused a notification

commit a04a3806ba1a560f659d69b5a5ea38310edc69a0
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 11 18:02:31 2017 -0800

    Add an it2api script for command-line API use

commit 4e409b78aaa87e53e1fb01c7679426a8c0a9484c
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 11 18:02:05 2017 -0800

    Add a list-sessions API

commit 4df1ba2d1e8eec9fcbd0c163ac8d54e26535240b
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 11 18:01:47 2017 -0800

    Remove outdated proto generation script. Use the one in the tools directory instead.

commit 92cb73318e6f86699d50638354c4298eea6b67e9
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 11 17:40:58 2017 -0800

    Add a python example of API usage

commit 1451a41d2b65b9dfe11f101af46d5ce7862438ac
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 11 17:35:30 2017 -0800

    Extend the API server to accept connections from shell scripts. Give it the ability to get the process name and command line if it's not a launchd job.

commit d145b2f8f94b42e6d2b8c43d0d793e2dff0b56de
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 11 14:42:22 2017 -0800

    Handle error output in coproesses.
    
    Read from stderr in coprocesses. When it terminates, show an announcement offering to view the errors, which (if selected) are written to a tempfile and opened with your default textfile editor. You can silence errors from specific command. The run coprocess UI is extended to add a checkbox to control the sliencing for the current command.

commit e169353103dc96e5fb0e1c1615c7d2bbf8398e8c
Merge: 5fe3908f 13ca5e72
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Feb 10 00:05:01 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 13ca5e72aebd5c70ccaf3a6d1d629309c90e6657
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Feb 9 22:43:43 2017 -0800

    Add OSC 1337 ReportVariable=base64-name ST which responds with OSC 1337 ReportVariable=base64-value BEL. Adds a shell script to use it.

commit 29721f4af00f11b5ff4976af67e27de1a8fedfc1
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Feb 9 20:26:27 2017 -0800

    Add more assertions and critical errors to track down Nic's crash

commit dacb2ff3e55c10594240f19a0acab49ebfbcf522
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Feb 9 20:09:36 2017 -0800

    Fix whitespace error

commit 20704cafbe22ab76af5c5a436ddb93d1f494ed17
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Feb 9 20:09:25 2017 -0800

    Delay burying sessions on app restoration until the application has finished launching because burying a session means restoring it from an arrangement which means it can start executing tokens before the app has finished launching if somethign blocks the main thread like a modal alert.

commit be7310890e2d577eca8bb5093c53644b1eac300f
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Feb 9 14:20:25 2017 -0800

    Update image decoding sandbox to allow resources (mostly font related
    things) to decode text in EPS files on OS 10.10. Issue 5530.

commit edd69b77662e46ca71804f84b49431d6b27e089c
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Feb 9 10:16:48 2017 -0800

    Extend the key binding emulator to recognize keystrokes at the root of the
    tree that would leak cocoa's input handling down a garden path to selectors
    that we don't handle. In other words, if a keystroke is the first keystroke
    in a multi-keystroke sequence that can't possibly lead to insertText:,
    recognize that and tell the caller not to pass the keystroke to
    handleEvent:, but rather to handle the event immediately. This fixes a bug
    where a default key bindings like this:
    
        "^x" = {
            "k"     = "performClose:";
            "^f"    = "openDocument:";
            "^x"    = "swapWithMark:";
            "^m"    = "selectToMark:";
        }
    
    Does not cause ^x to get held up until another key is pressed.
    
    Issue 3710.

commit d74068d0dd7043a352461fee0e0f33e46fe0f590
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Feb 9 09:13:13 2017 -0800

    Change fish shell integration version to 5

commit 5fe3908f7cec132ba2adf9be9a91bb61daba3182
Merge: ead55b7f 48d4a86d
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Feb 9 00:05:01 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 48d4a86d04f0b49196be76ad6708538e93b1602c
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Feb 8 16:18:08 2017 -0800

    Bump fish shell integration version because v2 isn't compatible with fish 2.5.0

commit ead55b7f4b4644c6342b28eee2988503ed2b8d92
Merge: ddc4c5b1 7dc41888
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Feb 8 00:05:03 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 7dc41888250b11d7832e2235237f56665111580f
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Feb 7 22:05:03 2017 -0800

    Update the transient window size in the window title when the tmux layout changes. Issue 5513

commit dd8c44d6719bca87f66ee7039dcdd1c9ce88d2ad
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Feb 7 22:04:43 2017 -0800

    Fix a possible crash when burying a sesion since restorableSessionForSession can return nil

commit cde85ecccfa4e9b3f7671a63ac0ef917f099d24b
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Feb 7 22:04:21 2017 -0800

    Wait for a spin of the runloop to bury the tmux gateway to make it work when restoring saved windows after a crash

commit 492287672abcb432a09458d7f9601f7e1217e8a9
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Feb 7 20:51:38 2017 -0800

    Change promptForPasteWhenNotAtPrompt to a settable value in a continuing correction of the bad merge

commit ddc4c5b170c7098331bd2335b425e0dc6cef7f40
Merge: cf18da7e 6d8b8436
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Feb 7 00:05:01 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 6d8b843627e5e0801017dd9989aa6b34f0905379
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 6 16:03:52 2017 -0800

    Add missing advanced setting that broke pasting

commit e899cd66aadea4027c100b290de037748a205ccc
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 6 16:02:17 2017 -0800

    Add a critical error to redistributeQuantizationError with empty sizes array

commit cf18da7e6036199a19570b46ab7bc3b0fa56aa68
Merge: b33f042b 4ddc6512
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 5 00:05:02 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 4ddc6512a9575138ac9342e663492ef31d6baf5a
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 4 21:36:16 2017 -0800

    Add Monoid to the ligature whitelist

commit bf991fcb2b0283d742b660d0542665dc3695a91b
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 4 21:29:05 2017 -0800

    Debug log the result of the default ligatures check

commit ebe6e9a4f51e74577341088238f1f45f6ec06296
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 4 21:19:15 2017 -0800

    Get rid of the stupid webview pool thing. The bug was a missing release on the webview in the wrapper view controller.

commit eb1a7ca822078e41f1c59b1998b2d34ebe480c62
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 4 21:16:19 2017 -0800

    Handle quicklook sites blocked by ATS more gracefully. Fix the Open in Google Chrome button. Issue 5524

commit d48b65c99d89d97ba2495ad913501913cf2d5ded
Merge: 44fa77a2 2a72e441
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 4 21:05:25 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 44fa77a2233250cbbb1994a338e84ec7fe670797
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 4 21:04:20 2017 -0800

    If DefaultKeyBindings.dict leads you down a garden path to a multi-keystroke combo that doesn't exist, revisit the keydown events seen along the way and replay them. Issue 3710.

commit 2a72e4411143d09759f4fb8ada1bc910b0113067
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 4 20:26:53 2017 -0800

    Convert rfc 3339 (UTC) timestamps in the context menu. Issue 5509

commit b163277f3a0e4dc05bb359fd6afb5f6582bbe2e7
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 4 17:58:14 2017 -0800

    Support frontmost applescript property. Issue 5468

commit 9967a3d43db1134a844d307ddde955662425fdf3
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 4 15:54:03 2017 -0800

    Wait until the initial batch of tmux windows is open before hiding the gateway session. There was a bad interaction between "Open tmux windows as tabs in existing window" and "Automatically hide the tmux client session after connecting" where the gateway window would hide and then immediately unhide when the first tab was added to it.

commit 61acf041b45922a74ecc901ea9b6d0f10bc55863
Merge: 064dac3a 2f2d4c57
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 4 15:18:06 2017 -0800

    Merge branch '3.0.15' of https://github.com/gnachman/iTerm2 into 3.0.15

commit 064dac3af8e3fa70f9d0fb13a16d9a30bc84fcac
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 4 15:17:35 2017 -0800

    Double click a window in the tmux dashboard to reveal it

commit e185a47d05c7e6557221b0417a9d7be285b8d8c0
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 4 14:52:01 2017 -0800

    Don't save affinities when detaching. The affinities get saved just after the windows are closed. See email with subject line "tmux support" 2/2/2017.

commit b33f042b76f744dd0ff9fb1f99fcace835364250
Merge: f87ef51a 035ed7ec
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 4 00:05:02 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 035ed7ecded97c828cda47f7e7e3f5679bf9510e
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Feb 3 09:36:49 2017 -0800

    Make canonicalFrameForScreeN:windowFrame:preserveSize: return early if the window doesn't have any tabs, which can happen during state restoration (and was the cause of one of Nicolas's bugs)

commit 9f2aa4a018d85258a2c449583dc567f0ce61cbbe
Merge: de49bd20 4a07936e
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Feb 3 09:28:13 2017 -0800

    Merge branch '3.0.15'

commit 2f2d4c5722c053f31374c1b132912983357abc58
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Feb 3 09:12:34 2017 -0800

    Fix crash with out-of-bounds parameters to DECRQCRA (y=0 caused an assertion, and overly large x values would blithely read off the end of the array). Issue 5520

commit f87ef51aed92ef9b1bbf5f1759aee1ee31a83e3c
Merge: 66e66bc5 de49bd20
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Feb 3 00:05:02 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit de49bd207bee9b3941d578db35dd9f11ca349b49
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Feb 2 22:08:01 2017 -0800

    Move underlines up by half a pixel so they won't be smeared. Issue 5515

commit 306101de60ae97d533eabdef38331a8a3b6bb4e6
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Feb 2 21:29:44 2017 -0800

    Fix a bug in safeMakeFirstResponder where it made the window rather than the view first responder, the effect of which was to steal focus from Edit Current Session's title text field.

commit 62002b2e9fa9da9848a6dffee98423e4f87b95ea
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Feb 2 21:14:20 2017 -0800

    Change critical errors to show an alert after a spin of the mainloop because you can't open an alert during drawRect:. Add a critical error for when quantization error redistribution goes crazy.

commit 637a13cdf65c523598b14052168a14529ab45022
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Feb 2 21:09:08 2017 -0800

    Add a critical error to catch array size mismatches when redistributing quantization error

commit f6515c7c91b19fa3991f3a98395852b9cbd01123
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Feb 2 20:59:25 2017 -0800

    Add macros for assertions and critical events. The assertion macro writes out the debug log before crashing. The critical event starts a debug log and writes a stack and reason message but does not die.
    
    Adds a critical event for a 0-size char/line width while calculating a window's canonical frame.

commit 4da4bba2a80f5473865b186272a382ea3a92776e
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Feb 2 20:38:51 2017 -0800

    Add an API to turn off debug logging

commit 0fac384a2fd2d3b0c9c7bf99e0bdff1d4913c029
Merge: 5154bb1f 4ece1f64
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Feb 2 09:05:38 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 5154bb1f47dc83d001377b23a8c11010747cb7a0
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Feb 2 09:05:34 2017 -0800

    Set the session's guid from an arrangement before running its command so the TERM_SESSION_ID will be preserved even if the process itself died. See conversation in mailing list subject 'ITERM_SESSION_ID/TERM_SESSION_ID problems'

commit 4ece1f6405fb959fd376ed6ca6abd2a0b5ab0966
Merge: f3639110 f61411bb
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Feb 2 08:59:09 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 66e66bc560a0ff9f405a0a3860ae2cb3123fd480
Merge: fa2ae48d f61411bb
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jan 31 00:05:01 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit f61411bb4f13145bce0269f005711ee45c574e35
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 30 14:07:03 2017 -0800

    Post a notification instead of an alert when you can't fork

commit cf35c6b1c6cf753af2c13848353bc3552eaaf184
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 30 09:03:49 2017 -0800

    Don't make a new split pane first responder when focus follows mouse is on.

commit fa2ae48d90c9b985617ddc6fe8ce9518159ad573
Merge: f51b7be1 676bdfc3
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 30 00:05:02 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 676bdfc3512ae3b69585c00bbbc7b8380b0bc517
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 29 20:33:54 2017 -0800

    Add ability to restore window arrangement in tabs to open quickly window

commit 414ab89cdf815d10466a05f46cd340a908ebb5d0
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 29 20:24:44 2017 -0800

    Add the ability to save a tab as an arrangement, in the tab context menu.

commit c7e2483864d05ba0ca1f5c1ee103f6c8a8b91d68
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 29 20:08:06 2017 -0800

    Add the ability to restore a window arrangement as tabs in the current window.

commit f61616f4cf6caacc8eef7ff0902c48de33721fd2
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 29 13:09:31 2017 -0800

    Add websocket API to subscribe to location (host, user, directory) changes.

commit 6af0933a6d0eb3cd79e0cbb73acc357623ca4a6c
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 29 12:57:09 2017 -0800

    Add websocket API for changing profile properties

commit c17ea655e8271c1a5fa49354f52ba059b0d8da93
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 29 11:00:55 2017 -0800

    Reduce log level for event tap

commit 73ce06c0698be1cfffb6d32984d718954d71127d
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 29 10:30:57 2017 -0800

    Fix validation of host header for websocket api

commit f51b7be17b1597cab7e74982a1cfd0ddcf77b913
Merge: 2df48711 b64d0e5a
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 29 00:05:02 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit f26c8c2b337ce67276604ddb134004828a23c638
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jan 28 22:23:59 2017 -0800

    Disinter a buried session if you try to reveal it (e.g., by pressing its hotkey)

commit b64d0e5aa4f69d821e253d1dedac4562e18280ee
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jan 28 22:18:39 2017 -0800

    Remove leftover merge cruft

commit e074b39a66f34096b6baa472b045eb116766e86f
Merge: 0263b33e d6854f8e
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jan 28 22:18:16 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 0263b33ec29ac3ee18b89cc4a92918b5801e2e6e
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jan 28 22:17:41 2017 -0800

    Change auto-hide tmux gateway to auto-bury. Remove -[PTYTab tmuxBookmark] because the gateway loses the reference to the delegate after burial.

commit 1bc543eac40312c2a19d20fdce4bb868c71950dc
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jan 28 22:05:01 2017 -0800

    Add support for restoring buried sessions. It's imperfect but good enough to start testing tmux gateway burial.

commit dbec8114a26f3c6074c8d2cccc2648a9333cae3a
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jan 28 20:19:53 2017 -0800

    Initial add of support for burying sessions.

commit f363911083da1b0389c03f41a6016a41b0b35b4a
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jan 28 19:09:43 2017 -0800

    Change a bunch of log statements to debug from error

commit d6854f8e16c9d0a302fc2786fb25beee5bd97e57
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jan 28 14:23:18 2017 -0800

    Use a taller mask when drawing underlines. PragmataPro's underline sits below the bottom of the cell. Issue 5450.

commit c483b913de2fd088b308133ba4df42f9ed10c20b
Merge: aa371b5d 269fe0b4
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jan 28 14:09:23 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2 into mergeCapturedOutput

commit 269fe0b41a89e2e760f944644e73b552a4cf8d00
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jan 28 13:32:29 2017 -0800

    Fix a bug where images with their origins not on the first column displayed incorrectly. Issue 5493

commit 79a890c6eefc211ee770fd54b90ddb0dc20beb6b
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jan 28 13:31:52 2017 -0800

    Decode images in-process for debug builds because address sanitizer breaks out-of-process decoding

commit b25a1983f94f162dff5a6cdc55c449f5b545df08
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jan 28 11:56:32 2017 -0800

    Only invoke settingsChanged every 750ms when editing a profile's name because it locks up the mainloop for some time and it was hard to type in that field. There was a knock-on effect that clearing keyMap must be done after a spin of the mainloop so it's safe to call settingsChanged: from windowWillClose:. It would go wrong when the text pane cleared its keyMap before the general pane's windowWillClose ran. The general pane would call settingsChanged which reloaded a session's profile which posted a unicode version change notification (to update the settings panel) which the text pane caught and it tried to update its control and it asserted and died. Furthermore, I have to explicitly retain and relase IBOutlets because for some dumb reason they get released before -dealloc.

commit 2df4871188ac69184ed907335aa99a311146c407
Merge: 35426088 7a0a9c5b
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jan 27 00:05:04 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 7a0a9c5b72b3b73ac9d5f3a309b0dbf62a5c720d
Merge: 3edf66fd 5290b198
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jan 26 21:56:29 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 3edf66fd2415633726d4630be8e7ed4e789b2c77
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jan 26 21:51:28 2017 -0800

    Place API server behind an off-by-default advanced pref

commit 1bfe437eb538a67e19c39ffb9a3796b40c9e794b
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jan 26 21:42:50 2017 -0800

    Fix warnings

commit e769e5eea6fe1e18ac80430368090a4d435d6a54
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jan 26 21:42:47 2017 -0800

    Fix broken project file

commit 005a6a47f5f10b032b3cf27ef112419673129657
Author: George Nachman <gln@whatsapp.com>
Date:   Thu Nov 3 17:52:15 2016 -0700

    Add a prototype API server using websockets.

commit 35426088118d4588e119049993f129dc4f938529
Merge: f8ee6371 5290b198
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jan 26 00:05:01 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit b8148c1189d1d0466e326196e4f8171a0cc3a1cb
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 25 21:09:05 2017 -0800

    Clean up logging in event tap code

commit 15bb22509587069f13acd8133cc44e3a7efede4f
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 25 21:04:45 2017 -0800

    CHange NSLog to ELog in iTermEventTap

commit 5290b198764cf8f2c9f019e015e2e09df17b8e87
Merge: 4bacbd97 1adaa7c4
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 25 20:27:58 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 4bacbd977e77bb3aabce5ce4dc3399576a751de6
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 25 20:27:20 2017 -0800

    If the active space changes and a lion fullscreen window is on the active space and the app is not active, activate it. Works around an OS bug. Issue 5489.

commit 1adaa7c489c572e3f5a86e4c68942f8fdf524b61
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 25 09:13:16 2017 -0800

    Fix a bug where canonicalizeWindowFrame was called reentrantly until the
    stack overflowed. My theory is that the OS insists that a window belongs on
    display A but we really want it on display B. This commit prevents a
    reentrant call, so there's only one attempt made to move it. This could
    cause windows to end up on the wrong display when adding a monitor, so I'll
    keep an eye out for that.
    
    Nicolas reported a stack like this:
    
    11  com.googlecode.iterm2             0x000000010da97c54 -[PseudoTerminal canonicalizeWindowFrame] + 420
    12  com.apple.CoreFoundation          0x00007fffc1141a6c __CFNOTIFICATIONCENTER_IS_CALLING_OUT_TO_AN_OBSERVER__ + 12
    13  com.apple.CoreFoundation          0x00007fffc114196b _CFXRegistrationPost + 427
    14  com.apple.CoreFoundation          0x00007fffc11416d2 ___CFXNotificationPost_block_invoke + 50
    15  com.apple.CoreFoundation          0x00007fffc10fed63 -[_CFXNotificationRegistrar find:object:observer:enumerator:] + 1827
    16  com.apple.CoreFoundation          0x00007fffc10fdd9c _CFXNotificationPost + 604
    17  com.apple.Foundation              0x00007fffc2b24a37 -[NSNotificationCenter postNotificationName:object:userInfo:] + 66
    18  com.apple.AppKit                  0x00007fffbed90ddc NSPerformVisuallyAtomicChange + 147
    19  com.apple.AppKit                  0x00007fffbed12813 -[NSWindow _updateSettingsSendingScreenChangeNotificationIfNeeded:] + 467
    20  com.apple.AppKit                  0x00007fffbed2a230 -[NSWindow _setFrameCommon:display:stashSize:] + 2619
    21  com.apple.AppKit                  0x00007fffbed297e7 -[NSWindow _setFrame:display:allowImplicitAnimation:stashSize:] + 222
    22  com.apple.AppKit                  0x00007fffbed29702 -[NSWindow setFrame:display:] + 67
    23  com.googlecode.iterm2             0x000000010da97c54 -[PseudoTerminal canonicalizeWindowFrame] + 420
    24  com.apple.CoreFoundation          0x00007fffc1141a6c __CFNOTIFICATIONCENTER_IS_CALLING_OUT_TO_AN_OBSERVER__ + 12
    25  com.apple.CoreFoundation          0x00007fffc114196b _CFXRegistrationPost + 427
    26  com.apple.CoreFoundation          0x00007fffc11416d2 ___CFXNotificationPost_block_invoke + 50
    27  com.apple.CoreFoundation          0x00007fffc10fed63 -[_CFXNotificationRegistrar find:object:observer:enumerator:] + 1827
    28  com.apple.CoreFoundation          0x00007fffc10fdd9c _CFXNotificationPost + 604
    29  com.apple.Foundation              0x00007fffc2b24a37 -[NSNotificationCenter postNotificationName:object:userInfo:] + 66
    30  com.apple.AppKit                  0x00007fffbed90ddc NSPerformVisuallyAtomicChange + 147
    31  com.apple.AppKit                  0x00007fffbed12813 -[NSWindow _updateSettingsSendingScreenChangeNotificationIfNeeded:] + 467
    32  com.apple.AppKit                  0x00007fffbed2a230 -[NSWindow _setFrameCommon:display:stashSize:] + 2619
    33  com.apple.AppKit                  0x00007fffbed297e7 -[NSWindow _setFrame:display:allowImplicitAnimation:stashSize:] + 222
    34  com.apple.AppKit                  0x00007fffbed29702 -[NSWindow setFrame:display:] + 67
    35  com.googlecode.iterm2             0x000000010da97c54 -[PseudoTerminal canonicalizeWindowFrame] + 420
    ... hundreds more frames ...

commit f8ee63710dc30b00d3acd172390dfde9920c9248
Merge: 4f86e75a e965632a
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 25 00:05:01 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 4a07936e7ca4f1030672fc7ee5f4562b85b3db73
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jan 24 21:37:06 2017 -0800

    Fix a bug where app support/iTerm2/ssh_config was not properly added to the search paths.

commit e965632a0d90adbbf4b1e03bd68063cc346dac83
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jan 24 21:27:41 2017 -0800

    Make the duration of 'short-lived' sessions configurable by an advanced pref. Issue 5165 comment

commit 37f9ab069ea3b9d60b57b3b5f323429b392373c8
Merge: e3bff55c d79ba7c2
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jan 24 21:21:37 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit e3bff55c382fc2c581fda7183695bf1ec5266e45
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jan 24 21:21:24 2017 -0800

    Make menu bar icon grayscale. Issue 5483.

commit 9eb616b9526ef562405c28af7bc36e444d98d50b
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jan 24 21:21:06 2017 -0800

    Fix a crash when dismissing the tip of the day with the keyboard (esc)

commit aa371b5d622fdd8b22ae73fdaa370a6762e8d5ec
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jan 24 21:19:43 2017 -0800

    Fix a crash when dismissing the tip of the day with the keyboard (esc)

commit 4f86e75a88fb787d55d72f67b5312260e237ddb6
Merge: 838c8ba5 d79ba7c2
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jan 24 00:05:01 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit d590d8b6bd8fbf5b29a83321e1382a358a44f46f
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 23 22:00:44 2017 -0800

    Merge captured output when successive captures are closely related. Issue 5481.

commit d79ba7c23bf673ef6df715aba14281b74871f4bd
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 23 15:29:00 2017 -0800

    Fix a crash in the tmux dashboard when there is no selected session name

commit 838c8ba5a4afef89bee1506327e0fb947826e155
Merge: 8933f211 498eafec
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 23 00:05:01 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 4a89206be81bc72e32d6a3794c0dccfdf9abed36
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 22 13:37:21 2017 -0800

    3.0.14

commit 498eafeccda3e4b4bba2b7a8ca080e62d3d4dba8
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 22 12:01:24 2017 -0800

    Make the unicode normalization form configurable to None, NFC, NFD, or HFS+. Users who had selected HFS+ are migrated by a computed default profile preference. The new default for everyone else is None. Let's see what breaks besides Inconsolata. Issue 5469.

commit aa251f0521f6397d0e8b0cd2827d01dde91a87b4
Merge: 43a91d26 798abba0
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 22 09:41:53 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 43a91d2653889e6874d83a54c29872099af066f5
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 22 09:41:01 2017 -0800

    Handle opening a new window/tab via service provider in the directory containing a selected file. Issue 5467.

commit 76e2c7db994b58aa19b3d0f09d873b74695e7287
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 22 09:30:54 2017 -0800

    Fix some failing tests

commit 90215cd155197b66840417b198a43209b5664bea
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 22 09:30:41 2017 -0800

    Add some logging for when the app becomes or resigns active

commit 5fd9580e8be232adc2001559e684519547cdc8ff
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 22 09:29:03 2017 -0800

    Fix a bug where an interval tree entry on an empty line would be deleted, even if it was one that should tolerate being empty. This happens in practice when you have a remotehost mark on the last line of a fullscreen window and automatic profile switching causes the font size to change. Issue 5465.

commit 8933f211a5dc43769d621054b3f8e90e05ec8f2c
Merge: 9cac9589 798abba0
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 22 00:05:04 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 798abba08ec9a7c6285d1f445c94ef1d195b569b
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jan 21 12:59:57 2017 -0800

    Remove a bad reference to smartCaseMenuItem

commit f8a9b7b8d44acb0aeca156400752855bb23b4e1f
Merge: bd604228 c95fa1d7
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jan 21 12:50:52 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit bd60422867b573b97da959ff85debbcc4958322a
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jan 21 12:49:35 2017 -0800

    Delay restoring orphans until all restored windows have had their restorable state decoded.
    
    This fixes a bug where sometimes orphans would open before windowDidDecodeRestorableState ran and you'd get both a "session restored" and an orphan when they should have been merged. To reproduce the bug prior to this commit:
    
    1. Open a window
    2. Cmd-I, change colors
    3. Force quit
    4. Restart
    Observe that you get two windows, one orphan and one session restored.

commit 9cac95895d94ba793e285033a232a15a76aa20fc
Merge: 4b096074 c95fa1d7
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jan 21 00:05:01 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit c95fa1d7d7ff31efa00143489fd618d26fd7df75
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jan 20 16:04:58 2017 -0800

    Fix an under-retain of PTYSession->_currentHost reported by Nicolas.

commit 4b09607472ad214b9c69d0f557fd102ac5379ccb
Merge: ce9c289b a91737aa
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jan 20 00:05:02 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 3154adc02e728ae510d44cbd5edb0fb20b00582e
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jan 19 20:30:58 2017 -0800

    Further reduce debug logspam

commit eba22cdfc414293c4645201a907395fd03ad9a83
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jan 19 20:27:02 2017 -0800

    Fix bug where we showed bogus "this profile doesn't exist" messages when the profile was divorced. Look up the original guid and preserve the original guid when divorcing on restore.

commit d603da9cdd81c8ba93b05b3db1648baf3ba1ff15
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jan 19 20:09:56 2017 -0800

    Reduce log spam while debugging.

commit a91737aaf3fe902e1bb0a0a25295431ebeaea5b0
Merge: cf6d9ff7 0c50898d
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jan 19 19:43:35 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit cf6d9ff771baafa3b9e11ee0ef52d18a687b17f9
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jan 19 19:43:23 2017 -0800

    Add an optional proxy icon. Issue 5455.

commit f1987916033261465617e6e685342f21d95dc97c
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 18 22:24:35 2017 -0800

    Failed attempt to support accessibility for current URL

commit ce9c289b414dda37e7dfc7a72ba7f909ea824b2b
Merge: d09df7cb 0c50898d
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jan 13 00:05:02 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 0c50898dcc36a4d5eeeb39d736848f63fc413f8d
Merge: 6c41394f 871ef94d
Author: George Nachman <gnachman+github@gmail.com>
Date:   Thu Jan 12 18:09:43 2017 -0800

    Merge pull request #321 from ptek/master
    
    Whitelist ligature support for the Iosevka font family and add more varieties of PragmataPro

commit 871ef94d4899c93e7e545b84fa6158163ef1b5e6
Author: Pavlo Kerestey <pavlo@kerestey.net>
Date:   Mon Jan 9 10:18:38 2017 +0100

    Whitelist ligatures for some PragmataPro font vatiants

commit 38b18adc0309b8895dd586fcaefec40a5494c444
Author: Pavlo Kerestey <pavlo@kerestey.net>
Date:   Mon Jan 9 10:04:53 2017 +0100

    Whitelist ligatures for the Iosevka font family

commit d09df7cb3d69db95e08f541e64a86a5cb8dd974e
Merge: 07d5243b 6c41394f
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jan 6 00:05:01 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 6c41394fde62f2fc48619b7e09ba4a09b1bde813
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jan 5 19:58:35 2017 -0800

    Add the update timer to the runloop's common modes only during live resize as it breaks updates while a key is repeating to do so ordinarily.

commit 07d5243ba91814f2cb096e38147af2805511d6b8
Merge: a8ab7f94 d8a3e82f
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jan 5 00:05:01 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit d8a3e82f8a058b8a2c65fdc63b20b10463667d59
Merge: afd8a893 1ea16cdf
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 4 21:29:17 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit afd8a8932a3d2cb67bf9b9edc0fe758ee56efbf8
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 4 21:29:07 2017 -0800

    Offer to repair saved arrangements when a profile exists with the same name as the profile a session was created with.

commit 1ea16cdfea74459c632958e624ce7a8959c6a59c
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 4 08:48:33 2017 -0800

    Make a mutable copy of key labels instead of retaining to ensure it's mutable. Issue 5446

commit a8ab7f94539dabc3b21ba4c0c0463f6f3bbc67d3
Merge: af7cb5a6 f819ed6d
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 4 00:05:01 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit f819ed6dedf327745c00b9a079c401e7d929493d
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jan 3 22:08:02 2017 -0800

    Enable the tracking runloop for live resize. Issue 3706

commit f42a2320c244b8ee9222ebdcbc115282ab92b13b
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jan 3 22:00:00 2017 -0800

    Accept OSC 7 as a synonym for 1337;RemoteHost and 1337;CurrentDir.

commit b441fc1e7aa9d67c243883d8a7b1b207bea11054
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jan 3 21:00:29 2017 -0800

    Add debugging message to defunct-profile announcement. Fix how initial session size is computed to try to fix issue 4601

commit af7cb5a6f9b1f4e77d5f6a6dee922ba960139f8f
Merge: 87ac396e af5fdf0f
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jan 3 00:05:02 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit eba1fe36ccd0616d1dcb7eff5042ed6ff70ea2d2
Merge: 7d07124e af5fdf0f
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 2 22:13:32 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 7d07124e2d9417f2d0913b843174cd8b2de70bbd
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 2 22:12:58 2017 -0800

    Add trigger for detecting prompts to allow faking more of shell integration. Issue 5437.

commit af5fdf0fbed9d1e342c175105531ec83f405faac
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 2 22:12:58 2017 -0800

    Add trigger for detecting prompts to allow faking more of shell integration

commit 2cf5a5904469544b1a71336147d41bb0939a5bda
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 2 21:10:40 2017 -0800

    Add prompt start trigger

commit 7d5d48f0985832eb6380982ad04872a775734985
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 2 15:52:37 2017 -0800

    Allow - and _ in command names for the manpage touchbar item

commit f6b54d66b5e371b9e69a0881e9608e13e710fda1
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 2 15:24:35 2017 -0800

    Use sudo's method (and code) to close file descriptors instead of iterating over every possible file descritor. In issue 5391 we see that closing file descriptors can take a very long time: 4 seconds in this user's case. We now close file descriptors in the file descriptor server before fork(). Since the file descriptor server is single-threaded, this works and is safe. Sudo uses opendir() after fork() which could deadlock, which we don't want to risk (and is a more serious concern for us since we're multithreaded) so when session restoration is disabled we still close every file descriptor because that's the state of the art on macOS (sigh).

commit 87ac396ef22608eba3bb293aa6c0e308d83814d0
Merge: c3ced0e2 e88f5f43
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 2 00:05:02 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit e88f5f43c9d64908fe1f9800fd52fe193709f923
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 1 22:24:27 2017 -0800

    Add smart case sensitivity to find on page as the default option. Automatically upgrade users from case-insensitive substring search to smart case sensitivity. General style cleanup of find view controller code. Issue 4690

commit be3c0a4c9d5f175e25f99938900e7bc8175fccde
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 1 20:57:43 2017 -0800

    Add a trigger to set the session title. Clean up a bit of code here and there for style. Issue 4698.

commit f85861ab22451728cfd25557e5318ea564660ae5
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 1 20:50:59 2017 -0800

    Remove spammy log message

commit 59e67b53e0bac63fcfca2158a600ef607f127a05
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 1 20:49:21 2017 -0800

    Show an announcement when a session restored from an arrangement can't find the profile associated with it. Issue 4740

commit ba66e0103635d282f6a39987c10a0f23107a89dc
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 1 16:54:16 2017 -0800

    Reduce syslog spam by having file descriptor client and server use debug log level. Was raised to err for a while to debug problems

commit 3fa72f3447b0f7e8c1dfc0c520a64e4606938ff3
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 1 16:53:53 2017 -0800

    Don't save server PID in arrangement unless also saving contents so window arrangements don't get the server PID saved and try to restore the session.

commit 4dea9ca61b622213949aaef2ace50c841344974b
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 1 16:44:30 2017 -0800

    Add it2universion. Add labels to push and pop for unicode version.

commit 9ad0bc0e814c56eb7fc92aca8b05c4373cc6a205
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 1 16:44:13 2017 -0800

    Use basename in it2setkeylabel's help instead of a hardcoded script name

commit d7ecbf94f779d073aabfd47c98aeb3f4ee68b431
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 1 16:24:54 2017 -0800

    Add applescript to get and set color presets. Issue 4868

commit 88d0522c3bfcb1297deaf4165706742a248ac186
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 1 14:51:54 2017 -0800

    Make it possible to save a hotkey window in a saved arrangement. Fix a bug where restored hotkey windows get an extra tab. I'm a little nervous about what this change might break, but I tested it and it plays nice with session restoration, default arrangements, and explicit saved arranagement restoration whether there's already a hotkey window or not. Issue 4924.

commit 5f498ba27311769d701059fe617fbb90b0596dbe
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 1 14:20:13 2017 -0800

    Add support for CSI 12 h and CSI 12 l to set local echo on or off. I thought I needed this for copy.sh but I don't, and it's nice to have anyway.

commit 195b9cb7e2912a40111226dbbca59f719ace255d
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 1 14:19:48 2017 -0800

    Fix copy.sh to not mess with the tty

commit 8e428acc6d4f1b81b6f18d857311b2390e60aa5d
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 1 13:53:56 2017 -0800

    Turn off echo so copy.sh will work without piped input

commit 08b447f61c743222dd9a47fdcf99f50179d592ae
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 1 13:50:00 2017 -0800

    Add copy.sh and fix a crashing bug, and use basename for upload.sh

commit 854d47ee65457a131f89bd7cfa633fae26d42b0f
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 1 13:44:09 2017 -0800

    Add support for the OSC 1337; Copy=:base64 ST code, which copies data to the pasteboard.

commit c3ced0e28d6878f40f1cd7ec8898c60993669142
Merge: 1fff0bd7 e246b0a9
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 1 00:05:02 2017 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit e246b0a907ea4ef961dfc40026c5f60a1367267b
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 31 22:10:55 2016 -0800

    Flash the tab bar on entering fullscreen. Issue 5064

commit 348a22442fe5b73fafe68f2139d75e7363fd5d84
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 31 21:59:26 2016 -0800

    Turn on experimental features that are fully baked prior to going beta

commit 8d9a4c4704292bccb22844dc7c8286448d259d3c
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 31 21:52:44 2016 -0800

    Set minimum distance from baseline to underline to 40% of x-height

commit 479e68808ffc3238e57ae174bd30ccd9f872f908
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 31 21:43:13 2016 -0800

    Offer to turn off paste bracketing on host change

commit 0fd7cfd6f90b155a9c47d8f3caaad9d5e3bb6d4f
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 31 20:55:30 2016 -0800

    Offer to turn off focus reporting when host changes. Add advanced prefs to control focus and mouse reporting announcements, and add a new style of tristate boolean advanced pref

commit 561f4115b98d615b14903594590d89b6c2b97071
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 31 20:24:08 2016 -0800

    Offer to abort a download when you press ^C while it's downloading. Issue 5168

commit ae465928161854dd07db1ee1622e61ae455f8f37
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 31 19:59:29 2016 -0800

    Clear tmux history when you do Clear Buffer or Clear Scrollback Buffer. Issue 5178

commit b3e3fbae6020c6a3a0c8d44b0c2280e3ff203c11
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Dec 30 21:47:19 2016 -0800

    Add upload.sh and associated machinery.

commit 1fff0bd791436e91db82b74af00f3b3b49855875
Merge: fb6a6350 963abe7d
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 31 00:05:04 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 963abe7d4833f857615e57f442d1bcdde79cc015
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Dec 30 20:25:17 2016 -0800

    Add new travis golden files to project to the correct targets

commit adf5b8c5329c3acb256df82f3a6c79e28b643389
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Dec 30 17:40:32 2016 -0800

    Add new travis golden files to project

commit aa441f3b6fafc36a0255db8fdc4da032d16e61a9
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Dec 30 17:32:08 2016 -0800

    Update golden tests for Travis

commit 3b2e0a6d768c101271029e079cdd13728c16f597
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Dec 30 13:56:55 2016 -0800

    Fix how the path gets set in after_failure

commit 5e003d533d58a62e7a7bacb59665a219c0ef4b4d
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Dec 30 13:45:41 2016 -0800

    Try to figure out why travis can't find curl

commit b68cdd4b5efd7a4a8d1463e81ac799606fb25dda
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Dec 30 13:35:42 2016 -0800

    Make travis ignore missing files when diffing images against goldens

commit ffdc37027f63668996e5b2f11ec12f99b13b8e7a
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Dec 30 13:28:07 2016 -0800

    Move core data generated files out of the root directory

commit c83dc506ddefb4bfb49fa6b3b2201ee16cab7b77
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Dec 30 13:12:52 2016 -0800

    Fix case of path ven var in after_failure.su for Travis

commit 4fd08002fcacea24b29c23a34d396c9c483ca806
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Dec 30 12:19:40 2016 -0800

    Tell Travis to use xcode 8.2

commit dd25298d95db91643bb65e492ff3fdf226849f39
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Dec 30 12:12:18 2016 -0800

    Update golden test for emoji since Apple changed the graphics in 10.12 (or maybe 10.12.2? not sure)

commit 084b69c13e5a9525c8371939857c4b209662e311
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Dec 30 12:09:29 2016 -0800

    Update tests for new default to not warn when doing a multiline paste not at the shell prompt

commit 0e40b950914cc66b00605f76d55412944f2e6c2f
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Dec 30 11:56:08 2016 -0800

    Since u+200b is now spacing, fix testAppendStringAtCursorNonAscii

commit 55947c56f19d41983b6251b71948cf72428ebeaf
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Dec 30 10:47:33 2016 -0800

    Fix a bug introduced by commit 392ab06 where a RemoteHost mark on the last line of all nulls would get removed because positionRangeForCoordRange:inLineBuffer:tolerateEmpty: incorrectly failed even when tolerateEmpty was true when trimSelectionFromStart:end:toStartX:toEndX: returned NO. Not sure why this used to work since it would have asserted.

commit 1ed0a45fff25af8cba1cbd8f17f6988f771230a7
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Dec 30 09:41:12 2016 -0800

    Reset key labels on push unless the name begins with .

commit 107678a47d21b28e69d929c26358d9ff51a01154
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Dec 30 09:34:40 2016 -0800

    Change expected usage of it2keylabel to push before set. This makes sense now!

commit 65bca1e32e7a7b40cb09c747df2bdc9fd9b3934b
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Dec 30 09:25:57 2016 -0800

    Allow push and pop of key labels to take a name so multiple sets can be popped at once if a program (e.g. ssh) exits unexpectedly

commit fb6a6350ed379ba9cbe5a4d0e92d5012e3e077a5
Merge: 0ed5bc6e ca6be91b
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Dec 30 00:05:01 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit ca6be91b91ca140224fe0a0bd9ba7869e27b9cfb
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Dec 29 11:38:16 2016 -0800

    Exclude both auto_home and auto_nfs mounts from semantic history for performance reasons. Issue 5417

commit 3cb7b00faeec983af619b38a0521d5a96471681d
Merge: 3473c6be c0b75b18
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Dec 29 09:58:43 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 3473c6be07c1cd0eb03554adf68a28471a69d76e
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Dec 29 09:58:32 2016 -0800

    Save and restore tab colors in tmux integration windows. tab colors are stored in a session option (since window panes can move from window to window but cannot leave a session). Sure would be nice if tmux has window pane options. The tmux controller keeps a map from window pane to tab color. It passes it to the tmux window opener which decorates the layout parse tree with each window pane's tab color. PTYSession copies it into the arrangement (changing it from a #hexstring into a dictionary), and when restoring from a tmux arrangement the profile gets divorced and updated. This implementation is imperfect: if two clients are attached they'll have divergent pictures of the tab colors. The correct solution to this is to add window pane options to tmux and for tmux to post notifications when a window pane option changes. Issue 3531

commit 0ed5bc6ee0ef48fb7d533498de314ededf4dc9ef
Merge: 4bbffd52 c0b75b18
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Dec 29 00:05:01 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit c0b75b184af60b01c2d96888a0d414344c567871
Merge: 5389ad12 86996862
Author: George Nachman <gnachman+github@gmail.com>
Date:   Wed Dec 28 17:30:04 2016 -0800

    Merge pull request #320 from jacob-carlborg/fix-line-numbers-textmate
    
    Fix opening files with line numbers using TextMate
    
    PR Notes:
    Since TextMate changed the bundle identifier and removed the
    ".preview" suffix iTerm2 has been updated [1]. But the original bundle
    identifier was never updated. This mostly worked fine because in the
    operating system bundle identifiers are case insensitive.
    
    What did not work is opening a files using TextMate with line numbers.
    The problem is that iTerm2 checks if an application supports opening a
    file with line numbers, this check looks at the bundle identifiers,
    but it uses a case sensitive comparison. Therefore TextMate was
    treaded as an editor that did not support opening files with line
    numbers.
    
    I would guess that in general all comparisons of bundle identifiers within iTerm2 should be case insensitive to better match the operating system.

commit 5389ad12cc29627a546bbe6b46f5806f9aaf44b1
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Dec 28 17:19:06 2016 -0800

    When the following steps are performed:
    
    0. Starting in another app...
    1. Press a hotkey
    2. Press a different hotkey, hiding the first window and revealing a second one
    3. Press the second hotkey again, hiding the second window
    
    there was a bug where you were not returned to the previously active app. This commit fixes that bug. Issue 5427.

commit d66f8420d696c7651e12c40f4b5e6ed9390d1a33
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Dec 28 09:18:00 2016 -0800

    After a hotkey window rolls out we wait half a second for the previously active app to become active. This is because activating another app is slow. During that period you could not re-open the hotkey window. This commit introduces the idea of canceling a hotkey window rollout. It is cancelable after the animation and during the half-second window. When you cancel the rollout it becomes possible to roll in again. The other app will eventually become active so we wait half a second and if iTerm2 still isn't active and the window isn't rolling out then we make iTerm2 active again. Issue 5423.

commit 4bbffd52c3344cb962b8d0522a7c7a45a8c5a92d
Merge: 4100b780 7298ca5f
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Dec 28 00:05:02 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 7298ca5f42df782fa8f9ec34cef6ccd24826b130
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 27 10:20:56 2016 -0800

    Revert accidental commit "It works" that should have gone only into the noTitleBar branch.
    
    This reverts commit ed6754b191301f317ea9a1f661f21415c7966d58.

commit 4100b78038ffdd1fb279300af6022afec73972c8
Merge: 99a97f69 0fb8f20d
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 27 00:05:03 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 0fb8f20d906bd981ea74249e75669f85ee610fc3
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Dec 26 17:48:51 2016 -0800

    Remove some ancient and broken logic for migrating existing paste from selection logic to pointer prefs. It accidentally changed the default for new users to be paste from selection. Discovered in an email conversation subject 'Pasting with the mouse between tabs does not work'.

commit 8939de8746198c7037513d8c38305fb147ba5274
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Dec 26 15:02:31 2016 -0800

    Add another todo

commit 3c7687a055f022e0977a22bd8371c29b2e01edc9
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Dec 26 15:00:59 2016 -0800

    Add a bunch of warnings for issues I've noticed and remove dead code

commit ed6754b191301f317ea9a1f661f21415c7966d58
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Dec 26 14:53:42 2016 -0800

    It works

commit 99a97f698deb547883532e8c1ef7a65b7baf19f5
Merge: ccbe1e12 ba62d2b7
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Dec 26 00:05:04 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit ba62d2b75634ff7ce74e8436f794256a1bc1ac41
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Dec 25 14:05:59 2016 -0800

    Draw a dark colored window border when the window has a light background color

commit ccbe1e12ee46f77fab72a6a54d5aed4313dadc1d
Merge: a4f81cdb 3ee07fca
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Dec 25 00:05:01 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 3ee07fca78187cc23d9ff2fc8b7f2bb755b4f6fa
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 24 10:27:22 2016 -0800

    Add the ability to customize function key labels on the touch bar.

commit a4f81cdb01cf686fc255c201a4f564ad74184795
Merge: 5fbfce23 9ddc87d7
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 24 00:05:02 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 9ddc87d7962d73310e350724668d52d7371cf4f4
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Dec 23 21:53:29 2016 -0800

    Add escape codes to set touchbar function key labels

commit 1cb891af6f8cb617c265d9c02273f5429eb4c3ad
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Dec 23 16:24:30 2016 -0800

    Add script to show reported session title.

commit 34b9cfbdfbcbbfa6d3ea7be1424737f654363a89
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Dec 23 15:26:26 2016 -0800

    Remove unused F2 images

commit 713c850485d23f0b4a0b6240232de1c942b1e3cb
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Dec 23 15:26:06 2016 -0800

    Remove unused F1 image.

commit 80929c8c04d529abb3ae9f6ddacd7dab209665a4
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Dec 23 15:25:54 2016 -0800

    Add function keys to the touch bar, in both a popover and scrollview flavor.

commit 8f93800e88e5faf809b60417e4482490626eb1f3
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Dec 23 11:54:18 2016 -0800

    Add a shell script to request the profile name and decode and print the result

commit 869968626ea408ee6f2f6cf071eaeaf9f9f39f0f
Author: Jacob Carlborg <doob@me.com>
Date:   Fri Dec 23 11:13:23 2016 +0100

    Fix opening files with line numbers using TextMate
    
    Since TextMate changed the bundle identifier and removed the
    ".preview" suffix iTerm2 has been updated [1]. But the original bundle
    identifier was never updated. This mostly worked fine because in the
    operating system bundle identifiers are case insensitive.
    
    What did not work is opening a files using TextMate with line numbers.
    The problem is that iTerm2 checks if an application supports opening a
    file with line numbers, this check looks at the bundle identifiers,
    but it uses a case sensitive comparison. Therefore TextMate was
    treaded as an editor that did not support opening files with line
    numbers.
    
    [1] f31454263c02b1612573ca6525c032e544a82a2a

commit 42c5a96959aca79a7a3b4a32f084370717978a8b
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Dec 22 22:18:42 2016 -0800

    Add more logging for issue 5391

commit 5fbfce230e4693b2b8ca18e98aeb611d76bc4a2c
Merge: 870da167 6d6a5c55
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Dec 22 00:05:20 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 6d6a5c551d6071eea4c63e176503cc44611579ee
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Dec 21 18:28:03 2016 -0800

    Add the zippy text drawing algorithm which tries to use the fastpath even for nonascii text. It falls back to core text if a glyph is missing. If ligatures are enabled, zippy won't be used.

commit 8c7c282ba4cb482638ae8898c46556d79843af95
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Dec 21 11:56:37 2016 -0800

    Add new applescript for hotkey windows. Commands that windows recognize now include:
    - is hotkey window
    - hotkey window profile
    - reveal hotkey window
    - hide hotkey window
    - toggle hotkey window
    
    The application now understands:
    - create hotkey window with profile xxx
    
    If a hotkey window does not yet exist, you must create it. If it does exist, it
    can't be created again but you can change its visibility. Recommended usage is
    to iterate over the app's "windows" properties and search for the hotkey window
    you care about by asking each window if it "is hotkey window" and if its
    "hotkey window profile" is the one you're looking for. If none is found, use
    "create hotkey window with profile xxx". Otherwise, use "reveal hotkey window".

commit ffae512e399972c7494ce9719238857e5a4b88dd
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Dec 21 10:38:35 2016 -0800

    Don't resize the prefs panel when the text panel updates its height unless the text panel is selected

commit 5a23d6238b1e6a6c7a3a244519c7984ed998a147
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Dec 21 10:35:05 2016 -0800

    Make the text prefs panel height adjust depending on whether nonascii fonts are available.

commit 4f1ae3e8fadf8aafd50c48b400a5e7c06224a792
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Dec 21 10:16:36 2016 -0800

    Add a checkbox to disable ligatures

commit 870da1674571759344f1ed4f83deccc9fe631f52
Merge: 7233ba9f 7724f6bb
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Dec 21 00:05:03 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 4bed327d54cd447377c75123a6e15b0bc6ed6624
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 20 21:44:38 2016 -0800

    Silence a silly warning

commit a196e0ad3309104587890052e6866ebfde2d2615
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 20 21:43:38 2016 -0800

    Get rid of incorrect TODO. makeHotKeyWindowKeyIfOpen still makes sense because it routes around horrific OS failure

commit 3594b273daf0b1342e4229fe69bcf49099449f06
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 20 21:41:15 2016 -0800

    Get rid of hard to do and not very important TODO

commit 040be99199118392ad9945758b73d9da4f828ed3
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 20 21:40:05 2016 -0800

    Remove bogus TODO (the notification caught by the single caller updates the touchbar)

commit 4ff540647ffda29e5db797da5c01731f1853e981
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 20 21:38:52 2016 -0800

    Remove dead code

commit 8faca31eb9c81b3d4b68ea94e2f3f3f4250c7ca2
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 20 21:38:24 2016 -0800

    Reomove uses of the deprecated -lastPos nad -firstPos

commit ef30793ac3b085b6975a8f55568f0b0e4fcab09d
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 20 21:16:01 2016 -0800

    Style improvements

commit 719fef19437ba7ec8d8383e8460297a93ba8797f
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 20 21:13:40 2016 -0800

    Silence some BS compiler warnings

commit 287bcb2db9b0369f01d9f62b857ffd115c325915
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 20 21:05:17 2016 -0800

    Update project file to 8.1's recommended defaults, removing duplicate references

commit 7724f6bb0411bfe685485197ab36af4fc729806e
Merge: 8824410a 666fe27a
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 20 13:53:58 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 8824410a1bd283f0e31a849b435c103651a7e731
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 20 13:53:54 2016 -0800

    Refactor URL action discovery. Fix a bug where DWCs were not taken into account when computing the range to underline for urls like http://www.東京.net/

commit 42cf6ea4473b799db5c6f1329e38d2875be68f99
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Dec 19 17:19:33 2016 -0800

    Add more multiline paste toggles to try to resolve the confusion seen in the comments in issue 5268

commit d2497d788a224adc483c8075f6477b6e20a4711a
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Dec 19 16:42:52 2016 -0800

    Show a bell emoji in the window title when there's only one tab and it would have a bell icon. Issue 5413.

commit 7233ba9f374deb5ed7ba4ff9b0f3a85a0ca21237
Merge: 64867a3e 666fe27a
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Dec 19 00:05:03 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 666fe27a5ed3a757093794be974c3b075834d28d
Merge: 04036736 f6dff93c
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Dec 18 14:13:10 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 04036736f13742668037fb89fc269c9aad88f252
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Dec 18 14:12:01 2016 -0800

    Advance the cursor on Zero Width Space for compatibility with Terminal.app, Konsole, and xterm. Adds an advanced pref to control this weird behavior. Issue 5397.

commit f6c1bd77e6f84128823168bab34845db9ba36249
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Dec 18 13:57:45 2016 -0800

    Add -s option to slowcat

commit 7e106e37314a438f2d8f1cf6db9b1b752480acfb
Merge: fa1cd5e6 714910f2
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Dec 18 13:09:09 2016 -0800

    Merge branch 'amended' into 3.0.14

commit fa1cd5e615bec41695c2db01fc7e13bd23c1a855
Merge: 3c4dc5b1 434064de
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Dec 18 13:09:06 2016 -0800

    Merge branch '3.0.14' of https://github.com/gnachman/iTerm2 into 3.0.14

commit 714910f2b528a423f8e2fc8d4bde27f38920894c
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Dec 18 10:51:18 2016 -0800

    Fix two calls to list-windows that were missing window-flags. This caused us to think that panes were never maximized when resizing a window. Issue 5409

commit 3c4dc5b1475c62092c4c4fde84004c47a670b791
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Dec 18 10:51:18 2016 -0800

    Fix two calls to list-windows that were missing window-flags. This caused us to think that panes were never maximized when resizing a window. Issue 5409

commit 434064dec601f9fc8b47ae472993e8d36d7a271f
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Dec 18 10:51:18 2016 -0800

    Fix two calls to list-windows that were missing window-flags. This caused us to think that panes were never maximized when resizing a window. Issue 5397

commit 5c245579db1e78d0adb6805f202ccb0d383c7d51
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Dec 16 10:47:40 2016 -0800

    Don't sync secure input and let's move's settings.

commit 64867a3ebc472b7f7f0c25da1187dabe491f17df
Merge: ef8b7f6b f6dff93c
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Dec 14 00:05:02 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit f6dff93ce1bfd38365e1a3123ff6862604b0023e
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 13 10:57:04 2016 -0800

    Add support for local authentication services using touch ID if possible when opening the password manager, once per invocation

commit ef8b7f6b24dd66bff00312d6bb734501f61957d5
Merge: 85287809 fee6a51c
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 13 00:05:01 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit fee6a51cf73bd586ab126610eaf02f914458c483
Merge: 56cccde9 d2d4edeb
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Dec 12 22:15:50 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 56cccde9ecc85058bfcfcc021fd9064e2f95bf98
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Dec 12 22:15:42 2016 -0800

    Clean up URL extraction code. Issue 5389 pointed out it was deficient for finding mailto urls. The code was just a nonsense mess that was full of bugs. I now call openURL: directly instead going through findUrlInString unnecessarily. Variable names are sensible. Log lines correspond to the code. The logic is less duplicative.

commit d2d4edeb2e141f0a4e6af6dac296e0f7c7a09dfb
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Dec 12 09:54:43 2016 -0800

    Make sure tmux is in UTF-8 mode when connecting. Issue 5359

commit c596b75c79edcc43f2e0a12a909a0bc39cd4a4aa
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Dec 12 09:54:43 2016 -0800

    Make sure tmux is in UTF-8 mode when connecting. Issue 5359

commit 852878098ace075b34251174d7423ec989fad587
Merge: 6ea424a6 22435014
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Dec 12 00:05:02 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 224350143859b1b38f1efd7f26ab207a03f565b3
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Dec 11 14:23:50 2016 -0800

    Add advanced pref so broadcasting input also broadcasts cmd-+ and - font size changes. Off by default. Issue 5388.

commit b374b864953852b32bfa301e0bf979dffb471f87
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Dec 11 13:53:19 2016 -0800

    Fix a bug where DWC_SKIP was not recognized when finding whole wrapped lines. Issue 5387.

commit d7bac9ad5d918749bc3cc5c13be9fae415d95e67
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Dec 11 13:27:57 2016 -0800

    Add FuraCodeNerdFont Mono fonts to the whitelist for default ligatures. They come from here: https://github.com/ryanoasis/nerd-fonts/tree/master/patched-fonts/FiraCode
    
    Mentioned as a comment in issue 3568.

commit 6ea424a65dec936346ceb67ce7df18dedf964d5d
Merge: 3a720eee 309a5423
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Dec 11 00:05:02 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 309a5423dc632493bbf91ab894710c9680dfa6b8
Merge: 2e42d738 0852aabb
Author: George Nachman <gnachman+github@gmail.com>
Date:   Sat Dec 10 22:25:15 2016 -0800

    Merge pull request #316 from jcs/move_margins_to_settings
    
    Move MARGIN/VMARGIN to iTermAdvancedSettingsModel

commit 0852aabbd394473f8f9da80f7c773377cb72ab5b
Merge: ccb9d645 2e42d738
Author: George Nachman <gnachman+github@gmail.com>
Date:   Sat Dec 10 22:25:02 2016 -0800

    Merge branch 'master' into move_margins_to_settings

commit 2e42d7380d3b3732013ff707076eb7a8a92dbc09
Merge: ca10daf7 83ecb47f
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 10 22:22:28 2016 -0800

    Merge branch 'liufsd-master'

commit 83ecb47f67e6f27e932c47c48b20bf75e0d3073a
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 10 22:22:02 2016 -0800

    Clean up finder service code a bit

commit badd07a4a49d226b688695418993c2de0fff298a
Merge: ca10daf7 e8bb5273
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 10 21:55:08 2016 -0800

    Merge branch 'master' of https://github.com/liufsd/iTerm2 into liufsd-master

commit ca10daf74b76c08bc1e6f09b862ceef6d19033f0
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 10 21:20:54 2016 -0800

    Speed up removing lots of profiles at once. Searching for key mappings that reference other profiles was very slow, and it usually has nothing to do. It also posted three kinds of change notifications per profile deleted and flushed profiles to disk more than once. This caused bulk deletions of dynamic profiles to hang for a really long time. It's still not blazing fast but it's reasonable. Issue 5345.

commit fc0719dd4da2245db3ef82dd77220e5a1a30e1d2
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 10 20:04:27 2016 -0800

    Make new tmux tabs respect the tab locaiton setting in advanced preferences. Track why a new tmux window is created from sending the new-window command by setting a flag in tmuxcontroller so the next window sent to the tmuxwindowopener will be marked as "manually created", which causes PTYTab to open it at the end or adjacent to the current tab, depending on user preferences. The order of windows in tmux is then updated to reflect the tab order by using swap-window a lot. Issue 5381

commit c1191a0c076e4f03ea1f7469344ad558c84e1b6b
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Dec 9 09:25:50 2016 -0800

    Log a call stack from canonicalizeWindowFrame for issue 5296

commit 3a720eee2541b59f9c967a2a3366f9ed7bcd822a
Merge: ff8d0147 c5f36f29
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Dec 9 00:05:01 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit c5f36f29a00664eaa679280dac125367458a8645
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Dec 8 22:33:31 2016 -0800

    Flush the profile model after adding the default bookmark. Issue 5379

commit d66d9bbed6e92ed51c87bba4ea593712c8da60a1
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Dec 8 21:57:02 2016 -0800

    Add support for tab color and switching to a color scheme

commit 528c6ed0770e6334c96f60d383a526d2aae6b162
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Dec 8 21:41:16 2016 -0800

    Add it2setcolor to use the new SetColors escape sequence

commit 126face6993118147cae092cf0f24be44764decb
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Dec 8 21:24:35 2016 -0800

    Add SetColors escape sequence that accepts a color space and a saner syntax than eterm's escape sequence.

commit f938022f3c1e1b2bf1d6521d7c487122a5f5d721
Merge: 3b846af6 e3691d19
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Dec 8 20:34:45 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 3b846af64fe87c26cee3d32e6082afd3509027e4
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Dec 8 20:34:09 2016 -0800

    Add boxtest which demonstrates line drawing characters

commit c462be40873083c4e0d2576c0f5d6ae76851935f
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Dec 8 20:33:15 2016 -0800

    Add emoji_spacing which demonstrates different unicode versions

commit 429047f216ca2c232ae00257b8ad442afec37aef
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Dec 8 20:32:49 2016 -0800

    Add it2copy

commit ccb9d6455214c1a76c570fc9db8efecf5df4c492
Author: joshua stein <jcs@jcs.org>
Date:   Thu Dec 8 18:07:01 2016 -0600

    Tweak margin/vmargin preference wording

commit e3691d19d45ec5f3f6dd600b56e5e6d10876d077
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Dec 8 11:07:01 2016 -0800

    Make window title bars dark when using the dark theme, by default. Controlled by an advanced preference. Issue 5255.

commit e8bb5273141a20ce57e24b5b2b65a776c91405b4
Author: liupeng <liupeng@hujiang.com>
Date:   Thu Dec 8 18:39:08 2016 +0800

    add: support Finder Services

commit ff8d0147b3316325f53f3f3bd4f681da75941dd6
Merge: 553a95e7 0fcf051a
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Dec 8 00:05:02 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 0fcf051a868c3c29db91b6141c5f61b48cd5bf51
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Dec 7 22:01:30 2016 -0800

    When the cursor type changes mark it dirty but don't force it to redraw immediately. This caused performance issues for tmux users. A comment in issue 4976

commit 7213527a32c82b1fc2c461ae5d523ce0864b7ce1
Author: George Nachman <gln@whatsapp.com>
Date:   Wed Dec 7 10:37:59 2016 -0800

    Add back improperly deleted lines in last cherry pick

commit 04231af606bf841ae6d53c1691f3612ab05d4c28
Author: George Nachman <gln@whatsapp.com>
Date:   Wed Dec 7 10:23:54 2016 -0800

    If all tmux windows are hidden, set acceptNotifications to YES. Normally
    it'd be set to yes after the last initial window is open, but if there were
    none then it got stuck as NO. Issue 5359.

commit a941e227868495bfdac98ded2c6257d394059fe9
Author: George Nachman <gln@whatsapp.com>
Date:   Wed Dec 7 10:30:32 2016 -0800

    Add logging to initialListWindowsResponse

commit 3f4293d8cc1e823f2042d841181a0f6719e44b42
Author: George Nachman <gln@whatsapp.com>
Date:   Wed Dec 7 10:23:54 2016 -0800

    If all tmux windows are hidden, set acceptNotifications to YES. Normally
    it'd be set to yes after the last initial window is open, but if there were
    none then it got stuck as NO. Issue 5359.

commit f31454263c02b1612573ca6525c032e544a82a2a
Author: George Nachman <gln@whatsapp.com>
Date:   Wed Dec 7 10:00:44 2016 -0800

    Rename 'TextMate 2' to 'TextMate Preview'. Remove the bestEditor override
    map which prevented using the preferred bundle ID. Not sure why that ever
    existed.

commit aee028dd5e8f74060bb041ecb9ce7461e5ae4a63
Author: George Nachman <gln@whatsapp.com>
Date:   Wed Dec 7 09:56:49 2016 -0800

    Revert "Merge pull request #312 from jacob-carlborg/textmate-bundle-identifier"
    
    This reverts commit 1ddc72c94ab97a87f03b9f08c096357703e9f0b7, reversing
    changes made to 351e7c0b09f889b67ec96ba3b74881ce86058d90.

commit 1ddc72c94ab97a87f03b9f08c096357703e9f0b7
Merge: 351e7c0b fbcf1962
Author: George Nachman <gnachman+github@gmail.com>
Date:   Wed Dec 7 09:40:01 2016 -0800

    Merge pull request #312 from jacob-carlborg/textmate-bundle-identifier
    
    Update bundle identifier for TextMate. The .preview suffix has been dropped.

commit 553a95e7ec8da37f32620dab38b972212e44e4b5
Merge: 8eb5c1d7 351e7c0b
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Dec 7 00:05:02 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 351e7c0b09f889b67ec96ba3b74881ce86058d90
Merge: c14de388 76b20767
Author: George Nachman <gnachman+github@gmail.com>
Date:   Tue Dec 6 21:08:02 2016 -0800

    Merge pull request #313 from phs/phs/issue-5375-fix-focus-reporting-when-switching-tabs
    
    Focus the right session in `didSelectTabViewItem`.

commit 8eb5c1d771e3e6a4f5ebe5559dbcc0378818fbdb
Merge: 88a8981b c14de388
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Dec 5 00:05:28 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 76b207677de2ae7948907e4ec37fc814827f5fba
Author: Phil Smith <phil.h.smith@gmail.com>
Date:   Sat Dec 3 00:20:49 2016 -0800

    Focus the right session in `didSelectTabViewItem`.
    
    Fixes issue 5375.

commit c14de388cba059a0c56d95818dfde178d27dbc80
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Dec 4 20:09:16 2016 -0800

    Misc post-merge with 3.0.13 cleanup

commit 84da5bead3842ba00b5df9ce7789b53c7567624d
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Dec 4 19:56:24 2016 -0800

    Fix image decoder for PDFs (tested with U0300.pdf)

commit a4f3ff8548268b4d016b28f0289339163013dee4
Merge: a6d6ed64 f18cd64a
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Dec 4 19:51:01 2016 -0800

    Resolve merge conflicts in second merge to latest 3.0.13

commit a6d6ed64833a49613bc74a7c62b2fdc9395e65fb
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Dec 4 18:40:30 2016 -0800

    Fix a bunch of merge problems

commit c0fca400d456a7a5180a08d4a231c431f4dd889a
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Dec 4 18:33:04 2016 -0800

    Manually merge in changes for remotely decoded images to iTermImageDecoder

commit d86474ee310e8591c7e5e9381c39df8be3c36524
Merge: 2b49054c b04601f7
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Dec 4 18:24:38 2016 -0800

    Merge branch '3.0.13'

commit 2b49054caf0ca7d32bf1830cfa8a1c8bc59c172b
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Dec 4 16:59:44 2016 -0800

    Add keybinding actions for find up/down as suggested in issue 4491. Also move setColorsFromPresetNamed from PseudoTerminal to PTYSession where it belongs (and where it was used by the key preset for changing color presets)

commit 77b112d4118a8c81e7657c3e1f2c1fdad3810f4a
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Dec 4 16:48:11 2016 -0800

    Allow windows to snap to the full size of the screen.

commit 397dce035843efc9b98ce3d125ee32d180f8c7e1
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Dec 4 15:49:41 2016 -0800

    Remove excessive logging of drawing

commit 09e074628b1dfaa5994319fffe170bf160b1ac29
Author: joshua stein <jcs@jcs.org>
Date:   Sun Dec 4 16:17:40 2016 -0600

    Move MARGIN/VMARGIN to iTermAdvancedSettingsModel

commit 88a8981b5f618df911feb4d3222a2e0194c4cbcb
Merge: 99298984 7d1cd8b2
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Dec 4 00:05:05 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 7d1cd8b225e2ffbd4ba54b894232f0c11c48aeca
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 3 13:11:00 2016 -0800

    Avoid profile divorce for restoreCursor (discovered in the debug log for issue 5344). Add logging for first responder changes for issue 5344.

commit ff4fe501146acabb8e912d87b06d0899fcffde98
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 3 10:16:00 2016 -0800

    Fix a bug where a non-hotkey window would briefly appear when hiding a hotkey and activating another app because we ordered out the invisible hotkey window before activating the other app. The OS ordered front a non-hotkey window just before the other app was activated. Fixing this (which means making the order-out happen after the app switch) had a bunch of knock on effects when there were multiple windows with the same hotkey, which this commit attempts to address by batching up changes to multiple hotkey windows and making the showing and hiding of "siblings" (windows with the same hotkey) more explicit. Brought up in a comment in issue 5313.

commit bae7fd83a18fa5323804780c75c032fc942676e2
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Nov 30 21:51:57 2016 -0800

    Fix a bug where the previously active app was not restored after pressing a hotkey that hides two different hotkey windows. The previous state with a previously active app got overwritten by one that did not have a previously active app.

commit 7a02ab87c42f660122c534235b72c49cd0f3948e
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Nov 30 20:55:20 2016 -0800

    Remove nonsense logic on hotkey window dismissal that hid the app, waited 100ms, and unhid it. It also set non hotkey windows' alphas to 1, which they always are anyway.

commit 99298984afe257515a5828cb29134a8bc2c202da
Merge: 656b3a94 f08aadc7
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 3 00:05:01 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit f08aadc71d2a8897cac34dcb6cd1803dcabb9f9f
Author: George Nachman <gln@whatsapp.com>
Date:   Fri Dec 2 10:19:32 2016 -0800

    When remapping modifiers, if an event is received that has device
    independent modifier flags but not device dependent modifier flags, allow
    it to pass through unmolested. Issue 5207.

commit f18cd64a90316c8fffe7b4ad495e191e5e9af557
Author: George Nachman <gln@whatsapp.com>
Date:   Thu Dec 1 10:36:59 2016 -0800

    When creating a new tab using the default profile when the current tab is a tmux tab, refer to the gateway session's current directory for the purposes of recycling the working directory. Issue 5320

commit 1398911f1a910ba30414c7e810a74c84f43b5fab
Author: George Nachman <gln@whatsapp.com>
Date:   Thu Dec 1 10:25:16 2016 -0800

    Don't code sign developer builds

commit 7281a432734e96e5d6e38fd29ad791e3e3cab20a
Merge: 048db0da 0e29ebbf
Author: George Nachman <gln@whatsapp.com>
Date:   Thu Dec 1 10:13:24 2016 -0800

    Merge branch '3.0.13' of https://github.com/gnachman/iterm2 into 3.0.13

commit 048db0daf0cfd2ddb68bd14d5fd5062b4be7e2f9
Author: George Nachman <gln@whatsapp.com>
Date:   Thu Dec 1 10:12:08 2016 -0800

    When closing a tmux tab that requires the kill/hide confirmation and the
    session-closing confirmation, only show the kill/hide confirmation.
    However, when closing a window, we still show both because kill/hide
    doesn't offer cancel.

commit 656b3a945d762a12f33415988830ff0eda007fbc
Merge: e6d61f17 28a9c07a
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Nov 30 00:05:01 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 0e29ebbf282ecf207d03645c3642c505aed1a354
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Nov 29 23:10:00 2016 -0800

    Explain why you're being prompted to confirm quitting behind a disclosure triangle. Issue 5322

commit 28a9c07ab24e325f0036e67ca94a7d94f39b45e3
Author: George Nachman <gln@whatsapp.com>
Date:   Tue Nov 29 11:02:47 2016 -0800

    Avoid makingn touchbar API calls on devices that don't support it

commit e6d61f1734cf35a4e956414f834f433c270c26be
Merge: d290ee86 d0a9015a
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Nov 28 00:05:02 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 0c4b0a7a7c4a725ddfee3ebeca9a9ba65609a3b4
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Nov 27 22:16:06 2016 -0800

    Fix a bug where a maximized tmux pane's contents would appear behind a per-pane titlebar. setSizesInTmuxParseTree incorrectly assumed there would be no title bar when there was only one pane, but a maximized pane retains its titlebar.

commit d0a9015a8bf7d27038a55a9beef54b2a421db780
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Nov 27 21:27:42 2016 -0800

    Turn off tolerateUnrecognizedTmuxCommands. This default is better for everyone who uses tmux over ssh

commit a5bb1f511cb133d92da2ce8610c305496a597d63
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Nov 27 20:21:26 2016 -0800

    Prevent a crash on 10.9+ and later where prefs window is closed while file picker is open

commit 392ab06855351e78558de9d6b626b8923efefeea
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Nov 27 20:03:33 2016 -0800

    Fix a crash where selection/mark ranges has length 0 prior to trimming. Not sure what the cause was, but it's better to tolerate it and drop the subselection/mark than assert and die

commit 7421a3803e5048c6d92a56d2defae56bbc387954
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Nov 27 17:52:12 2016 -0800

    Modernize reloadBookmarks slightly to try to fix a crash in isEqualToString: in reloadBookmarks when you change a session's profile from Edit Session

commit ac12922893d3dc8f99ea033b71e6fa0956a6cf92
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Nov 27 17:26:37 2016 -0800

    Update color picker framework to fix crash when using eyedropper.

commit 36b3061d402380d87b5c777163b06def6fb2266d
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Nov 27 17:25:12 2016 -0800

    Fix a crash when using the color picker because modal sessions were implemented improperly.
    
    Fix some analyzer complaints leading to a memory leak and bad distance computations.

commit 02fa7cf7023aeedebb5c90c3ce0e48eb131afb72
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Nov 27 16:03:39 2016 -0800

    Fall back to drawing with attributed strings if not all glyphs could be found using the fastpath.
    
    Add a note about a failed experiment that maximized fastpath for lines containing punctuation.

commit 8829b9ded92a1273e916e3443d267fbccad1cad5
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Nov 27 15:09:51 2016 -0800

    Turn on adaptive framerate by default at 15 fps. This is similar to what Terminal does.

commit d290ee8654ec6511ec8cacd371e06a50daa19e30
Merge: b3c521c4 43486b15
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Nov 27 00:05:02 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 0827d28688647f3655cd49af04a41f2f9c6c1ef8
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Nov 26 13:49:13 2016 -0800

    Keep a pool of webviews around since they never get deallocated. This helps keep their numbers down.

commit 4106ba1a1e9fb7e4e33bddb3833c9bda06756456
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Nov 26 11:20:04 2016 -0800

    Stop WKWebView from playing media when quicklook is closed. The webview is leaked, but I don't see that I'm doing anything wrong here. All the references to it according to the memory debugger are from internal objects that I can't affect directly.

commit 20ac8ce7f5ec6ca1c329c5896243507d34c0df37
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Nov 26 10:52:35 2016 -0800

    Clean up mouse wheel reporting setting

commit 1d14eead2562ad52e1ad83e883e22290714bfe01
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Nov 26 10:53:09 2016 -0800

    Revert "Revert "Merge branch 'theodm-mouse_wheel'""
    
    This reverts commit 43486b15bffb54737afb7c0e4203a8c82ee0fb8d, and brings back the mouse wheel reporting setting.

commit 43486b15bffb54737afb7c0e4203a8c82ee0fb8d
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Nov 26 10:44:45 2016 -0800

    Revert "Merge branch 'theodm-mouse_wheel'"
    
    This reverts commit 07c45b4e5c93c90b0d3dbc47a0ffb28847dca105, reversing
    changes made to ebb517c08a3d26505afcf2f95dff64d3144b845a.

commit 07c45b4e5c93c90b0d3dbc47a0ffb28847dca105
Merge: ebb517c0 51ca9824
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Nov 26 10:43:01 2016 -0800

    Merge branch 'theodm-mouse_wheel'

commit 51ca9824f6f2a933dda2c36059a95f6488310bbc
Merge: 16f089e4 ebb517c0
Author: George Nachman <gnachman+github@gmail.com>
Date:   Sat Nov 26 10:42:38 2016 -0800

    Merge branch 'master' into mouse_wheel

commit ebb517c08a3d26505afcf2f95dff64d3144b845a
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Nov 26 10:41:25 2016 -0800

    Fix failing PTYTextView tests.

commit b3c521c4abfdb070325a923dcd5bbcfa9d8fa097
Merge: da5afeef 5b902ca7
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Nov 26 00:05:02 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 5f8be049baee41c18f310ef2eac683847347b1a5
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Nov 25 23:06:36 2016 -0800

    Offer autocomplete suggestions in touch bar

commit 5b902ca7bf467c6f71010eea045578dbb5d89a10
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Nov 25 22:18:59 2016 -0800

    Fix bug where mask for underlines was misalgined horizontally when it wasn't the first attributed string on a line. Issue 5352. Also fix an issue where origin.x was points, not cells, although it's not currently used.

commit da5afeefa5b37932ef659d0a929178ce323329ed
Merge: f8fe6b56 e29ba2d5
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Nov 25 17:36:13 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit e29ba2d57d357feb1969df0136edfa5aa34c2b8e
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Nov 25 17:35:42 2016 -0800

    Fix up tab bar spacing

commit 9eeccfb68e4f76e2b315d08b9f69111af1738abf
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Nov 25 17:07:11 2016 -0800

    Move all touchbar logic into PseudoTerminal. It didn't work to have some of it in PTYsession since we don't reload the whole toolbar when the currently active session changes. If apple's hierarchy of touchbars worked that would be ideal, but since it never asks the first responder, we'll just have the window do everything. Also don't allow per-profile touchbar items since that doesn't place nice with touchbar customization.

commit 3b3fe39787949d56d4c22c3dfcc5df8a6b92726c
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Nov 25 16:41:04 2016 -0800

    Improve touch bar icons. Don't recreate touchbar unnecessarily. Simplify tabbar touchbar items

commit bc8fd3e2f09c729828f9235f989f09edeaf8feb6
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Nov 25 15:17:31 2016 -0800

    Add support for color presets to touch bar

commit 31bf433a52367b9661f99208442fbe22f7fd9b67
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Nov 24 13:18:31 2016 -0800

    Add a manpage touchbar button

commit e529f04d7cef8d792f7142e37a52f064f243983f
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Nov 24 09:00:27 2016 -0800

    Add a man page toolbar button. Still needs a nice icon

commit 355be73226fe44f35a9975e99c95d9858631bf09
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Nov 23 22:42:43 2016 -0800

    Add fullscreen tab picker to touch bar

commit 79af165d16e860214a15a29fe6d3f74a83b71954
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Nov 23 22:14:45 2016 -0800

    Fix a bug where we tried to make a view first responder when it wasn't in the view hierarchy

commit e0aa8fa3d0db5893dfed53b19fc8d9cf3cef31a1
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Nov 23 22:14:28 2016 -0800

    Don't show touch bar items in edit session

commit 077876bcfb30d41d2226fd39d265ec9f3d6d13c2
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Nov 23 22:06:52 2016 -0800

    Hide the 'add touch bar' button in edit session mode

commit 44f69603dcf2e78c95ca48c096afe663eb4b9ce2
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Nov 23 22:00:34 2016 -0800

    Make touch bar labels configurable

commit 1440ff37b2c0e95fc35816c17ec96f05bb1e167f
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Nov 23 21:42:26 2016 -0800

    Beat touch bar into submission

commit aa8ad9da9e608f1e6dbad4ac738e28e3ec9bd589
Author: George Nachman <gln@whatsapp.com>
Date:   Wed Nov 23 11:09:52 2016 -0800

    Start adding touch bar support. makeTouchBar is not called. I think I need to mess with bindings like in the sample code

commit fbcf1962dd9c7f1266d7b7eb27a63548f69a794f
Author: Jacob Carlborg <doob@me.com>
Date:   Tue Nov 22 11:59:03 2016 +0100

    Update bundle identifier for TextMate
    
    Since TextMate has been released as a release candidate it has changed
    the bundle identifier and removed the ".preview" suffix [1].
    
    [1] https://github.com/textmate/textmate/commit/204c735079d01a5bcc43923756827a26a3fbf107

commit f8fe6b56926bfd7bdaa8305916d9ea3b5ee1ba18
Merge: f07d4dcf 3f885c5d
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Nov 22 00:05:02 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit dc2fe84a25dd31756195d906c2061f3b9b01a049
Author: George Nachman <gln@whatsapp.com>
Date:   Mon Nov 21 16:04:47 2016 -0800

    Add stub for iTermPreciseTimerStatsMeasureAndAccumulate

commit 3f885c5dcc391ca302d043dd51d530c1c22713b9
Author: George Nachman <gln@whatsapp.com>
Date:   Mon Nov 21 10:19:05 2016 -0800

    Do not raise hotkey windows when switching spaces.
    
    There's some history here.
    
    In issue 3199, a problem was revealed where when using a pinned all-spaces open hotkey
    window and you switch spaces. Another app becomes active (which the OS is
    fond of doing when you switch spaces). Pressing the hotkey hides the window
    instead of revealing it. I put in a fix to reactivate iTerm2 and make the
    hotkey window key and ordered front on a space change.
    
    The 3.1 hotkey window changes made this less aggressive by just doing
    orderFrontRegardless on the window.
    
    But it still doesn't make sense because pinned hotkey windows should be
    allowed to order back. Why should they jump on top when you switch spaces?
    It would be nice if the window was key for it to remain so but I can't
    effectively detect that (the resign active notification comes after the
    active space did change notification, sometimes with a significant delay,
    so they can't be correlated).
    
    This changes backs out the fixes to those bugs and lets the OS manage the
    window order and key app when changing spaces.
    
    I believe the original problem in issue 3199 has been fixed: a pinned
    hotkey window that is not key does become ordered front, not hidden, when
    the hotkey is pressed.

commit f07d4dcf451bebaa50d24910178e7a58466f8fbf
Merge: beeb76f5 bf3d25c5
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Nov 19 00:05:02 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 263831c157c522cff523aa098a2c26af7360ade6
Author: George Nachman <gln@whatsapp.com>
Date:   Wed Nov 2 10:18:28 2016 -0700

    Add logging for issue 5198

commit bf3d25c5156471fe6cc30a17b402bd7c811f6dcc
Author: George Nachman <gln@whatsapp.com>
Date:   Fri Nov 18 09:13:40 2016 -0800

    Turn off layer support by default. I did some work to make it less broken in the redoDrawingFOrOSX9 branch, but having seen that it is much slower on a MBP w/ a 4k display, I'm not motivated to invest more in this approach.

commit 723404d14866d39e3e365c0e92c72eaab2ebd946
Author: George Nachman <gln@whatsapp.com>
Date:   Wed Nov 16 09:21:38 2016 -0800

    Disable code signing, which doesn't do anyone any good.

commit beeb76f5a1e6a4736c0baceef775bee881c978b3
Merge: 082ebbe0 4905dc83
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Nov 16 00:05:02 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 4905dc83ed1d19a1b3aa10bd1a85234ce88c0807
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Nov 15 23:04:45 2016 -0800

    Fix a few bugs with the new fastpath rendering that came up in issue 5330:
    - The mutable atributed string builder broke after setAttributes: was called because the cheap string wasn't removed.
    - Vertical spacing wasn't handled properly
    - FiraCode allows ligatures with a ligatureLevel of 0. Special case it.

commit 40f2797d58be2fb932d7c2e8c8c00a9183aa59d9
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Nov 15 22:34:31 2016 -0800

    Reference count calls to enable/disable secure input to avoid getting stuck. Issue 4538

commit 16a331944c2d44da6f02406386ecfe141c371cb4
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Nov 14 22:20:44 2016 -0800

    Fix imgcat support for PDFs, which have no pixel size in their NSImageRep and need to create temp files in /private/var.

commit 364c9ec628b8cda3cec0c3a6e665d8ba17346929
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Nov 15 22:22:04 2016 -0800

    tmux 2.1 changed break-pane to take -s instead of -t for break-pane, which I noticed while investigating issue 5320. Use the correct flag depending on the tmux version.

commit c0da084e0f577ac8b55814a27a9c256ccdf4c625
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Nov 15 20:33:49 2016 -0800

    Increase minimum distance from baseline to underline from 1.5 to 2 pt

commit ed85c0589275d5380ee3d7a469fdb0e97553531d
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Nov 15 20:16:39 2016 -0800

    Restore thin strokes and anti-aliased text to fastpath

commit 1470f48e0ba965c09be3c29c3e3ebdf494cc5813
Merge: 9a96a63a 383b052f
Author: George Nachman <gnachman+github@gmail.com>
Date:   Tue Nov 15 10:57:51 2016 -0800

    Merge pull request #309 from jcs/swap_pane_from_keyboard
    
    Add key binding actions to swap pane with an adjacent pane.

commit 082ebbe002c76b63f841faa4ef2c91c1b1dbe0b2
Merge: af5f10fd 9a96a63a
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Nov 15 00:05:04 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 9a96a63aec4c42bed92f4c53dd243a219b32e1da
Author: George Nachman <gln@whatsapp.com>
Date:   Mon Nov 14 14:24:29 2016 -0800

    Undo accidental commit of project file. I hate xcode so much

commit e390909e9a9a09802b0c8e3ef9721e69ba3cb2e8
Author: George Nachman <gln@whatsapp.com>
Date:   Mon Nov 14 14:21:52 2016 -0800

    Use slow text rendering for underlined text. This is a workaround until I can get the fastpath drawing properly masked underlines.

commit af5f10fdaaf35aaa77f1e3e8c5efd0dd24ba21ed
Merge: b03d5e90 c70a766c
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Nov 14 00:05:01 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit c70a766cfaa50be733386a4ccc6809c16ed35b43
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Nov 13 23:15:23 2016 -0800

    Add an on by default experimental option to use Core Animation layers. On my iMac, this gives a dramatic speedup (from 15 to 30 fps on my vimdiff benchmark).

commit b03d5e90bad157acfb58dee517f684d53eb72544
Merge: 419478fe 60e16c10
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Nov 13 00:05:02 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 60e16c10c9e1acd18c6e683685356b0d4842d123
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Nov 12 13:49:08 2016 -0800

    Clean up the mutable attributed string builder.

commit 16756c26aa398d28bbe1c98dab5e7acc829301cc
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Nov 12 10:47:45 2016 -0800

    Add a fast path for drawing ASCII text. This disables ligatures for alphabetic, numeric, and space characters when using a font with ligatures (or for all ASCII characters when the font does not support ligatures), and uses a much faster drawing algorithm for them. It demonstrates a 33% speedup for vimdiff output on my iMac.

commit 419478feec4a746b3bb309603ed6063c701350c5
Merge: 0c2c0ecd 183b29bf
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Nov 12 00:05:02 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 183b29bfda32fabfc3ba0927e21ff22a023b5c25
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Nov 11 22:16:08 2016 -0800

    Avoid doing segmentation and attribute combination in attributed string construction when a character has the same attributes as its predecessor.

commit 0c2c0ecd3d70576f8cca4cda5e69d0fd11119b9d
Merge: e7c3809a f4082825
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Nov 11 19:45:29 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 78d2108d2699e60141888108cc94553f8d4097c0
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Nov 11 19:44:29 2016 -0800

    Fix broken build

commit 24378f976ea899b9155fd63006d1df0ec2e1961b
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Nov 11 19:41:43 2016 -0800

    Fix how drawing happens in the presence of tabs and other undrawable cells. Background colors and underlines need to draw through non-drawn cells. Before, the runs were not created. Now a run with one space is made but the proper underline width attribute is added. Also, foreground and background colors are properly set on tab cells. Masking of underlines was improved and fixed (these changes revealed bugs, and it was creating unnecessarily large masks, anyway).

commit b04601f76b9acc3f6a32ca909b19795ed50f21fc
Author: George Nachman <gln@whatsapp.com>
Date:   Fri Nov 11 13:41:57 2016 -0800

    Add timing code from 3.1

commit c939c62cfbd41c9d3b30f69fb105a51071dce984
Author: George Nachman <gln@whatsapp.com>
Date:   Fri Nov 11 10:01:24 2016 -0800

    Fix disabled precise timer return value

commit 8ed96296606bbbc3c64341242ce206abe7a42d61
Author: George Nachman <gln@whatsapp.com>
Date:   Fri Nov 11 10:00:37 2016 -0800

    Improve precise timers.

commit 596bb60907a9c2f21b215662f3917ca5c9d2a8ec
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Nov 10 20:53:28 2016 -0800

    Add an advanced pref to disable DNS lookups. Issue 5303.

commit e7c8d629539132fc4bb30fc2007c7840dae4cb53
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Oct 29 15:37:01 2016 -0700

    Add pinned debug log messages.

commit f4082825f3dfa52db08d660ec4821ab6c5bca3fc
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Nov 10 19:27:42 2016 -0800

    Unlock the system keychain in a continued attempt to fix signing

commit 16f089e4f9cbebc70b529784cf052545852ec2eb
Author: Theodor Diesner-Mayer <theo.dm94@gmail.com>
Date:   Thu Nov 10 18:59:25 2016 +0100

    Added setting to disable mouse wheel in mouse reporting mode

commit e7c3809a1e7bebda12e747b1a95d82f045930e6a
Merge: 4b52975f 421d4a51
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Nov 10 00:05:01 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 421d4a51d0226e6ed807d3d6cad5a77ff3a4f59f
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Nov 9 22:21:28 2016 -0800

    Allow hyphens in schemes when looking for clickable URLs so semantic history will accept chrome-devtools: schemes. Issue 5298

commit 6b2e8410a4e4ea3e5c6d1f11601d87f8830a5bb7
Merge: 978e1ab1 21c2f252
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Nov 9 22:12:03 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 978e1ab1b2ac7847d96dbabec808dfe767d45184
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Nov 9 22:11:52 2016 -0800

    Set COLORTERM=truecolor for additional sexiness. Issue 5294

commit 4b52975fbe8b3914abe00bfcd474b789033cd571
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Nov 9 21:54:19 2016 -0800

    unlock the default keychain to try to fix the nightly build

commit 195d3056ff6baff816b42d7a1d95ffa2ea5541bc
Author: George Nachman <gln@whatsapp.com>
Date:   Wed Nov 9 12:35:50 2016 -0800

    If state restoration gives us an inconsistent state then CharToStr can return nil, which makes appendString: raise an exception. A colleague ran into this issue causing repeated crashes when restoring a tmux session.

commit 383b052f6d47b4578beb82f5eeb47f48a57811b2
Author: joshua stein <jcs@jcs.org>
Date:   Mon Nov 7 23:59:55 2016 -0600

    add keybindings for swap pane with left/right/above/below

commit 2968b4e525093b86b03eb2c5f7a6c8cfed3cc431
Merge: 78fa6683 21c2f252
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Nov 3 00:05:02 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 21c2f25233f04aef618209057f1b00ef1cb81ee2
Author: George Nachman <gln@whatsapp.com>
Date:   Wed Nov 2 14:03:21 2016 -0700

    Add an advanced setting to disable send text at start when launching
    iTerm2 with a script. Issue 5288.

commit e8deed28d61c3f51e2ca87fd88dc7a3eb6ef89ac
Author: George Nachman <gln@whatsapp.com>
Date:   Wed Nov 2 10:27:36 2016 -0700

    There was a duplicate dash in the Find URLs regex which didn't do anything.
    Removed. Mentioned in a comment in issue 4377.

commit 7b2c1258d685269814af820220cb486b9268aa34
Author: George Nachman <gln@whatsapp.com>
Date:   Wed Nov 2 10:04:05 2016 -0700

    Update row heights in ProfileListView when the view changes size, if needed. Issue 5287

commit f5eddd399cbe1359cd381b40b6481f6635cb418d
Author: George Nachman <gln@whatsapp.com>
Date:   Wed Nov 2 09:43:56 2016 -0700

    Do not order windows in insertTab:atIndex: during state restoration. Issue
    5258.

commit c6a0e1dce76a99aacb92ad09af36aece247b04ca
Author: George Nachman <gln@whatsapp.com>
Date:   Wed Nov 2 09:23:47 2016 -0700

    Fix a bug where complex strings could be longer than kMaxLength because we
    didn't check their length when the system framework does segmentation. This
    could cause buffer overruns as seen in issue 5223.

commit 78fa6683e8f4e46051203d7bb7a5665fc31ef062
Merge: 3ac7ed1f 47a48f3e
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Nov 2 00:05:01 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 47a48f3e0fd197fe66ea431731b56e4b1dada258
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Nov 1 20:23:01 2016 -0700

    Allow hyphens in hostnames for the HTTP URL smart selection rule. Issue 5277

commit 0ac86284194cb9bc0591bc78c8ec857870b19652
Merge: de3f4276 1da9c596
Author: George Nachman <gnachman+github@gmail.com>
Date:   Tue Nov 1 09:40:12 2016 -0700

    Merge pull request #308 from patkujawa-wf/fix_incorrect_text_selection
    
    Fix incorrect text selection

commit 1da9c596a221770d0022da8a975e6464df1c0e34
Author: Pat Kujawa <pat.kujawa@webfilings.com>
Date:   Mon Oct 31 11:21:56 2016 -0600

    Revert "Improve performance of enumerating characters by adding enumeration APIs to LineBlock, LineBuffer, and VT100Screen. Converting ascii screen_char_t to NSString was also optimized."
    
    This reverts commit de3f4276cb5c316dc140c3880dbc1d53d91696ed.

commit 3ac7ed1f18a83f30aa9f7bada5d6cf82f13c6eeb
Merge: a39e781b de3f4276
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Oct 31 00:05:01 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit de3f4276cb5c316dc140c3880dbc1d53d91696ed
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Oct 30 13:51:53 2016 -0700

    Improve performance of enumerating characters by adding enumeration APIs to LineBlock, LineBuffer, and VT100Screen. Converting ascii screen_char_t to NSString was also optimized.

commit a39e781bfc3a23f90b0bb5ecc2f54b9cae634df5
Merge: 3f33828b 2c222b18
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Oct 30 00:05:02 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 3f33828b5740a764740c98801ff2d12b21d72e7b
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Oct 29 17:08:54 2016 -0700

    Pass a keychain to codesign

commit 2c222b18e93d5e2e03d79d9c5e5810bd34a0ae04
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Oct 29 16:03:51 2016 -0700

    Activate before showing Quit prompt. Issue 5267

commit 23f844bae6a249b3f9cedeb62ffaba698c1d1c75
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Oct 29 15:09:11 2016 -0700

    When entering a password, if an asterisk is echoed back, accept that you're at a password prompt. Issue 5235

commit 9cf0471b7809aa7f12b5b3fa518fc0ecfb1b3826
Merge: a3d64a47 ea4f9dc5
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Oct 25 00:05:01 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit ea4f9dc52a33f4aca27668f0af8c960c60538a32
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Oct 24 22:27:27 2016 -0700

    Use a more compact representation for tmux session hotkeys. Trim out defunct window panes before setting. The previous commit was wrong--we use pane IDs which are unique for the lifetime of a tmux server.

commit 5d2d28e24846942af0b48df61e689388c6cf6f82
Merge: 7314656d 10c7cdf4
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Oct 24 20:42:22 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 10c7cdf4371c62ea844abfffa310e19f507ef7e2
Author: George Nachman <gln@whatsapp.com>
Date:   Mon Oct 24 11:31:53 2016 -0700

    Store session hotkeys in the tmux server. This feature isn't quite done
    because it's keyed on window pane, but they get recycled.

commit a3d64a47aa3b10a9f22d161242a86e58f99ed4f4
Merge: 2ef3e806 865bd840
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Oct 24 00:05:05 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 7314656d1d760afc9cd64d070c9f6583b4f3d30d
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Oct 23 13:53:39 2016 -0700

    Rename auto-hide to pinned in the UI, for hotkey windows.

commit ff18b5a0da8dc874b53b623b791b6dadc1548dc8
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Oct 23 13:48:05 2016 -0700

    Make the menu item to toggle whether a hotkey window is pinned modify the profile so it'll work when a window's profile specifies it is pinned

commit 8eb4bd770f4dde546e9739bbd3c97c5cba4f17ee
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Oct 23 13:39:18 2016 -0700

    Rename Toggle Hotkey Hides When Focus Lost to Toggle Pin Hotkey Window, in key binding actions

commit 865bd840ca5cb8890f83766a23499603a6ffbff2
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Oct 23 13:35:46 2016 -0700

    Add menu item to pin a hotkey window

commit 833353d9ddd835052b78e4c47b97a499dd71f180
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Oct 23 11:22:52 2016 -0700

    - Center non-edge-spanning x-of-screen windows.
    - Fix a bug where floating windows with bottom-of-screen would move when fitWindowToTab was called because there were two different algorithms for canonicalization.
    - Keep non-edge-spanning x-of-screen windows centered after a live resize.

commit 3d2e760ca4982999694b92c78971eb0bafd61ad4
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Oct 23 10:51:20 2016 -0700

    Make floating hotkey windows overlap the dock.

commit 8214c01235784cb211be03718ff89c7a3767784c
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Oct 23 10:40:05 2016 -0700

    Raise floating hotkey windows above the dock

commit 27e57680eb5b59fccee454f76cdd1eaed98b5725
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Oct 23 10:39:55 2016 -0700

    Fix bug where canonicalFrameForScreen would set the frame and return a 0 frame, instead of just returning it.

commit 6a997c1c101685e9158f69ee33ec5da5a057a062
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Oct 23 10:08:00 2016 -0700

    When opening a file, if it opens in a hotkey window, reveal the hotkey window

commit 959f59f7daa8bbb2736b97159833dd2712e85021
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Oct 23 10:02:25 2016 -0700

    Handle opening a URL into a hotkey window

commit 837560d7b247e6cecc1a1bf756038e955a171881
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Oct 22 22:13:57 2016 -0700

    Load patron names at runtime

commit 23b9c35158d962e18bed27923a4765abe4948f87
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Oct 22 13:26:21 2016 -0700

    Fix image decoder on older OSes: Remove uses of 10.11 base64 APIs and fix sandbox permissions for 10.8.
    
    Also uses the bitmap rep's dimensions instead of NSImage's dimensions, which are not always pixels (e.g., png can specify physical dimensions with the OS uses to scale the image down).

commit 1065b1eb853331bda0d28b1d8850c5d7fe949504
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Oct 22 13:25:43 2016 -0700

    Turn off OS_ACTVITY_MODE so basic things like base64 work. It's amateur hour at Apple.

commit 867b4c277d1d6bcdd44ba645544bd4b16fd4fe4e
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Oct 22 10:50:56 2016 -0700

    Remove obsolete TODO

commit 2373ead113ef5a51b78170eb6696125ea3d12c4e
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Oct 22 10:49:34 2016 -0700

    Only attempt "tmux recovery mode" (where a fake DCS code is sent internally to restart tmux integration on window restoration) if we successfully attach to a file descriptor server.

commit 73d27944cb130dbd2f7f786a5bfe7c297d1a7bfe
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Oct 22 10:45:10 2016 -0700

    Reduce syslog spam

commit 199060adf891cb9492fd62e9e8cbc7b5bcbd9f6b
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Oct 22 10:42:43 2016 -0700

    Block SIGPIPE in file descriptor server. It looks like macOS 10.12 broke syslog: when the parent process dies, syslog tries to write to a broken pipe.

commit b91901f478f7d49f24a296bddd999e6f0219a1ce
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Oct 22 10:19:57 2016 -0700

    The the tmux profile's background color but a little lighter/darker for the flexible view. Issue 4863.

commit 51cab137b7464f097f4086be6bceff745cf7ff82
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Oct 22 10:19:00 2016 -0700

    Switch to debug builds by default

commit f8ebf6c31aa0e3aee75107b2983a023e3951e36e
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Oct 20 22:38:40 2016 -0700

    Disable anti-idle for tmux gateways. Issue 5231.

commit dc7311f742064df4710c6bfe82c9f186238984cd
Author: George Nachman <gln@whatsapp.com>
Date:   Thu Oct 20 15:48:49 2016 -0700

    Change deployment target of image_decoder to 10.8

commit 0016358afc5fe107e17863d779e0bf8756176a9b
Author: George Nachman <gln@whatsapp.com>
Date:   Thu Oct 20 11:03:40 2016 -0700

    Add shell script to measure window dimensions

commit 0596711be9b3087fe559e3497be9f9a5355b6af2
Author: George Nachman <gln@whatsapp.com>
Date:   Wed Oct 19 13:28:40 2016 -0700

    FIx a bug where maximizing a tmux pane in a fullscreen window would lose a
    row when there was a horizontal split. Issue 5233.

commit a650e811abfc751399a7afcb74c5e324e8a3cc39
Author: George Nachman <gln@whatsapp.com>
Date:   Wed Oct 19 09:56:51 2016 -0700

    Reduce log spam for restorable state messages.

commit 2ef3e806cd824f9d69892d127236af2d52c2d3c1
Merge: 29817cbb 82a721a7
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Oct 19 00:05:01 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 29817cbb00d755c247c7071cfac7a6580f7b13b1
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Oct 18 22:11:40 2016 -0700

    Codesign manually

commit 82a721a71de172455ebcf8322464613a62b1b988
Merge: b89a73f6 a8f69912
Author: George Nachman <gnachman+github@gmail.com>
Date:   Tue Oct 18 22:06:52 2016 -0700

    Merge pull request #306 from jaygooby/master
    
    Fixes a typo: scren to screen in tooltip.

commit b89a73f6156694d510a3b3efc9223c1e13bfb39a
Author: George Nachman <gln@whatsapp.com>
Date:   Tue Oct 18 10:23:53 2016 -0700

    Use NSTextContainer init instead of initWithSize:, which is 10.11+. Issue
    5124.

commit 27802f98092eab66fb6bc6a903a6c794c20863e7
Author: George Nachman <gln@whatsapp.com>
Date:   Tue Oct 18 10:01:04 2016 -0700

    Do not make iTerm2 active when the active space changes for a sticky hotkey
    window. This seems to respect the platform more than hijacking focus. Issue
    5217.

commit e96251fd59fbb8d3149ee8535105dbed6f3d25ff
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Oct 6 22:26:59 2016 -0700

    If a custom command is selected for a profile but the command is just empty/whitespace then use the login shell. Issue 5212.

commit ba4531432e536759349bfd22563d480c40c1825a
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Oct 6 22:14:06 2016 -0700

    Clarify app toggle hotkey label

commit a8f6991232a82e0eed5f3f79f45255c93d52a07a
Merge: 32e3a08e 4a372774
Author: Jay Caines-Gooby <jay@gooby.org>
Date:   Thu Oct 6 12:23:52 2016 +0100

    Merge pull request #1 from jaygooby/jaygooby-patch-1
    
    Typo: 'screen' not 'scren'

commit 4a372774d0f87a7174300241ee8e03b5579b8683
Author: Jay Caines-Gooby <jay@gooby.org>
Date:   Thu Oct 6 12:22:40 2016 +0100

    Typo: 'screen' not 'scren'

commit 32e3a08e354d4e14ee38df3aba293ebf6e9ece6e
Merge: 1ce14c65 d23c51af
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Oct 5 22:32:47 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 1ce14c65dfef5a20f5f71b7b21e142a8d990a083
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Oct 5 22:31:52 2016 -0700

    Respect the current keyboard layout when formatting the shortcut for hotkeys. For key mappings, render non-ascii characters instead of 'hex code 0xXXXX'. Issue 1516.

commit d23c51afdf6cd25b1e7547f9fb7bf8a1cb6f2f23
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Oct 5 22:31:52 2016 -0700

    Respect the current keyboard layout when formatting the shortcut for hotkeys. For key mappings, render non-ascii characters instead of 'hex code 0xXXXX'.

commit 242e62e6e541f459d5d6497f6f3b577f897ddd5b
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Oct 4 22:03:30 2016 -0700

    Fix some warnings

commit 3076f7f891fd043e7f0b205d31d2f43fd85b17a9
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Oct 4 22:00:21 2016 -0700

    Improve debug logging for keydown events

commit 00977a3d8980f55df739741badbcecc0cfb4adc6
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Oct 2 23:04:36 2016 -0700

    3.0.11

commit d1bfb78fc8b2b0169cba30cbd1089459beade9b8
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Oct 2 22:55:21 2016 -0700

    Try to fix code signing again

commit 11924fe48095bb85dedb4204fa8112180a53a401
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Oct 2 22:00:49 2016 -0700

    3.0.11

commit b0364ee15b705e5f07725bb75661b18feb8c870b
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Oct 2 21:52:46 2016 -0700

    Update patrons for September

commit fe32ce7cc98b7d1b77746d46e11a26776408de5c
Merge: c32059b8 50c3ce18
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Oct 2 21:47:40 2016 -0700

    Merge branch '3.0.11' of https://github.com/gnachman/iTerm2 into 3.0.11

commit c0b986eaaaf1d135d0c80f2a4258b1f531e4a764
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Oct 2 21:34:55 2016 -0700

    Sign the nightly build after building it, not before

commit aaed53b16cbee935dd50d515a93e9b7bd6998f75
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Oct 2 21:21:01 2016 -0700

    Try to make code signing identity unambiguous

commit 4cc902449549995d90da1856068e0f56640d55d1
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Oct 2 21:11:24 2016 -0700

    Try manual code signing for nightly build again

commit 50c3ce18b81b300b31d4083b84ea9a320adada16
Author: George Nachman <gln@whatsapp.com>
Date:   Sun Oct 2 16:30:27 2016 -0700

    Do not warn before multiline paste when not at shell prompt.

commit 293dea7304f2d48691e5d9dd70f6be7d75297b33
Author: George Nachman <gln@whatsapp.com>
Date:   Sun Oct 2 15:38:15 2016 -0700

    Handle mkstemps failure more gracefully than crashing

commit c32059b8f80aefa308d044e17f183dcced455822
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Sep 30 22:39:33 2016 -0700

    Add debug logging to word selection

commit db4ed5dba598119be36353031e1983759dec1c30
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Sep 30 22:20:00 2016 -0700

    Replace echo -n with printf because apparently some bashes write out the -n argument. Issue 5201

commit 40fe7dc9496cb74e8c41b07b1497423a2e1abb74
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Sep 30 21:01:09 2016 -0700

    Make paths up to 0.75 points thick. Lightens them up a little. Suggested in a comment in issue 5109 by John Riley.

commit c8db23d218771ae48442f1be304a90766e2b0455
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Sep 30 20:51:58 2016 -0700

    Use fallback value for COLORFGBG if no exact match exists.

commit 25104c6593aa27515b285acc3b85b9399961a43d
Author: George Nachman <gln@whatsapp.com>
Date:   Fri Sep 30 10:14:33 2016 -0700

    Fix bug where after_failure couldn't find imgcat

commit 40ab1123b6b951a118473fcb62186deb460390d8
Merge: d2d5444e ba016e66
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Sep 28 21:18:31 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit d2d5444e35857759fd47a96cea6dae386087bd83
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Sep 28 21:18:22 2016 -0700

    Try to fix Travis by not requiring code signing. I hate xcode and code signing and all this crap so much

commit ba016e66b1386d37f9bc543df1bb7e6e764c1854
Merge: b84b5739 b32fc5a5
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Sep 28 20:50:44 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit b84b5739fb2e0d3f89bade68467831891d31f79f
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Sep 28 20:50:35 2016 -0700

    Unlock the keychain before building so xcode can sign the nightly build

commit 7142dbadbfd9a7be74d578445fca2c0c8d4dcf79
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Sep 28 20:38:12 2016 -0700

    Fix a race condition with $ITERM_SESSION_ID where sometimes the pane number would be one too high, if the session got added to the tab before the pane number was requested.

commit b32fc5a593154621a3fd05471f79d317a1ffe1cc
Author: George Nachman <gln@whatsapp.com>
Date:   Wed Sep 28 08:54:54 2016 -0700

    Try to fix travis failure by randomly copying stuff from stack overflow

commit caf6372c613eb9d43e646b0207b6e1b924fccb78
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Sep 27 22:55:42 2016 -0700

    Tell travis to use xcode 8

commit 1929dd29137f854aae45d4386836e8b183cd004c
Merge: bba557e6 436a7427
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Sep 27 22:46:58 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit bba557e698511b821a82ea1cc0bbb4789fd466b9
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Sep 27 22:46:14 2016 -0700

    Fix failing tests.
    
    Add missing argument to a function call (probably a merge conflict gone wrong).
    
    Remove test for saved cursor position in tmux. Support for them was removed from tmux and from iTerm2 in commit eef51f1.

commit f9f97aaf0d1d23597eb9ddd68d897114b832d9be
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Sep 27 22:43:05 2016 -0700

    Randomly flail around trying to fix code signing. Set code signing identity for all targets. Add --deep to app targets.

commit 5e5f9761a232152bd72b6ed43ec57de20fe27b6f
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Sep 27 22:28:08 2016 -0700

    Fix curly quotes in tip of the day

commit 436a7427a6b37be4b5231a37257ac7e2a8514bbb
Merge: 85a78bcd deda1527
Author: George Nachman <gnachman+github@gmail.com>
Date:   Tue Sep 27 22:26:17 2016 -0700

    Merge pull request #302 from marnen/fix-quotes-in-tips
    
    Fix curly quotes in tip text.

commit 85a78bcdc1d9eb6ac8605da68299701a5e7fb773
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Sep 27 22:17:06 2016 -0700

    Rely on xcode to sign the nightly build since it now insists on doing so.

commit c2673814cca58073e66c8e5fdc2663c6e0911922
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Sep 27 22:14:51 2016 -0700

    Change development team to my dev cert

commit 1ea0760046112fe60d13802d6d3799385d10c777
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Sep 27 22:05:28 2016 -0700

    Use Mac Developer for the code sign identity

commit deda1527b134edc4e5c23e429866ad677ee5431b
Merge: ae0a1bad 4c09ccf5
Author: Marnen Laibow-Koser <marnen@marnen.org>
Date:   Mon Sep 26 16:20:36 2016 -0400

    Merge branch 'master' into fix-quotes-in-tips

commit 4c09ccf54c51ebc2fca5ae95fff1752c5ce9217e
Merge: 04825fb9 943a062b
Author: George Nachman <gln@whatsapp.com>
Date:   Mon Sep 26 11:23:54 2016 -0700

    Merge commit '943a062' into HEAD

commit 04825fb98fe54ea1bb80964bc4af3f045fa95b4e
Author: George Nachman <gln@whatsapp.com>
Date:   Mon Sep 26 11:10:17 2016 -0700

    Make the "screen with cursor" preference cause hotkey windows to appear on
    the screen that currently has the cursor. Issue 3374.
    
    Revamps the logic for picking the screen to canonicalize the frame to.
    Affects the screen used by fitWIndowToTabs. This probably has unintended
    consequences but the code is more readable now and there should be fewer
    cases where the window randomly moves to the main screen.

commit 943a062bfb116fda32016cfda014f907059ec682
Author: George Nachman <gln@whatsapp.com>
Date:   Mon Sep 26 11:10:17 2016 -0700

    Make the "screen with cursor" preference cause hotkey windows to appear on
    the screen that currently has the cursor.
    
    Revamps the logic for picking the screen to canonicalize the frame to.
    Affects the screen used by fitWIndowToTabs. This probably has unintended
    consequences but the code is more readable now and there should be fewer
    cases where the window randomly moves to the main screen.

commit 00241e76b4c33405c240abb9ff7c2b6153e11b03
Author: George Nachman <gln@whatsapp.com>
Date:   Mon Sep 26 11:07:58 2016 -0700

    Fix a bug where processedTextColor: would return nil if the processed color
    was black and no cached value existed.

commit d66e13f9835f3f8b23e55b5578d777a669a867de
Author: George Nachman <gln@whatsapp.com>
Date:   Mon Sep 12 10:29:50 2016 -0700

    Update pod xcodeproject for xcode 8

commit ef550f5a4c1947d7a3bd4739b66efadf4d332864
Author: George Nachman <gln@whatsapp.com>
Date:   Mon Sep 12 10:29:19 2016 -0700

    Update project for xcode 8 and fix errors and warnings that created

commit bd328017fe5a94ab2ec8179e2761890626998145
Author: George Nachman <gln@whatsapp.com>
Date:   Mon Sep 12 10:21:30 2016 -0700

    Fix warnings

commit d94c596399f9d5add641e6afe5fae25320c45564
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Sep 25 09:41:32 2016 -0700

    Keep the underline a reasonable distance from the baseline (at least 1.5pt, and no more than half the x-height). Make it at least one point thick, to look like TextEdit. Issue 5109. Also change how the underline mask is used so it doesn't need to be bigger than a line of text.

commit 409c2e79ff1ab4c652f9e728294a25ed5cfb4923
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Sep 24 10:47:28 2016 -0700

    Reduce syslog spam in fd server and client

commit f033f173cc9ccb1ecdb80870b0220e9de783d7ff
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Sep 24 10:43:50 2016 -0700

    Do not resolve symlinks in _lastDirectory because it's very slow on a network filesystem. Issue 4901. Instead, keep track of whether _lastDirectory is local or remote. If it's local, use it. Otherwise, ask the kernel for the pwd (which unfortunately has expanded symlinks) and use it.

commit 380633441f13ad86232e187686230a2f0e181d8e
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Sep 24 10:21:29 2016 -0700

    Change window appearance when the tab color is dark so the window title text becomes light so it is legible. Issue 4671

commit ae0a1badab42932e28a1b8128a76369bfa709e11
Author: Marnen Laibow-Koser <marnen@marnen.org>
Date:   Fri Sep 23 12:17:58 2016 -0400

    Fix curly quotes in tip text.

commit 66f9f2d2e78cc597ee6fc613ddc77b43801706c7
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Sep 22 20:44:37 2016 -0700

    Crash on exceptions. I can't believe it took me six years to fucking find this.

commit 8cd95b130d1863a035d4ceb835700214b54034a4
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Sep 17 16:57:59 2016 -0700

    Pass -i to base64 only for gnu, not fourmilab base64

commit 29c630328e74643041d82bb2ea73a22c007065e1
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Sep 17 13:52:02 2016 -0700

    Pass -di to GNU base654

commit 1e2facfb3090f1b0db35c3de5d5026160c4cbbfe
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Sep 17 09:57:10 2016 -0700

    Update local retina golden tests for Sierra and cursor dimming

commit 469d65f3e1521504b96d707c0f272eb285589ca2
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Sep 12 22:41:38 2016 -0700

    Add TipCalendar images

commit fd322c1c82483fa0fde027b0426bece3b652cae4
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Sep 11 12:39:41 2016 -0700

    Only prompt to move to Applications for non-debug releases

commit af43e9756680d8c9cf9d788717cf274e1e9d9138
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Sep 11 12:24:12 2016 -0700

    Add PFMoveApplication, which offers to move the app to /Applications or ~/Applications on first launch

commit 41d51eab3181f3e0593d14a7e98331607d41346c
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Sep 10 10:32:48 2016 -0700

    Add a pref to toggle the division view (the line under the title bar) when there is no tab bar. Issue 4671

commit 5ef61f1ccf38b93147c0073c4f8b0a7480a14f26
Author: George Nachman <gln@whatsapp.com>
Date:   Thu Sep 8 10:09:33 2016 -0700

    Whitelist OperatorMono for level 1 ligatures. Issue 5123

commit 0ee97d2a45bed78ef7e0983ee1f40a5caae30f57
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Sep 7 20:02:30 2016 -0700

    Reduce NSLog spam on state saving. Issue 5121

commit ad2e37a9a0f1f0a3c7f4d65bb2fa6d3283d40e46
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Sep 6 22:15:57 2016 -0700

    Make time between tip of the days configurable. Add a button to toggle between daily and weekly

commit 7762e53ac6a3a93d829e8498ba379abbe37172b2
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Sep 5 11:30:31 2016 -0700

    Nil out the delegate of the profile name field in the edit current session prefs panel because it gets made first responder from a delayed perform after its delegate is released (the delayed perform is in openToProfileWithGuid:selectGeneralTab:). When the text field tries to become first responder it checks with its delegate, and that dies when zombies are enabled.

commit bff9f14d38cf42186d2e5d7480d19226272756da
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Sep 5 11:30:31 2016 -0700

    Nil out the delegate of the profile name field in the edit current session prefs panel because it gets made first responder from a delayed perform after its delegate is released (the delayed perform is in openToProfileWithGuid:selectGeneralTab:). When the text field tries to become first responder it checks with its delegate, and that dies when zombies are enabled.

commit ead8b29d65496ea6a4a5315ad43313deaafca770
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Sep 5 11:21:03 2016 -0700

    Finish cleaning up update:

commit fa1cfa697c4904fdbfb3fdbf258ffc8d0014ad0d
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Sep 5 10:55:09 2016 -0700

    Add style improvements and color tweaks to more closely match Apple's tab bar's colors.

commit 0f46418256f4fc878f7d9909a6f598c5cdac0c4c
Author: Cameron Mulhern <csmulhern@gmail.com>
Date:   Thu Aug 25 20:52:26 2016 -0400

    Add option to allow tab bar cells to stretch to fill

commit 1e79e10b220004c80e6b72c045d47d4337d9dacc
Author: Cameron Mulhern <csmulhern@gmail.com>
Date:   Thu Aug 25 20:55:55 2016 -0400

    Properly emulate OS X tab bar coloration

commit 01becf5ac2a9b08c72adbc0d415cc6375f74beaa
Author: Cameron Mulhern <csmulhern@gmail.com>
Date:   Thu Aug 25 20:59:19 2016 -0400

    Fixes tab bar cell tab number layout

commit 42dd0d84e521396d8399cb2e5e1afc062dcc10af
Author: Cameron Mulhern <csmulhern@gmail.com>
Date:   Thu Aug 25 20:58:51 2016 -0400

    Fixes tab bar cell label layout

commit c44c3410e772820163e41c9e7147b5f383379c75
Author: Cameron Mulhern <csmulhern@gmail.com>
Date:   Thu Aug 25 20:50:16 2016 -0400

    Restore 12 pt font size on high contrast tab styles

commit 694d1164e79bde6c620bee89db9baaeba3eb3b85
Author: Cameron Mulhern <csmulhern@gmail.com>
Date:   Wed Aug 24 18:06:08 2016 -0400

    Match OS X tab bar styling more closely

commit 0d70fb8b1934da26203dce289daa04d5bdd3a246
Merge: 951b6a87 5bf1c2ad
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Sep 1 21:30:51 2016 -0700

    Merge branch '3.0.10' of https://github.com/gnachman/iTerm2 into 3.0.10

commit 951b6a875db59526dcf773007329c1acd9ddc60a
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Sep 1 21:30:42 2016 -0700

    Change : in auto session log filenames to . so finder doesn't show them as a /

commit 8461b358c043a5a49de9c89b05bbe345004c99f4
Merge: 63022564 dcda8387
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Sep 1 21:27:00 2016 -0700

    Merge branch '3.0.9' into 3.0.10

commit dcda8387770fe32f30461ae1aa0718258a407382
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Sep 1 21:18:13 2016 -0700

    Fix about box

commit 630225648912900b8424d9eda9ce72e5fa91fa85
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Aug 31 21:51:08 2016 -0700

    Cap the number of commands, hosts, and directories saved per session to 100 to keep the saved state from getting too big. Issue 5029

commit 70e37d049816c041763515f834a4b6031070a260
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Aug 30 22:53:20 2016 -0700

    Fix a warning

commit ae2a14704abf602717f59ba3dc4558f5e840f99b
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Aug 30 22:52:43 2016 -0700

    Revert prompt to show images now that they're decoded out of process

commit 99f1240cad3528e135f0bf3e10cf658c77686209
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Aug 30 22:22:57 2016 -0700

    Decode images out of process. This is for improved security because buffer overflows when decoding images are a real risk. This commit adds a new executable, image_decoder, which reads a compressed image on fd 0 and writes JSON describing its frames, sizes, and delays (for animated GIFs) on fd 1. When an image is received, the image_decoder job is run in a sandbox. Likewise, when iTerm2 restores saved state, image_decoder again decodes each image. In this way images that were not in our control are always passed through image_decoder. Some images, like the broken pipe graphic, are under our control and do not need to be decoded out of process. When restoring state, one image at a time is decoded in order of most recently requested. This provides adequate performance while minimizing latency.

commit 03700ab74267a3f7b2875d04833bb03598ebda73
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Aug 31 22:08:43 2016 -0700

    Update for September's patrons

commit 3b3c44e0fb0b2b0c9db797a16c0c16762218e5e4
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Aug 31 22:04:07 2016 -0700

    Remove preference to permanently silence multiline paste warning if the default action is cancel. Issue 5115.

commit 5bf1c2ad24156e7cbe8fe7b514a5952f581e375f
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Aug 31 21:51:08 2016 -0700

    Cap the number of commands, hosts, and directories saved per session to 100 to keep the saved state from getting too big. Issue 5029

commit 591866447e51b8ef669513e26eae2509829e47df
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Aug 30 22:53:20 2016 -0700

    Fix a warning

commit 4d5fb0b3406d94424240e61363cc871b0ed6ebfc
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Aug 30 22:52:43 2016 -0700

    Revert prompt to show images now that they're decoded out of process

commit 8d1d97dc25a7a3d8b0119a5b834026eccb8f7a5f
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Aug 30 22:22:57 2016 -0700

    Decode images out of process. This is for improved security because buffer overflows when decoding images are a real risk. This commit adds a new executable, image_decoder, which reads a compressed image on fd 0 and writes JSON describing its frames, sizes, and delays (for animated GIFs) on fd 1. When an image is received, the image_decoder job is run in a sandbox. Likewise, when iTerm2 restores saved state, image_decoder again decodes each image. In this way images that were not in our control are always passed through image_decoder. Some images, like the broken pipe graphic, are under our control and do not need to be decoded out of process. When restoring state, one image at a time is decoded in order of most recently requested. This provides adequate performance while minimizing latency.

commit e60f4abca1f175aa658f92b52de81c51dcfeb421
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Aug 27 20:19:23 2016 -0700

    Show a warning before decoding an image to let security-conscious people know there is a risk.

commit 7dcd062dd55d58e2b0bba3e373f3ef6f15cb1a39
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Aug 27 11:17:03 2016 -0700

    Warn when you type a suppl. plane character into tmux 2.2. Issue 5040

commit fdd5f3401dc7880e07cc02eb8612a48e64cddee8
Merge: 39e82ed6 708f65d1
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Aug 27 13:47:52 2016 -0700

    Merge branch '3.0.9' into 3.1-mergedwith-3.0.9

commit 708f65d16100317916aed2418ec8b3b6c82ef61b
Author: George Nachman <gln@whatsapp.com>
Date:   Thu Aug 25 10:02:00 2016 -0700

    Update ColorPicker.framework for commit f6712386c7a5958de46d0a5df2ac829cd55bc49c

commit b4a8fc29df53f7d7e09f11f7cbb53778e0335bc1
Author: George Nachman <gln@whatsapp.com>
Date:   Thu Aug 25 09:54:54 2016 -0700

    Fix a bug where the color picker's eyedropper didn't work on any display other than screen 0. Issue 4821.

commit 505466f584b357e835c8fd2348820b9a868fbf38
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Aug 24 21:08:45 2016 -0700

    Save and restore the profiles panel's frame

commit 6bbc92f2f346305b549fdc28aab810fd422e644f
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Aug 23 22:08:35 2016 -0700

    Delete dead code

commit 870879e2424f9aafbb2679a2efeb96f6a30c599e
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Aug 23 22:05:40 2016 -0700

    Copy to pasteboard on a custom click action to extend the selection. Issue 5101.

commit 39e82ed6e40c9104971b23e0c67e99b2e9655a23
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Aug 22 21:16:33 2016 -0700

    When dimming text only, dim non-default background colors towards a gray with the brightness of the default background color, not toward a 50% gray. Issue 5042

commit 9b69658e445858b9cf7f82882435dd03bd1ed3df
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Aug 21 22:04:36 2016 -0700

    Cut out descenders for underlines. Iterating on issue 4957

commit d7df76223493784e31c9bd2e7358814f6b61a119
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Aug 21 16:07:04 2016 -0700

    Use NSLayoutManager to compute underline offset instead of the NSFont's value. On retina, allow a single-pixel thick line and ensure it is on the grid.

commit dcb469fbcff122f724fc713e08b8f755f096fe19
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Aug 21 12:12:51 2016 -0700

    Rate limit TIOCSWINSZ to 5/second to avoid signal coalescing preventing the remote from redrawing when size changes twice in rapid succession, as when you close a split pane with a per-pane title bar (1st the title bar goes away, causing a size change, and then the split goes away causing a second size change in rapdi succession). Issue 5096

commit fa93589547eeb99b73e2271d9c313e54c6059244
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Aug 20 13:57:26 2016 -0700

    Use SRGB internally for terminal colors. This also fixes a bug where the hex value entered into the color picker was not stable. Calibrated colors remain for various interfaces, such as Applescript and palette-setting escape sequences to preserve compatibility

commit aaae079fbce1fdf75291d0fb44b49af000b0d893
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Aug 20 09:33:31 2016 -0700

    Ensure that, when pasting chunks, a surrogate pair does not get cut in half. Issue 5040

commit 6d88419cca138c96b74989e74f0f51c0e15f4bc4
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Aug 20 09:33:31 2016 -0700

    Ensure that, when pasting chunks, a surrogate pair does not get cut in half. Issue 5040

commit 8db2ff42147b920c8e674479e3f4d8fcee191755
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Aug 18 23:12:34 2016 -0700

    Use integer underline thickness

commit 5958547fb393f0f0ff54aa704ca749e47f4fd1ea
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Aug 18 22:38:29 2016 -0700

    Move cursor to the origin on DECSET 1049, like Terminal and Konsole to make less output look nicer. Issue 3408.

commit a7ed57d205dc975ef6675c39f078672e3c87bd73
Author: George Nachman <gln@whatsapp.com>
Date:   Thu Aug 18 13:45:09 2016 -0700

    Fix how capture-pane -p -P -C is parsed to handle improperly escaped backslashes. More info in issue 5091.

commit 73f768a93b4b2f497a37583c0c0bf3fd008f9275
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Aug 17 22:21:39 2016 -0700

    Revert "Change the level of the color picker popover to NSSubmenuWindowLevel for issue 5079"
    
    It didn't work well when another app became active (the popover overlapped it) or when a terminal window moved between the panel and the popover.
    
    This reverts commit f783a5b77e6d63f0a9a5f7ba04f2e86afba1978c.

commit 911ad6204c0616c05f2892e7f0f184928d1609ad
Merge: f783a5b7 ef3ef929
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Aug 17 22:19:49 2016 -0700

    Merge branch '3.0.9' of https://github.com/gnachman/iTerm2 into 3.0.9

commit f783a5b77e6d63f0a9a5f7ba04f2e86afba1978c
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Aug 17 22:19:38 2016 -0700

    Change the level of the color picker popover to NSSubmenuWindowLevel for issue 5079

commit ef3ef92902a40cd060cf331fd5949cbcb8e237b0
Author: George Nachman <gln@whatsapp.com>
Date:   Wed Aug 17 10:08:24 2016 -0700

    When iTerm2 is terminating, detach from tmux gateways before windows are closed. Issue 4926

commit 529627d6d1f0df6ee2e0cf233eaec7336b6cc98f
Author: George Nachman <gln@whatsapp.com>
Date:   Wed Aug 17 09:35:09 2016 -0700

    Include execution of diffs in file uploaded from test failure on travis

commit d4006158112afeee6947a8a4f222d2154362927e
Author: George Nachman <gln@whatsapp.com>
Date:   Wed Aug 17 09:28:38 2016 -0700

    Update nonretina golden images. Port diffscript from master to 3.0.9 branch

commit ef15852c01ecaa1cbc8dc75b2491c3e21bcf1cdf
Author: George Nachman <gln@whatsapp.com>
Date:   Wed Aug 17 09:05:41 2016 -0700

    Update travis golden tests for new text dimming algorithm that dims the cursor

commit d8dcff39884ee2741e04f3a06d837bd7e1b7f239
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Aug 16 23:08:54 2016 -0700

    Fix incorrect tab filler orphan removal and tests that incorrectly assumed tab fillers followed a tab character. They precede it. Issue 5075

commit e85763c15c17f6120d8147ba6cdb7c7ccce7786a
Merge: 1df41299 52c471d2
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Aug 16 22:48:46 2016 -0700

    Merge branch '3.0.9' of https://github.com/gnachman/iTerm2 into 3.0.9

commit 1df41299a2496e2729f3c1b609f786cad9a29074
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Aug 16 22:48:21 2016 -0700

    Make the adaptive framerate FPS configurable in advanced prefs

commit 2198f9abcdd556923013637c2d0b8dcdb8cd96ca
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Aug 16 22:48:21 2016 -0700

    Make the adaptive framerate FPS configurable in advanced prefs

commit 2dd3bdb733bdedf9bef78ad584eb78574b22f757
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Aug 16 22:41:55 2016 -0700

    Add an underline length attribute to underlined mutable strings so we know how long the underline needs to be in cells. Mentioned in mailing list, subject line 'Issue with displaying text underline'.

commit 52c471d2ddf732b7f6eedcc8cb5851b2a9bf5eb2
Author: George Nachman <gln@whatsapp.com>
Date:   Tue Aug 16 09:46:19 2016 -0700

    Remove table view delegate and data source in key mapping view controller to fix crash in issue 5080.

commit 2390ab494f58f62d9f39ea5e38f4ef387bdd66c8
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Aug 14 21:43:54 2016 -0700

    Change 'Session Restored' to 'Session Contents Restored' to improve the message's clarity

commit b03c43c8f3b997ad9d7b42c4fdb34f448603a8f5
Merge: a8f4e91e 07ffe3cc
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Aug 14 21:34:33 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit a8f4e91edad3d7f93c3f5ea2a615fd62bd21534c
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Aug 14 21:26:01 2016 -0700

    When using system window restoration do not create an new (like an untitled) window at startup if a hotkey window is defined. Issue 3978

commit 07ffe3cc9d1ef36cd5c3d5a19aa21f42a4f0665c
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Aug 14 21:26:01 2016 -0700

    When using system window restoration do not restore windows if a hotkey window is defined. Issue 3978

commit 9b7d0ec44ceab4453ca82465572a5713e41c0d1a
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Aug 14 20:48:27 2016 -0700

    Support initial directory for tmux integration. Issue 5063.
    
    When in tmux integration, send select-pane commands. This enables reusing the previous session's working directory.
    
    Move tmuxBookmark into ProfileModel.
    
    Add a new class iTermInitialDirectory to capture the state around a session's initial directory. It isn't yet used everywhere it could be; just tmux integration currently.

commit 1af6e142b9c84c2f9356a5ba08a01f894ceae4d7
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Aug 13 22:33:27 2016 -0700

    Fix a bug where underlines did not extend to the end of double-width characters.

commit b13f769571dd5c955a6f9de607d0336532be48c2
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Aug 13 22:20:14 2016 -0700

    Use the same baseline and underline offset for non-ascii characters. Using the smaller baseline caused issue 5056 where a combination of a small ascii font and a large non-ascii font pushed ascii text off the top of the view.

commit 36d402777b4db29aabdd255d618e97bc80ac57a8
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Aug 13 21:36:44 2016 -0700

    Fix a bug where descenders in PragmataPro got cut off (Issue 5050). Also fix a bug where the cursor would be visible when in the excess area.

commit f51903494da64a4ea46e32894d9caaec8d5ed8dd
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Aug 13 20:56:25 2016 -0700

    Nil out tableview delegates in prefs panel to try to prevent crashes.

commit e2bcdbfcacd01638b43da35d2c5fe1148b5f993a
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Aug 13 17:01:58 2016 -0700

    Dim non-default background colors toward the default background color, not towards black. Fix a bug where dimming was broken. Issue 5042

commit 3daac9eb8bd7ba58cc8ab63eb55bf583b1d50af5
Merge: df7258cc 769e4121
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Aug 13 15:29:08 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit df7258ccec1245829e9fcd0692204e13c1039562
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Aug 13 15:27:09 2016 -0700

    Update the underline offset for the new baseline offset computation

commit 769e4121ba820c277aa894a8ff7a1d66c9474c57
Merge: c6cfc937 9f5fa894
Author: George Nachman <gnachman+github@gmail.com>
Date:   Thu Aug 11 22:45:27 2016 -0700

    Merge pull request #297 from coljac/master
    
    Tweaks to imgcat script: Add -p flag to print image name

commit 8caa75d4dc8dccca2790d39ff0a97025f98ca68c
Author: Pyry Kontio <pyry.kontio@drasa.eu>
Date:   Mon Aug 8 13:18:15 2016 +0300

    Fixed yet another cornercase with the "¥".

commit c6cfc937e521cff719e3a0d081387c077825ead2
Merge: 2d9399a8 690f8525
Author: George Nachman <gnachman+github@gmail.com>
Date:   Thu Aug 11 22:41:19 2016 -0700

    Merge pull request #300 from golddranks/master
    
    Fixed yet another cornercase with the "¥".

commit 2c4d94620c6bb7a83ffe40fa40fe710f581123c6
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Aug 11 22:32:58 2016 -0700

    Set the cancelLabel for warnings for shell integration

commit be294cc90fcece54aa2f08426d93c5be7e1ac3fd
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Aug 11 22:27:56 2016 -0700

    Set cancel label for paste warning. Issue 5043.

commit 2d9399a86f6bb2335bce12dac88acf6de1654836
Merge: a1bf13da 71d3ad13
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Aug 11 22:28:17 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit a1bf13dafea85962d12c06f809ee8a842d2a8856
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Aug 11 22:27:56 2016 -0700

    Set cancel label for paste warning. Issue 5043.

commit 012e659fc1432a654ddb597d1ad71989d3d3be2d
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Aug 11 21:47:14 2016 -0700

    When exec fails show the command, why it failed, and if it failed because the file wasn't found, show the PATH that was searched

commit 37d120d376044894e687ce7eed70685cf12d584c
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Aug 11 21:40:26 2016 -0700

    Fix a bug where iTerm2 would hang when a fd server exited before we attached to it (which could happen if the command failed to exec or exited right away). Also fix a leak of file descriptors (serverConnectionFd).

commit 90eaf25149ca804f1ffc47c0c5070d32369ee3e4
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Aug 11 21:21:25 2016 -0700

    Fix a bug where we'd crash when closing prefs with a row selected in advanced settings

commit 9f5fa894e6e57d3a1fccaa52f69e65572231a375
Merge: 57178c33 71d3ad13
Author: Colin Jacobs <colin@coljac.net>
Date:   Tue Aug 9 14:13:44 2016 +1000

    Merge branch 'master' into master

commit 690f8525521383cd2e5182789c813fd5a33de889
Author: Pyry Kontio <pyry.kontio@drasa.eu>
Date:   Mon Aug 8 13:18:15 2016 +0300

    Fixed yet another cornercase with the "¥".

commit cddcad3fa07b298b847c00a0eca0fe3e027617e6
Author: Pyry Kontio <pyry.kontio@drasa.eu>
Date:   Mon Aug 8 00:26:38 2016 +0300

    Use charactersIgnoringModifiers instead of keycode to determine when yen should become backslash.

commit 71d3ad13f1229d8da1a84943d3cbe85029f5e06d
Merge: 330fcf81 0cc6999b
Author: George Nachman <gnachman+github@gmail.com>
Date:   Sun Aug 7 20:31:23 2016 -0700

    Merge pull request #299 from golddranks/master
    
    Use charactersIgnoringModifiers instead of keycode to determine when yen should become backslash.

commit 330fcf81b633349743e473722be04adb2fc7918f
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Aug 7 15:51:02 2016 -0700

    Add support for Unicode 9 as an option, but it's off by default. This is based on Keno Fischer's work in pull request 294. It adds a new escape sequence: "OSC 1337 ; UnicodeVersion= Ps ST" where Ps is a number (8 or 9, presently) to switch to; 0 for the terminal's default (currently 8; I'm not sure this is very useful, though, since it loses the profile's preferred version--better to use the stack or DECSC/DECRC described later); push to save the current value onto a stack; pop to pull the last value off the stack. The unicode version is also saved and restored with the cursor (affected by DECSC, DECRC, and DECSET 1049). The unicode version and stack are saved and restored along with the rest of the terminal's state using window state restoration. Additionally, a new setting was added under Prefs/Profiles/Text to set the initial unicode version for the profile.

commit 0cc6999b7607bd851c9aba010bcacf0da35ef09f
Author: Pyry Kontio <pyry.kontio@drasa.eu>
Date:   Mon Aug 8 00:26:38 2016 +0300

    Fixed the yen button error that happened if the current keyboard layout doesn't produce "¥".

commit 57178c33a7e6ebe7ff2d22c1abaecb0ed7f9d0d7
Merge: 1a64668c 2b8f55cf
Author: Colin Jacobs <colin@coljac.net>
Date:   Sun Aug 7 12:56:21 2016 +1000

    Merge branch 'master' of https://github.com/coljac/iTerm2
    Update for imgcat.

commit 1a64668cf53ef1da3bb0badf6a9bb8ea71b67d42
Author: Colin Jacobs <colin@coljac.net>
Date:   Sun Aug 7 12:55:06 2016 +1000

    Updated print_image comments and invocation for fourth argument, print_filename

commit 2b8f55cf79c2f4ae4eb01b8a68c3594ffadba67d
Merge: 8cdb84f6 cae1ac8d
Author: Colin Jacobs <colin@coljac.net>
Date:   Sun Aug 7 12:53:22 2016 +1000

    Merge branch 'master' into master

commit b56aa7f28948e03a60d083356074d94cf1b05506
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Aug 5 23:19:59 2016 -0700

    Fix pattern phase for braodcasting diagonal stripes. Issue 5032.

commit 6cd1515b58c44a9aacb70638dcb8d08acd479205
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Aug 5 23:19:35 2016 -0700

    Fix pattern phase for braodcasting diagonal stripes. Issue 5032.

commit cae1ac8d9bc3dfc5154ad40c5be5adaafb907da3
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Aug 5 22:55:49 2016 -0700

    Fix a bug where ligatures sometimes did not draw properly. There were two problems: first, a bogus return statement was left in rectWithHalo:. But second, lines must be drawn from the first column to avoid getting the wrong ligatures in some cases such as a line of ->->->->, where both -> and >- form different ligatures. Issue 5030.

commit 15a7ff1b3db3cb7b529bd8e8ec2ffbff15a57e34
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Aug 5 22:17:01 2016 -0700

    Remove commented-out code

commit 606bbca81e73dbb43d0a4cdad93dbd4f2fee7167
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Aug 5 22:16:38 2016 -0700

    Remove deprecated hotkey window restoration code

commit 8de67047f854e240f6bc8840618aff3f36e40eca
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Aug 5 22:15:45 2016 -0700

    Fix a bug where legacy saved hotkey windows could not be restored

commit a70a6d28031527903906eb3eebf8fe99a0b2ee53
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Aug 5 20:56:26 2016 -0700

    Remove WindowArrangements from NSNotificationCenter on dealloc, which crashes 10.10 and earlier when it posts kSavedArrangementDidChangeNotification when a dealloced instance is still observing notifications.

commit 8cdb84f64738a2aa3c06c1335c47ed63320eae56
Author: Colin Jacobs <colin@coljac.net>
Date:   Sat Aug 6 12:01:10 2016 +1000

    Does not take input from stdin if filename passed.

commit 1f1b6130bf3f407ad480d521a06447a08052ea3f
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Aug 2 22:04:06 2016 -0700

    Add patrons for July

commit c626c24630ba1243d323eaa890956c1fa8b3351a
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Aug 2 22:02:49 2016 -0700

    Modify release_beta to modify experiment files (testing3 and testing_changes3) so it's easy to roll changes out gradually to the population

commit b1d5f2f4727efa941cfffebda2856b6db7c168d9
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Aug 2 21:47:17 2016 -0700

    Fix a crash on 10.9 and earlier when tabs don't have close buttons and the titles are long. Issue 4985

commit 6dd03250df9695051b8bd3b2d026fd78ae0703c2
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Aug 4 23:05:32 2016 -0700

    Fix a retain cycle in the keys prefs view controller that caused a crash when toggling the hotkey pinned button because a vc belonging to a now-dead window got a notification that something changed and asserted trying to get the info for the control.

commit 0877eef6ecae8adecc5e4740ad5d38b07cfb36fb
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Aug 4 22:40:17 2016 -0700

    Fix a bug where we tried to remove the window's first responder when a popover closes, but it was done wrong because in awakeFromNib the view did not yet have a window so the workaround was a no-op. Not sure if this used to work and then something changed, breaking it. The new code should be more robust because it gets the window from the color well, which we know must exist when its popover will close. This accounted for 20% of crashes in 3.0.5.

commit 3c9fed393e8b5e1d15e70a2d2021e60503ae5be3
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Aug 4 22:25:09 2016 -0700

    Fix a crash when you close prefs window while editing an untokenized value in the tags field. Mentioned in a comment in issue 4047.

commit 7e899958fde511a4401e7bb16433716b9d1dfba3
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Aug 4 22:19:50 2016 -0700

    Remove use of kStateDictSavedCX and kStateDictSavedCY from tests (it was removed earlier)

commit eef51f16f9d3742d36d0830f71a1176a29394fc3
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Aug 4 21:15:21 2016 -0700

    Remove support for tmux's saved_cursor_x and saved_cursor_y, which were removed in tmux 2.1. Use alternate_saved_x and alternate_saved_y to set the saved cursor position in VT100Terminal when attaching to a tmux window pane. Fixes a bug where the cursor position isn't correctly restored. Issue 5025.

commit de598e2e40de282d5ff1f8ae50ea6d85cbce490a
Merge: aeff424e 3de54431
Author: Colin Jacobs <colin@coljac.net>
Date:   Fri Aug 5 09:57:08 2016 +1000

    Merge branch 'master' into master

commit bd91dd0b1a5b0b839fe34c9ab89cfffd89897af4
Author: George Nachman <gln@whatsapp.com>
Date:   Thu Aug 4 10:47:32 2016 -0700

    Support ipv6 DNS lookups for determining if a hostname is legit for semantic history. Don't cache temporary DNS failures.

commit 3de5443133eba369f451fb055ff6ca707190c64c
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Aug 3 22:15:00 2016 -0700

    When CSI ED is received, consider lines containing only space, tab, tab filler, and orphan DWC_RIGHT/DWC_SKIP characters to be empty. Issue 5015.

commit 3c2aeca544e3a24da8740b6d9595ae08b39eb30e
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 28 12:53:48 2016 -0700

    Add file with emoji to test with

commit c9b69b27fbb94dacba049aaa89a79368c1cfafab
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 28 12:17:37 2016 -0700

    Add perf3 benchmark

commit c5ed542322c9c538886a5491cab1fdd3260a9340
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 28 12:16:50 2016 -0700

    Coalesce drawing background of equivalent rows. Reduces background drawing time from 7% to 5.9% of perf3.txt benchmark.

commit e2afa1aca070acc8d7fd2856d4d2f549bbb16db8
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 28 12:15:50 2016 -0700

    Compute ligature level at setFont: time for a small performance win

commit d4db5d85acae8730ae94d2fa65fc4261f12f4cda
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 28 11:19:06 2016 -0700

    Add CTVector, a preprocessor based template vector. Use it to store arrays of CGFloats for glyph positions.

commit 567bbca7c04fc246dee15ffd1577401d2ad5ec28
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 27 22:17:38 2016 -0700

    Don't try to clip drawing to the document-visible rectangle. It doesn't make sense and was causing the crash in issue 4998

commit 778f27a025f59ffe1ce640a2dfcefbd095f27938
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 27 21:50:33 2016 -0700

    Fix a bug where opening a new tab from open quickly was broken. Issue 4978

commit dbd520ffb0d02569b04bd72557c06d59161cdc86
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 27 19:53:46 2016 -0700

    Add an advanced preference to make the session restored banner optional. Issue 4988.

commit 378205b58c8b41e97b2b21f93ce808512e36a1ef
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 27 19:42:04 2016 -0700

    Keep subviews of SessionView top-aligned in tmux integration. Came up in a comment in issue 4933

commit 6226fb7db5abd44eeaacca9f2a228db453e0a08d
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 27 19:42:04 2016 -0700

    Keep subviews of SessionView top-aligned in tmux integration. Came up in a comment in issue 4933

commit 774453f172f96bae878aa4f1877338614cafc431
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 27 17:17:51 2016 -0700

    Add more debug logging for badge issue 5001

commit aeff424e578f9ad595daf494677216d7d2e7e955
Merge: b8fc4829 86063909
Author: Colin Jacobs <colin@coljac.net>
Date:   Thu Jul 28 10:08:37 2016 +1000

    Merge branch 'master' into master

commit b8fc48291f47bd763d2ebd0ee7eec1716e2c3a02
Author: Colin Jacobs <colin@coljac.net>
Date:   Thu Jul 28 10:07:43 2016 +1000

    Added -p flag to usage instructions.
    
    Filename now appears below the image.

commit 8606390911eec90f859d73ed88275c9db0f5a72c
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 27 16:53:45 2016 -0700

    Fix logic inversion. See comment in issue 4957

commit 5121a7a8cabb67609262b18305cc261ceb198d7f
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 27 16:45:55 2016 -0700

    Dim cursor color. Issue 4944

commit 68dd2173a6227b7faf0e7ed7f60f7ecc1bbcd18f
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 27 15:58:40 2016 -0700

    Simplify how tab attributed strings are created

commit 00ed91dbcf8e3f1455913471fff7a3c5a6db0439
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 27 15:58:20 2016 -0700

    Fix bug found by asan in tests

commit 8e79dcfeda10e7a680cd9c0929fa477ccf825a1e
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 27 15:57:56 2016 -0700

    Fix bug found by asan in tests

commit f94ad08f95e61647d4c694bbf6dcb7e898d0c174
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 27 10:35:48 2016 -0700

    Add tests for -[iTermTextExtractor contentInRange:....].
    
    Change how orphan tab fillers are found in contentInRange:. An out-of-bounds lookup in eolBlock: was removed (tabFillerOrphansOnRow:line+1, when line is the last line). This should speed up the method by not creating lots of index sets and searching the line twice (except when there are lots of tab filler orphans, which is rare).
    
    Extend contentInRange:... to support truncating the head of its result instead of always truncating the tail when cappedAtSize>=0. This fixes a bug where prefixes for semantic history got their tails truncated when ignoring hard newlines (or if the session is over 2000 cells wide). Issue 4902.

commit c0fa30846416c3010a091b9c3d9dd69a9f8c9d7b
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 27 10:30:38 2016 -0700

    Turn on asan and zombies for tests

commit 393b27ab92667951992b9734559a03364556f626
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 27 10:30:15 2016 -0700

    Move iTermPreferences.h into shared. Not sure why it wasn't before

commit e2999a5da947a903b969141f0c36935c593bfee5
Author: Colin Jacobs <colin@coljac.net>
Date:   Wed Jul 27 14:40:10 2016 +1000

    Added -p flag to print image name before displaying image. Useful when
    invoked on a large number if images at once.
    
    Added a tweak where print_image returns if no filename supplied; was a
    problem when invoked via xargs.

commit e9481ace1f9d396ded08d9001e6117b05093e8a5
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jul 26 16:08:42 2016 -0700

    Fix a bug where the alt grid's state wasn't saved properly for window state restoration (the primary grid's state was saved in its place). Issue 5000

commit 98b8f530fe8dd223fad7b3ae325b5bf90218ed1f
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jul 26 16:08:42 2016 -0700

    Fix a bug where the alt grid's state wasn't saved properly for window state restoration (the primary grid's state was saved in its place). Issue 5000

commit 87c0d059caa05da955b1311329ed3c82c0239f53
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jul 25 22:48:39 2016 -0700

    Update baseline offset computation to be more like other osx apps. Issue 4957

commit 84f0fb6dbe7d7f8f18a52791e4e45195bf2d0cf3
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jul 25 22:33:47 2016 -0700

    Only use font smoothing for light text on a dark background. Issue 4986

commit 2b2f92ba49370cfb072a7e0e43e9c26882bee4cc
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jul 25 09:27:36 2016 -0700

    Add HaskLig to the list of fonts that should use ligatures. Issue 4977

commit d500169d80eee983b550a7338a20bb7191a5479d
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jul 25 09:21:10 2016 -0700

    Always use ligature level 1 for PragmataPro. See comment in issue 3568

commit f5e17810ed46d29e23d1c7bc2bff5d375d4dfd35
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 24 23:06:39 2016 -0700

    Include usable XML for prefs in crash reports

commit c01e4b0bae125989f81222a5c35c92e9c3924df1
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 24 22:26:29 2016 -0700

    Do not setClientSize: when width or height is negative, which can apparently happen when a monitor is unplugged. Issue 1722 comment by dillonhaferon 7/21

commit ade5d5734ade3f55a7d05c7b8c1d1d2e733650c0
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 24 22:25:45 2016 -0700

    Reduce adaptive framerate to 20 fps

commit bbfd4d1f5b8bfaecc5cd332c650e28c930b95330
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 24 22:21:32 2016 -0700

    Fix a bug where applescript references to a window were broken. Issue 4958

commit cdef953136871cc29db26d74744345cbd7a46083
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 24 11:37:55 2016 -0700

    Trim trailing newline and adjacent whitespace when selecting the output of the last command. Issue 4975

commit e953fc29d36b87de96cdf38b68b2aadf4765aa90
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jul 23 23:24:57 2016 -0700

    Try to speed up box drawing code. Issue 4971.

commit 316fee7d1d0f8e02c5143e236a6acfd7d1c56990
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jul 23 21:40:52 2016 -0700

    Fix a bug where unused space was left at the bottom of a fullscreen window with a horizontal split:
    
    - Set the showTitle flag in a tab's session viws when creating a tmux tab. This fixes a bug where there would be unused space at the bottom of a fullscreen window because -recompact would throw out the extra room left for the title bar.
    
    Fix a bug where a fullscreen window with a horizontal split with cycle between two different sizes (issue 4933):
    
    - Make addSplitter:toIntervalMap:forHeight:origin: use the size of the scrollview, not the size of the session view. If there is a per-pane titlebar it shouldn't be counted since the height is used to compute the number of rows.
    
    - Get rid of maxTmuxSize, which double-counted the difference between the root splitter and the flexible view that contained it (tmuxSize already took that into account).
    
    - Make tmuxSize use the floor of the charsDiff values. That's better behaved for negative values, since tmuxSize is meant to be equal to or smaller than the size that would fit on the screen.
    
    Finally, make replaceViewHierarchyWithParseTree: set the showTitle flag. This is mostly on general principal.

commit 0089be46ba04416a22a102bf82f269c5daf9a75b
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jul 22 10:47:46 2016 -0700

    Pressing esc in a search field without text should pass the command up to the chain. This allows a window to close. Issue 4970.

commit 711feae9e5537bb5bf01a5d1122ddff2de20038f
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jul 22 10:23:46 2016 -0700

    Fix horribly broken logic for excluding windows from the popup in the edit key action window. Issue 4968.

commit 0a2174e5be5e2585168c61b9184103047b57a14a
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 21 10:41:54 2016 -0700

    Turn on triple click selects full wrapped lines by default. Issue 4249

commit 2f528a6fb58c1965fee41f49282ee40b957bcfa9
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 21 09:35:18 2016 -0700

    Fix a bug where trying to seek instant replay to a nonexistant timestamp caused us to seek to the beginning. Issue 4943

commit 5e8ec2b4f01372984d5c656877bdf5a307833334
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 20 13:43:19 2016 -0700

    Correct the frame (if the width is not divisble by cell size then the window would change size when exiting DVR) and presence of a session view titlebar when going back in time. Issue 4930

commit 956c75addd715c68e751eeba9dc205ff55b7c308
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 20 11:16:02 2016 -0700

    Optimize drawing by reducing number of lines drawn per call (each line is only drawn once now). Center mark and fix cursor hight for negative spacing

commit 43ed052a36ef01d166c8bdbdfb29b196720cdaa9
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jul 19 16:49:03 2016 -0700

    Use absolute coords for the underlined range. Issue 4963

commit f80c13003373c4de76d9307a0466a015c5bd3743
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jul 19 14:57:12 2016 -0700

    Indicate that ligatures must not be used in municipal strings. Of course, they get used anyway, but only when desirable. Issue 4947

commit 83f874640157abe9596bf3dbfd387ef00cc7107b
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jul 19 12:17:14 2016 -0700

    Use double-struck text when a bold font is not available and it is supposed to be bold and a bold font is allowed. Issue 4956.

commit e61095bdcb6c3ff003bf08c32d447c39d1a6dddf
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jul 18 15:35:07 2016 -0700

    Fix merge error in .sdef filfe

commit 75872c31fed30be2ec0fb88e114210bb197a60e4
Merge: 61127566 f462d59d
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jul 18 12:41:18 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 61127566fc8f6dbb05d49cad00a33bb8a3a24df5
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jul 18 12:41:02 2016 -0700

    Disable tab bar highlight animation for left-side tabs. Shorten animation duration. Optimize drawing to only invalidate the changed rect, not the whole tab bar.

commit 72c498050432685ecedc6b584bd3f09ea31c3ff5
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jul 16 23:11:03 2016 -0700

    Underline the correct region of semantic hsitory when there are backslashes. Issue 4927

commit 0f07e39bad3832cff86c77844c716c45abdc2b03
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jul 16 20:56:24 2016 -0700

    Switch to dev scheme

commit ce3f68ac112c9b66557e25e618a174aa7effef28
Author: ivanbrennan <ivan.brennan@gmail.com>
Date:   Mon Jul 11 21:12:59 2016 -0400

    Fix typo in 'See Tips of the Day?' prompt

commit f462d59d8f75fa4872195d4c3f277a3733f539b5
Merge: 50948321 f3a36096
Author: George Nachman <gnachman+github@gmail.com>
Date:   Sat Jul 16 16:33:31 2016 -0700

    Merge pull request #296 from ivanbrennan/master
    
    Fix typo in 'See Tips of the Day?' prompt

commit 8f2cfab43ae6542a1a782fb40e005f434cfc3424
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jul 16 16:23:23 2016 -0700

    Fix a bug where tmux windows come back the wrong side when scrollbars are disabled

commit 50948321e61414a3e1e9dc66fa490fc67427290f
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jul 16 16:25:37 2016 -0700

    remove spammy log message.

commit 2392c2c27034bf059df7b8a6311a56b7dd44339a
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jul 16 16:23:23 2016 -0700

    Fix a bug where tmux windows come back the wrong side when scrollbars are disabled

commit 04915da44c4d3547604d45056e91ac8d980f71aa
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jul 16 16:22:35 2016 -0700

    Change scheme back to dev

commit b2ca6eb54f12a987467e73f39c7494691f64498c
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jul 16 14:45:17 2016 -0700

    Restore support for 'thin strokes'. Issue 4948

commit 0f43209e004ebcdc23816aa7bd3dcf69d541bdd3
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jul 15 20:57:56 2016 -0700

    Fix baseline alignment in prefs > profiles > general

commit 681dd28cfc695544687d1c8434b81c2fb13217cf
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jul 15 20:54:26 2016 -0700

    Add code from the deleted file iTermRollAnimation.m which was actually needed.

commit 33293fbd15e69fcad8bfacee2f0cdded8bc98712
Merge: e07e9669 5851edd7
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jul 15 20:49:04 2016 -0700

    git has confused me completely. It looks like I missed a few changes in the last bunch of merges. This tries to catch it up.

commit e07e9669a6d30c9ffceec0dc1d45ff6a484b0aa9
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jul 15 20:44:01 2016 -0700

    Remove dead code

commit b38b88bc15e0994fe8be7ace8a2db01e68c8a666
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jun 28 09:27:21 2016 -0700

    Treat trailing spaces as nulls even when a windowed selection is not right aligned. Fixes problem where such lines get joined improperly at the cost of introducing the occiasonal bogus newline.

commit fbe84666c81cb77bd54e9109a236c485ef2d7f53
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jun 21 17:53:57 2016 -0700

    Add a menu item to the Toolbelt menu to save the current toolbelt's width as the default. Set the width from the pref the first time it is shown in a window.

commit f7772b24c98002449ceb0554cf5fbff692a86307
Author: Robin Sommer <robin@icir.org>
Date:   Sun Jun 12 11:34:22 2016 -0700

    Add a new color preference setting defining a custom color for underlining text.
    
    If this is enabled, underlining will always use the set color,
    independent of the color that the character itself is displayed with.
    
    Author:    Robin Sommer <robin@icir.org>

commit 89c89bf9a1423817f9f46a647bfb9d150c7fc4a3
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 15 15:25:28 2016 -0700

    Allow colorForKey: to return nil instead of red to indicate a bug. Tolerate nil colors when processing foreground and background colors.

commit 75c86bcedb4506cd5e75443ad102fa48a94ddf78
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 12 10:54:42 2016 -0700

    Respect hard newlimens by default in shell integration. Issue 4768

commit 62acfe17913f3e9b13b16ff085951af1551b3e2b
Author: Rony Fadel <rony.fadel@gmail.com>
Date:   Mon May 30 00:53:40 2016 +0200

    we could be leaking PTYTasks when calling "continue;" if we have duplicate fds,
    in which case "[task release]" would not be called

commit 90c9da852b18569af18bc330cbf60fec937de268
Author: Rony Fadel <rony.fadel@gmail.com>
Date:   Sat May 28 21:23:24 2016 +0200

    dragging and dropping a dir or executable file on iTerm in Dock blocks app for 1 second
    
    for directories, this fix aims to launch to prefill the bookmark dict with a custom working directory, instead
    of launching it with the default working dir, and then manually running "cd $NEW_DIR;\n"
    
    for executable files, the bookmark dict is filled with an initial text value
    
    Note: dragging and dropping a shell script that does "echo 'hello world'" results in
    a broken pipe on my machine (with or without this fix)

commit 93da24715a9eac136891c9245f2768e2936122d5
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 13 13:39:21 2016 -0700

    Add support for ligatures. Rewrite drawing code to use only attributed strings for text. It's a little slower (mostly in constructing the attributed strings) but should fix a lot of bugs.
    
    Improve box drawing character support
    
    Add missing files
    
    Fix a bug where previousCharacterIndex was not incremented. This caused issue 4932 where a row with multiple ligatures got misdrawn.
    
    Increase the number of characters drawn left and right outside the clip view so ligatures of up to length three will draw properly
    
    Always draw whole rows. Ligatures cause spooky action at a distance. For example, typing <*> with Fira Code means that the > changes the appearance of the <.
    
    Output diffs of golden failures.
    
    Compute baseline differently fore core text. It uses baseline-relative layout.
    
    Make box drawing characters non-complex.
    
    Fix highlighting matches.
    
    Use positions instead of advances in text drawing to simplify code and fix bugs with combining diacritics.
    
    Fix anti-aliasing.
    
    Make iTermTextDrawingHelperGetTextColor sane, and possibly correct.
    
    Draw the cursor character as the whole line but clipped to the cursor's coordinates so ligatures don't change as you move over them.
    
    Use unicode for box-drawing cahracters we don't have a bezier curve for
    
    Move box drawing code into its own file
    
    Center lines vertically when there is extra vertical spacing
    
    Fix broken rebase

commit f706346b8faf39120bf2de01b001a3709975e8d3
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jul 15 19:51:15 2016 -0700

    Fix isTerminalWindow which didn't work for no good reason

commit 45993a3a5a34b5de372d6ea6b202089f6050231c
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jul 15 19:37:27 2016 -0700

    Merge in code from hotkeyWindowsInPanels branch. Support multiple hotkey windows. Update the shortcut input view. Add support for floating panel terminal windows.

commit 5851edd763cd5e0f74d6adbe7dfa3799da370a27
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 14 17:17:53 2016 -0700

    Update colorpicker framework

commit b6fc2106c8555ab316243fe0cb7e2c6aaf386275
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 14 17:09:16 2016 -0700

    Remove use of colorWithRed:green:blue:

commit 62e6614b4272fd7d36a205cddb509d2400261d52
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 14 17:07:54 2016 -0700

    Don't allow exiting the shortcut input view if you paste something into the shortcut editor

commit 89bdc28cb8ae138fb9783ef0ddebadddc26aafa8
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 13 13:39:21 2016 -0700

    Add support for ligatures. Rewrite drawing code to use only attributed strings for text. It's a little slower (mostly in constructing the attributed strings) but should fix a lot of bugs.

commit a8dd55da6915730183b39b875a6efeb4731c2729
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jul 12 11:31:53 2016 -0700

    No need to edit version3.md when making a beta build

commit 2df0743e763b1616fa4b441849c965b99d9b4e5d
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jul 12 11:31:42 2016 -0700

    Make 'keep background colors opaque' apply to selection background color

commit f3a36096cd72d9f706b3a26b8b94cf5a1d504d91
Author: ivanbrennan <ivan.brennan@gmail.com>
Date:   Mon Jul 11 21:12:59 2016 -0400

    Fix typo in 'See Tips of the Day?' prompt

commit 598178193a495d0fda4e617f800e72520acc2dfb
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jul 11 15:10:54 2016 -0700

    Remove a silly log line

commit f181cebb199433178d64fe22c48386161c9a96c6
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jul 11 15:10:27 2016 -0700

    Center tab labels as though there is no close button. If the label is so long that it would overlap the close button, left align it just after the close button. Issue 4915.

commit 4f17cb041087e1002fbcdd62d248727e816d0b5d
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jul 11 13:00:09 2016 -0700

    Fix bugs in occlusion caching. Issue 4893

commit 7b5f82a1cf40fb3bc2e208ec4644645a0c078458
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jul 11 11:57:18 2016 -0700

    Don't crash if the badge is set to empty string

commit d950420157cca680b2495f89714c761cffc96507
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 10 23:08:55 2016 -0700

    Fix a bug where the prefs panel would open when changing the font. Issue 4903

commit 8061ce130b0b15ce5f05483bd608eb0c1a1846f6
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 10 22:57:39 2016 -0700

    Add an off-by-default advanced pref to draw yellow marks for commands stopped by a signal

commit 3e5b3c438743ed3a6a195b7f7c46f8ac07c193c1
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 10 22:40:20 2016 -0700

    Improve distinction between selected and unselected tabs in high contrast appearances

commit 9a2101a6deab41035e220fdd2759e797f074a958
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 10 22:02:41 2016 -0700

    Remove bogus character from log statement

commit 52552b47b8bdbb8050c184395cf4cbc9639aaec8
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 10 12:08:49 2016 -0700

    When arranging windows horizontally, wait for all windows to exit fullscreen first. This requires queuing up toggle fullscreen operations, so the iTermFullScreenWindowManager got revamped to handle this.

commit ebde8f2055ae39c211667be8c93dfdaf852702e9
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 7 11:11:25 2016 -0700

    Don't show timestamps for untouched lines in new sessions

commit ba7d35aeed975f58f34b80929cf59dba39a3f8b1
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 6 19:39:56 2016 -0700

    Allow the badge font name to specify a style by giving a name like Courier-Oblique.

commit 7671b26e18a778c8cbd7aa5796219a5c7c04cae1
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 6 15:41:31 2016 -0700

    Make checkmarks in scheme selection box reflect reality (including whether the system considers us the default app). Remove some legacy iterm2 scheme code.

commit 42ec7b093ffbdba2bdcf9c81d634bbdcdbe89420
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 6 15:12:12 2016 -0700

    Fix a crash where some preference panel view controllers remained allocated after the pref panel was released. There were cyclic references in various blocks. The fix for most of them is to remove the blocks in PreferenceInfo when the window closes. A color well block also had a cycle, and I fixed it by using an unsafe unretained pointer. Blocks are non-arc code are scary.

commit 264f1c8421c1abc84e0f7dc16749d85d66adfb04
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 6 11:28:57 2016 -0700

    Remove bogus call to remove observer.

commit aaba0d6dba22f8f0f1a30df47b6cc47fa8bc18b6
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 6 10:32:53 2016 -0700

    Avoid recomputing window occlusion fraction by caching it and invalidating the cache when windows move, create, are destroyed, or change order. Issue 4893.

commit 16c93f3a159bebd5e66f5aef6b07c0d40b3fa2f8
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jul 5 22:56:07 2016 -0700

    Make permissions of ShellHistory database only user-readable

commit c39b6dbce24e9943c239ee854b3ec04bc84b62bd
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jul 5 20:23:35 2016 -0700

    Show a warning before installing shell integration giving the command to be run

commit 48e297e854518c2586b8666cd570862413d6a7b6
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jul 5 20:20:19 2016 -0700

    Fix a bug where iTermWarning would not run the block for saved preferences

commit d0e334b1454a38753aa0181382475e21b50489f0
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jul 5 15:13:41 2016 -0700

    Don't evaluate smart selection rules without actions when searching for custom actions. Issue 4888

commit fcf041ded3f84d576b1dc25f398d3de09c3b4705
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jul 5 10:59:28 2016 -0700

    Clean up iTermWarning so you can provide a block for each action. Use the new API in the mutiline paste warning. Fix a bug where it did not offer to paste without nesline when not at a shell prompt.

commit e3c7a65c216347d910de86951fc1c3aa2d9d1fa1
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jul 4 22:48:17 2016 -0700

    Fix spacing between checkboxes on the appearance tab

commit a79a3938d8f04e655d95c850f6d89c6421f4e8b2
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jul 4 10:44:22 2016 -0700

    Add missing QLPreviewPanel files

commit 4d96403762146d57c3c16d492db61c1675b7a4aa
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jul 2 20:04:24 2016 -0700

    Clarify that an untrusted terminal has limited features

commit 26e11ccfdbf70e575dc5ea6d9833e1874c39d784
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jul 2 20:03:21 2016 -0700

    When the terminal is untrusted show a buster sign for images instead of silently swallowing the escape sequence.

commit d4347a55e7651c7c9e04f5af3957306570658dbf
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jul 2 11:34:00 2016 -0700

    Improve performance when doing word selection. Reduce the longest word findable by smart selection in word selection mode to 1000 bytes. Do not try to do word selection in smart selection when an action is required (this greatly speeds up pressing cmd while hovering over a long line). Optimize how word strings are found when building up a string by enumerating backwards from the cursor position.

commit 561836461a8cac69236fecd02d171b0d13bec12d
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jul 2 11:32:56 2016 -0700

    Add missing import

commit 1c7e4ca8b148ba41daff96fcfc9a6e3319936a53
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jul 2 09:34:17 2016 -0700

    Fix a bug with focus follows mouse where the window whose textview was under the cursor would be made key, even if a higher-ordered window was under the cursor (just not the textview part). Issue 4833.

commit 754318713b4e406ae9ac31b7d0a76e4e19d5afe7
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jul 2 09:13:07 2016 -0700

    Merge ronyfadel's change that delays creating the prefs panel until it's needed and releases it when it's closed. Originated in PR 275.

commit 8acd0177c60d407943e5ac7c017a58e1e9f18953
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jul 1 14:58:15 2016 -0700

    Respect vim special characters in advanced paste regex substitution string. Issue 4873

commit 40efd99f5b8a626e81637e576f672415a8272c12
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jul 1 14:21:07 2016 -0700

    Fix up mark and shell integration state after cmd-k clearing the buffer. Issue 4866.

commit 039d4526bfb493dadcd6494ac0dab4d91c855d26
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jul 1 11:49:41 2016 -0700

    Change permissions of paste history to remove user and all readability. Update text for paste history size advanced preference.

commit 1c9cbedf192d9167b06d607bc4ab558078d7aa28
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 30 10:16:15 2016 -0700

    Don't erase hotkey window restorable state after iTermController has been released. This prevented the hotkey window from being restored on update. Fixes issue 4838.

commit 87bb127662be3ec733f757f5cd9a77682dbd487c
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 30 09:48:15 2016 -0700

    Fix version.txt

commit bb84e94b4e5d00c9985ece69045205cf5bd98634
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 30 09:38:15 2016 -0700

    Make a click in a session title view make the textview first responder. Issue 4864

commit c716926cc8d23c688b35cafc6887671c214352be
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 29 17:14:25 2016 -0700

    Escape user supplied URLs which might contain nonascii data, which NSURL cannot handle. Issue 4842

commit b7966e2a9a980207e6f33ed60d30caeea0cdfe64
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 29 15:53:36 2016 -0700

    3.0.4

commit 863cbbc0028f59e9482e657b7ed5e7864c43cc98
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 29 15:47:17 2016 -0700

    +3.0.4

commit 286881f2ce4a615967d66f8db6017a7f4721491d
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 29 15:32:17 2016 -0700

    Set version to 3.0.4

commit 2097bc9e31359fbcd53a0fb2c811c929908dafd9
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 29 15:00:41 2016 -0700

    Change window identifier from string to integer

commit b5c1d987de3ccc6588f438d20386eda0edef1e26
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 29 10:04:50 2016 -0700

    Add reminder to release scripts to fix the version.txt back

commit 63a7af1c5bedaef641f26970702a40c2e0c8a122
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 29 10:03:27 2016 -0700

    Fix version number

commit c3272004ee8d0714a5ea1573051294fe990751b5
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 29 10:01:53 2016 -0700

    Add debug logging to sendEvent:

commit 606798e21bd1110a7577fa80491385973402185b
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 29 09:55:39 2016 -0700

    Better debug logging for creating a new window

commit 5dbbb32b3015130a2a50ec4eb221d88a9baf516d
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jun 28 08:31:32 2016 -0700

    3.0.3

commit 3eeee71ce5ada76835a7269a3b753f780b64c331
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jun 28 08:29:56 2016 -0700

    Add the newest patrons

commit 96beeeb3e9866dbac0fb422488501ca804795128
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 22 22:14:00 2016 -0700

    Applescript change: Make window.id give an integer suitable for screencapture -l. The old ID, which I don't beleive was in wide use, is now called alternate identifier, in case anyone needs it which they shouldn't.

commit 525147a369b336868f427995ae04d4e796b5bee1
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 22 22:01:46 2016 -0700

    Fix applescript 'set variable' command to accept variables named user.foo without complaining

commit ea0dd59c623ef45c8997430e83ce0b63dcbdca69
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 22 20:35:01 2016 -0700

    3.0.3

commit bc6888dce53c727ef2d84dad97392463f2f6cf57
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 22 17:27:12 2016 -0700

    Fix a crash when one of application support or tilde expanding fails when getting paths to ssh config files

commit e73a84be9458d87784dd502b8e0b1cd757c2abe3
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 22 17:24:31 2016 -0700

    Fix an assertion when generalPasteboard returns nil

commit 1e5564f7a012dcf7c241aa8925167db5011fdf59
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 22 17:20:49 2016 -0700

    Remove various colorpicker classes from notificationcenter on dealloc.

commit 88d3e79e7d516a7311ae1cc39e82836b7350e6a5
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 22 17:16:10 2016 -0700

    Try to prevent a weird assertion where setClientSize saw a non-positive width or height when called from windowDidResize.

commit 4ca2c64348430936d08317e10c9203b55cfb1b72
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 22 17:12:22 2016 -0700

    Fix a crash caused by divide by zero when width is zero

commit eb4a2d03e8545011ddaa00be9b5bd68dcf30e9bd
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 22 17:01:52 2016 -0700

    Fix a race condition where trying to get child job names would crash if a child terminated at just the wrong time because the name would be nil and that got added to an array

commit 76791f812abd52ab4007c49d4a04ee8a32a50eaf
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 22 16:56:56 2016 -0700

    Don't call an objc method from a signal handler. It crashes if the signal handler interrupts class_addMethod, which CoreData does all the damn time.

commit 16307675bf817be249058edcea82171305d8df59
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 22 16:56:14 2016 -0700

    Fix some warnings

commit b56ed8984071707b47e377812880a83f03c94df3
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 22 16:42:25 2016 -0700

    Require only a single click to disable the tip of the day. Some people somehow missed the big red button.

commit 8c075b3c46e46cb0b66da9c17a21be443f40014b
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 20 22:21:06 2016 -0700

    Fix how DECSTBM's arguments are parsed. Issue 4823.

commit a48f62283afd344b0d379ef67fd0b5f909b5ec47
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 20 22:20:34 2016 -0700

    Update APC esctest since we now support APC.

commit 1d7152c7ee76372a1a6e84bbf1e54827024c5cdc
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 19 16:24:25 2016 -0700

    Make a double click on a pane title bar maximize/unmaximize it. Inspired by issue 4806

commit 5f31e914d11b02681ebd221593240d1953ea55d6
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 19 16:04:38 2016 -0700

    Add a context menu item when you right click on an animated image that toggles its animation. Issue 4790.

commit 4fe7fe27c3e96c9f36722cf04a9cedbed6c77a9a
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 19 14:58:33 2016 -0700

    Update tracking areas after unmaximize a pane. Issue 4810.

commit 2257249acd201695f187dda29ea03dc60c3d1312
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 19 14:49:56 2016 -0700

    Make pressing esc in a profile text search field just erase the text, not resign first responder. Issue 4812

commit ae383d3f0f677509e345c28213eb4947f31b856b
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 19 14:41:42 2016 -0700

    Move tip of the day up a little so a close button behind it doesn't get misinterpreted. Issue 4811

commit 86e081703aa74d40bc941b43ba766b391c0bd5a1
Merge: 47c849de 15ff659b
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 19 14:25:43 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 47c849de4b03426350646198c8993a7b4aa13873
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 19 14:21:56 2016 -0700

    Update imgcat to detect BSD's base64, which uses GNU-style arguments. Issue 4819.

commit 874f29f332f333ef86b02a5e193b98c8b6b29ae9
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 15 15:50:50 2016 -0700

    Fix version number

commit 15ff659b564cf9cacb9aad33c63cb2bfb6bad5bf
Merge: 1dc221bb 76fa6d39
Author: George Nachman <gnachman+github@gmail.com>
Date:   Wed Jun 15 15:00:56 2016 -0700

    Merge pull request #293 from adius/master
    
    Fix typos (automatic fixes from Feram)

commit 1dc221bbb81a022217c201d3b66fae81f72b8d3b
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 15 14:57:31 2016 -0700

    When splitting a divorced profile set the Original GUID key in the profile of the new session. This way the new session's originalProfile will be set properly. The bug became visible in issue 4773.

commit 1ed1133afe241602ea4beacdd68c93a7261f6a46
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 15 11:25:13 2016 -0700

    Use basename in download.sh so the usage makes sense for people who install tools

commit 6e85badb0ec7afc6a42a894d39bd7e60af6d51be
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 15 10:43:38 2016 -0700

    More fixes

commit c3a1f74e17c3b19f75ea3b3656ed416f989c7d34
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 15 10:40:16 2016 -0700

    Add the link before code signing

commit d8f6657d167554e3bb8dae78bcbed537ac2a9bdc
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 15 10:39:02 2016 -0700

    Another attempt at making the link

commit 66ebeb01553d63e50b076156d7b4690a56904412
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 15 10:33:42 2016 -0700

    Add symlink after doing build

commit ca13182e23dcf5f6c43fe1f42dc1adbec0ae3c04
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 15 10:01:48 2016 -0700

    3.0.2

commit 76fa6d39f7a51f79705bf40e2a3a4adf88d13aa0
Author: Feram <feram@feram.co>
Date:   Tue Jun 14 22:49:54 2016 +0000

    Fix typos

commit dc5d8a24c225a1cfd15fde647642e35ac162fe07
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jun 14 10:45:10 2016 -0700

    Fix build scripts to make a symlink before signing

commit d886644d2b6bf6f413d527c64ca788d5ba27f750
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jun 14 10:36:15 2016 -0700

    3.0.2

commit c5f0031317a8f9d5726679759445dd0459e89031
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jun 14 10:36:07 2016 -0700

    Make a symlink from iTerm2 to iTerm to fix upgrade problems

commit 712c9d8a9fa9e9ab27d9992b53c37a179782fd03
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jun 14 10:19:52 2016 -0700

    Add more debug logging for password manager not opening

commit a863a504ecf2d033499a9b3cd54aa2bb2be4d86f
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 13 21:48:10 2016 -0700

    Add debug logging to password manager flow

commit 6ef3f5b04da2e8e8a047af02b6673e580cd19ad2
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 13 21:19:30 2016 -0700

    Undo accidental change to iTerm2.plist that changed testing3.xml to testing.xml

commit d922271866ebfcc32d2c6dc3443c9f54f919d2b2
Merge: cbf22652 4dd16e39
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 13 21:18:27 2016 -0700

    Merge branch 'adhoc_3.0.1'

commit cbf22652184d556ca9d339db43511e1fca35ec30
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 13 21:18:14 2016 -0700

    Fix version.txt

commit 4dd16e39ac872a24c5ccf1d3e58412643c5251b3
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 13 17:23:00 2016 -0700

    Adhoc build 3.0.1

commit 144a5fac66fae472f8f6e5eabb3c5fb74482e8a9
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 13 17:10:07 2016 -0700

    Revert "Don't allow option-yen to send esc+yen or (worse yet) meta-yen. It seems that JP keyboards replace backslash with Yen. Nobody wants esc+yen (I think); many people want backslash. Issue 4778."
    
    This reverts commit 672e293b6276ecc84cc56def25fe6b7c861c6d91.

commit 53660ca1122923fd9656c7dc3dce6b98a754da23
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 13 15:37:30 2016 -0700

    Restore TTY in session restoration

commit 213ae74fcb333e94ea81822de038987bc15f62fc
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 13 14:23:20 2016 -0700

    Try to improve how we get the contents of applescript. Change the code for 'text' to 'pcnt' and add back 'contents' as 'Cntt'. Add tests.

commit b8acd4035c848c3eb635afccc7b11bb936d6b7e7
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 12 17:51:44 2016 -0700

    Add advanced preference to set timestamp point size

commit d815c596f30256bf4c52995348a8221ef97a0ed5
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 12 13:27:31 2016 -0700

    Fix a crash when removing enclosing punctuation from a string. Make the implementation of this method make more sense. Issue 4780 I hope

commit 032b2064dc1c629abdf3683a2fceb5bf5f2149e5
Merge: 672e293b 339f789a
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 12 13:00:42 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 672e293b6276ecc84cc56def25fe6b7c861c6d91
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 12 13:00:31 2016 -0700

    Don't allow option-yen to send esc+yen or (worse yet) meta-yen. It seems that JP keyboards replace backslash with Yen. Nobody wants esc+yen (I think); many people want backslash. Issue 4778.

commit 339f789a9448cde473919be17b81797892503f75
Merge: f9329359 4f241c5b
Author: George Nachman <gnachman+github@gmail.com>
Date:   Sun Jun 12 12:25:35 2016 -0700

    Merge pull request #290 from pquentin/pquentin-patch-1
    
    Fix missing word in tip of the day

commit f9329359899e885f4e38844f7acba4a42f61ed2e
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 12 12:22:15 2016 -0700

    Show the tip of the day modal alert in applicationDidFinishLaunching, not after a one-second delay. Showing a modal alert after a delay (presumably related to fullscreen windows opening) is unsafe and can cause the app to stop responding to input! Issue 4775.

commit 4fa791dcf9907cbe0706534400f0d973a03e6fde
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 12 10:54:05 2016 -0700

    When installing shell integration from the capture trigger announcement, don't first check if you're at a shell prompt.

commit 4f241c5b84efe84546d20fe396120113a61d3855
Author: Quentin Pradet <quentin@pradet.me>
Date:   Fri Jun 10 10:20:17 2016 +0400

    Fix typo in tip

commit e4c09bb1c74f29a2bc67d967a4ebf03df403fee3
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jun 7 12:19:14 2016 -0700

    3.0.1-preview

commit 26bae484b8099aa0824fdfb2457111cd415c9675
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 6 21:06:27 2016 -0700

    Add fullwidth parens to the set of characters considered part of a URL for semantic history

commit 8c99b9bde875b3e0435849c49c3345ad069a9d5a
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 6 16:05:30 2016 -0700

    Default to release versions of iTerm2. For the next month, ask non-early-adopter, non-nightly, beta-receiving, auto-updating users if they'd like to continue getting beta versions

commit 749b162e8ebbeedb8df268b9adca58a7d3217a03
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 6 12:13:46 2016 -0700

    Prevent anything but plain text in the notes textview

commit fa7d584d8375775e3126129a3f62928c28e1b6f0
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 5 17:20:30 2016 -0700

    Make the bell is ringing announcement less sensitive. It only fires if the bell has been firing 100x/second for a few seconds. If stops for a second then the moving average gets reset. Do not show the announcement for an inaudible and invisible bell. Issue 4741

commit 8fb84a7a702a0a3ec10c6f4ddb6716542c64d6a6
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 5 15:06:29 2016 -0700

    Make tab colors more visible by showing the a gradient in the tab instead of a swatch of color at the top

commit 4e060ce4694c377fb5b5a1604fdf437391d3cea1
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 5 14:48:27 2016 -0700

    Add an advanced pref with a downloads directory. Issue 4719.

commit 8f5f62614d6bc37f4763b372cf42e22e85c3f888
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 5 14:43:37 2016 -0700

    Add a category method to get the writable downloads directory

commit 6b274f5a430c5a61e18d483c9da278d1b3d99dbc
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 5 10:23:07 2016 -0700

    If you're editing a textfield cell in the triggers dialog and you select a different action or toggle Instant then save the value in the text field to the trigger instead of losing the editing work. Issue 4727

commit befc1bb393347ba048939f4b55c2096ba5cbea9b
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 4 15:44:57 2016 -0700

    Support both tmux2.2 and earlier versions, which accepted UTF-8 input in different ways. Issue 4736

commit 5e87cf05291c8c87e0932ca392bede75435581d1
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 4 15:17:02 2016 -0700

    Migrate notes from iTerm to iTerm2 directory of app support. Issue 4737.

commit 968caf9454d770210f60cd476a45b2ecd34931c4
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 3 22:22:24 2016 -0700

    Add lots of debug logging for issue 4731

commit 532039725b1a896b28cf7475de5618dd1fc13939
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 3 16:16:13 2016 -0700

    Fix a bug where we ask if we should paste at the *shell prompt* when shell integration was never used. Issue 4707

commit e2a45ba22b811f614ac1b05cf71a58342f860a12
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 3 15:35:11 2016 -0700

    Fix a warning in a test

commit 81d18988955598fd0edd40ebbcf06cbfac14bae5
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 3 15:34:46 2016 -0700

    Fix failing test

commit aa1b97cbd10d296d39de19ee4e1e4f4f3d8da8ec
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 3 15:00:56 2016 -0700

    Add Tower 2.3.4 to the list of incompatible software

commit f414c5c64704d38ad01bef91d8086ac5233517dd
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 3 14:40:38 2016 -0700

    Fix cases where writeTask: was passed data, not a string. Issue 4730.

commit 09d26cc45fe5ea57699f1c459b4de5af11b23295
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 3 11:05:03 2016 -0700

    Fix a crash when swapping two panes in the same tab. Issue 4707.

commit 42185259852eaaddc29377b9110d35322de58e94
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 3 10:46:36 2016 -0700

    Add advanced pref to control animation duration of tab fade in fullscreen

commit e16f088bd597843b30fa34a44ff295bd1fc22cc0
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 3 10:41:08 2016 -0700

    Add advanced pref to disable dock icon badge label showing number of bells while app is inactive

commit 3b89f28de258ae64fa4050a9f8cfefd0c0908bd4
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 3 10:28:19 2016 -0700

    Clean up multiline paste warning code a bit. Add an advanced pref for 'Paste one line ending in a newline at shell prompt' warning.

commit d38a8ca97ba8e603ebbad7fcc115cf07dcf6ac79
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 3 08:51:22 2016 -0700

    Fix a bug where non-audible non-visible bell announcements can't be permanently hidden

commit b2a3b943834439eb1533f42bff83b404e35a792e
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 1 17:31:06 2016 -0700

    Update the tab label when the tmux window name changes. This kinda grossly assumes that the session name is computed from the tmux window name, but I don't want to do too much plumbing right now.

commit fc21304ec7f595da720dad3b5418f3e55d87139a
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 1 17:02:34 2016 -0700

    Change contents property of PTYSession in applescript to be named text because contents is a property of references to objects. See the mailing list topic with subject 'Getting Text of a Session'. I hate applescript.

commit d831219ec57b5f4ac9ac9cb4182efeb7bd8606cf
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 1 13:49:53 2016 -0700

    Make the tab color draw over the top line of a horizontal tab bar. Looks better. Alpha out tab colors a bit for non-key windows to help make it clearer which window is key.

commit 1bab1827dcf789398a7a1dd372d237338e96c17c
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 1 09:38:46 2016 -0700

    Add May patrons to about box. Sort patron names by surname.

commit 8e428a5889056cdea29a228beda4b6ebaeb23a5a
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 1 09:38:28 2016 -0700

    Add tests for NSArray+iTerm. Add a -surname method to the NSString category which is not properly internationalized, but that doesn't matter for my purposes yet.

commit c4d042239b852344aa8c10c17013ddab24f66a01
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 31 21:15:31 2016 -0700

    Suffix preview builds with -preview

commit 92b3d17b19791971330773f3a3328c99b9da8365
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 31 20:54:57 2016 -0700

    Use a different plist file for preview releases so early adopters can get updates before the rest of the users

commit aea16257f01e433b98ce5973f7566ab10c87639d
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 31 20:38:27 2016 -0700

    3.0.20160531

commit a51d667572b5fd34e58459d1f7017d91ad716083
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 31 14:02:33 2016 -0700

    Rename release.sh to release_beta.sh. It is for releasing widely-deployed beta builds. release3.sh is for the early adopters.

commit 067e2eb3796e21351e4fd540017d9175d638cc69
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 31 14:02:04 2016 -0700

    Split the testing3 channel of release.sh out into a separate script

commit 4279b254fc4e5b6da33d0394716fc7a98c407fe3
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 31 13:57:21 2016 -0700

    Remove unneeded call to removeAllToolTips from applicationWillHide, a non-fix for issue 4666.

commit 2a4f036f718176cb453ebf354fbac78fa6023c3c
Merge: 884e18ed ba2f88f2
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 31 13:56:39 2016 -0700

    Merge branch '3.0.1'

commit 884e18ed9e2c92af1c9a667a936554d24dca503c
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 31 11:13:31 2016 -0700

    3.0.0

commit b9e042a68cd132b1f1a6b3cc273e023adf25456b
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 31 11:11:37 2016 -0700

    3.0.0

commit 2106b2b54794c4c07d0955d6887e1d6f0d4ab5cf
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 31 09:18:58 2016 -0700

    3.0.0

commit ba2f88f27a3024078234a0b70043785347883b10
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 30 23:04:11 2016 -0700

    Fix a bug where invoking weaklyReferencedObject on a weak reference would leak a reference count to the weakly referenced object.

commit f85effd44e0736093f4fc22a10bda2f646ed9cad
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 30 16:49:30 2016 -0700

    Add an off-by-default advanced feature to hide stuck tooltips. Issue 4666.

commit 03edb6a4d95e851a42083c78e924566d5c14543a
Merge: a0514eb5 1fc58446
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 30 08:31:40 2016 -0700

    Merge branch '3.0.1' of https://github.com/gnachman/iTerm2 into 3.0.1

commit a0514eb569b30c8a4e715ac0f0e257b971524fe4
Merge: 90d9fdf7 4d59f52d
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 30 08:27:50 2016 -0700

    Merge branch 'master' into 3.0.1

commit 1fc584469ab53683867216f6979782d129800410
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 30 08:22:03 2016 -0700

    Add a test for surrogate pair word selection

commit a61ba728020f12c524e6858d2bc3f856e8016c1c
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 30 08:21:54 2016 -0700

    When there is no command don't show (null) in the tab tooltiop

commit 6cbaadc8dad16b5f1cb6ed8b7978d36b64a110a4
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 30 08:21:21 2016 -0700

    Add a TODO which might fix the hard-to-find bug where windows restore wider than they ought to

commit ea5ea6c19307e2489ab2de7949aeb00e7093800f
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 30 08:20:50 2016 -0700

    Remove tooltips when the app is going to hide. Issue 4666.

commit 4d59f52d2befa34e00860b719f15f837c9afc806
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 28 10:54:21 2016 -0700

    Don't respect input broadcasting for password entry

commit 90d9fdf7ebef34b1a29ae1f517a674fc6767d45d
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 27 11:10:58 2016 -0700

    Fix how keystrokes are sent to tmux. It wants code points, not raw bytes. This requires plumbing strings throughout the text-sending code. I also fixed a bunch of bugs where things were broadcast that shouldn't have been and added a TODO to fix broken UTF-8 mouse reporting. Some dead code removed.

commit cdfc6670b043c874d1249fc84ea3c7d779fef540
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 26 16:53:12 2016 -0700

    Remove unused argument skippingDoubleWidthExtensions: on some text extractor methods.
    
    Fix a bug where -[iTermTextExtractor rangeForWord:] would crash when dealing with surrogate pairs and composed characters because it incorrectly assumed cells were 1:1 with characters in strings.

commit 104c230066b9c27e6153b173af941681f5481e2a
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 26 14:27:43 2016 -0700

    Improve performance when there are many subselections. This happens when you have lots of (non-wrapping) lines selected and the session getes restored, which is probably a bug too.

commit 7b35d992839dbbb29804ea1baa2646bbf93af4c4
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 26 14:01:25 2016 -0700

    Fix crash when trying to select output of command where the start of the output has been scrolled off history

commit 9f9aebd71f29b95ffe44c0f3b6285036ed63f228
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 26 13:22:28 2016 -0700

    Fix bug where three finger tap emulates middle button didn't work right because it failed to set the button number in the event. Issue 4652.

commit 830fd9b0a2bfce3ee524f2c7ee7648101cc3de21
Author: George Nachman <gnachman@gmail.com>
Date:   Wed May 25 21:10:13 2016 -0700

    Remove local help. Just link to the website

commit a91ae9aff0e7353c3ce38639edd9248aa373b42d
Author: George Nachman <gnachman@gmail.com>
Date:   Wed May 25 19:58:24 2016 -0700

    Remove Fowrard in Time action since the UI for instant replay has changed. Change Back In Time to Start Instant Replay.

commit 47be0bf3b0b72a3d92f712b9490476b88903283f
Author: George Nachman <gnachman@gmail.com>
Date:   Wed May 25 19:49:29 2016 -0700

    Fix a bug where Ignore didn't show up in the list of key actions

commit 3cd064543938f91273b228e1be64fc03dcaccfd5
Author: George Nachman <gnachman@gmail.com>
Date:   Wed May 25 17:02:57 2016 -0700

    Fix baseline alignment of a few labels in the prefs panel

commit d82253b1e8eec07a88c634ac0a20f9ae676bbd6d
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 24 09:05:53 2016 -0700

    Change the copy of the keystrokesBeingStolen preference to include Alfred, since it seems to have the same issue.

commit 4aaf0d6df902e261bd031e4819eea71fe7d35fb1
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 23 10:16:48 2016 -0700

    Turn off incompatibility warning

commit e6ee6c67b69ddcd23b8a96104318ac3d13545479
Author: George Nachman <gln@google.com>
Date:   Wed May 18 11:35:41 2016 -0700

    Make a double click on the first column of the password manager's table send the password. Issue 4639.

commit 06e8178c76f3f08dbac3a0bf47e1f7211aa9913b
Merge: e05ad6f0 5aa1ac45
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 17 22:49:05 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit e05ad6f0d85f9904d8fa617defc77de18b0632b9
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 17 22:46:09 2016 -0700

    Fix leak of scanner in auto_master parser.

commit 0474e607abbe2d3ca9be0361bbcc5bc706587cb6
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 17 22:44:43 2016 -0700

    Fix tiny leak

commit 07dfde9984d69dc13a9d468ee739aca71b87cb16
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 17 22:42:41 2016 -0700

    Remove unused variable

commit 655307d41249a4beac95835d4e2d3565106e8764
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 17 22:42:11 2016 -0700

    Fix a leak of the webview popover

commit 4e08a863673d026234946286148cf096922c5283
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 17 22:41:19 2016 -0700

    Fix a leak in the About window

commit fb87d853f748eef9a6341fa44d69b84d3fe3995c
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 17 22:40:25 2016 -0700

    Fix leaks in the webview popover

commit 3a07ac430ba1e5ff04ada967191e83c819850494
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 17 22:39:15 2016 -0700

    Fix a leak of the left tab bar drag handle

commit 7d110fda99e19d4c6f89bda47b8fb067de8a7df9
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 17 22:38:26 2016 -0700

    Fix a leak in webview popover

commit a8b1b6c5a3299b465501a9ce84a5ef2155d41feb
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 17 22:37:23 2016 -0700

    Fix an analyzer warning and style violation

commit b631d0c22b960089956ca04158385e318740d15d
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 17 22:35:47 2016 -0700

    Remove unused assignment

commit dbfc7ccf36412ed2d50a04feaf3360aefe9dcfa4
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 17 22:35:23 2016 -0700

    Remove unused variable

commit 0afc1de30f477771e8cda738c9ccf35bdfa963a0
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 17 22:34:37 2016 -0700

    Fix leak in webview popover

commit ad646a3fc23a4f028dd590d5cd40975974ab3f10
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 17 22:33:18 2016 -0700

    Simplify the mark drawing code and pacify the static analyzer

commit 91577e934ab5f3a5cc24e0aebe46d193fc5a4562
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 17 22:32:00 2016 -0700

    Fix a static analyzer complaint about retain being in the wrong place

commit 2b37b096a31a3756bfa409e5badf287cbaf6cdf6
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 17 22:30:13 2016 -0700

    Fix a static analyzer complaint and style violation

commit b986e7527791af125241180a9147c84e3c98e1fb
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 17 22:29:24 2016 -0700

    Fix a leak of the layer mask in the stars impl of the find cursor view. Fix a bug where it wasn't masked properly except for fullscreen windows.

commit c2eed3e98c2e1f83ea525ce7782a3e07f07aa1a6
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 17 22:17:06 2016 -0700

    Fix leak of viewToSessionMap

commit 3eab5c385fc7c218002a7a8c332f3416a33ea7c4
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 17 22:14:21 2016 -0700

    Remove unused ivar _updateDisplayUntil. The title updates reasonably often when inactive

commit 3cb19341da562e278c0f9ad99c1aebc4e2bd82a5
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 17 22:09:01 2016 -0700

    Rename poorly named method that implied a +1 retain count

commit 455bd1bf4fcec5e2f733ce5d44c9e66bd69bb797
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 17 22:07:47 2016 -0700

    Fix leak of URL in the webview wrapper

commit 5aa1ac45dcbba209cbba7b3da7b5e8ede690e1b7
Author: George Nachman <gln@google.com>
Date:   Tue May 17 15:10:40 2016 -0700

    Ensure the instant replay window's state is current when showing it. Issue 4622.

commit cd400a44ff156d1f6a499a76bcac3f76cbb2d152
Author: George Nachman <gln@google.com>
Date:   Tue May 17 11:27:39 2016 -0700

    Rename tmux>New Window and tmux>New Tab to have unique names so key bindings will work. Issue 4633.

commit 70c570b184342567f9d9bc8466535f5e07e4f217
Author: George Nachman <georgen@google.com>
Date:   Mon May 16 14:55:36 2016 -0700

    Add an appearance pref to show the new-output indicator. Issue 4626.

commit 4f7269b5726c7b735a3e9202c6bfd389c246581b
Author: George Nachman <georgen@google.com>
Date:   Mon May 16 14:21:47 2016 -0700

    Respect local time format in timestamps (12 vs 24 hour). Issue 4503.

commit 9c63f6f06b88afe8d139a0a371fb22aeaa8ac45f
Author: mike <mike@okcupid.com>
Date:   Sun May 8 16:57:58 2016 -0400

    add an option to allow for configuring the mouse whell to send escape sequences on scroll in alternate screen mode
    
    clean up, structure code better
    
    pointer spacing
    
    Clean up and simplify code.

commit 25fc3742aed0ecfa7a68afb36fbf0bb01c258c61
Author: George Nachman <georgen@google.com>
Date:   Mon May 16 10:36:29 2016 -0700

    Update NewOutput graphic from a pencil to a blue dot

commit 36f2def7fbcb298aa5edf7a4009c62fef6c29b8e
Author: George Nachman <gnachman@gmail.com>
Date:   Sun May 15 22:31:40 2016 -0700

    Warn about incompatible software at startup. Add a menu item to warn about it. The startup warning is only shown on the first launch that's more than 24 hours after the initial launch of this (or newer) versions.

commit eb28d24f1dc02cec733fa12f34117f382c35435a
Author: George Nachman <gnachman@gmail.com>
Date:   Sun May 15 20:48:42 2016 -0700

    Support an optional ;shell=shellname in the ShellIntegrationVersion escape code so individual shells can get their version numbers bumped without affecting everyone.

commit d63e9732ff05dcbeeeccd3cc1e1b14dafc92c6ac
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 14 21:06:30 2016 -0700

    Give a quarter second grace period after a session resizes to allow changes without showing the activity indicator

commit da383ee66c22ba384e9c9b3b27e56b3976f10724
Merge: 71aaf593 ef04cf04
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 14 19:21:23 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 71aaf5939f73023691ba6b6759f154f4901d12ba
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 14 19:18:50 2016 -0700

    Fix compatibility with AquaSKK. See pull requset 279 for all the gory details. This commit (and the commits leading up to it) were based on that PR but cleaned up a little and it also adds an experimental flag to guard the change.

commit 07915a996d4d6c7b147ec7203edfb0eb5914a8ab
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 14 19:14:19 2016 -0700

    Rename the local variable prev in -keyDown to _hadMarkedTextBeforeHandlingKeypressEvent in preparation for the aquaskk compatibility merge.

commit 276cd626c4c4bb8879bfc3c6d5bb485d3125e761
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 14 10:27:14 2016 -0700

    Rename _inputMethodIsInserting to _keyPressHandled to more accurately reflect reality and simplify an upcoming merge of AquaSKK fixes

commit ef04cf049e361857f2a79488ddc958be36e3b405
Author: George Nachman <georgen@google.com>
Date:   Fri May 13 16:18:52 2016 -0700

    Reduce default paste speed to work around readline bug. Issue 4619.

commit 63b872d7a2d48d197ccd416f0291fea86cc55657
Author: George Nachman <georgen@google.com>
Date:   Fri May 13 11:18:38 2016 -0700

    Fix a bug where text on the right would get clipped when you have legacy scrollbars and are in
    fullscreen, and various other bugs where changing the style or visibility of vertical scrollers
    would leave the TextViewWrapper's width incorrect because [SessionView resizeSubviewsWithOldSize:]
    doesn't get called on changes to the scrollbar. Issue 4624.

commit a2220f6da9e300daf8adfbdb51ddae597de40b1f
Merge: 2e7e76b9 3be5a474
Author: George Nachman <georgen@google.com>
Date:   Thu May 12 11:53:03 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iterm2

commit 2e7e76b9647bd04bdca4ff30eb35fb0d0cac74e1
Author: George Nachman <georgen@google.com>
Date:   Thu May 12 11:52:56 2016 -0700

    Set the find view controller's delegate when reviving a session. Issue 4623.

commit 3be5a474a5ea38fd81d5c4717d20a022c4d81c41
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 10 17:06:37 2016 -0700

    Use AMIndeterminateProgressIndicator in tabs with the light theme instead of NSProgressIndicator because it's faster. See issue 4582.

commit ae42e3f0517662a1b870eb6f9cf1a47dae66df96
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 9 22:35:12 2016 -0700

    Fix a bug where we returned NO when parsing a wrapped DCS code, which prevented further parsing from the buffer until another read happens. Issue 4588 (the part where you have to bang on the keyboard for a while after running the solarized script)

commit bfead4180e6254b4838f670fcbb229281f5e3eb6
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 9 21:21:17 2016 -0700

    Fix a bug where the cursor wasn't restored to the right place when legacy scrollbars are in use.

commit 2bea3481f33baf4b9cb1820acc54547fb6e130ff
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 9 21:10:14 2016 -0700

    Fix a bug in -[PTYTask pidIsChild] that caused it to always return NO, which prevented child processes from getting waited on when not using session restoration. Issue 4612.

commit 57ecb55ede6e6f844e3cfc8b025cf4281a20b2e9
Merge: ed794fdf 68c4b4c1
Author: George Nachman <gnachman+github@gmail.com>
Date:   Thu May 5 15:57:56 2016 -0700

    Merge pull request #281 from aka-rider/master
    
    Fix a bug in download.sh where it wouldn't accept multiple files as command line arguments. Also print an error on directory files.

commit 68c4b4c1cad6c5d4ba76ba44d7df3aeb872fb109
Merge: f11b557d ed794fdf
Author: Iurii Krasnoshchok <aka-rider@users.noreply.github.com>
Date:   Wed May 4 12:58:16 2016 +0200

    Merge branch 'master' into master

commit f11b557db4b815bdd900816fdf391d6d3416e0eb
Author: Iurii Krasnoshchok <aka.rider@gmail.com>
Date:   Mon May 2 22:35:12 2016 +0200

    Fixed arguments number checking in download.sh; skip directories

commit ed794fdfb469fd88fe80753fb8d2808c311fb836
Author: George Nachman <georgen@google.com>
Date:   Tue May 3 17:33:43 2016 -0700

    Add an experimental feature to include paste history in the advanced paste window's menu.

commit 7e838f39f3a74cd1de6d20ee8ca8869d40c8ad95
Author: George Nachman <georgen@google.com>
Date:   Tue May 3 16:05:23 2016 -0700

    Fix clipping issue in advanced paste. Make the window resizable.

commit 86d35315421f2d17925a84e456febd7fae0621db
Merge: e318ab5e 4e1f5fae
Author: George Nachman <georgen@google.com>
Date:   Tue May 3 12:49:37 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit e318ab5e925391d9287b29ba93939f5997bd7c4b
Author: George Nachman <georgen@google.com>
Date:   Tue May 3 12:49:20 2016 -0700

    Fix a bug where we didn't store the previously active app when showing an already-open sticky hotkey window. Issue 4606.

commit 4e1f5faee9b7ac9dc3873fad932620197988c365
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 2 21:17:58 2016 -0700

    Tolerate BEL characters in DCS because they can be used in the tmux wrapper code. Issue 4592.

commit 5ac600a5ccc85992f27334e3bf42ddd3df804f86
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 2 21:17:40 2016 -0700

    Fix crash when a too-large cursor shape number is passed to SetCursorShape escape sequence

commit 3309550f232d17d36f5c021257191d9d7a32dfa8
Merge: f4130b0f 29b75f70
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 2 20:58:22 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit f4130b0fc27adc665d1e74d17c4ecdfcd75301e0
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 2 20:58:14 2016 -0700

    Fix how we return the selected text range when there's no selection. It should be a zero-length selection at the cursor location. Add some debug logging for accessibility calls.

commit 29b75f70e4366625c6ca105487faea2c90e1dea3
Merge: 218ebe8c e2001134
Author: George Nachman <georgen@google.com>
Date:   Fri Apr 29 10:47:36 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 218ebe8cb7d24b3c7ee9b7000746d729cc5a319a
Author: George Nachman <georgen@google.com>
Date:   Fri Apr 29 10:47:20 2016 -0700

    Clean up color presets code.

commit e20011343000af0431863420dca517d4228d47b3
Author: George Nachman <georgen@google.com>
Date:   Thu Apr 28 16:37:49 2016 -0700

    Fix a frequent crasher in 2.9.20160426 where moving a session to a split pane in the same tab caused it to get released prematurely, causing a crash.

commit 0bb6e645f578128768abf6a3d648e48d9114bbd0
Author: George Nachman <georgen@google.com>
Date:   Thu Apr 28 14:59:54 2016 -0700

    Insert a .1 second delay between screen size changes when jiggleTTYSizeOnClearBuffer is enabled to fix issue 4494.

commit a0944bfb821da86ab37451d5a7d209393a52c229
Merge: b14434fa 8d29a440
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Apr 27 23:36:11 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit b14434fa7b623e3500880ce67da2250c06492de8
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Apr 27 23:35:54 2016 -0700

    Change how automatic profile switching paths are globbed. Now /foo/bar/* will match a path of /foo/bar, where before it required you to be in a subdirectory of /foo/bar. The old rule can be rewritten as /foo/bar/*/* if that's what you really want.

commit 86176e3d55364a1adf2ec780f0c0b672dc26c2cf
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Apr 27 23:32:01 2016 -0700

    For automatic profile switching: if the current profile outscores the topmost match on the stack, do not switch. Fixes issue 4581.

commit 8d29a4401ab97543305e4ceb10525b975722154b
Merge: b81ad356 233df34d
Author: George Nachman <georgen@google.com>
Date:   Wed Apr 27 17:19:29 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit b81ad3565cb46096e415e147a16179b67f71ddf5
Author: George Nachman <georgen@google.com>
Date:   Wed Apr 27 17:18:57 2016 -0700

    Move color presets stuff into its own model file to fix issue 4558.

commit 233df34d3bb098d4d0e11e43e41e390f411e9fbd
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 26 22:47:21 2016 -0700

    Add support for adaptive frame rates. Try to estimate the throughput. Use 60fps if it's under 1000 bytes per second, 30fps if over. Use the slower framerate when idle. It looks ugly when we're flip-flopping between frame rates but I don't know if that will be a problem in practice. This is off by default and behind an advanced setting.

commit 1d325443c3743d14ce136c278e16b137fb6b171f
Author: George Nachman <georgen@google.com>
Date:   Tue Apr 26 11:07:56 2016 -0700

    Fix some compiler warnings

commit 6db8543ff2f9d00adc713b46ed830ce44ad6abd7
Author: George Nachman <georgen@google.com>
Date:   Tue Apr 26 10:55:00 2016 -0700

    Don't dismiss and re-show the captured output announcement. When there's a long compile with a lot of warnings it comes and goes which is annoying

commit 0edcb3fae494344e9b6d4c640af35ffe086db1ba
Author: George Nachman <georgen@google.com>
Date:   Tue Apr 26 10:14:31 2016 -0700

    Change a retain-release into retain-autorelease to simplify code.

commit 886e2df728f11e5ce643cb5c2bec136a10098c10
Author: George Nachman <georgen@google.com>
Date:   Tue Apr 26 10:06:30 2016 -0700

    Remove use of valueWithEdgeInsets which is new in 10.10

commit 059e2b898b73e35aababea2b5abac6c093d6c6c2
Merge: 7e384c3d df2be185
Author: George Nachman <georgen@google.com>
Date:   Mon Apr 25 16:55:35 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 7e384c3d8aa298584e7131ec34f8b55b24970a7b
Author: George Nachman <georgen@google.com>
Date:   Mon Apr 25 16:53:47 2016 -0700

    Fix testReferenceRemovedFromNotificationCenter to actually test what needs to be tested, even when run on 10.11.

commit ad2a4d9961600ac590ffef62618b7b9c1d62e00d
Author: George Nachman <georgen@google.com>
Date:   Mon Apr 25 15:16:08 2016 -0700

    Fix some ugly bugs in iTermWeakReference. Always remove iTermWeakReference as an observer from
    notification center on dealloc. Do not leak _class. If the weak reference's object gets its class
    changed at runtime, respect that. I believe the crash would occur when a weak reference gets
    released before its object. When the object is released, it'll post a notification that is received
    by a now-dealloc'ed weak reference.

commit 13462f40b8a5e936b38f1ebdb5cc20a47415e1d3
Author: George Nachman <georgen@google.com>
Date:   Mon Apr 25 10:37:16 2016 -0700

    Remove a bug where the observer of objectWillDealloc was not always removed. I'm not quite sure why
    this didn't always crash. Maybe it always dies on older OSes since 10.11 automatically removes the
    observer.

commit df2be1857b696f34f8fc2e7c6d0948cc1b253d54
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 24 21:56:11 2016 -0700

    Add missing argument to log statement

commit 759f456596b430f8d1e4cc7e239ac1676da2459c
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 24 20:38:58 2016 -0700

    Add logging for importing itermcolors from file

commit f777b4ceb5b392f039dfe5d7547a962c5599b708
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 24 17:43:19 2016 -0700

    Pass a shard number in sparkle requests so new releases can be rolled out slowly with more rigor

commit 9fa7d3a1e2b374cf2a17ef12083aedc64d43b1d6
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 24 11:07:55 2016 -0700

    Add NSURL category to add a query parameter

commit 386765c5335f712d6ebbceabaf546f4f49faed4a
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 23 10:03:51 2016 -0700

    2.9.20160422

commit 8d571e399e906915614440b714d6b98c79caa343
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Apr 22 12:04:14 2016 -0700

    Fix warning

commit 9f1a15107a4a15dbe124dd8e0ebaae6947987aee
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Apr 22 12:03:10 2016 -0700

    Update golden images for new mark drawing method

commit 3d8f56356ce8a062f33699474201b85fef8b189e
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Apr 21 22:51:53 2016 -0700

    Use the correct observer for disabling the default-bg-transparency button. The wrong one worked because reloadProfiles triggers all the observers :(. Also disable the blur-related things when transparency is off.

commit 0d90c3eb2a7b0604362ba1465ebf43450a771227
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Apr 21 22:45:54 2016 -0700

    Improve wording of the non-default background colors are opaque checkbox

commit ffe69593b8c42e8f2cc72900c9d26d0c559d6bd6
Author: Brennan <brennan@jucebox.co>
Date:   Fri Apr 8 12:18:16 2016 +1200

    Add a checkbox to Window profile prefs to make non-default background colors always opaque. From pull request 277.

commit b3cefec833949b17b22fcf8eebc788c4485935d4
Merge: 272920d1 fa8f9e4b
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Apr 21 22:37:50 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit fa8f9e4b640aab753bff8a05e49a6c87caf6c139
Author: George Nachman <georgen@google.com>
Date:   Thu Apr 21 17:20:18 2016 -0700

    Make the "click again to disable tips" message white-on-red so you will not miss it.

commit 03ab8de116b11e870c3b034e1d2171db6b0246a5
Merge: 7764cf3e cfdceb9b
Author: George Nachman <georgen@google.com>
Date:   Thu Apr 21 15:08:11 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 7764cf3e467fb63f080750a8a3f4dfea67f267ee
Author: George Nachman <georgen@google.com>
Date:   Thu Apr 21 15:07:33 2016 -0700

    Add an advanced pref for suppressing the restart session announcemnet

commit 272920d1bbade0e401bc0d0f1853182c868c37ce
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Apr 20 22:49:03 2016 -0700

    Highlight mark in red if it has an error code. Issue 4504.

commit 7123345061b967df107f9d74e1877020e53a2b47
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Apr 20 22:40:33 2016 -0700

    Draw the mark with a bezier path instead of an image. Its height scales with the line's height to make it more visible. Issue 4504, kind of.

commit 5282c2e7bbde639ff348d870258f5b4f6276f4e5
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Apr 20 22:11:58 2016 -0700

    Remove the last command mark when the current command is aborted, as happens when you resize the window at a bash prompt. Issue 4504

commit cfdceb9b1da7d4e0dafe1f7db937b7fd94167f3c
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Apr 20 22:11:58 2016 -0700

    Remove the last command mark when the current command is aborted, as happens when you resize the window at a bash prompt. Issue 3183

commit 63300935b1a2582c4e24378bb40a6f9bdc827d07
Merge: fd39f7b4 d8c29867
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Apr 20 21:41:17 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit fd39f7b4e2ffcc8fd2503c55cff358a724e7cc3e
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Apr 20 21:40:33 2016 -0700

    Make the Secure Input menu item indicate the true state of secure input. It used to show the checkmark ooly if it was both on /and/ on because of iTerm2. Also, the way the checkmark was set was kind of weird--it should have been set in validateMenuItem:.

commit d8c29867d27682eb056e7f76ffdf067947d892b0
Author: George Nachman <georgen@google.com>
Date:   Wed Apr 20 10:37:43 2016 -0700

    Change target membership of golden files to iTerm2Tests and iTerm2XCTests to try to get the files to copy on Travis.

commit 08b9f1cf2717429bee7de12630844beb24c35cb2
Author: George Nachman <georgen@google.com>
Date:   Wed Apr 20 10:13:11 2016 -0700

    Add some missing travis golden images

commit f95266d1fc7054fa63309eeb191abf11d374baa4
Author: George Nachman <georgen@google.com>
Date:   Wed Apr 20 09:54:22 2016 -0700

    Add separate golden images for Travis. Increase the failure threshold for golden tests to 10% brightness difference. I observed as high as 6.5% brightness diffs between two machines running the same OS, probabily attributable to different color profiles for the attached display.

commit f524ba3f35408ee4bd0ec9445b956f37ef25cb19
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 19 23:40:25 2016 -0700

    Add more assertions to golden tests to diagnose Travis failure

commit b958ba4a17829d109140a916bdb379fe01592ad1
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 19 23:23:24 2016 -0700

    Add missing golden files to project

commit 35d2e08f846a0cd8b7de20afee115536a47e3b6f
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 19 23:21:12 2016 -0700

    Use a different set of golden files for non-retina displays, since that's how Travis works

commit 47805eef9bdb8207ab68b26a4f05e823b32ddca7
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 19 22:56:49 2016 -0700

    Make Travis upload failed golden images to file.io

commit 0211a90e7d5bbdfed04fcd36a1e727a500b13bf9
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 19 22:36:47 2016 -0700

    Go back to 30 fps. A couple comments revealed very bad performance regressions from 60fps

commit 0e0dcb5dbbc0e13122fc9ff53a0867d868e9d824
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 19 22:32:48 2016 -0700

    Log deciles of diffs (by amount difference, where 0 is identical and 1 is black vs white) on failing golden tests. Deciles don't include exactly matching pixels.

commit 8f1d0c5b08a192c4f734eade471b2e71d61fc0f2
Merge: b9f808fa ed7c6006
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 19 22:09:16 2016 -0700

    Merge branch 'fixDiff'

commit ed7c6006826a6ae0d4cc047e53da2e9f8ac998e0
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 19 22:09:04 2016 -0700

    Log stats when comparing to golden image

commit 57e3978c85fa89a7e833876df52419848e4993c7
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 19 22:02:32 2016 -0700

    Fix bug in golden diffing algorithm and measure some statistics.

commit b9f808fa86f818083d916ac8f960983ce7132db8
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 19 21:49:09 2016 -0700

    Update golden images

commit 464449f4ecfe647a794c4797e4bd2536d99a3b1c
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 19 21:06:30 2016 -0700

    Fix a bug where PTYTextView's frame was two points too high. Issue 4554

commit 269540277db78ab40daeb568c7f4e68debc1b24a
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 19 20:32:58 2016 -0700

    Change createGolden to NO

commit 67e2d57fef053aa466328fe136021d4ab583c029
Merge: 47f9c2e0 66cfdeef
Author: George Nachman <georgen@google.com>
Date:   Tue Apr 19 14:35:15 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 47f9c2e03320ffc48c55d97e7d238fa3b698d38d
Author: George Nachman <georgen@google.com>
Date:   Tue Apr 19 14:34:08 2016 -0700

    Add a link to ICU regex syntax from advanced paste

commit 2e863ae877904c53c292d9c0ac1e017f06964ff0
Author: George Nachman <georgen@google.com>
Date:   Tue Apr 19 14:33:17 2016 -0700

    Remove SoftDivider from project file since it was deleted

commit c0b5b148b7a23d82262602280bb6cc0457e75535
Author: George Nachman <georgen@google.com>
Date:   Tue Apr 19 13:09:42 2016 -0700

    Add regular substitutions to advanced paste.

commit b985fc1607ceb68453790b84540df1f55c0a5887
Author: George Nachman <georgen@google.com>
Date:   Tue Apr 19 11:22:17 2016 -0700

    Modernize the look of the Open Quickly window
    
    Add Loupe image to project
    
    Remove SoftDivider, which is no longer used
    
    Use a nicer blue for open quickly table rows
    
    Modernize
    
    More modernization

commit 66cfdeefcefaf52ed37b7edbc7e1ef77823a9b05
Author: George Nachman <georgen@google.com>
Date:   Tue Apr 19 11:22:17 2016 -0700

    Modernize the look of the Open Quickly window

commit 507ef9b7d36f6c68b1710802d6d47fc8feb567ad
Author: George Nachman <georgen@google.com>
Date:   Tue Apr 19 10:17:50 2016 -0700

    Left-align tab labels with vertical orientation. Issue 4550.

commit 9be70f44196923d61c37c37d8f293f018e5e7f59
Author: George Nachman <georgen@google.com>
Date:   Tue Apr 19 10:12:54 2016 -0700

    Improve debug logging for secure keyboard entry

commit 8a63b474bb2d7591661f131e05a53fe289f98565
Author: George Nachman <georgen@google.com>
Date:   Tue Apr 19 09:20:34 2016 -0700

    Remove files added by accident

commit f57f1f598d252d9f3650dbfd5997ad040e2b2105
Merge: 8cdc4d24 ee111338
Author: George Nachman <georgen@google.com>
Date:   Tue Apr 19 09:20:07 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 8cdc4d242cf0f4a8043f59d68fb4ce31b03b012b
Author: George Nachman <georgen@google.com>
Date:   Tue Apr 19 09:19:40 2016 -0700

    Don't pass the exectuable as the first argument to launchTaskWithPath:arguments:wait:, which calls through to -[NSTask launchedTaskWithLaunchPath:arguments:], and does not expect the executable as the first argument.

commit ee11133830ddcdc5f60472f18bdb8b6806eb5428
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 19 08:04:39 2016 -0700

    Update goldens because the bug where the top of the image was always black was fixed

commit c300a7a41db32aad415361c10d379257ad024835
Merge: f426dc98 15207d67
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 19 08:03:52 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 15207d67babadc450874b525b7840f2f45ffea9b
Author: George Nachman <georgen@google.com>
Date:   Mon Apr 18 10:26:55 2016 -0700

    Add an advanced preference that makes cmd-click invoke semantic history even when iTerm2 is not the active app. Issue 4548.

commit f426dc98f9bc0470752fa4d65c9d4bb23d5385c5
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 16 21:42:29 2016 -0700

    Upgrade xcscheme to 7.3

commit b7170920fd01edfdaca9ad78e61571881b4d58ff
Merge: db5e32ae 3b1251c6
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 16 21:20:12 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit db5e32ae76713fbe767a8af44a7c7d418fcbb018
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 16 21:20:07 2016 -0700

    Remember the width the left tab bar was dragged to

commit 3b1251c629c8acf202ea46d8a60b597cc59271d7
Merge: e48aef71 022a10ca
Author: George Nachman <gnachman+github@gmail.com>
Date:   Sat Apr 16 21:10:31 2016 -0700

    Merge pull request #278 from csmulhern/master
    
    Increases active window refresh rate to 60Hz

commit e48aef710855bff587560d91a9a3b4289bef3419
Merge: 4ef42d9f fb4bdb7b
Author: George Nachman <georgen@google.com>
Date:   Fri Apr 15 17:00:51 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 4ef42d9f48e47e8474e07dffe55871e5fd50cc61
Author: George Nachman <georgen@google.com>
Date:   Fri Apr 15 17:00:37 2016 -0700

    Add reminder to update the linky

commit 022a10ca5063be71ce6d614cb78042c192e586d6
Merge: 283a0203 fb4bdb7b
Author: Cameron Mulhern <csmulhern@gmail.com>
Date:   Fri Apr 15 11:38:48 2016 -0400

    Merge branch 'master' into master

commit fb4bdb7b8461c972fb19f6f843612a855c39c6df
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Apr 14 17:07:43 2016 -0700

    Make SetBackgroundImageFile with an empty filename remove the image

commit b178edb4d35bd8242db610a55af1e361ff169c5b
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Apr 14 16:51:33 2016 -0700

    Make setting the background image via escape sequence require a trusted terminal

commit 10cfd265d212ad0f32cad06a7906878bd1c90b9e
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Apr 14 16:37:41 2016 -0700

    Remove method declaration that was not implemented or used

commit 9567c7fedffd89542ce793195fd5646677b05de6
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 5 09:01:58 2016 -0700

    Big fat change that makes the relationships between core objects saner.
    
    Formerly, SessionView held a strong reference to PTYSession. This was madness. Now PTYTab holds a mapping from SessionView to PTYSession (both strong references) and PTYSession strongly references SessionView. This required defining a delegate interface between PTYSession and SessionView so SessionView would not know about PTYSession's implementation details.
    
    Formerly, autoresizing was selectively used to keep frames from the SessionView on down correct. Except when it wasn't when tmux was in use. Except when it was because you were dragging a tmux split pane. This was madness. Most of the autoresizing code in the terminal view is now explicit layout code in resizeSubviewsWithOldSize.
    
    Formerly, PTYTextView resized its superview. This was madness. Now it asks its delegate to check if it needs to be resized from -refresh.
    
    Formerly, PTYTextView override setFrameSize and called its superview's setFrameSize. This was madness and caused occasional crashes. It has been removed.
    
    There was a minor cleanup of how the pasteboard is used when accessing files on it.
    
    There were various small style improvements.
    
    Fix a bug where a window has an imperfect frame when you drag a split pane into its own window
    
    This is a squash of many commits. See the removeStrongReferenceFromSessionViewToSession branch for the smaller commits that went into this.

commit 283a02034bf011224f55a52d01709bdeca6c148e
Author: Cameron Mulhern <csmulhern@gmail.com>
Date:   Thu Apr 14 18:07:42 2016 -0400

    Increases active window refresh rate to 60Hz

commit ec9d3fa38f475eb09bdf525da10427fd82b825da
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Apr 7 23:35:31 2016 -0700

    Use a fast cadence for the visible tab only, and always use it when the tab is active. Always use the slow cadence when inactive. Also avoid redrawing the session title view. Issue 4513

commit e4046396834d41450de0ab3f84d5cace27277c0b
Merge: 29d85eea 8d74c15b
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Apr 7 23:01:31 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 29d85eea94b2bcdf5664285a475698b0742654ad
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Apr 7 23:01:21 2016 -0700

    Don't use NSValue's edgeInsets methods which are new in 10.10. Issue 4509.

commit 8d74c15bc687961b398b48b97f9d766efcccf4f3
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 5 20:51:15 2016 -0700

    Specify keychain for code signing nightly build

commit 54797616e371321b78f21a5a97f0dd4ae8c88d41
Author: George Nachman <georgen@google.com>
Date:   Mon Apr 4 16:35:22 2016 -0700

    Add missing import

commit ba7d7ec97f60bc88bd082961888504f93108d199
Author: George Nachman <georgen@google.com>
Date:   Mon Apr 4 15:39:22 2016 -0700

    Change an assertion into a log message. I'm not sure how it happened but we shouldn't assert.

commit 11d55dc0a2332bba871e6da62e58c125ac0ea228
Author: George Nachman <georgen@google.com>
Date:   Mon Apr 4 15:36:05 2016 -0700

    Fix a crash where iTermDelayedTitleSetter would reference a released window, somehow. Use notifications so it's safer. In the long run this should use my weak reference hackery but I want to make sure it works OK before committing more.

commit 2a3ac1b141421fab623589da7ca8c79328eeaa80
Author: George Nachman <georgen@google.com>
Date:   Mon Apr 4 15:16:33 2016 -0700

    Fix an off-by-one bug in the number of screens that crashes canonicalizeWindowFrame.

commit 8331a00913824780d03ca046b3def6a8d944057e
Author: George Nachman <georgen@google.com>
Date:   Mon Apr 4 15:13:48 2016 -0700

    Remove assert that generalPasteboard is nonnil. Sometimes it's nil when things go crazy.

commit a0106c5d062eab59b9f13e0a4ccf9e6a198b8f80
Author: George Nachman <georgen@google.com>
Date:   Mon Apr 4 14:40:31 2016 -0700

    Add offer to install utilities package when installing shell integration

commit dc50f3713be109c4a76ec11ee7ded3fddbe8f8b4
Author: George Nachman <georgen@google.com>
Date:   Mon Apr 4 11:34:32 2016 -0700

    At some point TextMate changed the captialization of their bundle identifier. This caused a bug whose symptom is the inability to open files to a line number in textmate. See the discussion with the subject line 'Jump to line when opening files in editor with Cmd+Click from iTerm'.

commit 9a1550713d1bfee0fddba22dbe6fe919f007fc9a
Author: George Nachman <georgen@google.com>
Date:   Mon Apr 4 11:33:49 2016 -0700

    Fix a bug where pressing cmd while the mouse is below the last line would cause an exception.

commit cff95d85be8b76a5f3cc74aeed5e516ce4a29890
Author: George Nachman <georgen@google.com>
Date:   Mon Apr 4 10:23:36 2016 -0700

    Add logging for showMenuBarHideDock

commit 31c2d586c2a0cdb6445c91d8a57e0158f3b42bd4
Author: George Nachman <georgen@google.com>
Date:   Fri Apr 1 17:35:03 2016 -0700

    Add March's reward patrons to the about box

commit 451704389a84d4c7a20e7929eca560a5d28aa952
Author: George Nachman <georgen@google.com>
Date:   Fri Apr 1 17:11:56 2016 -0700

    Add debug logging for hide and show menu bar

commit 3935c8ce38dde64992011c5e209c5b9fa7d98205
Author: George Nachman <georgen@google.com>
Date:   Fri Apr 1 16:42:34 2016 -0700

    Fix how mouse butons got reported. The right mouse button was reported incorrectly (as reported by Craig in email).

commit 1b1e99a0afe0480c1d30f49d9589c94904a721c0
Author: George Nachman <georgen@google.com>
Date:   Fri Apr 1 10:02:04 2016 -0700

    Fix the color of text in advanced prefs when the prefs window is not key.

commit cd7dc1fcca601828160e2e2064df79a6ee7861ff
Merge: 2a79e990 a83829b6
Author: George Nachman <georgen@google.com>
Date:   Fri Apr 1 09:59:41 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 2a79e99084dc5acf2c619fbd7a4207fbe06c200c
Author: George Nachman <georgen@google.com>
Date:   Fri Apr 1 09:59:28 2016 -0700

    Add an off-by-default advanced pref to redraw the screen after Clear Buffer is selected. It's off by default because of the possible privacy implications (you might hit cmd-k quickly when your boss is walking by). Also refactor how size is used by PTYTask, VT100Screen, and PTYSession to be a VT100GridSize instead of two variables. Issue 4494.

commit a83829b664ee3fd46b36e831f42ce838549c7f11
Merge: 0022c4f4 14751ec3
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 31 21:37:34 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 0022c4f44ebdb3edaeab67d8984bc0f693a46a99
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 31 21:37:28 2016 -0700

    Don't call setPlaceholderString: if it doesn't exist; remarkably, it was added in OS 10.10. Issue 4495

commit 14751ec3e6ebe1e0e81bb2aefd2158567294bc37
Merge: b9c8b201 d655f564
Author: George Nachman <georgen@google.com>
Date:   Thu Mar 31 14:46:44 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit b9c8b2014508c3f89868730e48a49721a0e259df
Author: George Nachman <georgen@google.com>
Date:   Thu Mar 31 14:46:29 2016 -0700

    There was a bug in setting cadence where it would alternate between 1/30 and 1 second cadences while active. Idleness was not properly taken into account in determining the proper cadence and active status when nothing is blinking is very short lived. This had the effect of giving us a 1/15 second refresh rate, which turned up in issue 2859 in a comment.

commit d655f564bed75c86d83eb848c2c60db94c6f4200
Merge: a046aaae 8cba018b
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 30 22:12:43 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit a046aaae8cad4e0609619d42e52c16a4d4e276e2
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 30 22:12:20 2016 -0700

    Allow borderless windows to be miniaturized. Issue 4402.

commit 8cba018bbbc215185343fb9cd245d65cb7b8e911
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 30 21:50:27 2016 -0700

    Sign nightly builds

commit 2fd1b7d7847898cd802093a47dab6afc645db36b
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 30 20:48:28 2016 -0700

    Shift indicators to the left when timestamps are drawn so they don't overlap. Issue 4498.

commit cd87e2f9fcc176ad81ca6462ff395bd6170f8dd2
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 30 18:15:57 2016 -0700

    Fix failing tests

commit 0419592299538c4996a04a4f041b7ff14711fe81
Merge: f3308eb1 af494c52
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 30 17:54:37 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit f3308eb14c53dd63f1d2bab376fdd311a3a0bcfe
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 30 17:54:28 2016 -0700

    Pass -q to login if ~/.hushlogin exists. Issue 4425.

commit af494c525191d689e1d6329ca4ec84456525427c
Author: George Nachman <georgen@google.com>
Date:   Tue Mar 29 16:45:42 2016 -0700

    Prevent us from accumulating unlimited text in DCS passthrough mode. Abort DCS when you get a control character other than ESC or non-ASCII text. See issue 4464.

commit 1308eb2c7d500018cde56b5bdff9777892304dfc
Merge: 154738a1 49479efa
Author: George Nachman <georgen@google.com>
Date:   Tue Mar 29 11:36:33 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 154738a10408aa7f7d60ee7b9d48cb3982d868a9
Author: George Nachman <georgen@google.com>
Date:   Tue Mar 29 11:32:44 2016 -0700

    Set TERM_SESSION_ID (same as ITERM_SESSION_ID, but compatible with Terminal.app) and TERM_PROGRAM_VERSION. Issue 4465.

commit 49479efa938e02e52433a9ba143e6604fc4926cd
Author: George Nachman <georgen@google.com>
Date:   Tue Mar 29 11:32:44 2016 -0700

    Set TERM_SESSION_ID (same as ITERM_SESSION_ID, but compatible with Terminal.app) and TERM_PROGRAM_VERSION. Issue 4463.

commit 364da811d4c9bfa2715e69ebc76457b3da020b6f
Author: George Nachman <georgen@google.com>
Date:   Mon Mar 28 16:58:30 2016 -0700

    Fix a bug where / was always in the list of paths to ignore when the list was empty because componentsSeparatedByString: returns a single-element array for empty input. Issue 4484.

commit d7a195d7b88c9e50db85afdd2f894bdedc8070e8
Author: George Nachman <georgen@google.com>
Date:   Mon Mar 28 16:37:30 2016 -0700

    Fix bug where opt-click to move cursor didn't understand double-width characters.

commit 8a9be6da737c6a3443e1b9b9d642902a3cac0e16
Author: George Nachman <georgen@google.com>
Date:   Mon Mar 28 16:15:51 2016 -0700

    Fix bug where alt-click to move cursor on command line didn't handle double-width characters properly.

commit 3b560a46d0c93f96b384a3b1fbf65b1294996be8
Author: George Nachman <georgen@google.com>
Date:   Mon Mar 28 15:48:06 2016 -0700

    Fix a bug in how the selected text range was reported, noticed in issue 4482.

commit 0fc25a4bcfe00dad366eb274621407d059307941
Author: George Nachman <georgen@google.com>
Date:   Mon Mar 28 15:27:14 2016 -0700

    Fix a bug where moving the start/end of the selection back/forward (respectively) by one character would select two characters. Refactor the move-endpoint code to make it comprehensible. Issue 4482

commit 412590362dc3b8784b9b31479325e4b1fc995351
Author: George Nachman <georgen@google.com>
Date:   Mon Mar 28 13:08:30 2016 -0700

    Add Select Current Command. Also adds rangeByTrimmingWhitespaceFromRange because tcsh will usually have whitespace due to its prompt limitation, so this is ncessary.

commit 6f2393bdb112c57c450401304711eb42d2cb0b4f
Author: George Nachman <georgen@google.com>
Date:   Mon Mar 28 12:00:43 2016 -0700

    Fix a bug where partial hostname or path matches got their scores boosted by the length of the matched path/hostname, not the length of the rule.

commit eb3945ff40fadcd87bba233d01a13bc7e5ca701b
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 27 21:22:44 2016 -0700

    Update help text in advanced profile prefs for new APS syntax

commit 5edd6291033e41e8b54ff5c5f879f62a47788fcd
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 27 21:17:36 2016 -0700

    Add support for sticky APS profiles and wildcard paths. Issue 4232.

commit 994d09003ef4567e8c6d79418807fb606ac381a6
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 27 20:19:07 2016 -0700

    Add some debug logging for how commands are launched

commit bf1d71c55386c9225a76416c70928e50672d6430
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 27 20:13:55 2016 -0700

    Escape the account name in shellLauncherCommand in case you somehow managed to have special characters in it. Issue 4480.

commit 912864ae99fd9c319f1fed8383a34dc529d10acd
Merge: 0a5d64ff bb0e83c5
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 26 21:39:41 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 0a5d64ff03e4e08d5e8a5542bcb4f9f617dfd777
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 26 21:39:31 2016 -0700

    Improve predictability of restoring the default window arrangement. Formerly, if FD server sockets were found (regardless of whether the servers were actually running) we would not restore the default window arrangement. This caused issue 4468. Now we'll always open the default window arrangement at startup when that is the preference. In that case, windows won't get restored (so you'll get a bunch of empty windows with the annoying butterbar). Likewise, if your preference is to not open windows at startup, we won't restore them but we will give you the butterbar orphans.

commit bb0e83c536f6dd63f043f7388a4ca11a5647718a
Merge: 4819d8a1 3dd69a5d
Author: George Nachman <georgen@google.com>
Date:   Fri Mar 25 16:37:07 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 4819d8a10cd6635277528ab379dd0b0dbb4f1d97
Author: George Nachman <georgen@google.com>
Date:   Fri Mar 25 16:36:29 2016 -0700

    Add high-contrast themes

commit 3dd69a5da2cf3a3ce76bece5a967b54f4acfc3d7
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 24 21:51:45 2016 -0700

    Update Sparkle to 1.14 with my patch

commit e6fc0e14c631840b6af29d1eca44e6785709fe22
Merge: bc451491 d957e2f8
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 24 21:35:05 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit bc45149144e4d51bb0c2da25ef85774f1c5e7b9b
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 24 21:34:55 2016 -0700

    Make line under tab color one point wide

commit d957e2f80c13f2e2159e23b3715483893c455c4e
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 24 20:19:18 2016 -0700

    Make nightly build script stop on scp or ssh error

commit 3da95e3e488590e1f4cec50675c0da3c3bcfe260
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 23 22:57:44 2016 -0700

    Cache the width of tab labels because it got computed way too often.

commit 708a2e490d5f35797748134e4a815d5a2f3fedde
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 23 21:58:52 2016 -0700

    Make PTYTextView's description show its session since it's really hard to correlate them otherwise

commit 7b5450caa34429fae133c88dd53ddb2dfd3bc618
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 23 21:58:21 2016 -0700

    Fix a bug where the foreground tab's processing state would rapidly toggle between on and off because the wrong criterion was used to determine if it was processing. Also make setIsProcessing a no-op if the value hasn't changed.

commit 384dcc4645d853bd35b2fbd6b3beb3c4c2f646ff
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 23 21:57:01 2016 -0700

    Fix a bug where the activity indicator in a tab wouldn't appear with a dark theme sometimes. startAnimation only works when the view is visible.

commit 8822b5cdc7a3685442da85b1bb923415b8e2f006
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Mar 22 21:41:24 2016 -0700

    Parse /etc/auto_master to find NFS automounts and ignore them for semantic history. Issue 4458

commit 3a1d169a42beabe3e01d7aeeeb5ab974540aa0a4
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Mar 22 21:03:10 2016 -0700

    Add advanced preference to specify directories to ignore for semantic history.

commit bf35b08d7317cd10c3ea20d5754e9cc138dbca8d
Merge: 36673ad4 da2a2d97
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Mar 21 22:16:46 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 36673ad4cfd2ba64e70d2e5fd3d45b08cce41b1a
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Mar 21 22:16:39 2016 -0700

    Add advanced option to disable dictionary lookup on force press. Issue 4456.

commit da2a2d97839a041e4f7c1d489b2645215903d29f
Author: George Nachman <georgen@google.com>
Date:   Mon Mar 21 11:23:06 2016 -0700

    Remove the restriction that inset be less than a cell

commit 5c617ec16adef679799e7a84d474e6e74e9500e5
Merge: 244ebf43 5cf962ef
Author: George Nachman <georgen@google.com>
Date:   Mon Mar 21 11:16:32 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 244ebf438770d356cd75fd7a54a4992f83aa985a
Author: George Nachman <georgen@google.com>
Date:   Mon Mar 21 11:15:14 2016 -0700

    Add support for insets inline images. Add optional paramters insetLeft, insetRight, insetTop, and insetBottom, which default to zero. The image will be inset within its original space. The insets are clamped to the size of a character cell. Issue 4419.

commit 5cf962ef13a7b39d3d6ecf8772433dcaf17255bc
Author: George Nachman <georgen@google.com>
Date:   Mon Mar 21 11:15:14 2016 -0700

    Add support for insets inline images. Add optional paramters insetLeft, insetRight, insetTop, and insetBottom, which default to zero. The image will be inset within its original space. The insets are clamped to the size of a character cell.

commit b8a0c7055ee2a351eabac414e731dee433b3e37a
Author: George Nachman <georgen@google.com>
Date:   Mon Mar 21 10:03:26 2016 -0700

    Add a new proprietary API to get cell size in points. OSC 1337 ; ReportCellSize ST will respond with OSC 1337 ; ReportCellSize= H ; W ST where H and W are floating point values giving the height and width of a cell, respectively.

commit 76a257c76b47cdafeea11602087b499c292b9539
Author: George Nachman <georgen@google.com>
Date:   Mon Mar 21 09:35:34 2016 -0700

    Add a log message to updateDisplay

commit a7f43fd3da88b9706e7051eddc9b356e928e794a
Author: George Nachman <georgen@google.com>
Date:   Mon Mar 21 09:30:55 2016 -0700

    Fix bad merge

commit 056d784e8f852dff3d4f1dc59f4f98c5e8680645
Merge: b60b385b 5a186991
Author: George Nachman <georgen@google.com>
Date:   Mon Mar 21 09:27:11 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 5a186991e65376f41ca7d957f483b97fd1a85222
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 20 23:14:47 2016 -0700

    Log when things are dirty

commit d5b46617e9ee990269a85049dce5ef1235193c21
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 20 23:05:17 2016 -0700

    Improve debug logging to disambiguate multiple sessions.

commit a973a596245e59a05d64df12726ab441b10bb9cb
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 20 22:23:07 2016 -0700

    Remove bogus setting of command flags key

commit 40883ec4942b7c5718aa000187fb7a84e04beb44
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 20 21:05:02 2016 -0700

    Fix a memory leak where NSMutableParagraphStyle was retained way more than it should have been. Issue 4440.

commit 8219f4cfb4b7af25cef8f11280517be2b7d893a9
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 20 20:26:34 2016 -0700

    Fix a bug where trying to tmux -CC attach to a tmux server without a session would cause us to write a command to the shell prompt. Previously, we would immediately send show-window-options -g aggressive-resize to tmux after getting the escape code. It happens that tmux always starts by sending us a begin-end or begin-error pair for the command on the command line, so we can check if it is successful. If not, print the error (yay!). If it is, proceed to kick off the initialization commands.

commit e768c4e8ffc279a5a1211cc963cd626d66f49f55
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 20 11:16:36 2016 -0700

    Make the file descriptor server a process group leader in its own process group so shells without job control (or any child process that catches SIGINT but doesn't create process groups) will not cause the server to terminate on SIGINT. Issue 4288.

commit aaac6e8c99a2e66f0cbedd56f80cdc303d1e05a6
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Mar 18 20:33:24 2016 -0700

    Fix a bug where the hamburger menu's Restart Session item would restart the tab's current session, not the session associated with the menu. Issue 4411.

commit b60b385be2e1bd43d15c98c965116f381f7f3dbe
Merge: aeb112c6 7901b036
Author: George Nachman <georgen@google.com>
Date:   Fri Mar 18 15:55:31 2016 -0700

    Merge branch 'simplerTimer'

commit aeb112c67f5e512f8452a38505731219bfa39cdb
Merge: e33901dc 30543a1a
Author: George Nachman <georgen@google.com>
Date:   Fri Mar 18 15:44:57 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 7901b036c6e488d9c85ee144aec8c21b717e816a
Author: George Nachman <georgen@google.com>
Date:   Fri Mar 18 15:43:14 2016 -0700

    Simplify how the session update timer works.
    
    Each session is now in an "active" or "inactive" state.
    
    Active sessions update at 30hz, inactive sessions update at 1hz.
    
    (Formerly we'd reduce the update rate when receiving a lot of input and would sometimes update at the rate the cursor blinks; we'd stop the timer completely when the app was inactive and idle, but that added a ton of complexity).
    
    PTYSession manages its timers all by its big-kid self now. Formerly, PTYTab and PseudoTerminal would tell it to start and stop its timers. Ugh.
    
    PTYSession is now iTermWeaklyReferenceable, which makes its timer lifecycle simpler to manage.
    
    The anti-idle timer was incorrectly retained more than necessary. Fixed.
    
    Formerly, an unnecessary observer would schedule updates when the window resized to make sure the window title got changed back. That wasn't needed so it was removed.
    
    Fix a bug where isIdle would only be true for one second after isProcessing becomes false. Now we go processing->neither (1 sec)->idle and can stay idle indefinitely. This matches one's intuition about idleness better.

commit 9f79d49c899d5beeab4fc034b651c6155814d23d
Author: George Nachman <georgen@google.com>
Date:   Fri Mar 18 15:43:02 2016 -0700

    im not sure

commit 30543a1a8ce56ed0db2ff13bb64a2be5a20cfb99
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 17 23:14:38 2016 -0700

    Fix bug where non-antiaaliased underlines were too thick. Issue 4438.

commit 6808aaf2ed3b7759738d32565750ada5bffa7863
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 17 22:48:28 2016 -0700

    Make sure that we don't pick a font with different traits when looking for the bold version (can't change obliqueness, width, etc.; only bold/unbold can change). Issue 4442.

commit 96d690cd4c83c437a8dc750b83b1541a4ecf9aab
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 17 22:20:49 2016 -0700

    Improve the algorithm for finding a bold version of a font. Search for a font whose weight is at least 4 more than the non-bold variant. Issue 4294.

commit e33901dcb92101a998252c3b84e8b42e50b90820
Author: George Nachman <georgen@google.com>
Date:   Thu Mar 17 11:40:31 2016 -0700

    Update to latest version of NMSSH (with a custom libssh2 version 1.7, since upstream is still 1.6) to fix a crash when public key authentication fails due to the session being freed prematurely (from disconnect, not dealloc).

commit 61f88e2a75646708a63b8300ea754316f2880c08
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 16 22:44:03 2016 -0700

    Accept the font returned by convertWeight:ofFont: as long as it's a different font. It needn't have the bold flag set, in case you get Black or the like. An attempt to fix issue 4294.

commit 284af891ba68f2965db7a5d6fcc518d0623c5860
Author: George Nachman <georgen@google.com>
Date:   Wed Mar 16 16:52:59 2016 -0700

    Give PTYSession a proper delegate. Now it has no direct knowledge of PTYTab, but it still has to assume it's in a tab or something a lot like one.
    
    Fix some bugs in the processing/idle tab icon for inactive tabs. Previously, only the active pane's status was respected. setLabelAttributesForIdleTabAtTime called setState more than once, flip-flopping idle on and off if different panes had different new-output states.
    
    Use the original profile's name rather than the profile's name for open quickly since the profile's name can be changed by Edit Info.
    
    Delete textViewInSameTabAsTextView, which was dead code.
    
    Rename realObjectCount to tabNumber, a 1-based index of a tab.
    
    Delete some commented-out code.
    
    Replace NSLog with ELog in various places.
    
    Add a bunch of comments.

commit b96dceb63b31227ed5016c5429edc29d5354d0e3
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 13 22:44:37 2016 -0700

    Automatically place the sha-256 hash in the release notes.

commit 6d5e51aa7a797e0a510c1aee5b53b13b02d3d049
Merge: 2eb6c213 4921607e
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 13 21:22:38 2016 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 2eb6c213926be0f48ec58f9a62d16d158fa8a87b
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 13 21:22:28 2016 -0700

    Increase minimum update interval to 1/30 second for issue 4343

commit 4921607e442a64eebe793011cd2a502baef0b2a5
Merge: 2f4d9439 f495655c
Author: George Nachman <gnachman+github@gmail.com>
Date:   Sat Mar 12 22:09:04 2016 -0800

    Merge pull request #276 from ronyfadel/rony/overflow-image
    
    overflowImage.tiff and overflowImagePressed.tif aren't retina-ready. Replace with 1x and 2x images.

commit 59b245d555cbe11d4dbe22cc2d58783a9010f2ee
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 12 22:05:56 2016 -0800

    Fix issue number in comment

commit 2f4d943935d8d09b91a01de0f742bb170882f99b
Merge: f9929817 afc01ad2
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 12 22:05:31 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit f9929817d53e7750923ee4689643cf0490e06539
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 12 22:03:53 2016 -0800

    Check whether Option is pressed to decide whether to perform a filename paste or an SCP upload. If the dragging source only allows Copy (like Lightroom) then we still want to be able to paste the filename if option is not held or upload if it is. That's rare, anyway, so the slightly odd behavior of getting the green plus but still pasting a filename (vs uploading) will be rare for most users. This is further mitigated because we now indicate drop targets for SCP upload. Issue 4286.

commit afc01ad25f7126a891a17c267c24a7a0478be79c
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 12 22:03:53 2016 -0800

    Check whether Option is pressed to decide whether to perform a filename paste or an SCP upload. If the dragging source only allows Copy (like Lightroom) then we still want to be able to paste the filename if option is not held or upload if it is. That's rare, anyway, so the slightly odd behavior of getting the green plus but still pasting a filename (vs uploading) will be rare for most users. This is further mitigated because we now indicate drop targets for SCP upload. Issue 4313.

commit f495655c0356ebd603500c8436afe16635c1b7fa
Author: Rony Fadel <rony.fadel@gmail.com>
Date:   Sun Mar 13 03:09:35 2016 +0100

    create new retina-ready overflowImage

commit 4132536442dc48bd0d91e70e7e01319e5581bb72
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 12 14:40:51 2016 -0800

    Add logging for finding bold/italic versions of fonts

commit c82b71565660e4ad1a9496bd1ec054b848539335
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 12 11:37:16 2016 -0800

    Fix color of other fields in the profile list view when the app is inactive or its window is not key

commit 4f65def166379e5bdb8ff90dce85821e9146840f
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 12 11:34:52 2016 -0800

    Fix a bug where the tab colors menu label would be the wrong color in dark mode in the context menu

commit 4b0e1827b99f3dc9fa2d89001bc9729ef499fb86
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 12 11:29:26 2016 -0800

    Use black text in profile list view when the app is inactive or the window is not key

commit 7fd1d98348ca8a09eef9b4e6bf616a2341ee2ee8
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 12 11:21:03 2016 -0800

    Remove busted logic that caused tapped events to get remapped when the following was true:
    1) Do not remap was bound to the keystroke pressed, and
    2) The key panel is closed or it's open with a non-remapping action selected
    
    The original logic was broken since 2.1.4. It was more correct. It remapped when:
    1) Do not remap was bound to the keystroke pressed, and
    2) They key panel is open with a non-remapping action selected
    
    But that clause didn't make sense and was me overthinking things in 2011.
    
    The simpler logic disables remapping only when a remapping actions is selected in an open key panel.
    
    Furthermore, this change causes all keystrokes to be sent directly to the shortcut textfield when a remapping action is selected. Previously, that wouldn't happen if the keystroke was bound to Do Not Remap. This behavior made it difficult to change a DNR-bound key, and unnecessarily complicated this already crazy logic.
    
    Issue 4284.

commit 4f2d9fc33741d9d4fb74588934c5b5b7d76cc740
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 10 23:22:58 2016 -0800

    Rename 'Toggle Hotkey Window Pinning' to 'Toggle Hotkey Hides When Focus Lost' and have it update the prefs panel when it changes.

commit fe324cc39b2b620d1078f66be32be8711c0fee8c
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 10 22:45:37 2016 -0800

    Fix a warning

commit 091f0481f66c4914a5e362d7b12236b237bb5648
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 10 22:44:57 2016 -0800

    Fix a bug where changing the cursor's visibility did not cause it to get marked dirty if the scrollback buffer has been filled because the totalScrollbackOverflow was improperly subtracted from its Y coordinate. Issue 3875.

commit 3b11d29c402ed842ea380a710e65ec011e388920
Merge: e7414b37 a8cef0f9
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 10 21:51:34 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit e7414b37e4fa3a4b845103189b4530deedbe0147
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 10 21:51:23 2016 -0800

    Change AMIndeterminateProgressIndicator to use animated layer contents instead of calling drawRect a lot to reduce CPU load. Issue 3497.

commit a8cef0f9e7d39c3f0af7bdb107700d7c42064753
Author: George Nachman <georgen@google.com>
Date:   Thu Mar 10 12:22:08 2016 -0800

    Clarify what semantic history is in tip. Issue 4407

commit 2a3d868e33d29b6f9b79061b75a197b570c1605e
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 9 23:05:16 2016 -0800

    Define advanced preference for the number of bytes of context to use in semantic history. Issue 4399

commit e613615a0ca821f8a17fe8d97587c254e4965659
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 9 22:49:21 2016 -0800

    Detect when the user is trying to use the scroll wheel to send arrow keys and offer to turn the feature on.

commit 5cb8ed3a5fdb0dc2643ed388a7c31edd87638001
Merge: 6ae1855b d22ba558
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 9 21:39:12 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 6ae1855b8b75ca2f503b57eded4193203884a0ae
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 9 21:38:44 2016 -0800

    Add original graphic for ChangeProfile icon

commit 77e506f70b32a2752f49581e262fa3bbd961df0c
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 9 21:36:56 2016 -0800

    Add ChangeProfile and Info graphics

commit d22ba558032306d9694959d999f9414de7d25b04
Author: George Nachman <gln@google.com>
Date:   Tue Mar 8 15:43:10 2016 -0800

    Fix a bug where openFile:inEditorWithBundleId:lineNumber: ignored its identifier argument, using self.preferredEditorIdentifier instead. This broke opening a file with a line number in the default app, as seen in issue 4386.

commit fa87c9882b8239d085175b80bef941020f9bb33c
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Mar 7 17:26:55 2016 -0800

    Fix a bug where when the left-side tab bar or the toolbelt got resized smaller, only the current tab's splitview's width was adjusted. When that tab was closed, the other splitviews were larger and the window's size was based on them in fitWindowToTabs. This commit changes such drag operations to call fitTabsToWindow when dragging completes so all the splitviews will have the size size. See issue 4323.

commit babb4b33e4eadd71cb79400454400fa7b23c41ee
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Mar 7 16:02:36 2016 -0800

    Add commands to open quickly.

commit e8e9faca7bf0af6b362ebe537261843edbeb04f5
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 6 23:54:45 2016 -0800

    Remove the HandleEarlySigChild SIGCHILD handler from the FD server. It was causing a hang (issue 4383) because the server was very ill-behaved when its child process died immediately. Now the server should actually spin up and handle the death of its child properly.

commit dc7a8f2b92017f7263322486e10f1e82ef02abd9
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 6 22:35:38 2016 -0800

    Show a warning when we fail to connect to a remote host for scp with a help button that takes you to the wiki article explaining how to fix it.

commit 1805f8421eaea04bcc91733073770d838fbff465
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 6 20:40:09 2016 -0800

    When pasting  to the shell prompt one line ending in a newline, offer to strip the trailing newline

commit 8fe27c5367716879ae3b8879364181eb6a2ae98c
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 6 18:46:58 2016 -0800

    Fix an off-by-one error in showing drop targets

commit ff8742bf0f26eccb85006beb2089da0dcc2cb9e6
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 6 18:39:54 2016 -0800

    Fix a paste-o and include the pathname in the drag target label for SCP upload.

commit 418249d8fb16fa309543bebfc76de20e76fa5bbd
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 6 18:37:02 2016 -0800

    Indicate drop targets for SCP upload to avoid confusion like in issue 4236

commit 6311b075a0f48a2ca23051e37a7ea5776d9c511a
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 3 23:23:17 2016 -0800

    Put some polish on isiterm2.sh

commit b80cb132ab4ab1bfceeef67256610ca0e23a7b79
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 3 23:17:28 2016 -0800

    Make sure we're at a tty in isiterm2

commit ddee35f6443b225dd9964d517c2585930e6f169f
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 3 23:15:30 2016 -0800

    Minor cleanup

commit befba3a1edaf1b8f730c7e12e5caea472cb0a7f4
Merge: 95c439f4 32d3fb8b
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 3 23:09:07 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 95c439f44a77e2419c73e2a44e7f0b423ed37368
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 3 23:07:35 2016 -0800

    Add isiterm2.sh script.
    Usage:
      isiterm2.sh && echo This is iTerm2 || echo This is not iTerm2
      isiterm2.sh 3.1 && echo This is at least version 3.1 of iTerm2

commit 313e6be85393ca9aad713c4eb6d51d6ffc01dbc5
Merge: cc8436b1 d2154f8f
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 3 23:00:48 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 32d3fb8bec8f9385988f052ebaf0c3af56a3e894
Merge: cc8436b1 d2154f8f
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 3 23:00:48 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit cc8436b142358ff047168d2189f8bcb26d09e49b
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 3 22:59:10 2016 -0800

    Add support for a custom CSI code: CSI 1337 n. We'll report a string of 'CSI ITERM2 versionnumber n'. Add a script that tests if the terminal is iTerm2 and has at least a certain version number. The default version number is 2.9.20160304, which was the first version to support this feature. To test for a later version, pass it as an argument.

commit d2154f8f7d317d727b6b0637bd6c12a51197131c
Merge: f300ec3f d2913c63
Author: George Nachman <gnachman+github@gmail.com>
Date:   Thu Mar 3 19:49:11 2016 -0800

    Merge pull request #205 from grddev/semantic-history-delimiters
    
    Modify shell integration to remove various enclosing punctuation, including various kind of brackets and quotes. It used to remove only a single pair of parens. This is useful, for example, when git shows paths in quotes.

commit f300ec3fd6d64014f9687d42d4433a1e56a192e0
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 3 19:39:24 2016 -0800

    Kill servers when logging out. Issue 4147

commit d2913c6397c52bb136ac3aba8018a6f46a5f1792
Author: Gustav Munkby <grddev@gmail.com>
Date:   Wed Mar 2 14:29:24 2016 +0100

    Add tests for stringByRemovingEnclosingBrackets

commit 9c9575caffa45c596d7b8815d76e7ee928771e7f
Author: Gustav Munkby <grddev@gmail.com>
Date:   Wed Mar 2 14:04:46 2016 +0100

    Move bracket removal to NSStringITerm
    
    This also changes the implementation to use a slightly simpler loop

commit 07479d6f591122b0214758311b5c84270c022119
Author: Gustav Munkby <grddev@gmail.com>
Date:   Mon Mar 30 16:37:07 2015 +0200

    Strip more bracketed delimiters
    
    The main motivation for this change is that git when presenting merge
    conflicts sometimes shows the file paths in single quotes. Instead of
    just adding single quotes, I thought it was just as well to add some
    other delimiters that are unlikely to appear in file names

commit d42dd9d1267ac46bc749338688a9741baa85be16
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Mar 1 21:32:08 2016 -0800

    Update tab icons to have a brighter version for the dark theme. Fix a bug where changing themes could change a dead icon into a spinner. Minor refactor of how icons are accessed.

commit 816be04f576b774c578ab91a663cab0c93c7927b
Author: George Nachman <georgen@google.com>
Date:   Tue Mar 1 10:10:32 2016 -0800

    If the bell is flashing but not audible, and it is ringing out of control, offer to suppress all output. Don't offer to silence an inaudible bell, which is kind of silly. Issue 4366

commit 87359ecb501aa50bbe20deb02520ed3a7798cf6e
Merge: 0f714067 b922b4ab
Author: George Nachman <georgen@google.com>
Date:   Tue Mar 1 09:19:16 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 0f714067bb31b77118b5fa5d59eca515a29616c5
Author: George Nachman <georgen@google.com>
Date:   Tue Mar 1 09:18:42 2016 -0800

    Add the option to disable the restart announcement as requseted on the mailing list in subject line:
    Disable "Session Ended (broken pipe). Restart it?" Notification Message

commit a750aa248503c32ac148df4f1a0a34077822eda7
Author: George Nachman <georgen@google.com>
Date:   Tue Mar 1 09:18:05 2016 -0800

    Improve comments in shell launcher

commit 46d29aa64b50ec20d9a975533012ddbc56b39ca8
Author: George Nachman <georgen@google.com>
Date:   Tue Mar 1 09:16:50 2016 -0800

    Use 'login -fpl georgen iTerm2 --launch_shell' instead of 'iTerm2 --launch_shell' for issue 4332. Login does nice things like print the motd. We weren't using login when you had a custom starting directory.

commit b922b4ab50a98e6d8156419fb7af815f673dc255
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 29 22:25:07 2016 -0800

    Replace \n and \xXX in the badge with newline and an ascii value.

commit 543c1ed63860bd378f927b868066a120fa889469
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 29 21:37:43 2016 -0800

    When doing scp, if the public key file does not exist then pass nil for the public key arg of authenticateByPublicKey:privateKey:andPassword:. Issue 4342.

commit 76ced69f8144042bc4dd02391eef319dfb59a5ee
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 29 21:02:33 2016 -0800

    When opening a file from semantic history, if no app is able to handle opening the file offer the user the option to pick an app and associate it as the default viewer. Issue 4281.

commit 04c4bd0806f2866898fef1b47db04584192ec27d
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 28 22:09:47 2016 -0800

    Add more logging for file uploads

commit 1999c7a0d5418d86f8bf6fec2b2bcb40f96ef21b
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 28 20:33:17 2016 -0800

    Respect divorced profiles better in APS. If you edit your profile and a rule matches, it won't change back to the original. Likewise, searching the stack for a profile matching a rule will pick up edited profiles.

commit 70dc3b892a26af655d84c645fa8cda266032b62f
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 28 20:05:30 2016 -0800

    Fix bug where isRunningUnitTests didn't return YES

commit a27129a022ca12605ee40ed1f125fdf58cbf6417
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 28 20:05:10 2016 -0800

    Write tests for APS

commit 42adaf27aaa2ffdfd7270bd8835548ecc003afa6
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 28 16:16:25 2016 -0800

    Move APS code to its own file, fully implement the stack.

commit 3856ef4badc6c3be857aa691ae83030d55591d87
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 28 15:24:54 2016 -0800

    Put APS in a stack

commit 5620484e685e433f65dda7cc0e9c9fa148145dee
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 28 11:59:52 2016 -0800

    Rename 'set directory' and 'set host and user' triggers to use the word report instead of set, because it was very confusing. Allow 'report host and user' to set only the host or only the user. Add lots of debug logging to directory stuff.

commit bb061558cc14a803321bdb4cb91ca6d96a7445bf
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 28 10:56:10 2016 -0800

    Fix a bug where double-width characters' DWC_RIGHT component was incorrectly included in string to which smart selection regexes were applied, essentially breaking smart selection for double-width characters. Modernize the smart selection code some and add a unit test for this bug. Some more details in issue 4325.

commit df15805b9af346cec2c16efa713b701079bace25
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 27 22:14:59 2016 -0800

    Fix control-n and control-p in open quickly window

commit 3d234452a4cb096f921d4dbc2ff7454130185133
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 27 21:04:38 2016 -0800

    Implement control:textView:completions:forPartialWordRange:indexOfSelectedItem: for search fields to try to fix issue 4319

commit ff1522ed88434d32277e74eba3053f67b0f96035
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 27 20:25:58 2016 -0800

    Change NSLog to ELog in SCPFile

commit f937dc1bfe4c3dac35af6ddc5a84d87cbf0351d1
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 27 19:38:34 2016 -0800

    Fix a bug when resizing horizontal splits. We picked the wrong splitter (or failed to find one) because PTYSplitView didn't account for NSSplitView being flipped by default.

commit a958e287c111030f40776622e6e747d097e6152a
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 27 19:26:38 2016 -0800

    Don't draw the same timestamp over and over. Indicate repeating timestamps with a double line. Increase the alpha value of the timestamp background to 90%. Issue 4333.

commit 72d22e20d99967f2f06f9a0eb870c65d02a32024
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 27 19:05:08 2016 -0800

    Make the help button under APS go directly to the APS docs, which now have their own URL.

commit c0179306031fb08f0e5b3854b35b5e0936770c6c
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 27 18:15:34 2016 -0800

    Improve double click selection: Fix bug where a double-click on the right half of a double-width character would not have an effect. Fix a bug where consecutive double-width characters would not get  selected on double-click. Fix a bug where Chinese words composed of more than one ideograph didn't select the full word on double click (issue 4325). Add a first test for iTermTextExtractor.

commit 122a37536f91a3f9704868744606631808de03c9
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 27 12:09:47 2016 -0800

    Remove the gross known hosts hack

commit 93803b349e0b61d8ac6658ad7e7381aeb73b8fcd
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 27 12:02:40 2016 -0800

    Update NMSSH to use libssh 1.7.0.

commit 606a482abc77eae0f6e786305d57021c8a9de632
Merge: dc07bb30 dcda73e4
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Feb 25 21:28:22 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit dc07bb30651048da9d85fc1245d7ba5bc7e7d09d
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Feb 25 21:28:13 2016 -0800

    Make Open Command History not be an alternate menu item

commit dcda73e423097405077d8fb7e454c649a221d6f1
Merge: e19e3be6 1f6efd96
Author: George Nachman <gnachman+github@gmail.com>
Date:   Thu Feb 25 14:12:58 2016 -0800

    Merge pull request #273 from d-4-ni/master
    
    Make imgls handle non-files well

commit 1f6efd967e1d55a2dc0d3dc4e2c05f9a9ea08870
Author: Daniel Fischer <fischer.daniel94@googlemail.com>
Date:   Wed Feb 24 09:02:52 2016 +0100

    Make imgls handle non-files well

commit e19e3be6e3f5674a9efb30ae914c2fcaa6ff64b0
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Feb 23 23:08:34 2016 -0800

    Fix broken tests

commit 77779e5c72cb82e5a0f83584a12c83bd593d23b1
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Feb 23 20:53:37 2016 -0800

    Preserve soft line breaks when scrolling up in a region because a long string was appended. Issue 4308.

commit 75d3047bc51522cad1555c18f10a0c52359906c4
Merge: 1f337251 590de9ec
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Feb 23 20:11:58 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 1f337251b5d695f212dadf9b3e52b8c810856e3c
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Feb 23 20:11:45 2016 -0800

    Fix wording of Show Timestamps TOTD. Issue 4309.

commit 590de9ec0c684f0ea3bb428d8c220eb5b5a45b06
Merge: b1ae27ff 92c246e7
Author: George Nachman <georgen@google.com>
Date:   Tue Feb 23 13:51:55 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit b1ae27ff213a707c5540b667c95e437c4878dc97
Author: George Nachman <georgen@google.com>
Date:   Tue Feb 23 13:51:40 2016 -0800

    Put a gray line under the unselected tab color indicator

commit b5fc25fbe9021490316b8df74629cb9148622c49
Author: George Nachman <georgen@google.com>
Date:   Tue Feb 23 09:19:11 2016 -0800

    Fix a bug when deserializing a VT100ScreenMark to convert NSNull properly.

commit 76d1270407af9e7403386ead86aa3493facc7f27
Author: George Nachman <georgen@google.com>
Date:   Tue Feb 23 09:18:46 2016 -0800

    Default Google search to SSL

commit 92c246e73203e12f91020cef04f5d685956524e2
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 22 22:49:58 2016 -0800

    Draw 'Tab Color' label properly with a dark theme. Issue 4298.

commit fc8d36dd9aeac6f3abce3cbd9f8d7746ca0e330e
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 22 22:41:25 2016 -0800

    Fix a bug where percentages in imgcat didn't work. Issue 4300

commit f888a5e66fc3e3ebb112296e5d3b84c205afe5be
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 22 21:03:09 2016 -0800

    Change how DefaultKeyBindings.dict is handled. When you press a key that cannot possibly lead to insertText:, we just handle it like a regular keyDown. Not really a solution to issue 4209, but makes things a little nicer.

commit 4e5e5841bbca659004b3a1b6f28bb85a61c27291
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 22 20:41:54 2016 -0800

    Refactor iTermNSKeyBindingEmulator. It was wrong to use a shared instance, since it had per-terminal state, so it is no longer a singleton. It now initializes itself, also. Lots of code moved into class methods.

commit 9f484c51d278af4466b6cbb7f4a9f3fdc8a815a7
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 21 23:15:04 2016 -0800

    Treat IP addresses and hostnames with at least two components as URLs for semantic history. Issue 4281.

commit 026b556de0eb96995bff246ca69e0177338c2a71
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 21 22:16:54 2016 -0800

    Fix a bug where hotkey windows appear without blur initially. This seems to be because setting blur on a transparent window does not work. Issue 4280

commit f82b435fcc1b197b33c08c71122de99c566756a8
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 21 22:08:08 2016 -0800

    Account for vertical spacing when drawing mark indicator. Issue 4279

commit 59e5d5d331e5838f7a9d3f0f2f7ae05ab18bb6dc
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 21 21:11:39 2016 -0800

    Extend disablePotentiallyInsecureEscapeSequences to affect title reporting, DECRQCRA, and EndCopy

commit efcfea9bec83b579dfa2722c20bbe3ab1e3444cc
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 21 20:54:58 2016 -0800

    Remove deprecated BeginFile/EndFile escape sequences. Add an advanced pref to disable escape sequences that could be misused by untrusted content. Issue 4229.

commit 4616c3373ba7c8d042b790fdfe9366c9e2c254d0
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 21 20:34:45 2016 -0800

    Fix warnings that got logged when creating an image without providing the image's backing data (which is only needed by animated GIFs and are not used internally for broken pipe)

commit dadbc8fbe541d84a921d4f73ab54121b23c5fc8a
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 21 20:34:07 2016 -0800

    Fix a bug where the broken pipe images would disappear when undoing the close of a session because its mark was removed during resizing

commit 76d55ddf863e9961aa355fdfe5016a614920227a
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 21 20:22:47 2016 -0800

    When reviving a session with a broken pipe, show the restart announcement. Append the broken pipe message to auto-closing sessions so they will have it when reviving. Fix a bug where announcement views lived in the view hierarchy forever. Issue 4230

commit b01d22c14f8189a1786a219bf4bb8cee6145b966
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 21 19:47:16 2016 -0800

    Remove bogus NSLog

commit 361b49214cda6672b1aea0608cfbafe35656aee6
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 21 19:46:11 2016 -0800

    Don't show auto command history if the current command is empty. Issue 4246

commit e70fcd0c906dfdece1e22622d0dc84cb8bace03a
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 21 19:40:46 2016 -0800

    Fix a bug where the pencil icon would not appear if growl notifications were off. Seems to have been introduced in 6c4ad8f7. Fixes issue 4255.

commit 2efe220b80511576c601302f823dbff3d5a2998e
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 21 18:06:26 2016 -0800

    Don't make a hidden hotkey window key when the app becomes active, focus follows mouse is on, and the mouse happens to be over the frame of the hotkey window. Fixes issue 4260.

commit af187f63f3c0b916200900e8e3430ef8785c6407
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 21 10:51:17 2016 -0800

    Don't check ~/.ssh/ssh_config, because it is not standard. Issue 3690

commit c32125ffbe66538d9c44ef51c87a424afcb59105
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 21 10:49:16 2016 -0800

    Work around an apparent bug in libssh2 where it clobbers known_hosts entries with key types it does not recognize. Issue 4250.

commit 65fc01fd8d95fe649be164645711f6211075c035
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 20 23:28:21 2016 -0800

    Fix a bug where automatic profile switching didn't work in fullscreen. This happened because when you ssh'ed the first RemoteHost interval would be on the last line in the terminal which was blank. APS would switch profiles, which would cause the screen to resize if the fonts were different sizes. When converting the ranges of these intervals from their source width to their destination width, they would be thrown out because they were on blank lines and when trimmed their length was 0. The fix is to tolerate these ranges being empty (their actual width is irrelevant). There was another issue in -[LineBuffer coordinateForPosition:width:ok:] where, when given a position equal to the end of the line buffer, it would return a coordinate that was at or after all the empty lines at the end of the line buffer. This commit fixes that problem as well, since it would have incorrectly moved the RemoteHost we're trying to fix down to the bottom of the screen.

commit b481c26ceb603874d209978a7c7fd20603a56644
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 20 17:57:58 2016 -0800

    When editing a profile's name, first lock the selection, then modify the preference, and then select the locked guid. Fixes issue 4085

commit b80aa7792c52e16c52030111619f20c8aa14da0a
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 20 17:10:58 2016 -0800

    Make a user-initiated reset of the terminal restore the cursor guide to its state as specified by the profile, not always off. Issue 4272

commit d6b2ec4128485c49a8d66b2c66eb56a15e51e9c2
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 20 17:05:14 2016 -0800

    Make left tab bar width adjutable by dragging. Issue 4270

commit 5086f00eba121ee78da192b51635e3e4733e1951
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 20 16:35:36 2016 -0800

    When a window was made Lion-style fullscreen during system window restoration and then you exit fullscreen, we need to update its blur status. Issue 4269

commit 7db2c7ec88df3c06f7b911387d72f5e67d04ae9f
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 20 16:30:41 2016 -0800

    Move focus back to textview after double-clicking an entry in the past history tool

commit 508fc224e5a85267f8ccee680d11d2f0e609ccff
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Feb 19 22:00:26 2016 -0800

    Handle filenames with spaces in imgls

commit c0d0efbdd2a8507693dcbd566422bb822e8ba2c5
Merge: 64a406ea 6e2b0b54
Author: George Nachman <georgen@google.com>
Date:   Fri Feb 19 15:08:21 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 64a406ea304aae97e067a845af50aaa08b4e5f69
Author: George Nachman <georgen@google.com>
Date:   Fri Feb 19 15:08:07 2016 -0800

    Make imgls do something reasonable in the no-arg case. Issue 4248

commit 6e2b0b548007ac5565a571d00ab04667bf8929ec
Merge: 2c3cb315 b465125c
Author: George Nachman <gnachman+github@gmail.com>
Date:   Thu Feb 18 22:26:07 2016 -0800

    Merge pull request #269 from ronyfadel/rony/fix-leaks
    
    Fix a bunch of leaks

commit 2c3cb315416ec72f9dbdb1a70b7230677ca013fb
Merge: e30082be 8997fd68
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Feb 18 22:10:02 2016 -0800

    Merge pull request in

commit e30082be2e1ac663b9d7c2eefedee8520baeae25
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Feb 18 22:08:26 2016 -0800

    Ensure badge formats are base-64 encoded to avoid a crash. Issue 4219

commit b465125cb565847af6924c305356a1f94aca34b1
Author: Rony Fadel <rony.fadel@gmail.com>
Date:   Thu Feb 18 21:45:03 2016 +0100

    Fix a bunch of leaks

commit 8997fd68ca2ae51f454778ff2895fb9c7ec9056d
Merge: f98ef599 432449b8
Author: George Nachman <gnachman+github@gmail.com>
Date:   Tue Feb 16 21:51:10 2016 -0800

    Merge pull request #267 from ronyfadel/master
    
    Fix TabClose_Front_Pressed.png x alignment. It was originally off-center to give a 3D look when pressed but it looks silly with the El Cap motif.

commit 432449b8ca17ae1d2a5a76b3b6bedf9d2ba08e8d
Merge: 9185f46d f98ef599
Author: Rony Fadel <rony.fadel@telecom-paristech.fr>
Date:   Tue Feb 16 17:12:24 2016 +0100

    Merge branch 'master' into master

commit f98ef59917d637feed2209332762bb2e4463c6b7
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 15 22:22:15 2016 -0800

    Add internal_unsafeObject to iTermWeakReference, since its role is like weaklyReferencedObject.

commit 0db8533107deb89258f5b65a38080990ad72eb0b
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 15 22:04:31 2016 -0800

    Fix comments

commit 20fa916c33fb4d22cc76cd31eb3f80955816706f
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 15 22:03:11 2016 -0800

    Fix merge errors in previous commit

commit 8d12b8531c353e43737bbc00ff817805573c6452
Merge: c42b2425 829fc9cd
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 15 21:57:46 2016 -0800

    Merge branch 'saferWeakRefs'

commit 829fc9cddfe4f9e1e037bb47d035ca619c035169
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 15 21:24:09 2016 -0800

    Change how weak references work to be much safer. Objects must opt-in to weak referencing. The previous technique was a failure because associated objects are autoreleased.

commit c42b2425cf4afa3d2a87414fb89134ebb5c9a87b
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 14 15:54:37 2016 -0800

    Remove broken weak reference code. This seems to be a lost cause, as even MAZeroingWeakRef with minimal hackery is broken on El Cap. My version was very primitive in comparison and didn't handle KVO.

commit 9185f46d7390f444027abeab9ae7d646af35a1bc
Author: Roan Delyf <roandelyf@gmail.com>
Date:   Sun Feb 14 01:19:45 2016 +0100

    Fix TabClose_Front_Pressed.png x alignment

commit 66ba7ec905398b02df8a2473f3c33446d83330f6
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 8 21:50:01 2016 -0800

    Fix bug where cmd-opt-shift dragging a session in a tab with single session into its own window's tab bar caused the window to close. Issue 4189.

commit b22e4299a429a8f586e0c468dbed28e34176323d
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 6 23:09:07 2016 -0800

    Add support for lion fullscreen windows to tmux integration

commit a98206bf1474e27a966065877935de052ae04569
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Feb 5 21:28:20 2016 -0800

    Remove quit command from standard suite to try to fix issue 2130

commit 90507cef3f1ff3fe91b3ced47c3ac24cf694cad6
Merge: 70038e7f 01002989
Author: George Nachman <gnachman+github@gmail.com>
Date:   Tue Feb 2 15:20:25 2016 -0800

    Merge pull request #266 from jgavris/coveralls
    
    Add Coveralls for test coverage.

commit 010029897c12a207819041528d375cd5af13430b
Author: Jason Gavris <jgavris@gmail.com>
Date:   Tue Feb 2 13:48:45 2016 -0500

    Add build status badge

commit dada08eb3f1d056d8baa63f687b07587069156c7
Author: Jason Gavris <jgavris@gmail.com>
Date:   Tue Feb 2 13:48:11 2016 -0500

    Add coverage badge

commit c9a9734e220b05e7d9c3e07d14acde624ca5a517
Author: Jason Gavris <jgavris@gmail.com>
Date:   Tue Feb 2 12:05:58 2016 -0500

    Add slather script

commit 4491b24cb073384fd4c63a757ea8d28c1c7fc0b2
Author: Jason Gavris <jgavris@gmail.com>
Date:   Tue Feb 2 11:58:51 2016 -0500

    Add slather gem

commit 7855a2bfc5f7bdac7a386226f654de140f4ec5d2
Author: Jason Gavris <jgavris@gmail.com>
Date:   Tue Feb 2 12:06:34 2016 -0500

    Enable code coverage

commit 70038e7fbec379ea3805cb609c0eb03136b81f1e
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 1 22:18:03 2016 -0800

    Fix bug with how the clicked-on splitter is determined, which caused us to pick the wrong splitter in tmux integration mode, which caused issue 4163.

commit 8dff8db518093000b2918350d65c1c5dfedf3c89
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jan 29 20:41:34 2016 -0800

    Use unique IDs to identify PTYWindow in scripting rather than indexes. The notion of windows being ordered is misbegotten. It causes issues like #4157.

commit 0af54e14a71fa1cbefa83dd21778fe8993e6cda9
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jan 28 21:35:05 2016 -0800

    Add off-by-default smart truncation for tab titles.

commit fcccdbe7f1fa60f2a0ec88cd730eeed8add8a16d
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jan 28 20:41:34 2016 -0800

    Fix a bug where move start of selection forward by mark will jump over a mark when lines are adjacent. Issue 4154.

commit 58cb57ac3911fbe1a70dee22d0bdc9783213a848
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 27 22:18:43 2016 -0800

    Minor code cleanup

commit 1e3610f76a6114ca456e6a6804ba1d93ee9e590a
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 27 22:02:28 2016 -0800

    Refactor code that decides if the hotkey window should be hidden when a window resigns key. Add a feature to try to detect when spotlight is opened to not auto-close the hotkey window when that happens. The new feature is behind a default-off flag because I'm sure it'll do something unexpected. It should be turned on by default in the 3.1 beta.

commit 3a418f5f838f08ba3641909ee95a7e005178a489
Merge: 26484871 d94c6a52
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 25 20:17:52 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 264848713b7dd150a3413d6801ecd46bcb357844
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 25 20:17:42 2016 -0800

    Toggle the dock/menu visibility when switching desktops to a hotkey window to work around issue 4136.

commit d94c6a524e150c5d4e2192a2688313b410fb0d8e
Merge: f03bcdc1 081ad45c
Author: George Nachman <gnachman+github@gmail.com>
Date:   Mon Jan 25 14:20:41 2016 -0800

    Merge pull request #265 from jgavris/test-coverage
    
    Mock defaults for PTYTextViewTests. Adds Cocoapods, Adds OCMockito and OCHamcrest. Adds iTermSelectorSwizzler so tests can replace NSUserDefaults with a mock. Fixes disabled tests by setting user defaults for them. Re-enables those tetsts.

commit 081ad45c97c583f67d986114a2d841e139b31dbb
Author: Jason Gavris <jgavris@gmail.com>
Date:   Tue Jan 19 15:41:31 2016 -0500

    Swizzle out NSUserDefaults in PTYTextViewTests

commit 47341eadd029141d461e9d29381df55bb4d2d973
Author: Jason Gavris <jgavris@spotify.com>
Date:   Wed Jan 20 22:46:57 2016 -0500

    Add OCMockito

commit 0832adfbdb50c1ed2f64248295b007df2b1f3137
Author: Jason Gavris <jgavris@spotify.com>
Date:   Wed Jan 20 21:25:57 2016 -0500

    Add Cocoapods / workspace

commit 2ff92f2caffd20abbcf3fa438d01fe1c3e7f4c57
Author: Jason Gavris <jgavris@spotify.com>
Date:   Thu Jan 21 23:21:33 2016 -0500

    Fixup .gitignore ignoring *.xcodeproj

commit f03bcdc1e028c0f87f5526dce37461c6166c08bf
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jan 23 20:26:30 2016 -0800

    Escape recent directory when double clicking on it in toolbelt. Issue 4150

commit 76fe643f505eb3a0eed5a8390c39325e3c22d179
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jan 23 19:52:52 2016 -0800

    Add the ability to move the selection start/end forward/back to next/previous mark

commit b557e680150a2022ac4b6d0ee36530c435fedf65
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jan 23 11:12:03 2016 -0800

    Fix incorrect tip about how to select the output of the last command.

commit c1595608abdfa46d74869af3efaab2ad485ccdb5
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jan 23 11:10:50 2016 -0800

    Fix test breakage

commit 581a5dc52769efc44d5c3811a642fd0afc4114db
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jan 23 10:54:47 2016 -0800

    When switching between primary and alternate buffers, invoke -redraw after a very short delay rather than immediately so there's no flash when an app wants to switch buffers, write a little, and immediatley switch back.

commit 6e5844bdbb9652294f249620aea4c2588eaa5e12
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jan 21 21:03:44 2016 -0800

    Fix a bug where full-screen flash would sometimes not draw a full frame without any flash. What would happen is that further updates were canceled from within drawRect:, but if the rect being drawn were small and ill-timed, most of the screen would never get redrawn. Now, a call to setNeedsDisplay:YES always gets made after the alpha reaches 0.

commit d2cbe7526a6cee9dfa09eede71a2c35cf67f294f
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jan 21 20:26:31 2016 -0800

    Fix a bug when a dynamic profile inherits from a profile with the deprecated preference KEY_DEFAULT_BOOKMARK set to yes, which would cause it to possibly become the default profile. Issue 4115.

commit 17319d9a442b5f3286b286f79ab4ef4df8fbe610
Author: aljex <bw.aljex@gmail.com>
Date:   Fri Jan 8 00:26:23 2016 -0500

    Make the anti-idle interval a profile preference. By aljex@github.

commit 7cf982168012a410fba566f4619e1708ef9ceb20
Merge: 8352898f 95c66734
Author: George Nachman <gnachman+github@gmail.com>
Date:   Tue Jan 19 14:23:06 2016 -0800

    Merge pull request #264 from jgavris/test-coverage
    
    Re-enable disabled tests (iTermShellHistoryController)

commit 95c667346eb4f28616dec2eb1f4503314c7501b6
Author: Jason Gavris <jgavris@gmail.com>
Date:   Tue Jan 19 15:44:55 2016 -0500

    Fix iTermShellHistoryController tests that depenend on persistence

commit 8352898f11883f32ba277dfa7693d59216d5a87a
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 18 21:04:28 2016 -0800

    Remove use of __weak, which XCode 7.3 disallows with manual ref counting

commit d88dc762f6aa7af833fc217efe476bcd94a63a82
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 18 20:43:54 2016 -0800

    Work around a crashing bug where a divorced profile has a GUID not in sessionsInstance. See issue 4141 for future changes related to this issue.

commit c8ace05fffb8a1237d22ff7dfd59aa82df265211
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jan 15 21:39:24 2016 -0800

    Fix a crash in ColorPicker where blackColor was placed in _colors but we asked for -redComponent.

commit 2ae081e1b29fbf07b710f3ac65b07ca5634a1ccd
Merge: 30c2a3a2 c72ae8e9
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jan 14 22:47:53 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 30c2a3a2378c543a6011a73831e980029327eff3
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jan 14 22:47:44 2016 -0800

    Add sanity checks to try to track down crash

commit c72ae8e988a9b8c8f7248bd0457c052ef684f092
Merge: ff8c9b47 16f9980c
Author: George Nachman <gnachman+github@gmail.com>
Date:   Thu Jan 14 14:34:49 2016 -0800

    Merge pull request #263 from jgavris/travis-ci
    
    Add support for Travis CI

commit 16f9980cb43c47dc42aa5c6ce987e9bb8d728a09
Author: Jason Gavris <jgavris@gmail.com>
Date:   Thu Jan 14 16:20:24 2016 -0500

    Temporarily disable failing tests

commit 3fa8fe0a50c022f802d7967af23cab099697032e
Author: Jason Gavris <jgavris@gmail.com>
Date:   Thu Jan 14 16:27:57 2016 -0500

    Add travis CI config

commit 3bd31b731e28130b76a61b7ae0ddfe513a0f3ef0
Author: Jason Gavris <jgavris@gmail.com>
Date:   Thu Jan 14 16:38:10 2016 -0500

    Make iTerm2 scheme shared

commit ff8c9b47273d26135b20d4d1dd3b2ebb438fab8b
Author: George Nachman <georgen@google.com>
Date:   Thu Jan 14 10:36:31 2016 -0800

    If a trigger causes automatic profile switching to change the profile then _triggers would get deallocated. Keep triggers around for the duration of the for loop in checkTriggers and break out of it if APS fires.

commit d8dbef2e8f863376219a35bb6c9924c0d5c7fac3
Merge: 05ee09eb f070a459
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 13 22:29:45 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 05ee09ebb4262c00eedef9db8dccfe92b40d0002
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 13 22:24:51 2016 -0800

    Don't assert if the managed object model can't be initialized. Not sure why this would happen (bundle corruption?), but it's a pointless crash.

commit 868a87870da4ee6b6c00027e35fb0cefc1437bef
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 13 22:20:52 2016 -0800

    Fix bug where buffer+bufferOffset was freed when it should have been buffer.

commit 54f63c61885db0230d51d9902127548685e31246
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 13 22:15:07 2016 -0800

    Fix bug where a trigger causing a session to get terminated causes a crash. Happened for me once when a trigger set the hostname/username and automatic profile switching kicked in.

commit f070a459f8a64517fa9824e902fc929325dfe026
Author: George Nachman <georgen@google.com>
Date:   Wed Jan 13 15:30:31 2016 -0800

    Tweak tip of the day visual design

commit 7d7cfc106bfeb4938ad34647ec3bb1ef737cb9d7
Author: George Nachman <georgen@google.com>
Date:   Wed Jan 13 15:16:19 2016 -0800

    Add a menu item to show the tip of the day. This necessitated changing the Disable Tip button into a toggle, since you can now show tips while they're disabled.

commit ba5b71ff24bd073a116fca7427168ee240e2b540
Author: George Nachman <georgen@google.com>
Date:   Wed Jan 13 14:46:01 2016 -0800

    Restrict the tip of the day to when iTerm2 is active.

commit 9fe46ea06773ed2a94f87796df72f6dd03a6044c
Merge: 36930ce6 e909de81
Author: George Nachman <georgen@google.com>
Date:   Wed Jan 13 14:46:08 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit e909de81ff3aed82d341c8d1aa38fc0bd0e697dd
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jan 12 21:04:07 2016 -0800

    Speed up the open quickly window's animation

commit a0c05fa0824cb0dec1417b20e31ee539c7707bd6
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jan 12 20:56:04 2016 -0800

    Fix bug where indicatorRectForTabCell: called itself when tab numbers were hidden, causing unbounded recursion.

commit 0ebb2185a0c8c56916a9107763c31b1e2eba230e
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 11 21:30:02 2016 -0800

    Add applescript commands on session: 'variable named X' and 'set variable named X to Y'.

commit 23d37a745962cbcf0c93510eb1e925e21ac788b8
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jan 7 20:43:32 2016 -0800

    Hide the tab bar's icon if the indicator is showing. Move the indicator to the left of the shortcut.

commit 41b0e13d9a65d355f8e630ec840d001061e2de1f
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jan 7 17:03:09 2016 -0800

    Fix bug where window arrangements in dock menu were not added.

commit 6865a8de96602111d8830b8a8d20c51995324cbd
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 6 22:15:49 2016 -0800

    Rename sources/iTermURLSchemeController to sources/iTermLaunchServices

commit d8e24b262ac6f49f4eac8f5a142d8fc9d1e3b3a1
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 6 22:12:56 2016 -0800

    Move iTermLaunchServices into iTermURLSchemeController

commit 91c22b5e30e4c7a8cbdde719498c29cb991e4d5d
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 6 22:10:05 2016 -0800

    Move some code for setting the default terminal into iTermLaunchServices

commit e28fbddeeae016201fa3c68453f42cc6a5d1247e
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 6 22:04:50 2016 -0800

    Clean up code for updating restore window arrangements menu

commit 0622971fe057700c583cccff86b1cf49fbe7c5c4
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 6 21:55:41 2016 -0800

    Minor style improvements

commit cd58f88a75dc254b6254218d66cf88617db51a37
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 6 21:55:00 2016 -0800

    Remove unused ivar

commit 82ea2e8e271830df0dd6b598ea769ada1ead3d3a
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 6 21:54:48 2016 -0800

    Remove dead code

commit 0b8f518284906bfbd42f6d0f3ff783542207b1a8
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 6 21:53:34 2016 -0800

    Remove some dead code.

commit 8ccce9d8308028bf906008ac65f98c0cbd2f94ff
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 6 21:51:55 2016 -0800

    Clean up nextTerminal/previousTerminal methods

commit c066894ff6781050e5a6842ce4d5432ac7f5b67e
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 6 17:49:44 2016 -0800

    Change thin strokes for aa text to have three settings: always, never, retina-only. Defaults to retina-only. Issue 4118.

commit 5b049f1489b389979f66b974a2481b61bce38e1f
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jan 6 16:52:35 2016 -0800

    Report success even when CPSStealKeyFocus returns an error

commit 36930ce6524516280d8478d7cab7b6bc600a30d7
Author: George Nachman <georgen@google.com>
Date:   Wed Jan 6 13:45:06 2016 -0800

    Order out the hotkey window when restoring app state. Issue 4065.

commit 9fd9b513f3898a5d3dece6d4fe491149900cc1e7
Author: George Nachman <georgen@google.com>
Date:   Wed Jan 6 13:24:55 2016 -0800

    Turn off key focus stealing by default until 4113 has been fixed

commit b57c5ff34b79d3e49dc0699fb43e727e62556bc7
Author: George Nachman <georgen@google.com>
Date:   Wed Jan 6 12:25:21 2016 -0800

    Move dealloc

commit f15aab17e2c994a9729a23ee1a57c261fd85cf5a
Merge: 079c3b4d 4c0d0e8b
Author: George Nachman <georgen@google.com>
Date:   Wed Jan 6 12:23:53 2016 -0800

    Merge branch 'roandelyf/advancedTab' of https://github.com/roandelyf/iTerm2 into roandelyf-roandelyf/advancedTab

commit 079c3b4dd8216218a0e1324d7771e594486343f0
Author: George Nachman <georgen@google.com>
Date:   Wed Jan 6 11:10:44 2016 -0800

    Fix compiler warnings

commit c81645d32e727d4fe41492ca008ea062a5627ce1
Merge: 7df8a02c 885bc2f1
Author: George Nachman <georgen@google.com>
Date:   Wed Jan 6 10:58:56 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 7df8a02c4f5c001f673eafedc0baa99d01f9d0a7
Author: George Nachman <georgen@google.com>
Date:   Wed Jan 6 10:58:34 2016 -0800

    Add a name for key actions on the insert key for keycode NSInsertFunctionKey

commit 885bc2f1ffa3aef24ad2897280664fb2379164dc
Merge: ab3e1186 a3d3cd6c
Author: George Nachman <gnachman+github@gmail.com>
Date:   Wed Jan 6 10:57:57 2016 -0800

    Merge pull request #253 from aljex/char-enc-pref
    
    Store Character Encoding profile preference as an NSUInteger instead of int. This is both forward- and backward-compatible.

commit 4c0d0e8bf996fa7b12f26ed4d9ecc3f9ffdc268b
Author: Roan Delyf <roandelyf@gmail.com>
Date:   Wed Jan 6 00:20:13 2016 +0100

    Cache filtered advanced settings
    
    This property is accessed multiple times per table view reload. We were unnecessarily
    recomputing the same value hundreds of times.
    
    This patch also caches a global sorted settings, as this value is constant and is accessed multiple times.
    
    Advanced tab load time decreased dramatically.

commit ab3e1186a31214941fb16570e6ee1e0d7c8e944d
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 4 23:02:09 2016 -0800

    Minor style improvements to iTermController.m

commit 4c780a3a42a57121f68b2911d687226c88964bac
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 4 22:48:20 2016 -0800

    Minor but incomplete modernization of iTermController's shared variable

commit cc226c08e39b133658c23e7bbb9a6cc762f8f444
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 4 22:45:50 2016 -0800

    Move save/restore previously active app out of iTermController and into HotkeyWindowController.

commit f3e973ccb36c0a25d816f6fbda7292a4b01da5c6
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 4 22:34:37 2016 -0800

    Use a proper type for _frontTerminalWindowController

commit 41000b30716f786c7bafd5e1d8bb4787a21616b4
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 4 22:33:55 2016 -0800

    Move keyWindowIndexMemo out of iTermController and into HotkeyWindowController where it belongs, and rename it to a more sensible name.

commit 4f8f6e9736b8d8dfa07b20201910487fa033bd0e
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 4 22:23:50 2016 -0800

    Modernize how iTermController treats GrowlDelegate

commit fa99199b84404d1612301758bf89fa54165cd371
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 4 22:18:41 2016 -0800

    Rename terminalWindows iVar to _terminalWindows

commit d9024baae261dae74ce427d8b70b259872410f25
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 4 22:17:43 2016 -0800

    Modernize the FRONT ivar name

commit 424c96690c9a7f9af6ea4c5ce0db91d04ed1a68d
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jan 4 22:15:59 2016 -0800

    Modernize how the OS version is checked

commit a3d3cd6c81b9269d9911525258237247006b27d7
Merge: 9b61421b 238ed96b
Author: Brian K. White <bw.aljex@gmail.com>
Date:   Mon Jan 4 18:16:36 2016 -0500

    Merge pull request #13 from aljex/master
    
    Master

commit 238ed96bee9caf81f63c1953a1283b9e2f9408ed
Merge: b40106e0 f8996cea
Author: Brian K. White <bw.aljex@gmail.com>
Date:   Mon Jan 4 18:11:38 2016 -0500

    Merge pull request #12 from gnachman/master
    
    sync from upstream

commit 9b61421bc853bc12690e308190c0acc5f985a743
Author: Brian K. White <bw.aljex@gmail.com>
Date:   Mon Jan 4 17:53:42 2016 -0500

    nothing, removed an empty line

commit 71896f2b96283a2b5c1751fd631cf101f99b486a
Author: aljex <bw.aljex@gmail.com>
Date:   Mon Jan 4 02:16:29 2016 -0500

    Removed 2 ceil() calls before, but idiotically didn't remove the rest of the tests they were part of, leaving behind essentially 2 x == x noops.

commit 2f6e3f6a8e843b5180a5c67230622cb0640d56f0
Author: aljex <bw.aljex@gmail.com>
Date:   Mon Jan 4 01:46:57 2016 -0500

    add a couple of sanity checks per gnachman

commit 4cae7894ed749513095c895b0ab8e8c166e9789d
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 3 20:49:15 2016 -0800

    Modernize restorePreviouslyActiveApp

commit e81c7edfe0afeccf61209a7e5ebd4478e016018f
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 3 20:45:59 2016 -0800

    Cleanup

commit 5752ab5d958c2079862c816471d45d39e2091c8b
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 3 20:45:33 2016 -0800

    Modernize access to the Scripts directory in iTermController.m

commit ee3590f4553673dfc0f9cf070315f3cfb2e3d1f3
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 3 20:42:58 2016 -0800

    Modernize how the quiet file is located

commit cf731a27402d82561fa0b2fae27118c7f5d7fee1
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 3 20:37:13 2016 -0800

    Modernize how the autolaunch script is located

commit 4fb0cdd0febccf7094adaafe1ea0360ae66b26a6
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 3 20:33:33 2016 -0800

    Clean up how Scripts path is accessed

commit 997f55d5a279b0409bb98ea4c6aac4dd05901779
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 3 20:17:05 2016 -0800

    Clean up how Library/Application Support/iTerm2/version.txt is found and created to be more modern.

commit f8996cea5ae6c96e3dd8702211194fd1c5369037
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 3 16:55:17 2016 -0800

    Fix answerback string applescript support

commit b24c2f783549e553983f0fa06f5df4164a92f19c
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 3 16:41:13 2016 -0800

    Add a scary warning when turning on ambiguous-width is fullwidth.

commit 891d67759ba637a58c6809f1d7dc02903f884a6c
Merge: f9970ec6 5c95bcf4
Author: aljex <bw.aljex@gmail.com>
Date:   Sun Jan 3 19:13:34 2016 -0500

    Merge remote-tracking branch 'origin/char-enc-pref' into char-enc-pref

commit 5c95bcf4f2aadf674c25fbbe98c2c981353667ea
Merge: 741e62fe b40106e0
Author: Brian K. White <bw.aljex@gmail.com>
Date:   Sun Jan 3 19:13:03 2016 -0500

    Merge pull request #11 from aljex/master
    
    Master

commit c16c74b868cdfd945f97a2ba28698596eeae1733
Merge: 1f5856f3 ec834c63
Author: George Nachman <gnachman+github@gmail.com>
Date:   Sun Jan 3 15:47:35 2016 -0800

    Merge pull request #250 from salexkidd/shrink_and_expand_window
    
    Add key actions to change window size.

commit b40106e0a94b2ed28c4c759550cc7ccf33521503
Merge: cf36dab4 1f5856f3
Author: Brian K. White <bw.aljex@gmail.com>
Date:   Sun Jan 3 18:38:58 2016 -0500

    Merge pull request #10 from gnachman/master
    
    Sync from upstream

commit 1f5856f3c6a261d1037bc99777694b26ab0f3731
Author: aljex <bw.aljex@gmail.com>
Date:   Tue Dec 29 08:57:36 2015 -0500

    Add support for ENQ answerback string. You can set the answerback in the Terminal profiles prefs, or via applescript. ^E will cause the terminal to send the answerback string.

commit f18102cfd3959f72415db3dd89a315c906e1f417
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 3 15:18:17 2016 -0800

    Don't allow focus-follows-mouse to make a window key if there is an app-modal dialog open. Issue 4906.

commit 89e4b4e7b38b5ad0b8ea5604a1b238855f22178e
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 3 15:05:51 2016 -0800

    Add an advanced preference to transfrom iTerm2 into a background app. Same as setting LSUIElement in the Info.plist

commit 4612e4641ffd240fb7904adc179ce0a2eb2e2867
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jan 3 14:53:45 2016 -0800

    Fix a bug where the initial titles on tmux integration tabs were not set properly. Issue 4106.

commit f9970ec69dee1d73e042b7b669f298750cfad186
Author: aljex <bw.aljex@gmail.com>
Date:   Sun Jan 3 17:16:45 2016 -0500

    New unsigned int pref types falling through to a regular double handler.

commit ec834c6348c467af7a988c312d79792263134602
Author: salexkidd <salexkidd@gmail.com>
Date:   Sun Jan 3 11:30:50 2016 +0900

    Fix Row/Column to Height/Width and call sessionInitiatedResize

commit 98b059702f095c6420ecf72601dd7c59d42fc834
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jan 2 16:36:51 2016 -0800

    Prevent applescript from activating iTerm2 when it creates a new session (Issue 4101)

commit 22a9665bf9513ef89f12d7d0fe6cd9160b513907
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jan 2 15:12:59 2016 -0800

    Increase width of prefs panel to not cut off the end of the word Displays

commit d9ff42d23cc702b331cfd71c074cde8d2d06ee87
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jan 2 15:02:21 2016 -0800

    Modernize system version number checking a little

commit af61ad60785e432e45b30c053c02de1c5ca84978
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jan 2 15:01:07 2016 -0800

    Change wording of 'thin strokes' to 'sharpen text' and limit it to retina displays since it looks bad on non-retina

commit 27df2017bede7568dadd10a9808232fe5469f785
Merge: 42583b5b 0e18dd1e
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jan 2 14:10:15 2016 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 42583b5b060b2ff667d7e2f2769fd6eb75935692
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jan 2 14:10:07 2016 -0800

    Change Search Google to Search Web, since you can change the search engine's url

commit 0e18dd1eb36a55644f84c271adcfc4d2e107aa52
Merge: 75da04e5 7a2ac4fb
Author: George Nachman <gnachman+github@gmail.com>
Date:   Sat Jan 2 10:08:01 2016 -0800

    Merge pull request #252 from roandelyf/master
    
    Don't draw the Find view's focus ring until it's done animating so it doesn't draw over the tab bar. Modernize some of the OS version checking code.

commit 741e62fece7740f824812dc2f0c1f9f2d68988be
Author: aljex <bw.aljex@gmail.com>
Date:   Sat Jan 2 11:36:20 2016 -0500

    clean out a comment

commit a7178adf45c4747e15219db647fb142df0fe3b61
Author: aljex <bw.aljex@gmail.com>
Date:   Sat Jan 2 11:27:40 2016 -0500

    Conform to naming and style standards.
    Correct a couple of working but technically wrong casts.

commit d1462dedad77b8451f517a48c1a14a46e04c6003
Author: salexkidd <salexkidd@gmail.com>
Date:   Sun Jan 3 00:36:19 2016 +0900

    check DisableWindowResizing

commit 7a2ac4fb21a598a2a284a18dee39d3d7d4fdd765
Author: Roan Delyf <roandelyf@gmail.com>
Date:   Thu Dec 31 00:53:02 2015 +0100

    gnachman's pull request #252 review

commit 55d15470c7931c0a75cc43780d5b4a71d946aff5
Author: Roan Delyf <roandelyf@gmail.com>
Date:   Tue Dec 29 16:47:51 2015 +0200

    Refactor system version check code

commit aac43f515d89b199c7fc95c61e688f3fe95514d2
Author: Roan Delyf <roandelyf@gmail.com>
Date:   Tue Dec 29 16:28:45 2015 +0200

    Align static path strings

commit 695bd94dcedc7d80254ec54a0d5a1771298b25fe
Author: Roan Delyf <roandelyf@gmail.com>
Date:   Tue Dec 29 16:26:20 2015 +0200

    Don't draw focus ring before the search field is completely visible
    
    Otherwise the focus ring is partly drawn above the title bar until the search field
    doesn't overlap with the bar

commit 9d371bfc3eebf264b51f76576cfb153602120e09
Author: Roan Delyf <roandelyf@gmail.com>
Date:   Tue Dec 29 16:25:52 2015 +0200

    Use dispatch_once for one-shot actions

commit 47041ced8a0bf95964c1b02e9717158103a7f024
Author: salexkidd <salexkidd@gmail.com>
Date:   Sat Jan 2 23:14:20 2016 +0900

    Add Increase Column and Decrease Column function

commit 04f7271a0a8dcde97b10d527b1e0524dd594627c
Author: salexkidd <salexkidd@gmail.com>
Date:   Sat Jan 2 22:41:21 2016 +0900

    Change ExpandRow / ShrinkRow to IncreaseRow / DecreaseRow

commit 55bf57fdbb390c2061e87378345b51a1c959197e
Merge: aa94afd1 75da04e5
Author: salexkidd <salexkidd@gmail.com>
Date:   Sat Jan 2 22:22:25 2016 +0900

    Merge branch 'master' of github.com:gnachman/iTerm2 into shrink_and_expand_window

commit 75da04e5c55e68dfa128bf5fab48af0e9374ddc0
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jan 1 21:48:00 2016 -0800

    Allow term-initiated resize of all kinds of window styles except fullscreen

commit 6779dcdc40d1c583e828db5d187b053f594d0dc7
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Dec 31 13:23:15 2015 -0800

    Fix some warnings

commit 1aa26f0a2928c240a2445b86e836db84bfe1aea1
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Dec 31 13:20:22 2015 -0800

    Better fix for crash in PSMTabBarCell

commit 0616263b752e7988118fa2755483fdbef105bee9
Merge: 92f7e148 d25a793f
Author: George Nachman <gnachman+github@gmail.com>
Date:   Wed Dec 30 16:59:42 2015 -0800

    Merge pull request #254 from roandelyf/roan/appdelegate
    
    Access app delegate via -[iTermApplication delegate] instead of casting. Also add +[iTermApplication sharedInstance] to reduce type casting.

commit d25a793fdc32b85315cbf14f5e067a7fb7ffba59
Author: Roan Delyf <roandelyf@gmail.com>
Date:   Thu Dec 31 00:26:41 2015 +0100

    Access app delegate via -[iTermApplication delegate] instead of casting down from NSApplication APIs

commit 7f9818322f9fbf2c133e8510645056af07f78902
Author: aljex <bw.aljex@gmail.com>
Date:   Wed Dec 30 18:44:10 2015 -0500

    Store Character Encoding pref as NSUInteger instead of int.
    
    Fixes: https://gitlab.com/gnachman/iterm2/issues/4105
    
    PTYSession.m (before):
    // Unfortunately, this preference has been saved as a 32-bit int for a while, although it should
    // be an unsigned 64 bit. Luckily, 32 bits happens to be enough so far, since enabling 64-bit
    // storage is in the profile prefs system is somewhat involved. For now, hack off the sign
    // extension.
    [self setEncodingFromSInt32:[iTermProfilePreferences intForKey:KEY_CHARACTER_ENCODING inProfile:aDict]];
    [...]
    // See note at call site about why this exists.
    - (void)setEncodingFromSInt32:(int)intEncoding {
        NSStringEncoding encoding = intEncoding;
        encoding &= 0xffffffff;
        [self setEncoding:encoding];
    }
    
    ProfilesTerminalPreferencesViewController.m (before):
    // Unfortunately, character encoding should have been stored as a NSUInteger all along :(
    // See notes in PTYSession for more details.
    NSInteger tag = [self intForKey:info.key];
    tag &= 0xffffffff;
    [_characterEncoding selectItemWithTag:tag];

commit 92f7e148bd0c1fa0de4b741de2078979d3941842
Author: George Nachman <georgen@google.com>
Date:   Wed Dec 30 11:00:07 2015 -0800

    Move logic for removing a profile into ITAddressBookManager and out of the profiles preferences view controller. When removing a profile from Dynamic Profiles, the view controller might not exist. Also, this obviously does not belong in a view controller. Should fix issue 4104.

commit 1ff362171c7e84c6c7cae619f58c8d0fda1e2987
Author: George Nachman <georgen@google.com>
Date:   Wed Dec 30 10:54:50 2015 -0800

    Nil out PSMTabBarCell's controlView when it gets deallocated to avoid dereferencing it later from a timer. Not quite sure hot to reproduce this bug, unfortunately. It happened when closing lots of tabs at once.

commit 4050b8a83f2ad5a8a65192292a8d9b32b1b89df0
Author: George Nachman <georgen@google.com>
Date:   Wed Dec 30 10:05:57 2015 -0800

    Move dynamic profile code into its own file and add some debug logging to it

commit cf36dab452d6054aa1ae597836da99f6f8000a9b
Merge: f66a7de6 1f336157
Author: Brian K. White <bw.aljex@gmail.com>
Date:   Wed Dec 30 02:09:50 2015 -0500

    Merge pull request #4 from gnachman/master
    
    update from upstream

commit 1f3361577099e5624a34cc42e22de5be4bc6cce4
Merge: 78961529 5feea42c
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 29 22:17:14 2015 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 78961529003992131a97d92fe88daac9ecb62bc8
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 29 22:15:17 2015 -0800

    Use my patched version of NMSSH that contains https://github.com/NMSSH/NMSSH/pull/162
    Issue 4032

commit 5feea42c9d5b0376f0af00eef863492980da912a
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 29 22:15:17 2015 -0800

    Use my patched version of NMSSH that contains https://github.com/NMSSH/NMSSH/pull/162

commit 7135ca29ee1ac7949a82d8d77c398d67b29e01f3
Merge: a955e27e 8d1e11b3
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 29 21:35:41 2015 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit a955e27ecc592803b5d2461af2efd260544123d3
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 29 21:35:32 2015 -0800

    Stop trying different public keys after being disconnected to avoid a crash (issue 4032)

commit 8d1e11b361860ae0e0b370a2482191b4ce907e92
Author: George Nachman <georgen@google.com>
Date:   Tue Dec 29 10:01:05 2015 -0800

    2.9.20151229

commit aa94afd1d6987cd5ab0f18accaf3c22bf4034fb9
Author: salexkidd <salexkidd@gmail.com>
Date:   Tue Dec 29 13:24:29 2015 +0900

    add shrink and expand function to menubar and keyboard shortcut

commit 9d003c01754b09244c7e4682f89125d7fa8a8a7d
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Dec 25 13:51:33 2015 -0800

    Add missing semicolon

commit dd21d0a74058a4de85fd05b7e6df519aca60fe96
Merge: 4828f213 3a9809af
Author: George Nachman <gnachman+github@gmail.com>
Date:   Fri Dec 25 13:49:45 2015 -0800

    Merge pull request #248 from roandelyf/master
    
    Fix find view invocation/dismissal animation when height is less than radius.

commit f66a7de6a36e4d7e35522a6b5084757cc0b6fee2
Merge: edd63053 4828f213
Author: Brian K. White <bw.aljex@gmail.com>
Date:   Wed Dec 23 18:08:20 2015 -0500

    Merge pull request #2 from gnachman/master
    
    Testing merge FROM gnachman TO aljex, I hope.

commit 4828f213ce892ee52c40f1c9144a753459b831f2
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Dec 23 14:07:39 2015 -0800

    Add a warning to warn users about issue 4056

commit 7684a60ebb179af2e9c63e945499dcfcad868436
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Dec 23 14:01:05 2015 -0800

    Force numeric keypad mask on for keycodes on the numeric keypad. See issue 4039

commit 1af93f9bfbee56588d66120412d0a09ccd6855f2
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Dec 21 11:40:25 2015 -0800

    Improve logging and debug descriptions for windows and PseudoTerminal

commit 1bc8de608ccadd19da29c6b08fc392a6fac26b27
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Dec 21 09:10:03 2015 -0800

    Improve debug logging

commit 3a9809afd36ec430d95cc446c48bed2840b20905
Author: Roan Delyf <roan.delyf@gmail.com>
Date:   Thu Dec 17 00:46:58 2015 +0100

    Fix find view invocation/dismissal animation
    
    We were over-shooting the initial find view bezier curve drawing, making
    the curve->line->curve paths discontinuous on both sides.

commit edd63053dd8dbabe6bfa7150cf399d443150e438
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 15 09:04:44 2015 -0800

    Add an advanced pref to disable focus reporting

commit bbfaa3c4f19ea7a3a654044eaeea10e926d5809d
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 15 08:57:56 2015 -0800

    When an x-of-screen style window is manually resized, forget about the desired rows/columns and simply respect the size the user sets. Fixes issue 4073.

commit cf12d72e7f0d2e4eae051d3c9dad25ff84f3f6a9
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Dec 13 10:24:02 2015 -0800

    Fix a bug when appending a string after a double-width character. The DWC_RIGHT copied from the predecessoryString was appended at the cursor, causing two copes of it. This commit changes the algorithm to skip over the preexisting DWC_RIGHT. Issue 4058

commit 238721812ec04f3902fb1dadfaf1db9a448ea0e9
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 12 16:10:43 2015 -0800

    Send CR instead of NL from the applescript 'write text' command to be more like what happens when you press return. Issue 4067

commit 44ef59b2ea9553410ca6cc81467d9b2ed8bdf030
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 12 16:06:34 2015 -0800

    Add Cancel to close tmux window dialog. Issue 4075

commit 8fd396db0d15ef5c3589ff226511b2cf46c04345
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 12 15:40:14 2015 -0800

    Fix a bug where you right click on something, the underlying data model changes before the menu shows, and then you pick an action from the context menu and it acts on the changed text. See issue 4048.

commit 6e9bf6296100cc41f8b01008ce81293f8410a9a1
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Dec 9 22:23:55 2015 -0800

    Turn off the flicker fixer by default. Some users experience lots of latency because of it and I haven't been able to track it down. For example, issue 4050.

commit 930d41002508793808161dbedd1ce912aee07685
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Dec 9 21:53:35 2015 -0800

    Add debug logging to figure out issue 3737

commit 64237881af97f1154d5997b2db14c964f3f5f48b
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Dec 9 21:11:15 2015 -0800

    Change how -rollInFinished gets called to try to avoid the problem in issue 4056.

commit 593da88c1707169523df2f6e8907092f4eb7728d
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 8 21:53:16 2015 -0800

    Use a fixed pitch font for timestamps to improve legibility. Issue 4023.

commit fd420d7fe15376d042d85731e91a08f5a9b42354
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Dec 8 21:52:47 2015 -0800

    Catch errors from core data. Errors can happen if two copies of iTerm2 are running at once and trying to stomp on the same database.

commit c2a79333da01116ce84ec38d573fd95e3f632e4f
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 5 16:03:15 2015 -0800

    Steal key focus when using focus follows mouse

commit 7e56b8aad6bcab27597ba38822b3006e993ea0fd
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 5 11:07:01 2015 -0800

    Remove bogus underscore prefixes on have*Border methods

commit 69e3318f2993b9e4667f505d314686850eaf4082
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 5 11:05:24 2015 -0800

    Fix a bug where top borders didn't draw (e.g., on a no-title-bar window without a tab bar)

commit 6aa2a23b1d2299c77101603349f4896dcb958690
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Dec 5 10:53:27 2015 -0800

    Allow passing a command argument to the split vertically/horziontally applescript commands (in response to a message on the mailing list subject 'iTerm 2.9 AppleScript: exec command in split session, evenly tile panes')

commit 89e417c87d7213993241f76814dd9ea8dd239da6
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Nov 28 17:28:48 2015 -0800

    Fix a bug where deleting a profile would not cause profile list views other than the one in the prefs panel to call reloadData immediately, which causes an assertion as seen in issue 4033.

commit b70a5e9ec1ac4e11e6225aeb51872831e355ee6f
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Nov 28 16:39:10 2015 -0800

    Change how the 'find cursor' works. In the past, each new search that was did not have the previous search as its prefix would highlight the bottommost result first. Now it behaves more like Chrome's find on page: highlight the next result before the last-highlighted result, or before the last click. Typing into the terminal resets the find state to the bottom. A nice side effect is that we don't need to store the previous search any more. This was brought to light by issue 4035.

commit 499a082cd68f8d1f2d78c2df4ba6f3a15465a972
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Nov 26 12:00:06 2015 -0800

    Add an advanced preference to toggle whether typing in the terminal window clears the selection. Issue 4029

commit 6fa0c9b95f347ae52f53fd579023bd7f30c4f8e1
Merge: b0f76a91 728efd78
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Nov 22 09:50:27 2015 -0800

    Merge branch 'rateLimitTitleChanges'

commit 728efd78ef92317bee608ff61b06e145018f180b
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Nov 22 09:49:31 2015 -0800

    Style improvements

commit b0f76a91a927b94e39ab19f43ae0999b0e2c10a3
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Nov 20 21:54:43 2015 -0800

    Clear selection when reporting a mouse click

commit 0270c1158d7d6d9c8133c3f34428b13cb0ae8541
Merge: bf9939ce c2234644
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Nov 20 20:52:40 2015 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit bf9939ce566370925f046ef105fcefad23218665
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Nov 20 20:52:30 2015 -0800

    Clean up the logic around setting pane, tab, and window titles. As noted in issue 4024, split pane title bars weren't updating properly.

commit c2234644ab977fcab1d91df67d8725e0dc55cb5d
Merge: 7e9b8a08 b33179e3
Author: George Nachman <georgen@google.com>
Date:   Fri Nov 20 16:18:42 2015 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 7e9b8a085d3044c064c14c53317d68d51a7718b2
Author: George Nachman <georgen@google.com>
Date:   Fri Nov 20 16:18:37 2015 -0800

    Use terminal's encoding for sendText: and sendEscapeSequence:. Issue 4010.

commit b33179e37b8084373f261b97b94e9fe9b7a65ba9
Merge: 1e25a0bd 6bf376c0
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Nov 19 22:20:09 2015 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 1e25a0bd21a26a2ec0e7cc45fc2d67edcd734be3
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Nov 19 22:19:56 2015 -0800

    Try to make timestamps line up by using a consistent width measurement that depends only on the format, not the specific time. It's calculated by transforming all letters and numbers into the letter M, which ought to leave enough room in most languages.

commit 6bf376c0127bc70f0811f2a738f85a2d780a7055
Author: George Nachman <georgen@google.com>
Date:   Thu Nov 19 16:01:58 2015 -0800

    Improve printing. Add a switch for black and white and enable changing orientation and scale.

commit c0cedf8f584af3176a4988f70f0d5c9aa2993961
Author: George Nachman <georgen@google.com>
Date:   Wed Nov 18 16:59:34 2015 -0800

    Add a TODO

commit e0bb31dea695930a19be033ad3317f0973537c12
Merge: 82a79abf 9600efe0
Author: George Nachman <georgen@google.com>
Date:   Wed Nov 18 16:49:45 2015 -0800

    Merge branch 'BetterComposedCharacterSegmentation'

commit 9600efe06cf5d201ba6451e06d2bc310cc1ec9b9
Author: George Nachman <georgen@google.com>
Date:   Wed Nov 18 11:32:53 2015 -0800

    Use CFStringGetRangeOfComposedCharactersAtIndex to find surrogate pairs and combining marks instead
    of trying to do it by hand, which is buggy (for example, skin tone modifiers only modify certain
    emoji). This fixes issue 4013.

commit 82a79abfdb042714902083d1e51b75b055e49ef5
Merge: a2b593ef ad036508
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Nov 16 23:04:34 2015 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit a2b593ef2dc65e1d42a343d8bb653fc8768caaa0
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Nov 16 23:01:13 2015 -0800

    ColorPicker: Improve graphics

commit 4164bab194fc55aacab826cc5d65c4f901b026f6
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Nov 16 22:39:33 2015 -0800

    ColorPicker: Make it possible to select 'no color'

commit ad03650850b510ed3e26443e754216d81551cdcc
Author: George Nachman <georgen@google.com>
Date:   Mon Nov 16 12:52:13 2015 -0800

    Fix a bug where holding option (for either esc+ or meta) used to force UTF-8. This commit makes it respect the terminal's encoding. Doesn't really make sense with Meta, but nothing seems to.

commit 47edd6071779e09849a008e713d21b0aac5933cc
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Nov 15 12:27:24 2015 -0800

    Rate limit setting of window and tab title to avoid slowdown as seen in bug 3957.

commit eecd833355aa8a1e06c9148b62dab4c16a429cfc
Merge: 36bc2a86 33b5ea23
Author: George Nachman <georgen@google.com>
Date:   Fri Nov 13 16:35:40 2015 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 36bc2a86ac78dad38e6bf44675f15d8eac5b8c95
Author: George Nachman <georgen@google.com>
Date:   Fri Nov 13 16:35:25 2015 -0800

    Disable 'flash tabs in fullscreen' when the settings prevent the tab bar from disappearing in fullscreen

commit f80222bb3a392c96f1e032449239bf8ac2818e4d
Author: George Nachman <georgen@google.com>
Date:   Fri Nov 13 16:30:17 2015 -0800

    Change prefs in appearance from Hide to Show, which makes more sense (no double negatives when they're off)

commit c65e10ac2638971a7f13f9abbd86e2b1a1698054
Author: George Nachman <georgen@google.com>
Date:   Fri Nov 13 16:20:08 2015 -0800

    Add a control to appearance prefs for whether to show tabs in fullscreen. Make the setting affect all windows rather than having a per-window setting.

commit e8233a5094f2f9947a851cc2f091238363900cfc
Author: George Nachman <georgen@google.com>
Date:   Tue Nov 10 17:35:57 2015 -0800

    tmux changed how zoomed windows work in 2.1 and broke our old scheme of respecting the layout that
    it reports in tmux integration mode. Now, we look at the window flag and maximize the window pane
    locally to the size of the tmux window. Upon attaching, all zoomed windows are unzoomed, because
    there is no way to tell which pane is zoomed. That can be fixed in the next release of tmux, which
    adds window_visible_layout, which includes the window pane ID of the zoomed window pane.

commit 33b5ea239be468ace3909730a0469e3a926721c0
Merge: 3deb85a6 1daf0939
Author: George Nachman <gnachman+github@gmail.com>
Date:   Thu Nov 12 21:36:32 2015 -0800

    Merge pull request #246 from radekk/patch-1
    
    Fix typo in comment

commit 3deb85a63684a641ba80447cc4ec564dc7c9cea7
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Nov 12 21:33:26 2015 -0800

    ColorPicker: Add an NSActionCell to the CPKColorWell. This fixes target/action on older MacOS versions (10.8 and 10.9, at least; 10.11 no; not sure about 10.10). Also copy the framework into ColorPickerDemo.

commit 1daf0939cfa7f3d8d89525f9323c237ff26a3296
Author: radekk <radoslaw.karpowicz+git@gmail.com>
Date:   Thu Nov 12 22:10:47 2015 +0100

    Fix typo in comment

commit 2383f106a69fd2269cafb03b5d90a6c85a945824
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Nov 11 22:56:35 2015 -0800

    Add a TODO for setupterm, which is leaking memory.

commit ceeb2d68e30a3bf65fb36d660db71e23a63cdb7b
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Nov 11 22:51:09 2015 -0800

    Fix more wrong things with that tip, per Clive.

commit f850a56a92bd74f7fcda8fcfc5fabba0a01746e9
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Nov 11 22:50:21 2015 -0800

    Fix Annotations tip. Thanks, Clive!

commit 29d0bf6008bb105fe699c76175d9cea191204e33
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Nov 11 22:49:34 2015 -0800

    Fix a wrong comment

commit a2160445e10e051d19b81833efd3250020e5b054
Merge: 96a0669b 0d43a88e
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Nov 11 21:30:47 2015 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 96a0669b99a331b0b0698824f346f5ed3712793e
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Nov 11 21:18:31 2015 -0800

    Fix leak of LineBuffer's blocks when creating an append-onlyc opy

commit 0d43a88e52577488403d55192b843b9be62d66d1
Author: George Nachman <georgen@google.com>
Date:   Wed Nov 11 12:42:05 2015 -0800

    2.9.20151111

commit c3fcca0218d9ccd0ae15cf1e86e13f510aa2d3aa
Merge: b1ac008b ae8a4349
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Nov 10 22:29:20 2015 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit ae8a4349560989043b77649b24bba65f05945648
Author: George Nachman <georgen@google.com>
Date:   Tue Nov 10 10:05:20 2015 -0800

    Show a special title for the tmux gateway

commit b1ac008b2cd5bf5efbc145d3e68756acae39a1fa
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Nov 9 20:34:43 2015 -0800

    Modernize xib files and fix some warnings

commit 1c520ad057988ec6c659e898bedf2c127d1e9cc7
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Nov 9 20:32:36 2015 -0800

    Fix find cursor for older OSes by not using layers.

commit 554757e8d27ad0f8ab9924e7a92e872bee8b8991
Author: George Nachman <georgen@google.com>
Date:   Mon Nov 9 17:26:45 2015 -0800

    Add trigger to set the shell integration directory

commit 5f2b1a5312d7047ffb55e4218ffd49b155863b30
Author: George Nachman <georgen@google.com>
Date:   Mon Nov 9 17:11:13 2015 -0800

    Fix bugs with rendering multiline badges

commit e6dd8cc9b0bcff310fef2f313d88d2fe6e8e0d39
Author: George Nachman <georgen@google.com>
Date:   Mon Nov 9 17:10:22 2015 -0800

    Add a trigger to set the username and hostname for when shell integration isn't an option

commit c38ef0f126711606fac6aa3c664b2f5d50aef81d
Author: George Nachman <georgen@google.com>
Date:   Wed Nov 4 15:12:16 2015 -0800

    Don't let a new split pane steal focus when focus follows mouse is on, as long as the pointer remains motionless.

commit 3a11c6ae9b6f9af7d06854421784d1db54a7c5af
Author: George Nachman <georgen@google.com>
Date:   Tue Nov 3 15:11:36 2015 -0800

    Make force touch show dictionary definition or web view in a popover by default.

commit f880a13e74b105f6ddc52073390e5916eec44163
Author: George Nachman <georgen@google.com>
Date:   Tue Nov 3 12:01:59 2015 -0800

    Don't have PTYTextView maintain its own tracking areas because its frame changes all the time. Let SessionView do it and pass the events down. An attempt to fix issue 3974

commit f0023bd3a838be488df7c18ea61e2d4201b0a48f
Author: George Nachman <georgen@google.com>
Date:   Mon Nov 2 11:53:32 2015 -0800

    Redraw the cursor's frame after setting it visible when doing find-cursor

commit bc508309a0bc7a85ea80f07916a6e7f20769646f
Author: George Nachman <georgen@google.com>
Date:   Mon Nov 2 11:51:15 2015 -0800

    Revert to spotlight find cursor view. Keep the others around for special occasions.

commit 27d792596aa999c28e2c5e1d76f28498369950e3
Author: George Nachman <georgen@google.com>
Date:   Fri Oct 30 10:55:38 2015 -0700

    Keep selected region visible when manipulating its endpoints with the keyboard

commit 5bbfc4d5fdc2def1d3b7fffacb5e75e3f5bcfa80
Author: George Nachman <georgen@google.com>
Date:   Thu Oct 29 17:16:23 2015 -0700

    Fix bug with moving the selection end to the right by words where it went too far after hitting trailing nulls

commit f5fcb36653194800d2c62870c7a12e9984a4f691
Author: George Nachman <georgen@google.com>
Date:   Thu Oct 29 17:05:40 2015 -0700

    Add key binding actions to move selection endpoints

commit bec540020b6b875c965cc0163097e234fee041be
Merge: 4dde78b2 a215be9f
Author: George Nachman <georgen@google.com>
Date:   Wed Oct 28 13:46:25 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 4dde78b27d560d3f0e0553cb26721843bad1c7a0
Author: George Nachman <georgen@google.com>
Date:   Wed Oct 28 12:27:38 2015 -0700

    Add an advanced pref to disallow dragging a tab into its own window

commit a215be9f30b8e0560cb940236c6916cdae0335a5
Merge: c916fe3c cc1688cd
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Oct 27 21:02:31 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit c916fe3ca26ade8d18859c2328a2de35730fd353
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Oct 27 21:02:23 2015 -0700

    Change Applescript windows element to return only terminal windows. I think it will fix issue 3910

commit cc1688cd1464249ea596dc14721a47295452cb93
Merge: 3e04d9a0 5b0bb6cc
Author: George Nachman <gnachman+github@gmail.com>
Date:   Mon Oct 26 22:21:42 2015 -0700

    Merge pull request #245 from mikecappella/master
    
    Fix a bug in imgls.pl: the test for recursion was inadvertantly dropped.

commit 3e04d9a0b43ef63ff701c8992a241f727e3b5592
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Oct 26 22:16:36 2015 -0700

    Make cmd-click in an inactive pane in the key window activate semantic history without changing first responder. Issue 3966

commit 5b0bb6cc552fa4a40ab7c116dee98220c394951f
Author: Mike Cappella <mike@cappella.us>
Date:   Mon Oct 26 22:08:50 2015 -0700

    Fix for recursion always being enabled
    
    A flag test for recursion was inadvertently dropped, so recursion was
    always enabled.

commit aa35650b1d369b33f0ffb53a2270b8cc5394929a
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Oct 26 21:36:23 2015 -0700

    Don't perform rectangular selection if control+option+cmd is pressed. Issue 3960.

commit 7185f929595ac9a4da64174e55a665f9dcc16703
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Oct 26 21:29:13 2015 -0700

    Don't allow a fullscreen window do be moved with cmd+opt+shift+drag

commit 48a63f09c9a9a9f706de7954a51e9b939cf2960a
Merge: 9adfa8e2 4088c51a
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Oct 26 21:20:25 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 9adfa8e250217526c418bc68de404b33889c4af4
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Oct 26 21:19:42 2015 -0700

    Fix how floating point numbers are compared in -orderedSessions for issue 3958

commit 4088c51a63b4f794e815373806f794fa06cac5c9
Author: George Nachman <georgen@google.com>
Date:   Fri Oct 23 11:02:10 2015 -0700

    Do a terrible thing to make quicklook appear under the mouse cursor

commit 348acb135710ab9259f43cd3331d11ce15b5db0a
Author: George Nachman <georgen@google.com>
Date:   Fri Oct 23 10:36:15 2015 -0700

    Hide quicklook when a pseudoterminal becomes key

commit 5dab6f98f702ab37961822951225fedb3d43d1a9
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Oct 22 23:13:57 2015 -0700

    Fix a bug where the terminal would sometimes scroll during mouse reporting of wheel events. Add an option to double-report wheel events to work around tmux issue (Issue 3950)

commit 12c528f200248d878251fba9781ee00abe83f971
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Oct 22 21:27:55 2015 -0700

    Add missing case statement

commit feeb6372b54af1647132b148d8d2448b7a25b1da
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Oct 22 21:27:51 2015 -0700

    Clean up the WKWebView code a bit

commit dd524905a6d82a37743f4ea185a742fd153e6cc0
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Oct 22 21:19:23 2015 -0700

    When the app becomes active and focus follows mouse is on, we search for a window under the mouse. Only look for windows on the active space, as we would choose the first fullscreen window we came across on the wrong space before. Issue 3906.

commit 513e97c93798bf932dd53ff5c1bbf8fb0b813b47
Author: George Nachman <georgen@google.com>
Date:   Thu Oct 22 17:28:10 2015 -0700

    Fix bug where force touch did the wrong thing on URLs. Add some experimental code to open a browser in a popover, but it's off by default.

commit 19fadf5b0a56de91f650ab04e219bcbc4e2a60a4
Author: George Nachman <georgen@google.com>
Date:   Thu Oct 22 16:42:00 2015 -0700

    Punch a hole through the find-cursor stars so you can see the cursor. Don't show the arrow find-cursor view reguarly.

commit 8e22de9d1ee753becf7383c37561af0371b21c28
Author: George Nachman <georgen@google.com>
Date:   Thu Oct 22 13:05:12 2015 -0700

    Don't invoke stage on NSEvent during mouseUp because that causes an assertion (heckuva job there Apple)

commit 342ecebea6410980b2f7b0063dbacd5fd23f0bf5
Author: George Nachman <georgen@google.com>
Date:   Thu Oct 22 12:13:22 2015 -0700

    Don't include a default pointer action to make force click open a URL.
    
    Respect the quicklook controller stuff.
    
    Make semantic history perform secure copy.
    
    Add quicklook support for images, URLs, and scp.
    
    Fix a bug where force touch actions got done many times.
    
    Add intelligence to guess if a VT100RemoteHost is actually the localhost so we don't try to scp from
    localhost.
    
    Keep quicklook in sync with the current session, so each session can have a different quicklook
    item.

commit 77c7d84c85eaa5db5652e7384dae22133b04f72b
Author: George Nachman <georgen@google.com>
Date:   Thu Oct 22 10:36:00 2015 -0700

    Make QuickLook the default action for force touch.

commit fdf44b8cfd11286bda03020a6862f2b40a8c3d5e
Author: George Nachman <georgen@google.com>
Date:   Wed Oct 21 13:01:20 2015 -0700

    Add force touch support

commit e03ed41e8cb40626041f186a82ab325ea7411e1b
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Oct 21 00:27:57 2015 -0700

    Fix some warnings caused by the mark refactoring

commit cc2a8914f35be41c9814f0f3cb698c91e28aef69
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Oct 21 00:23:46 2015 -0700

    Fix layout issue when alpha is not allowed in color picker

commit 8ea90ad1e8e814c41db8511f31c2102af6d96b7b
Merge: 1f167f84 f7a2518a
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Oct 20 20:34:48 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 1f167f84d7bc64dbc13cf7f040430a0122783915
Merge: aff190da 14c9c001
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Oct 20 20:34:29 2015 -0700

    Merge branch 'colorLayout'

commit 14c9c001b9760c068081b6650ae8adaf1bbed6ef
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Oct 20 20:34:21 2015 -0700

    Update color picker framework to latest

commit 7b843212a247ee831710b94d1c70c9462aa2ee5c
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Oct 20 20:30:08 2015 -0700

    Fix a bug where sliders didn't update when a favorite was chosen

commit a56c0eeb015fe50de2768ab6207c665f9fc67396
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Oct 20 20:24:47 2015 -0700

    Get the new layout algorithm for the color picker working

commit aff190da6b69811c0346ecb4c9bbeec462af13e8
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Oct 20 19:41:41 2015 -0700

    Refactor mark code

commit bba381028a85b51be45e530a7c6813a0b41238f2
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Oct 20 19:35:06 2015 -0700

    Separate layout out selection view subviews into their own methods

commit f7a2518a65f90a5121ef5d20ebd0d9e48e45945c
Author: George Nachman <georgen@google.com>
Date:   Tue Oct 20 11:51:38 2015 -0700

    Improve verbiage on advanced prefs for how long to show tabs in fullscreen

commit feb53ded90495891c959446ef72397c07b04aa22
Author: George Nachman <georgen@google.com>
Date:   Tue Oct 20 11:49:15 2015 -0700

    When showing tabs automatically in fullscreen don't fade them in.

commit b6a035a54a2de7fdb397e81835ee513564c486b8
Merge: 91153f03 c2237fff
Author: George Nachman <georgen@google.com>
Date:   Tue Oct 20 11:41:29 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit c2237fff6a249b4bfe7b7d84e38e9a654f28305b
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Oct 20 09:39:24 2015 -0700

    Fix bug where text field switch in colorpicker was changed when switching modes. Adds some visual tweaks.

commit cc570f3c151b065de4435afb92c44227ee3f4cc8
Merge: 00e8e318 a4e51ed3
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Oct 20 09:23:18 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 91153f03e227c24832c03641d09c97265f123031
Author: George Nachman <georgen@google.com>
Date:   Mon Oct 19 16:35:09 2015 -0700

    When restoring from an arrangement, set the remoteHost before restoring VT100Terminal's state to avoid an announcement about mouse reporting being left on.

commit a4e51ed3b21dc8d57936b77185a1d3eb68ba1ab5
Author: George Nachman <georgen@google.com>
Date:   Mon Oct 19 16:27:12 2015 -0700

    Apply alpha to the entire badge image rather than to text when it's being drawn because emoji don't respect the stroke's alpha.

commit 80c77673c55570da0dc3e0ccb7c277e44702d905
Author: George Nachman <georgen@google.com>
Date:   Mon Oct 19 16:08:04 2015 -0700

    Add support for Java timestamps between 1+e12 and 2+e12, in milliseconds since 1970

commit abd448d7c05922c495b1e057b39055397f919989
Author: George Nachman <georgen@google.com>
Date:   Mon Oct 19 15:38:43 2015 -0700

    Don't underline blue links on hover when cmd is pressed but the window is not key, since cmd-clicking in a non-key window is treated like a regular click.

commit 53b121701c52e82dbb898cc808dd59ca5b45e766
Author: George Nachman <georgen@google.com>
Date:   Mon Oct 19 15:03:29 2015 -0700

    Revert the spiffy animation because it looked wrong when the popup opens below the cursor, and there's no way to know which side it will be on until the animation is done.

commit d6a26dfe563ca4a723c7980ccb0fd8a212de2664
Author: George Nachman <georgen@google.com>
Date:   Mon Oct 19 15:00:56 2015 -0700

    Automatically close the autocomplete window if no results are found. Change the cursor to indicate when autocomplete is searching.

commit 89e55c312e283725883d26694ac23c37c6efc471
Author: George Nachman <georgen@google.com>
Date:   Mon Oct 19 13:53:47 2015 -0700

    Make popup animation spiffier on 10.10+. Rename Popup to iTermPopupWindowController.

commit 4a9e7c3bf15d87767493778b37c543a7c116a4af
Merge: 3419f2b4 a1ae4f82
Author: George Nachman <georgen@google.com>
Date:   Mon Oct 19 11:43:17 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 3419f2b4413aec09b80c97c7a33b8f40e6afcf1d
Author: George Nachman <georgen@google.com>
Date:   Mon Oct 19 11:42:51 2015 -0700

    Show unix timestamp converted to date and UTF-32/UTF-8 conversions for single characters plus combining marks in context menu

commit 762b4bdfa6df19fdf639f5e405d454c51a1117ab
Merge: ded20ec1 a1ae4f82
Author: Mike Cappella <mike@cappella.us>
Date:   Mon Oct 19 11:19:38 2015 -0700

    Merge remote-tracking branch 'gnachman/master'

commit a1ae4f828abc80da19efeb5fff90bf39466a3985
Merge: 90a93d99 ded20ec1
Author: George Nachman <gnachman+github@gmail.com>
Date:   Mon Oct 19 11:02:51 2015 -0700

    Merge pull request #244 from mikecappella/master
    
    A few updates to imgls.pl:
    
    1. Replace qx command with safe fork/exec to deal with file names that contain quotes.
    2. Remove trailing NUL byte token workaround now that the bug in iTerm is resolved.

commit 00e8e31861e53250dce69fb964ef2c266a2b1909
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Oct 18 22:02:55 2015 -0700

    Various improvements, including properly rounding text field values

commit 9850c605ec661dd557d89b3dab82fa55e9ab9d57
Merge: f2eae9bc 90a93d99
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Oct 18 20:11:59 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit f2eae9bcb3a2cbae6d8d2708dd13614f3b7be867
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Oct 18 20:11:48 2015 -0700

    Update ColorPicker.framework to the latest code

commit 64073660668e969e3de358a1f9a3718935ef37e5
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Oct 18 20:10:58 2015 -0700

    Allow switching between HSL and RGB text fields. Save the setting. Also save and restore the mode setting.

commit 74cb1c3ca39d831e77dfed9dd6594c50217ed7c7
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Oct 18 17:02:33 2015 -0700

    improve color component sliders

commit a63f7cc29d6045dbc3fc7a2f879d9c536ca11026
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Oct 18 15:22:05 2015 -0700

    Add modes for selection

commit ded20ec102486cc605f5f804744ee30fc509859c
Author: Mike Cappella <mike@cappella.us>
Date:   Sun Oct 18 11:16:34 2015 -0700

    Fix for file names with single quotes; remove now-unnecessary NUL byte workaround
    
    1. Replace qx command with safe fork/exec to deal with file names that
    contain quotes.
    2. Remove trailing NUL byte token workaround now that the bug in iTerm
    is resolved.

commit 7f10ae2b1e534072e251e95065e94e2007f4904c
Merge: 161602fa 90a93d99
Author: Mike Cappella <mike@cappella.us>
Date:   Sun Oct 18 11:11:40 2015 -0700

    Merge remote-tracking branch 'gnachman/master'

commit 90a93d998efe1446745b577e4e0a11146911a461
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Oct 18 10:19:20 2015 -0700

    Release images when they disappear by scrolling off, VT100Screen getting released, or buffer getting cleared. This change adds an invisible mark on the line after an image. When the mark is freed, it releases the image.

commit 309d6380f3ed404bae1876327adfe204b5013cc9
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Oct 17 20:48:32 2015 -0700

    Change http to https in various plist files

commit f73b3fba3f96acb346c9edccad8d77fd4f160958
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Oct 17 20:37:06 2015 -0700

    Place license in LICENSE file for a more standard location. Leae README.license behind to avoid breaking links

commit 5df2f6268657c9ea0e477a24f46aef6b6f5eb85c
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Oct 17 19:46:38 2015 -0700

    Fix a crash when you press the delete button in the triggers panel and no trigger is selected.

commit 6f6a158d13670ea933b43e3d4a89838008d0d2a5
Merge: e20ce2fe 8f86f07d
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Oct 17 18:48:32 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit e20ce2fe1fc93152ca6515298beafa26b1949ebb
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Oct 17 18:48:18 2015 -0700

    Remember value of escape hatch

commit 0d17315f257a7b790b11b27b249feea79c0cd7f7
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Oct 17 17:14:27 2015 -0700

    Change selectedColor property to strong to remove warning when compiling with non-arc code

commit 8f86f07d2308197abd10121443afa564752d38d9
Merge: b19bd802 967a6543
Author: George Nachman <gnachman+github@gmail.com>
Date:   Sat Oct 17 15:18:36 2015 -0700

    Merge pull request #242 from MaddTheSane/fixIcon
    
    Remove duplicate icon files, moving all of them into Media.xcassets.

commit b19bd802b47f8ab3be9cf88bc5047b423010bbdf
Author: George Nachman <georgen@google.com>
Date:   Fri Oct 16 16:58:00 2015 -0700

    Disable automatic spelling correction, dash substitution, quote substitution, data detection, and link detection for advanced paste. Also disable smart insert/delete for advanced paste and notes tool

commit 401fdfbd2f73232c35fba5bd6bca9d777c3b3e8f
Author: George Nachman <georgen@google.com>
Date:   Fri Oct 16 16:51:46 2015 -0700

    Disable automatic spelling correction, dash substitution, quote substitution, data detection, and link detection in the notes tool

commit 5f615f2cbd99d0ecf05e947b0395f36822c78da7
Author: George Nachman <georgen@google.com>
Date:   Fri Oct 16 11:23:33 2015 -0700

    Fix a bug where you could get duplicate host records if a migration was performed when a core data database already exists. Also fix some failing unit tests.

commit 46eecf84b6421b7dae9d10df401216ed1d2a0298
Merge: cf9f2e64 bfcf47a6
Author: George Nachman <georgen@google.com>
Date:   Fri Oct 16 10:42:56 2015 -0700

    Merge branch 'coredata2'
    
    Conflicts:
            ColorPicker/ColorPicker.xcodeproj/project.xcworkspace/xcuserdata/georgen.xcuserdatad/UserInterfaceState.xcuserstate
            sources/VT100Screen.m
            sources/iTermDirectoriesModel.m

commit cf9f2e64412acfffcc5aacb85cd604de27a48deb
Author: George Nachman <georgen@google.com>
Date:   Thu Oct 15 15:58:46 2015 -0700

    Make font size consistent in triggers prefs

commit 6e7109543da0c9424ee02a734b6125593be5e150
Author: George Nachman <georgen@google.com>
Date:   Thu Oct 15 15:56:32 2015 -0700

    Remove deprecated methods

commit 99c218634a70a1a905888bae007e3191be2be6dc
Author: George Nachman <georgen@google.com>
Date:   Thu Oct 15 15:28:53 2015 -0700

    Additional cleanup

commit 791cad6411d64104a6f21f8afbe8b517eaf26102
Author: George Nachman <georgen@google.com>
Date:   Thu Oct 15 09:51:56 2015 -0700

    Fix edit smart selection actions panel, which had broken iboutlets

commit bfcf47a6e8365b0736d00a31e409b613034d4a79
Merge: 23b4c5d4 b4f09c26
Author: George Nachman <georgen@google.com>
Date:   Wed Oct 14 14:15:40 2015 -0700

    Merge branch 'coredata2' of https://github.com/gnachman/iTerm2 into coredata2

commit 23b4c5d4115178ae72da1a77c7ffccd378c31d2f
Author: George Nachman <georgen@google.com>
Date:   Wed Oct 14 14:15:20 2015 -0700

    Update color picker framework to latest version with drag/drop support

commit 193ddd7a993137c2673afe00ee037f5118e8eb14
Author: George Nachman <georgen@google.com>
Date:   Wed Oct 14 14:13:04 2015 -0700

    Fix drag/drop for CPKColorWell

commit 9e804e9a30ef8531eea0c4bf213e298d0f4fbb97
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Oct 14 00:05:53 2015 -0700

    Further cleanup for consistency

commit 66b6be741bcff3d97ce52f8673f974ba591f864c
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Oct 13 23:48:12 2015 -0700

    Additional cleanup

commit b4f09c26c96aec9121a55c562598ab34f825eb1f
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Oct 13 21:52:14 2015 -0700

    Fix a stack overrun. constructTextRuns likes to read two characters from its input line to test for double-width characters.

commit 79a086c6f690184fe0c0f27ca9747deb9a722c08
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Oct 13 21:26:42 2015 -0700

    Fix a crash when you open the color popover, close the color popover, and switch to another app. See comment for details.

commit b563ba987e4a55f0f059969831ad3883d4a744bc
Author: George Nachman <georgen@google.com>
Date:   Tue Oct 13 15:40:02 2015 -0700

    Add an escape hatch to the system color picker. Fix a bug where the color was not saved in non-continuous pickers.

commit 83077578b049aa6d38f871ba10049b77483728cd
Author: George Nachman <georgen@google.com>
Date:   Tue Oct 13 13:04:29 2015 -0700

    Fix a bug where migrating directories stomped on migrated commands. When the backing store type changes, just change the persistent store type instead of destroying and re-creating the world, losing the user's data in the process.

commit 3b23a468c4fe6674e210b9fdf2bc625a890393d3
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Oct 13 00:09:36 2015 -0700

    Indentation fix

commit 25223bd88f9e29c1f391524ea21502eff78f3f10
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Oct 12 17:22:21 2015 -0700

    Rename saveToDisk to shouldSaveToDisk

commit a0d37c1f1bc7ec87a849c7e75f83dbbf0c07346b
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Oct 12 17:01:09 2015 -0700

    Clean things up

commit cc6e0a3e41aba72b31c3ddc923aa37a9f64e6b20
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Oct 10 15:55:48 2015 -0700

    Use Core Data to store command history and directory history. This is designed to improve performance. Previously, we'd write the whole plist of all history out on every new command or directory change, and it could easily be large (mine was 105kb).

commit 681c27e7d5983196d8b5e88cbc44276d301496b2
Author: C.W. Betts <computers57@hotmail.com>
Date:   Sat Oct 10 18:06:07 2015 -0600

    Fix an improper property.

commit 967a654313458f4b7acf1ace4be168e70f07383d
Author: C.W. Betts <computers57@hotmail.com>
Date:   Sat Oct 10 13:52:43 2015 -0600

    Add missing icon sizes to the App icon.

commit 4834f0e3d4f5a6210291088ec2ed3f3b7e4f8c3e
Author: C.W. Betts <computers57@hotmail.com>
Date:   Sat Oct 10 13:44:18 2015 -0600

    More migrating to properties.

commit df51dbcf4810638884cae08f265077ceaf23850b
Author: C.W. Betts <computers57@hotmail.com>
Date:   Sat Oct 10 13:20:17 2015 -0600

    Convert more interfaces to use properties.
    Use DEPRECATED_ATTRIBUTE to mark functions deprecated in the comments.

commit 585dd7e0c7b153fe5ddf44eeed583f8371dbb3f3
Author: C.W. Betts <computers57@hotmail.com>
Date:   Fri Oct 9 21:37:45 2015 -0600

    Migrate over to properties.
    Not every class was looked over, though.
    Remove redundant declarations of dealloc in interface blocks.
    Mark constructors of classes with instancetype instead of id.

commit 0ae8cb1ba48b45cc7202f6ea47d94ca0c84706a5
Author: C.W. Betts <computers57@hotmail.com>
Date:   Fri Oct 9 19:15:37 2015 -0600

    Have the delegates be of type 'id<protocol>' instead of 'NSObject<protocol>*'.

commit 67e5b0c0a414890230d831fa5475bf602131829c
Author: C.W. Betts <computers57@hotmail.com>
Date:   Fri Oct 9 19:03:36 2015 -0600

    Make sure all protocols inherit from the NSObject protocol.

commit 9d6a1a2cdf95a4aec039d86e1149482323ede626
Author: C.W. Betts <computers57@hotmail.com>
Date:   Fri Oct 9 18:55:42 2015 -0600

    Migrate the enums to NS_ENUM or NS_OPTIONS.
    I only modified those that were in the Headers group in Xcode.

commit bf32c20d47c81392d9c061d45671e82b47b38601
Author: George Nachman <georgen@google.com>
Date:   Fri Oct 9 11:46:16 2015 -0700

    Reword tooltip for tmux window/tab selection

commit 814e4805909fd2d7ac3b406e2e1058bc0552e153
Author: George Nachman <georgen@google.com>
Date:   Fri Oct 9 11:43:39 2015 -0700

    Fix typo in tooltip for tmux window prefs

commit 59a176483d4d31bd0d0fdda58b56af683b37b499
Author: George Nachman <georgen@google.com>
Date:   Fri Oct 9 11:42:13 2015 -0700

    Make double-clicking in command history or recent directories tool change focus to the session. Hold shift during a command click to append a newline.

commit bdffad5bea63139bb732743d08f710acf7140d4b
Author: Akiva Leffert <aleffert@gmail.com>
Date:   Sun Oct 4 18:15:58 2015 -0400

    Setting to allow hot key window to float above windows even in background.
    
    This is useful for watching the status of a terminal even when you're
    doing other things.

commit 7157c6cbe3394346d4fcda386d5dc060ccd77243
Author: George Nachman <georgen@google.com>
Date:   Fri Oct 9 10:16:35 2015 -0700

    Move thin strokes pref to the bottom of its group to make it easier to find

commit 4d9d4eb7135c7e7776667383b88e9dc7ba5401c9
Author: George Nachman <georgen@google.com>
Date:   Wed Oct 7 16:51:40 2015 -0700

    Truncate paste history table entries to try to fix a performance issue when switching tabs.

commit 264fa3abee59c37ebae43e101062d3c4bbdb3b2c
Author: George Nachman <georgen@google.com>
Date:   Tue Oct 6 16:58:26 2015 -0700

    Indicate failed commands in command history

commit 01444e822820824020374c78b9815ed410870007
Author: George Nachman <georgen@google.com>
Date:   Tue Oct 6 12:12:02 2015 -0700

    Make text field for thin strokes pref a bit wider

commit ce6560866dedfe44c6a5b2169f7ff0e55d278994
Author: George Nachman <georgen@google.com>
Date:   Tue Oct 6 11:25:45 2015 -0700

    Rearrange tab settings in appearance prefs

commit 92049b96f8ca915324937514659cb0814c2fc3e0
Author: George Nachman <georgen@google.com>
Date:   Tue Oct 6 11:22:33 2015 -0700

    Get rid of hold cmd to show tabs in fullscreen. Allow holding cmd to extend how long tabs are shown in fullscreen.

commit 44c9ce9638e8dc74edb5143b3cccaed7d141e9b1
Author: George Nachman <georgen@google.com>
Date:   Tue Oct 6 10:39:40 2015 -0700

    Put most recent paste history entry at the bottom of the toolbelt view for consistency with other tools.

commit ac6cc705655f57ea000b6c2cece527fb836ec50a
Author: George Nachman <georgen@google.com>
Date:   Tue Oct 6 10:01:39 2015 -0700

    Add profile name applescript property to session

commit 4a057e2f925ec51d80afdfcca83ebb4d58a3c9ef
Author: George Nachman <georgen@google.com>
Date:   Mon Oct 5 13:20:19 2015 -0700

    Fix analyzer issues. Mostly memory leaks plus a few over-releases

commit 86cf80b6556d164d87bde9b838da62d1af088953
Author: George Nachman <georgen@google.com>
Date:   Mon Oct 5 11:28:44 2015 -0700

    Allow the tip of the day to be dismissed by pressing esc.

commit f08442904f1ff6d00382428bdc049af0bd7c8996
Author: George Nachman <georgen@google.com>
Date:   Mon Oct 5 10:41:48 2015 -0700

    Fix a bug where a divorced session's profile would not exist in the sessions instance of the ProfileModel. The problem happened when a divorced session was split. The new session had the same guid, since splits always copy their parent's profile. When the new session's tab color was initialized, setSessionSpecificProfileValues: would get called, which would call divorceAddressBookEntryFromPreferences, which would remove the profile with the current guid from the sessions instance. This would leave the original session with a divorced profile that's not in the sessions instance. That caused an assertion when making a change in Edit Profile; sessionProfileDidChange was called, it had a nil updatedProfile, and it called setProfile: with it. The fix is to ensure that when splitting a divorced session that the new session is marked as divorced and that its GUID is changed early on to avoid having two sessions with the same GUID.

commit ae055a3d1661d4b786fe9403a9353de39906549b
Author: George Nachman <georgen@google.com>
Date:   Mon Oct 5 09:46:11 2015 -0700

    Change crash report to https

commit cc3e1a9d34f915f4b56a977755faf4d84e733e2d
Author: George Nachman <georgen@google.com>
Date:   Mon Oct 5 09:23:12 2015 -0700

    Make the amount of time tabs show in fullscreen configurable in advanced prefs

commit a3b42ef9d614eb4f26ff2344532c5d892e651cfd
Merge: 68b15900 9f435cfb
Author: George Nachman <georgen@google.com>
Date:   Mon Oct 5 09:19:30 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 9f435cfbc142de970686686217311cae71a9c946
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Oct 4 11:08:56 2015 -0700

    Update project for xcode 7. Move the thin font smoothing pref to profiles. Move some views around in text prefs.

commit c661caf250e17a621aadcb41c86f7ba4319a517a
Merge: 107ca0af e218752e
Author: George Nachman <gln@google.com>
Date:   Fri Oct 2 16:43:56 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 107ca0afa6e1e7201d39cfe7900cdceed79cc2e1
Author: George Nachman <gln@google.com>
Date:   Fri Oct 2 16:43:39 2015 -0700

    Dim lion fullscreen windows when not key because you can see them when there are mulitple displays attached. Issue 3761.

commit 68b159009a7293f903185bd450dd1b815dceaaee
Author: George Nachman <georgen@google.com>
Date:   Fri Oct 2 14:14:48 2015 -0700

    Update project to recommended settings for Xcode 7

commit e218752e2764b3d2d535bbdedcc9ca82c8dc5fff
Author: George Nachman <georgen@google.com>
Date:   Fri Oct 2 10:59:29 2015 -0700

    Improve debug logging. Clarify messages in alerts. Don't write the log until logging has stopped. Simplify handling of giant logs and record when truncation happens.

commit cec2c1a4ecc93d589b74caeab3960200c79988dc
Author: George Nachman <georgen@google.com>
Date:   Fri Oct 2 10:58:19 2015 -0700

    Sign color picker

commit 443d9e33b0fb2bc3ed92db4df153b7f9322f860f
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Oct 1 22:50:01 2015 -0700

    Use undocumented api to increase font smoothing. It looks a lot better.

commit bc66385d852709b61058cd58e1c2b22a6ce0cf4f
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Oct 1 21:33:20 2015 -0700

    Don't restrict window size in Lion fullscreen because this causes black bars in split fullscreen windows in El Capitan

commit 137b8bcb35fe89ce050f9474dec0a3f19e68425f
Author: George Nachman <gln@google.com>
Date:   Thu Oct 1 16:21:56 2015 -0700

    Get rid of deprecated API in UKCrashReporter

commit eae16cb3d92c241bc95ab7c1942eccd9b9002862
Author: George Nachman <gln@google.com>
Date:   Thu Oct 1 16:14:18 2015 -0700

    Fix XCode 7 warnings and failing tests. Fix a bug where lastDirectory was called on a CommandUse object because it was incorrectly typed as a CommandHistoryEntry object.

commit 3f0e980a1bea42e05c0b3730b85a30d25d7aee15
Author: George Nachman <gln@google.com>
Date:   Wed Sep 30 16:55:26 2015 -0700

    Use a view-based tableview for triggers and use the ColorPicker library instead of NSColorPanel.

commit 4438b583ffca7d89c849f0ede8728966b4ac34c6
Author: George Nachman <gln@google.com>
Date:   Wed Sep 30 16:54:57 2015 -0700

    Close the triggers sheet when the prefs profile changes to avoid things breaking when the current window closes.

commit f14f565802e3d70564b07770076aef5febb15a9e
Author: George Nachman <gln@google.com>
Date:   Wed Sep 30 16:54:12 2015 -0700

    Fix a crash when running a trigger with a null coprocess command

commit 0dd57bdfb8ec98b4188c30361276b79777870e92
Author: George Nachman <gln@google.com>
Date:   Wed Sep 30 16:53:12 2015 -0700

    Make CPKColorWell and CPKPopover tolerate the color well being removed from the view hierarchy while the popover is open. This is necessary to show a color well in a table view.

commit 6c2a693c431a50e3678eaf3db182da6f2d2e9335
Merge: 725bf5c6 27f3561e
Author: George Nachman <gln@google.com>
Date:   Wed Sep 30 11:47:14 2015 -0700

    Merge branch 'master' into triggers_colors
    
    Conflicts:
            ColorPicker/ColorPicker.framework/Versions/A/ColorPicker
            ColorPicker/ColorPicker.framework/Versions/A/Headers/CPKColorWell.h
            ColorPicker/ColorPicker/CPKColorWell.h
            sources/iTermColorWell.m

commit 725bf5c681e9bf11cf27486c76ba6bdbfa9236f4
Author: George Nachman <gln@google.com>
Date:   Wed Sep 30 11:44:56 2015 -0700

    Make triggers use CPK color picker

commit 27f3561ecfa207d502d536ee4f1d0d983b342bbe
Author: George Nachman <georgen@google.com>
Date:   Tue Sep 29 17:14:18 2015 -0700

    Respect the tmux profile's window settings. We used to use the default profile to create the tmux window, but that was wrong. Also, show a saner title in tmux tabs. There's no point trying to show the job or profile name; in practice, the window title got repeated. See issue 3746.

commit b3ef193ed6b28e46f043410837ef2ff34c0abafe
Author: George Nachman <georgen@google.com>
Date:   Tue Sep 29 16:15:57 2015 -0700

    Remove obsolete file

commit 7b91ced87988497df21f85a259860c27a8643cef
Author: George Nachman <georgen@google.com>
Date:   Tue Sep 29 09:42:30 2015 -0700

    Fix some crashes when state restoration breaks the complex string lookup table

commit cda7047023e7d03562b6b6b7496923eb007fe090
Author: George Nachman <georgen@google.com>
Date:   Tue Sep 29 09:25:30 2015 -0700

    Use precise scrolling for sending arrow keys in alternate mode. Mentioned in a comment in issue 3209

commit 35ecd0c4c31c5293bbdccf71e62f2e586527c06a
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Sep 27 22:30:28 2015 -0700

    Fix a bug where text in a box cursor was shifted vertically if the font has vertical spacing set to other than 100%. Issue 3861.

commit b8674bb338e18558fe848f71879d8bb31be961c7
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Sep 27 22:14:41 2015 -0700

    Add advanced pref to require cmd to be held to initiate a drag. Issue 3859

commit bcd1395c3f8de94ac695c1b265d37e8231a1e9f2
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Sep 27 21:59:29 2015 -0700

    Remove uses of 10.9-specific APIs from ColorPicker

commit 7b6a18829e41278172a772d005c1806686a909f1
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Sep 27 20:18:22 2015 -0700

    Change deployment target to 10.8

commit 2935c345e51c5a50a711b93862376b078237e6e3
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Sep 27 20:17:38 2015 -0700

    Change ColorPicker's deployment target to 10.8

commit 7fb596f04b8e8c7e730efe1a033317f121a2f943
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Sep 27 19:20:54 2015 -0700

    Don't let clearing the screen scroll the alt grid into the scrollback buffer if alt-scrolls-into-buffer is disabled. Issue 3854.

commit 8eabff3b3fc474a437fa362eebdf2b717ad5e4c1
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Sep 27 19:20:18 2015 -0700

    Fix a bug where restoring fullscreen windows while scrollbars are forced visible system-wide resulted in computing the wrong size for sessions.

commit 1891509d5022d68f28fb06daa121f02a9f00708b
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Sep 27 16:50:44 2015 -0700

    Fix a bug where newlines in base64 encoded file downloads weren't removed. Clean up base64 decoding in general a bit.

commit 02a48c52ddcc25d607b46b1a7e700643d394f82e
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Sep 27 15:21:36 2015 -0700

    Inherit tab color to session only if the profile doesn't have a tab color

commit a265b00e10f68c47ae7eddee87ba6a5be3435e53
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Sep 27 15:16:15 2015 -0700

    Make focus follow mouse behavior more sensible. When the app becomes key, find the PTYTextView under the cursor and make it first responder and raise its window. We used to do something nonsensical, which was to remember all the windows the mouse had entered and make them all fight for first responder.

commit 234f6014023992d121fbc2b3eeb76380ba8d0bef
Merge: 1f5a7f0d 41b02c1a
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Sep 27 14:41:05 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 1f5a7f0dcee7cd8a1c50ef715047cb673ffcfc09
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Sep 27 14:40:54 2015 -0700

    When opening the password manager from a trigger, reveal the session before showing the sheet.

commit 41b02c1a2a8092341a15324804fa68ea3245e2ef
Merge: 84dcb2e0 b5a97390
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Sep 27 11:15:47 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 84dcb2e0ea5a6fd762046b993c913759ff14596c
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Sep 27 10:36:36 2015 -0700

    Fix crash when restoring fullscreen windows on 10.11 GM seed.

commit b5a97390e16d578f7c1d714578db92584b5a81b7
Author: George Nachman <georgen@google.com>
Date:   Tue Sep 22 12:33:44 2015 -0700

    Make CPKColorWell into a control.

commit 97154c747f5866c39341a49c7bd29b6db66407bb
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Sep 20 20:14:02 2015 -0700

    Ask the user if it's ok to show tips of the day before showing them.

commit 32a6867e3a6d279daae8366a1389b80c2264d463
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Sep 20 18:56:16 2015 -0700

    Confirm copying settings to profile. Move Edit Current Session from View into Edit menu, and rename to Edit Session. Issue 3809.

commit 5ede958f99b0fdb27b47063bf19918cd0f05882b
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Sep 20 12:59:27 2015 -0700

    Change 'Close Tabs to the Right' to 'Close Tabs Below' when tabs are on the left

commit 876c82960969312935e36834ed5c8e6ed2fdea9c
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Sep 20 12:55:17 2015 -0700

    Make appendScreenCharArrayAtCursor respect saveToScrollbackInAlternateScreen_. Issue 3789

commit 248ad19692b79d13172e89b62e21c1db7d39dd1f
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Sep 20 11:38:52 2015 -0700

    Reset _mouseDragged in mouseUp:. Issue 3766

commit ba240016e876d5b8a10cfdb6b922158c0763a2e7
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Sep 20 11:31:41 2015 -0700

    Correctly handle double-width characters in semantic history. Issue 3756

commit a84028fca613f033bcc8e0f49a850a2eead3b5a4
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Sep 19 21:51:44 2015 -0700

    Fix a bug where numImageCells was incremented in the wrong run when appending a string-run with an image to a string-run without an image. Issue 3750.

commit dfe505d7a92123f78917feeea04d1e0598fa1bf4
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Sep 19 21:17:16 2015 -0700

    For tmux clients, send CSI 1/4 ~ for home/end. Issue 3748

commit 45dcfd746e11aba59192beb335884cfb2cc3ca77
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Sep 19 20:50:46 2015 -0700

    Make cursor's height equal height of cell without added vertical spacing. Issue 3741

commit ac70c6344d797f5212cda4dc8527e92f324e4ed3
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Sep 19 20:11:07 2015 -0700

    Tweak colors of tabs in the light theme on 10.9 and earlier because the window background color is much darker. Issue 3725

commit e7427b949158a55167a3e22b1dbc93fc938b9c78
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Sep 19 13:41:18 2015 -0700

    Change how the session titlebar's menu button works. Use a plain NSButton showing an image instead of trying to beat an NSPopUpButton into compliance. This results in a nice crisp icon and a lot less hackery

commit 3c8323ecbc803b9fa9a6b4121b4f58eb6a589cd2
Author: George Nachman <gln@google.com>
Date:   Fri Sep 18 13:08:25 2015 -0700

    Add alpha to the badge and cursor guide. Allow CPKColorWell to be disabled.

commit e53f7ec92a7bfeb65fd1c6e21e886c1c6ca70430
Author: George Nachman <gln@google.com>
Date:   Fri Sep 18 11:54:59 2015 -0700

    Update framework binary to latest

commit c38b1700dcc8e41f41d2e051e012cdaa90fede8b
Author: George Nachman <gln@google.com>
Date:   Fri Sep 18 11:38:06 2015 -0700

    Spread out hue values in the KD tree to find nearest neighbors with more similar hues. Fix a bug where selecting a favorite in the gradient of white/black caused the hue slider to move to 0.

commit a670af6f774edae038be4461e02ae4498112797f
Author: George Nachman <gln@google.com>
Date:   Fri Sep 18 11:28:37 2015 -0700

    Use ColorPicker's well instead of NSColorWell for the prefs panel

commit 433ceddb2ade4c78d1cdc02d062d426dfd513743
Author: George Nachman <gln@google.com>
Date:   Thu Sep 17 18:01:07 2015 -0700

    remove badge_evolution.md

commit 6c29bb31ba4910316dc0963f5450a6e73269f797
Merge: 4f103743 c6868966
Author: George Nachman <gln@google.com>
Date:   Thu Sep 17 17:59:40 2015 -0700

    Merge branch 'configureable_badge_style' of https://github.com/lastobelus/iTerm2 into lastobelus-configureable_badge_style

commit 4f103743e619ca1c10473c287d1ef2b679435e0f
Author: George Nachman <gln@google.com>
Date:   Thu Sep 17 17:58:24 2015 -0700

    Make whitespace trimming optional when semantic history is picking apart the chunks of a file. Whitespace trimming was added always-on to improve how semantic history located filenames in selections for Open Selection, but that introduced a bug where the holding cmd while the mouse is over whitespace preceding a filename would cause some of the whitespace to be considered a match and a corresponding number of characters from the suffix of the file not to be underlined. Issue 3841..

commit 0809386339b8f61c68a141fc753cbd93d1dc7478
Author: George Nachman <gln@google.com>
Date:   Thu Sep 17 15:58:28 2015 -0700

    Use scrollingDeltaY instead of deltaY and accumulate fractional scrolls to very slow dragging on the trackpad will work. Issue 3209

commit 4215ee509295c283c4fe6fefa2aec0bbf44bbf4b
Author: George Nachman <gln@google.com>
Date:   Thu Sep 17 15:05:59 2015 -0700

    Call _setContentHasShadow:NO to avoid ghosting. Issue 3833

commit 97ac9445c40fd28855546314e33395607ead6228
Author: George Nachman <gln@google.com>
Date:   Thu Sep 17 14:59:10 2015 -0700

    Use a brighter/darker desaturated version of the tab color for session title bars to reduce eyestrain (issue 3822)

commit 85f6b84490bbebc00c9601cc3f18f7ae594de707
Merge: 72109f93 1b2f873d
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Sep 17 12:08:04 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 72109f93327dc996f02d7cc07d8dc87eae7a7312
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Sep 17 12:07:31 2015 -0700

    Link in color picker framework

commit 9900d8770151d06ce0a317f26a17e3ed364fe26b
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Sep 17 11:29:18 2015 -0700

    Add project file

commit 6f7fa3eab721ec27263d0faf229ff79763842587
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Sep 17 11:26:22 2015 -0700

    Add ColorPicker framework

commit c68689664d108244f2c6ff1faf7fc46ac6f03b51
Author: Michael Johnston <lastobelus@mac.com>
Date:   Wed Sep 16 12:30:09 2015 -0700

    style tweaks

commit 1b2f873dec298c61f0de8687c4fe1b7f1c4aa3b1
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Sep 13 13:27:35 2015 -0700

    cleanup

commit f5bcde6e3ec9346a06e784e9d24a4c2e3cdce28a
Merge: bf1266e9 88390cfc
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Sep 13 13:26:16 2015 -0700

    Merge branch 'master' into adhoc_2.9.20150910_204956

commit bf1266e9fc9ef498dea58e286ce30e7f52a0272a
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Sep 13 13:26:14 2015 -0700

    Allow the cursor to enter the right margin when restoring from scrollback buffer. Fixes a bug where bash prompts get screwed up when resizing the window to smaller than the screen's width. Issue 3788. Also fix a few test failures and improve the output of compactLineDumpWithHistoryAndContinuationMarks.

commit 2a55851775e8ba43c376f85a7a935615fe2638ca
Author: Michael Johnston <lastobelus@mac.com>
Date:   Thu Sep 10 23:44:22 2015 -0700

    Style and language adjustments

commit 88390cfc9b32299596a9f06d957543b6a3298c8a
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Sep 10 21:40:39 2015 -0700

    Use a better test for tmux

commit 9874569836e296463c2cf6cc252feba2ade626b4
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Sep 10 21:37:26 2015 -0700

    get rid of baseline indicator committed by accident

commit 74b2470c5484d84509674c87c8c3d3fb3a112c6c
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Sep 10 20:51:34 2015 -0700

    Adhoc build 2.9.20150910_204956

commit be9cd9d78c0666e37cb36c80cc3e87f9ca4fa046
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Sep 10 20:33:58 2015 -0700

    Add debug logging for triggers

commit 5c79a19e7240c6eaa2d9eb3adba52e0b2a27c6c7
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Sep 10 20:16:59 2015 -0700

    Fixes issue 3773, introduced by commit 0ff995effc92fc0cfc6def5967f2825286d92d56.
    
    In that commit, the way that an update was scheduled was to delay for MAX(0, timeout-timeSinceLastUpdate). So if an update was last scheduled .1 seconds ago and the current timeout is 0.033, then .1-.033<0 so an update is scheduled immediately. The logic behind that change was to do an update right away when going from a slow to a fast update rate. In particular, it improved fast key repeats by making the cursor move at a more regular interval (effectively forcing 1/30 sec updates).
    
    It had an unforseen problem, though. In issue 3773, we see that the first bytes read cause this immediate update. The background thread is busy processing the next token in the queue, but before the main thread gets a chance to execute it, an update and drawRect run. This update happens a bit sooner than we'd like.
    
    This commit increases the minimum delay to 1/60 second. That should be enough to keep the cursor's update rate reasonably consistent (between 30-60 fps) while leaving enough time to parse and execute all the tokens in the user's prompt so the spurious redraw exhibited in issue 3773 won't be noticeable.

commit 3f61a1041efb08120f13d99a01fcf9e1581ec476
Author: Michael Johnston <lastobelus@mac.com>
Date:   Thu Sep 10 14:51:56 2015 -0700

    add proposal for evolving the badge feature

commit c8c32d60fd51ac1b662b382e701ba2a26b992e74
Author: Michael Johnston <lastobelus@mac.com>
Date:   Thu Sep 10 14:41:33 2015 -0700

    add settings for badgeMaxWidthPercent, badgeMaxHeightPercent, badgeHorizontalMargin, badgeVerticalMargin

commit 785853156d9945767ecdc21db8c5525c9803644a
Author: Michael Johnston <lastobelus@mac.com>
Date:   Wed Sep 9 23:20:54 2015 -0700

    add badge font to iTermAdvancedSettings

commit 580ce68f2b8062a422d8ee97f987d5f95d9127bb
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Sep 9 21:49:14 2015 -0700

    Fix a bug where character encodings whose values don't fit in a signed 32 bit int don't work properly. Luckily masking off the sign extension is enough to make all known encodings work for now, but a better fix is certainly needed. Inspired by pull request 234.

commit 0a4a7ac6318e34f0f18d39706b44df97d6f3a800
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Sep 9 21:12:05 2015 -0700

    Make session title bars always change color depending on first responder, even if dimming is not enabled. Issue 3822.

commit 640d2564d1102d65444b07835e78ded33c859f93
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Sep 9 19:52:36 2015 -0700

    The profiles window used to use NSWindowCollectionBehaviorMoveToActiveSpace which is kind of wonky. If you activate iTerm2 by clicking the dock icon, that might or might not cause the profiles window to move to the current space. Now it just stays put by default, but there's an advanced pref to make it join the active space (off by default). Issue 3818

commit 23a929cf00afdc731a4a9522ab3a81e7409a1271
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Sep 8 21:36:02 2015 -0700

    Improve messaging when downloading files

commit a7892d42dbb6d7ed2373e57654a2edbfcd443821
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Sep 7 19:45:02 2015 -0700

    Change how sheets are dismissed to not used -[NSWindow sheets], which is new in 10.9.

commit 767b119fe6dcf9366444c19e13a9f09864133719
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Sep 7 19:33:27 2015 -0700

    Only draw underlines on non-nil characters. Refactor the underline drawing code to avoid repetition. Use the font-provided underline thickness

commit 4faf9ef9a5f94d37da00e986ab10a8e5e141d253
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Sep 7 19:02:18 2015 -0700

    Do not make the window fullscreen when its screen changes if its type is normal, no-title-bar, or lion-fullscreen.

commit e718fcca0f276288b13effd1f4ddf3a549a6ef02
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Sep 7 14:44:23 2015 -0700

    Fix how the window decoration size is computed. divisionViewShouldBeVisible should always be called, not only if the tab bar is hidden, because bottom tabs gets a division view. Fixes issue 3811.

commit 0bdc7a03406f28586a8ebbb925f0cb5d59e60518
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Sep 7 11:12:57 2015 -0700

    Don't count the last line on the screen as always partial when appending lines from the grid to the scrollback buffer. This caused problems when resizing a window, as evidenced in issue 3788.

commit 90ecac478a0ef5983a9466d249f2b886b78eb779
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Sep 5 22:17:16 2015 -0700

    Fix bug where hodling cmd in fullscreen doesn't flash tabs if automatic tab flashing is turned off in prefs>appearance

commit 6e35f114539538e349935a9a64fbd4e77189a3e1
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Sep 5 21:08:39 2015 -0700

    Add ~/.ssh/config to the paths to search

commit 6e8f907c257379f2399ebae6e6d5fa8ba4e5f341
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Sep 5 11:30:03 2015 -0700

    Try to make imgcat and imgls work in tmux. Kind of succeed

commit b3a23184a9c811ced670c86712647686dcdd18e6
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Sep 3 22:19:03 2015 -0700

    Fix a bug where the wrong number of lines were scrolled into history on CSI 2 J. See issue 3789

commit 03cce2047917d20f71cbea6b760f01ccfe6e5748
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Sep 3 21:43:09 2015 -0700

    Add a keybinding action for Undo

commit bf1db2b534bd76fc0aa013c509159afe4463a6c9
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Sep 2 23:08:15 2015 -0700

    Make decimal/hex conversion show separators and work with all possible 64-bit signed and unsigned numbers. Issue 1814

commit 7d8947902fe56ca9c790ec3a01630c202c1854f5
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Sep 2 21:27:46 2015 -0700

    Make a user-initiated reset also reset the parser state, which gets you out of being stuck in an unterminated DCS. Issue 3796

commit 47483ade3c0b9488d01bc98f5d3ca4ad2b0f7e61
Merge: 8ed5beb0 57e6d584
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Sep 2 20:40:12 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 57e6d5846bbf6d80ee632b0e93678aef30c8d2ad
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Sep 2 20:30:47 2015 -0700

    Don't canonicalize the window frame of a Lion fullscreen window because it breaks split screen fullscreen in El Cap

commit 8ed5beb0ac6bffb0739c9c00d68d2b467a12840c
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Aug 30 17:39:14 2015 -0700

    Fix summary version

commit 81cd3c9f171caa20aa2ef71624ba85a0d0c3a3af
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Aug 30 17:35:22 2015 -0700

    Change release testing appcast to testing3.xml

commit 90ccf4a2c7aa13c7a12d73aa09cd26c37eb114c0
Merge: 0eff2d7e 56bf9b9f
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Aug 26 22:46:55 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 0eff2d7e3d91eb9f6c18ec97c57685dcb1685866
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Aug 26 22:46:39 2015 -0700

    Nil out iTermRootTerminalView's delegate just before PseudoTerminal is dealloc'ed.

commit 56bf9b9f327f31fc06be0ac2749e184df3a1f8c9
Author: George Nachman <georgen@google.com>
Date:   Tue Aug 18 12:03:17 2015 -0700

    Change wording on view>toggle items to make more sense

commit 2af33d11cf7cbcbbb4b95ab9c68bc1eb722b455b
Author: George Nachman <georgen@google.com>
Date:   Tue Aug 18 12:01:57 2015 -0700

    Fix the checkmark on toggle timestamps

commit 9467c90ddd53027ec745491f37bedb1c621edb9f
Merge: 0295a042 5616d774
Author: George Nachman <georgen@google.com>
Date:   Tue Aug 18 11:51:44 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iterm2
    
    Conflicts:
            sources/PTYTextView.h

commit 0295a042288bac4d7ab302217d1786e9d3448c38
Author: George Nachman <georgen@google.com>
Date:   Tue Aug 18 11:51:01 2015 -0700

    Put a checkmark next to toggle annotations

commit 5616d77423d284870c20835673fc7d52a1e9bf61
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Aug 16 20:03:24 2015 -0700

    Fix underline position

commit 5bfc7be03930f2600bb7f77c87655c99c298998e
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Aug 16 17:06:02 2015 -0700

    Fix a bug where receivingFile_ wasn't set to NO after getting a XTERMCC_MULTITOKEN_END, which caused ascii after an image to be ignored.

commit 161602fa8a18d22771b081e6d5450476f0d0b2e5
Author: Mike Cappella <mike@cappella.us>
Date:   Sun Aug 16 11:33:27 2015 -0700

    Tabs to spaces
    
    1. Tabs to spaces
    2. add editor directive to automatically convert tabs to spaces

commit 366c95abc44c2ad03c2f5f180339fa4cf7005e4d
Author: Mike Cappella <mike@cappella.us>
Date:   Sun Aug 16 11:15:40 2015 -0700

    Resolve several issues
    
    1. Fixed the overlapping image issues when height=1.  This was resolved
    by adding a null byte after the closing ^G sequence (this seems
    required to allow the ^G to be accepted).
    2. Removed the Cursor Up after the image was drawn.  This doesn’t work
    reliably enough with various height/width/aspect ratio settings.
    3. Fixed in issue when a file was not readable.

commit 5f9c489bdfb6d3f01e62fcf8e908db03f865a3bf
Merge: 15c1ea1d 3b365e2f
Author: mikecappella <mikecappella@users.noreply.github.com>
Date:   Sun Aug 16 10:32:48 2015 -0700

    Merge pull request #1 from gnachman/master
    
    Update from original

commit 3b365e2f043a4391c86405a5707b8098742adb4f
Merge: 6385c411 0045db65
Author: George Nachman <gnachman+github@gmail.com>
Date:   Tue Aug 11 17:19:42 2015 -0700

    Merge pull request #231 from Nirma/settings_correction
    
    Fixed wording in settings for triple-click setting from "full wrapped lines" to "entire wrapped lines".

commit 6385c411d2b75ae146c0e6ad3a965257c39f1592
Author: George Nachman <georgen@google.com>
Date:   Tue Aug 11 17:08:45 2015 -0700

    Paste a space after filenames when dropping files into a PTYTextView.

commit 036c249d113919894a7f3af8e98b4ebc62f81b04
Author: George Nachman <georgen@google.com>
Date:   Tue Aug 11 17:04:27 2015 -0700

    Revert changes to imgls. Replace tabs with spaces. Add a newline after each line of output in imgls.pl

commit 3bc8de767d002e6738a54ca4814de32983da7cda
Merge: 2d16db84 15c1ea1d
Author: George Nachman <georgen@google.com>
Date:   Tue Aug 11 16:07:09 2015 -0700

    Merge branch 'master' of https://github.com/mikecappella/iTerm2 into mikecappella-master

commit 2d16db8401c3125e5929079122848fba7d3f8a55
Merge: 8cc76dd1 1adaf6e5
Author: George Nachman <georgen@google.com>
Date:   Tue Aug 11 16:02:16 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 8cc76dd1a7107167fafc22385c69a783c16d0e7f
Author: George Nachman <georgen@google.com>
Date:   Tue Aug 11 16:02:11 2015 -0700

    Include the GUID in ITERM_SESSION_ID

commit 0045db65a5672c1081a036636495e28a8fc28ac1
Author: Nicholas Maccharoli <nmaccharoli@gmail.com>
Date:   Tue Aug 11 14:16:19 2015 +0900

    Interfaces/PreferencePanel.xib - Changed wording of triple-click setting.

commit 1adaf6e55894e22df82fc19d99c2612e0c4f2e16
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Aug 9 12:00:19 2015 -0700

    Add a second find cursor animation.

commit d01a0a4352e85417a755ee58e3e8f2e5932896b0
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Aug 8 12:03:06 2015 -0700

    Allow certain annoying announcements to be dismissed by pressing any key

commit 5ad17dfbb2d8fa24770d65367200e3c8027bb8ac
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Aug 8 11:10:51 2015 -0700

    Don't use NSActionTemplate, which apparently lacks a Retina version. Instead, use a hamburger. Mmm.

commit f6324acb0a53e2cc458ee4913e06257f36dad146
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Aug 8 10:59:47 2015 -0700

    Make the bell icon a little smaller and move it down

commit e976fbde340b569e115b156334748a98b7551092
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Aug 8 10:46:59 2015 -0700

    Remove the dead session tab icon when the active session is alive

commit 6f4741a5e097e615f13afa2531c5bb27dbb3cc62
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Aug 8 10:44:28 2015 -0700

    Don't remove bell icon when foreground tab is inactive (it was going away immediately).

commit da8fdbe437343b9edc1b739e51203a4ce681fe67
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Aug 8 10:30:31 2015 -0700

    If searching the password manager reduces the number of choices to one, select it.

commit 416fed1d59b05fc16196796cc9b0edaf836f250c
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Aug 8 10:26:55 2015 -0700

    Invalidate all state before upgrading to improve the odds that things will be properly restored

commit e9bf7388fcfdee2196a51b431c9728cdd465d4aa
Merge: 7aa0ce97 65556f91
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Aug 6 21:51:37 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 7aa0ce97c121bf1dd0664966ed3808e08a26e4ac
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Aug 6 21:51:18 2015 -0700

    Get rid of some code that bumped the window into the window's screen's visible frame. I can't understand why it was added in the first place and it was causing a problem mentioned in a comment in issue 3673 (july 22 comment)

commit 15c1ea1d08969de5f03898f6b725230c29c09aa6
Author: Mike Cappella <mike@cappella.us>
Date:   Thu Aug 6 12:06:02 2015 -0700

    Renamed and resolve issues as per feedback
    
    1. Renamed to imgls.pl
    2. Gracefully handle php being unavailable
    3. Don’t die when file is unreadable (just ignore thumbnail)
    4. Minor reformatting

commit 65556f910fcc44ec000f84f4f617b2acd45402d6
Author: George Nachman <gln@google.com>
Date:   Wed Aug 5 21:41:08 2015 -0700

    Offer to turn off mouse reporting when the host changes

commit f2648fde3104a19ec16501814d98e8c8982f3dba
Author: George Nachman <georgen@google.com>
Date:   Tue Aug 4 15:21:09 2015 -0700

    When an scp fails, try again without the agent.

commit b7850c04e9ee8b009cd8888e0f7db475f021033c
Merge: 043b08bc c9f74847
Author: George Nachman <georgen@google.com>
Date:   Tue Aug 4 14:48:24 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iterm2

commit 043b08bc0877de1fa12867b88912b9ef62454890
Author: George Nachman <georgen@google.com>
Date:   Tue Aug 4 14:48:19 2015 -0700

    Fix some crashes in SCPFile

commit c9f748479e15dd0c52d0e6346ace6e32233b3b12
Author: George Nachman <gln@google.com>
Date:   Mon Aug 3 21:56:31 2015 -0700

    Give sessions unique identifiers in applescript. Fix bug where split horizontally/vertically in applescript applied to the current session, not the receiver. Fixes issue 3697

commit 5753800fdbb0867096f05652e9bfe498b7de86c1
Author: George Nachman <gln@google.com>
Date:   Mon Aug 3 21:16:59 2015 -0700

    Add an Edit Password button to the password manager. Helps accessibility and makes it easier to use in general. Issue 3694

commit 69f04c7e9eb21eee6b64eff239c2d333115df787
Author: George Nachman <gln@google.com>
Date:   Mon Aug 3 17:53:19 2015 -0700

    Fix the calculation of the window decoration size to use the correct condition for testing if the division view will be shown. It was not always counted correctly before, which caused the space allocated for a session to be one point too short, leading to issue 3669.

commit a30b7c6b60135656dc2a31dd7adc0686e87b62e4
Author: George Nachman <gln@google.com>
Date:   Mon Aug 3 17:34:00 2015 -0700

    Finish deprecating the per-tab color, which was saved in the arrangement, by no longer saving it. But fix a bug (issue 3656) by respecting it when it is set.

commit b3cf72f0ca0ac05eae851d0fc18e9769b2a55cd9
Author: George Nachman <gln@google.com>
Date:   Mon Aug 3 15:59:22 2015 -0700

    Make getting attributed strings from PTYTextView and iTermTextExtractor support the same features as non-attributed strings and remove some duplicated code.
    
    Fix the broken PTYTextViewTest tests.
    
    Add basic unit tests for getting selected (attributed) text from PTYTextView.
    
    Fixes issue 3535.

commit e625f37903c02e18f93aed56beafcfbf3449c80b
Author: George Nachman <gln@google.com>
Date:   Mon Aug 3 14:03:21 2015 -0700

    Move flicker fixer from advanced prefs to prefs>profiles>settings. Most users benefit from it but there are exceptions, like issue 3281.

commit fea7150fb8124629af7e762b4498fc4b55016e99
Author: George Nachman <gln@google.com>
Date:   Sun Aug 2 21:18:04 2015 -0700

    Fix double-transform issues in advanced paste (base64, tab conversion, shell escaping)

commit 6fe47afbbaed7263429c5d23cb0f99e64a836f86
Author: George Nachman <gln@google.com>
Date:   Sun Aug 2 19:56:47 2015 -0700

    Make a double click on a profile in Edit Current Session change the current session's profile. Issue 2416.

commit d9d49e036c967bef5e3e56b47433dc989ab36640
Author: George Nachman <gln@google.com>
Date:   Sun Aug 2 19:52:05 2015 -0700

    Change minimum blending to .05 (issue 2354)

commit 674637ec9696a161b8ec6705ff44f9a8a03d7c63
Merge: 2b47f898 b0ecf9b8
Author: George Nachman <gln@google.com>
Date:   Sun Aug 2 19:43:08 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 2b47f898c19bec83686fea58f961509415db309f
Author: George Nachman <gln@google.com>
Date:   Sun Aug 2 19:43:02 2015 -0700

    Change how CommandHistoryEntry and CommandUse work. Instead of tearing down and creating lots of CommandUse objects every time the current session changes, keep a cache of them around. Avoid passing CommandHistoryEntry around except when it's needed (for autocomplete). Don't use notifications to release VT100ScreenMarks when a CommandUse goes away; instead, keep a weak global reference to the marks keyed by GUID. CommandUse keeps the guid rather than a strong reference to the mark and just looks it up from the registry. This should give a significant performance win.

commit f90278e5fa4499e8e154a60ec929a6df172e1ca8
Author: George Nachman <gln@google.com>
Date:   Sun Aug 2 19:41:01 2015 -0700

    More logging for tmux issues

commit d640071a3173011eff2bad2195d257b0f2d2ebdd
Author: Mike Cappella <mike@cappella.us>
Date:   Sun Aug 2 19:27:43 2015 -0700

    Faster perl version of original imgls shell script

commit d2619e551c64af2e790f09976bc9e14afbd97380
Author: George Nachman <gln@google.com>
Date:   Sun Aug 2 16:33:27 2015 -0700

    Fix bug where flashing the fullscreen didn't work right (it would get stuck in the flashed state). Issue 3737.

commit 3982d80185c7bbc82a7f3ec8f035e1e93993f1a0
Author: George Nachman <gln@google.com>
Date:   Sun Aug 2 16:25:02 2015 -0700

    Improve debug logging for tmux bug where server never sends replies (is it using the wrong kinds of newlines maybe?)

commit b0ecf9b8f6aaf5c50bc3ad388e76a27452217017
Merge: f54a6333 4db0f8fd
Author: George Nachman <gnachman+github@gmail.com>
Date:   Sun Aug 2 09:03:23 2015 -0700

    Merge pull request #229 from jguice/master
    
    Fix typo in tip of the day: matchine -> matching

commit 4db0f8fda6d74f3b88fbe6f0801629b4fd26998b
Author: Josh Guice <jguice@gmail.com>
Date:   Fri Jul 31 15:11:15 2015 -0700

    fix(tip): small typo (matchine -> matching)

commit f54a63339532200abb3ca54600a2369b0b686580
Merge: 698d7bce cc282396
Author: George Nachman <gnachman+github@gmail.com>
Date:   Fri Jul 31 14:53:14 2015 -0700

    Merge pull request #223 from dadowns/master
    
    Allow substring hostname matching for automatic profile switching rules.

commit cc282396a9429fdb8604d8051748b0f97895c55c
Author: dadowns <dadowns@renttherunway.com>
Date:   Fri Jul 31 10:55:17 2015 -0400

    switched out matching code for stringMatchesCaseInsensitiveGlobPattern

commit 328a94bb8ab8655081d172899c4294721adf35f4
Merge: 9fb6d187 698d7bce
Author: dadowns <dadowns@renttherunway.com>
Date:   Fri Jul 31 10:34:03 2015 -0400

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 698d7bceab61ac092877fca49e40d7bac1e4bda2
Merge: 3109ced1 ff415ac5
Author: George Nachman <gnachman+github@gmail.com>
Date:   Thu Jul 30 10:04:54 2015 -0700

    Merge pull request #228 from reeselevine/bugfix_hotkey
    
    Don't set the hotkey window's alpha to 1 when exiting Exposé. Fixes a bug where the hotkey window won't show after using Exposé (issue 3724).

commit 3109ced1f0080668a59c0ae439140b132d194f44
Merge: c268e379 855f8165
Author: George Nachman <georgen@google.com>
Date:   Thu Jul 30 09:51:54 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iterm2

commit c268e3793d0a3baef65cf25baffc0177752ccd9c
Author: George Nachman <georgen@google.com>
Date:   Thu Jul 30 09:51:39 2015 -0700

    Add stringMatchesCaseInsensitiveGlobPattern: to help with improvements to automatic profile switching in a forthcoming commit

commit 855f8165ea892a751446c860ffd5f389edd6d45c
Author: George Nachman <gln@google.com>
Date:   Wed Jul 29 22:16:36 2015 -0700

    Fix comment #3 in issue 3003: undo-close on a tab didn't preserve its order.

commit b38c33f890cac9ad6e0feebcba584b9f843b76ea
Author: George Nachman <gln@google.com>
Date:   Wed Jul 29 22:13:10 2015 -0700

    Fix a crash that happened when a tab was moved to its own window, closed, and the close was undone. I don't quite undersatnd why it was crashing, but there was a double release in redrawHighlight:. Making the tab bar control the userInfo seems to fix the problem. I'm guessing the timer got scheduled twice concurrently sometimes.

commit 8a402b6fd1c11bb3b4efc477ad2d2a300e49c627
Author: George Nachman <gln@google.com>
Date:   Wed Jul 29 21:18:32 2015 -0700

    Add logging for why PTYSession.terminate gets called

commit ff415ac5deda4acd01005df904d02cce2d8a1dc9
Author: Reese <reeselevine@yahoo.com>
Date:   Thu Jul 30 14:17:30 2015 +1000

    added check for hotkeywindow before setting alphavalues

commit 7b2aa7074faf168389247bb4797e3e68b59ccb06
Merge: 4e7169a5 d3832d17
Author: George Nachman <georgen@google.com>
Date:   Wed Jul 29 13:26:39 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iterm2

commit 4e7169a5d6d4e0707d67ca3e9e6f592f02341054
Author: George Nachman <georgen@google.com>
Date:   Wed Jul 29 13:26:10 2015 -0700

    Fix bug where advanced paste would crash, CFRelease'ing NULL, when an item's type doesn't have a description. Instead, try each type until one is found with a description, and use a fallback string if none does.

commit 9fb6d187363a95641e84dec81e1b322db2882aff
Author: dadowns <dadowns@renttherunway.com>
Date:   Wed Jul 29 14:00:53 2015 -0400

    removed padding

commit d3832d174a5ed6c9466f390dab64f0bcca4f834a
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jul 28 21:22:21 2015 -0700

    If base64 doesn't support --version, soldier on.

commit 991ea9b83dd84ec336ba0ef4975427236b014c39
Merge: 87cbb24d f6f63880
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jul 27 14:41:53 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 87cbb24dd02f3b70626e20b1f2adcb32b467202f
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jul 27 14:41:39 2015 -0700

    Fix a bug where the top margin wasn't drawn properly and the range of visible lines wasn't computed orrectly (which caused the cursor to not be visible sometimes). Issue 3704.

commit cc72757f56d980cb28100db3e1758272e4b76e21
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jul 27 14:40:11 2015 -0700

    Fix bug where you couldn't scroll line by line to the top of the screen

commit 111e5658fcf51fb1d6f4309cb719e67c081a5611
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jul 27 14:39:06 2015 -0700

    Add some commented-out code that will fix the draw on live resize bug but I am not ready to test

commit 5ad0a7682780679979852993ef3e6a14540494f2
Author: dadowns <dadowns@renttherunway.com>
Date:   Mon Jul 27 16:12:52 2015 -0400

    Added hostname wildcard support

commit e5845ace84297037d7b8a73f4effa9cd5d9cee78
Merge: 5e8164f7 f6f63880
Author: dadowns <dadowns@renttherunway.com>
Date:   Mon Jul 27 12:31:01 2015 -0400

    Merge branch 'master' of https://github.com/gnachman/iTerm2
    
    # Conflicts:
    #       sources/iTermRule.m

commit f6f63880050dae335440c4dbdc9e26b3290d7f0a
Merge: 5ef3f9be 3d915e16
Author: George Nachman <gnachman+github@gmail.com>
Date:   Fri Jul 24 22:25:35 2015 -0700

    Merge pull request #225 from ojotoxy/master
    
    Make small scroll events move the terminal by one line.

commit 5ef3f9bee4af64678f50163c78eaa5f5cfd351e8
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jul 24 22:01:58 2015 -0700

    Improve iTermRule tests and its description

commit 68996e9df404cf076f237222eff83a6a5266118e
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jul 24 15:44:34 2015 -0700

    Add tests for automatic profile switching rules and fix a bunch of bugs

commit 2ebc79e333a141ecd8e8361cf49f7194753857b1
Merge: b64f2001 b29dd426
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jul 24 15:35:29 2015 -0700

    Merge branch 'master' of https://github.com/beatrohrer/iTerm2

commit b64f200147816324b14756bab437a75428670c3b
Merge: bb066c04 cc590d5d
Author: George Nachman <gnachman+github@gmail.com>
Date:   Fri Jul 24 15:02:20 2015 -0700

    Merge pull request #224 from fjolnir/master
    
    Improve color of division view. Use a different color for key vs non-key windows.

commit cc590d5d642c2da5a40b59d61bcf3adc3c12a9ba
Author: Fjölnir Ásgeirsson <fjolnir@asgeirsson.is>
Date:   Fri Jul 17 15:27:03 2015 +0900

    Lightened titlebar separator and made it adjust its color when window is in background.

commit bb066c0426487f505528ac66d5e01d9a3a3bbe48
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jul 21 22:43:58 2015 -0700

    Fix bug where the tab color in the view menu didn't work. Issue 3678

commit bdce293fc25aa41cc3ecbc2116f8043790a642f5
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jul 21 22:36:57 2015 -0700

    Print usage to stderr

commit 09163b81696fc56d87a77bdbbb85a2f40e33b048
Merge: 01132306 914fb979
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jul 21 22:35:45 2015 -0700

    Merge branch 'imgcat-better-getopt' of https://github.com/docwhat/iTerm2 into docwhat-imgcat-better-getopt

commit 011323069b7950fdc1b8643e20853802ed4f2d57
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jul 21 22:27:12 2015 -0700

    Fix up sdef bug where parmeter was nested

commit d9f09c55e1666f2e780308088b26f19ae6afbbb2
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jul 21 22:21:55 2015 -0700

    Make create window, create tab, and split session commands return a handle to the new window, tab, or session.

commit f8273a126286d18485255b7ffa94cf5a62a41d2a
Merge: b89aa314 892c65da
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jul 21 21:32:12 2015 -0700

    Merge branch 'applescript-newline' of https://github.com/wfaulk/iTerm2 into wfaulk-applescript-newline

commit 5e8164f75e070165ffdb8b50af52629dc424b3c9
Author: dadowns <dadowns@renttherunway.com>
Date:   Tue Jul 21 10:49:27 2015 -0400

    cleanup
    
    Only require a single string compare and guard against nil hostname.

commit b29dd42614f6f79fcd168e6b9d17eca9713dfddf
Author: Beat Rohrer <beat.rohrer@zhdk.ch>
Date:   Mon Jul 20 13:01:14 2015 +0200

    Fix pattern matching for user@host and user@host:path
    
    - the colon from user@host:path has been included in the hostname
    - user@host has not been recognized

commit b89aa31413690ec47518d2531115fd2630539e24
Merge: 85bfd1cf 5a1f451f
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 19 17:31:36 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 85bfd1cf2753f12fc966fae542ecb214cf0a95cd
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 19 17:31:17 2015 -0700

    Try to fix a crash where the iTermTabBarControlView's delegate is a dangling pointer because PseudoTerminal got released before iTermTabBarControlView. Not sure if this will work but it is cleaner, at least.

commit 3d915e160f1a3610f0a0cb69f7994ba5563f6c75
Author: Kevin Baragona <no@no.no>
Date:   Fri Jul 17 12:49:53 2015 -0700

    Make small scroll events move the terminal by one line.

commit 99780c48519b87a6d67271e1821758827094de87
Author: Dan Downs <dadowns@c02mw1vxflcg.local>
Date:   Wed Jul 15 15:18:27 2015 -0400

    Allow substring hostname matching.
    
    This adds in the ability to only specify part of the full hostname for APS. For example instead of having to add:
    someservice01.stage.company.com
    someservice02.stage.company.com
    someservice03.stage.company.com
    
    you can just add:
    .stage.company.com
    
    and for prod:
    .prod.company.com

commit 5a1f451f3f16656b4192c8249c34c0e7f8e6e3fb
Merge: 4b0b8686 2e81d9ba
Author: George Nachman <georgen@google.com>
Date:   Tue Jul 14 17:15:39 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 4b0b86864c6dee1e869de50581a157af7c23150e
Author: George Nachman <georgen@google.com>
Date:   Tue Jul 14 17:15:10 2015 -0700

    Make mark animation animate out instead of in. Use layers so it's pretty.

commit 914fb97949d93de467ee849c63603d2838c19691
Author: Christian Höltje <choltje@us.ibm.com>
Date:   Tue Jun 30 16:06:19 2015 -0400

    imgcat: put in a posix sh getopt pattern
    
    This gives better help for the command (e.g. it understands `--help`).

commit 892c65da17d8dfc29da438710c0e3b59363b9cd3
Author: William Faulk <wfaulk@webassign.net>
Date:   Sat Jul 11 17:50:49 2015 -0400

    Add "with/without newline" argument to Applescript write verb

commit 2e81d9ba90676f32c04db7ae199ab42eae51622c
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jul 10 21:55:44 2015 -0700

    Make auto logging work on tmux clients

commit a8ecfe9b7db51769aca0b0fa39bf05da4361a7fc
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jul 10 20:25:25 2015 -0700

    Fix a bug where double-buffering would cause visible lag (issue 3537)

commit 7c1e1a5bc322215c04aa4ba94e33e2f7b90f14e7
Merge: 1e01761a 3b508241
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jul 10 20:10:35 2015 -0700

    Merge branch 'moveStuffIntoRootView'

commit 1e01761a780b4649d44c7ff2d15ad744a752001e
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jul 10 08:57:41 2015 -0700

    Support triggers whose regex matches a single bell character. When the bell is rung we match such a string against instant triggers. Issue 3663

commit 573cea31bb49cb93970dbd3ed9ab7ee7c0e07401
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 9 22:19:10 2015 -0700

    Give the user the option to append or replace log files. Remember the last used directory for the logfile save panel

commit 4004ab174d995fde085c62aff91e272052b82be0
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 8 22:04:23 2015 -0700

    Rename some lingering metal stuff

commit 24a4ba4aa142c11839cc5ad9ddf245ba31e497b2
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 8 22:01:10 2015 -0700

    Clean up PSMYosemiteTabStyle header.

commit 6133437ff989fa88b79430e3ba1e45f61e7a27d6
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 8 21:41:34 2015 -0700

    Fix how the frame of the open quickly window is computed for screens other than the first

commit ee23c364c72bdfe2e14f892262497a7479dffe47
Author: George Nachman <georgen@google.com>
Date:   Wed Jul 8 13:55:51 2015 -0700

    Restore umask in file descriptor server after creating the socket. Fixes issue 3661

commit 841d3c5693946d40c4d00ddf18081f51e7959004
Merge: ccdde47e f7201f52
Author: George Nachman <georgen@google.com>
Date:   Wed Jul 8 13:32:44 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2
    
    Conflicts:
            iTerm2.xcodeproj/project.pbxproj

commit ccdde47ea3fdace4903cbe78d73c253a852558ed
Author: George Nachman <georgen@google.com>
Date:   Wed Jul 8 13:32:02 2015 -0700

    Hide popup windows when creating them to avoid the jump. Fade them in quickly to add a touch of class.

commit f203063060830656a0b32ae560e3796aa0e223c4
Author: George Nachman <georgen@google.com>
Date:   Wed Jul 8 13:24:56 2015 -0700

    Make command history pretty

commit 0fd0fcb6c72ffa9ae82f595c2de2401e31e7aebf
Author: George Nachman <georgen@google.com>
Date:   Wed Jul 8 13:23:38 2015 -0700

    Make the directories popup pretty

commit 4200b35e13070afaf18de50bf2da7fc3ac5de41f
Author: George Nachman <georgen@google.com>
Date:   Wed Jul 8 13:20:39 2015 -0700

    Make paste history pretty

commit b72e14b05cb20e3ef5cde65f2d821d352cd9cf6a
Author: George Nachman <georgen@google.com>
Date:   Wed Jul 8 13:13:11 2015 -0700

    Fix assertion at startup

commit f074f3ddf2c8d2a62ad447ef4f9a4ddbca5fc4df
Author: George Nachman <georgen@google.com>
Date:   Wed Jul 8 13:13:04 2015 -0700

    Make autocomplete window prettier

commit f7201f52e49ce5203dae9a60080a6af090a68a60
Merge: 3bf10bd0 fce76b48
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jul 7 23:11:41 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2
    
    Conflicts:
            sources/PTYTextView.m

commit 3bf10bd0708dba04362ce3802da3ec4ac8f75704
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jul 7 23:10:47 2015 -0700

    Flesh out badge label class

commit 9fad268235fd03b50bfba4f68db787a6edebbbaf
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jul 7 23:10:42 2015 -0700

    Fix bug where changes to the current directory weren't communicated to PTYSession

commit 1c40952e2129bcc5e3cc20689df28312d8f884f8
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jul 7 23:10:09 2015 -0700

    Remove unused variable

commit 85b3fed0325d0adaac60a6e6a509e59810c20982
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jul 7 23:09:55 2015 -0700

    Add project file change for preceding commit

commit 4430e46e21118b26decf6f9aaa0d121803ffb4eb
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jul 7 23:09:36 2015 -0700

    Refactor badge label image generation into its own class

commit fce76b48b03b59e888870650e4418f7aa14c3969
Merge: 3dd56054 2c99dd57
Author: George Nachman <gnachman+github@gmail.com>
Date:   Tue Jul 7 19:54:08 2015 -0700

    Merge pull request #219 from rolandwalker/points_estimation_nit
    
    Take midpoint of min/max when estimating points for badge text font

commit 3dd56054ae96e05c3655930d0c71289b439c87ad
Merge: ce9969ba d31779fd
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jul 7 19:49:02 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit ce9969ba92a9830cc847511e7e6609a95258ce2b
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jul 7 19:48:47 2015 -0700

    Don't double-subtract the close button's width when showing a close button

commit d31779fd1201e2a3e884527628e92c2f5f4221ea
Merge: 88ec8cbd fc506a40
Author: George Nachman <gnachman+github@gmail.com>
Date:   Tue Jul 7 19:28:51 2015 -0700

    Merge pull request #217 from rolandwalker/color_respect_clicked_tab
    
    Right-click tab menu: change color of clicked tab rather than current tab

commit 88ec8cbdc5095d2b6010b1f16b9e32a06d143fd3
Author: George Nachman <gln@google.com>
Date:   Tue Jul 7 13:39:38 2015 -0700

    Add option to disable mark indicators

commit 2220d129b70ee96d898f8bb9b71a3cc549ac3368
Author: George Nachman <gln@google.com>
Date:   Tue Jul 7 13:23:17 2015 -0700

    Add advanced pref to disable copying empty string

commit aaead7e2284b9ab302f31a2370bee4c797a5210d
Author: George Nachman <gln@google.com>
Date:   Tue Jul 7 13:22:47 2015 -0700

    Fix assertion in GTM

commit c289a8fa45b98d72efd5f928cabb870c9c71d333
Merge: 6adf2a53 8cbc6b78
Author: George Nachman <gln@google.com>
Date:   Tue Jul 7 13:07:57 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 2c99dd57789bd2789527c7f71bbdae48e6d1c1c8
Author: Roland Walker <walker@pobox.com>
Date:   Tue Jul 7 12:12:35 2015 -0400

    take midpoint of min/max when estimating points
    
    for badge text font.

commit 2c5223ae5e9d8e414700af410c224495b2385aab
Author: Roland Walker <walker@pobox.com>
Date:   Tue Jul 7 11:30:33 2015 -0400

    Reclaim close-button pixels for longer tab labels
    
    when close button is not present.

commit fc506a40101d0f7a27324aec2893185d27f11285
Author: Roland Walker <walker@pobox.com>
Date:   Tue Jul 7 11:13:53 2015 -0400

    Right-click tab menu: change color of clicked tab
    
    rather than current tab

commit 8cbc6b780861c46fc1f34922c7b3e7e20fd9039f
Merge: 4d69e6b6 76c38c4c
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jul 6 21:36:14 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 4d69e6b686f4d2463f6dcca34f1dd7376994b068
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jul 6 21:34:46 2015 -0700

    Fix a bunch of bugs in Applescript that caused issue 3651

commit bf676f6ae510a022a705939e208c5677131c9c30
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jul 6 21:34:30 2015 -0700

    Turn off always show tip

commit 76c38c4ccce41ff997e46de877c02c0b8a57d465
Merge: 7e3216db 23591c84
Author: George Nachman <gnachman+github@gmail.com>
Date:   Mon Jul 6 13:51:32 2015 -0700

    Merge pull request #216 from walterheck/patch-1
    
    Fix typo in iTermAdvancedSettingsModel.m

commit 7e3216db74a7a96582ba134931ca465eb163e3b9
Merge: 730e59ef d516597a
Author: George Nachman <georgen@google.com>
Date:   Mon Jul 6 12:31:30 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2
    
    Conflicts:
            sources/iTermAdvancedSettingsModel.h

commit 730e59ef484d997c976d86518ff8aeb6ca52381e
Author: George Nachman <georgen@google.com>
Date:   Mon Jul 6 12:30:02 2015 -0700

    Add advanced pref for trigger radius. Fix a bug where highlight triggers failed on lines longer than 3 screen lines because it didn't record the absolute line number of the start of the region it was matching.

commit ea80bfb2b9ed0b2f87649076d10dce4dbcba3707
Author: George Nachman <georgen@google.com>
Date:   Mon Jul 6 10:50:40 2015 -0700

    Move tip window to screen's visible frame to avoid overlapping the dock.

commit f689319196e91915369e9f3df28f74b4632319f9
Author: George Nachman <georgen@google.com>
Date:   Mon Jul 6 10:50:24 2015 -0700

    Update release.sh for v3

commit 3b508241926f11be234f46bb609911451ccae5f3
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jul 6 08:14:53 2015 -0700

    For some reason term windows didn't have shadows when a Lion fullscreen window was created at launch during restore and then unfullscreened.

commit 7117a1c9b370ac60ae1f05959c9268a0aa577d4e
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 5 22:10:37 2015 -0700

    Move layoutSubviews into root view

commit bf3f9e59c698773ba2e493a329084a0e7a191015
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 5 20:50:17 2015 -0700

    Replace self.super.superview with self.toolWrapper

commit 004fadf18a8ed93d2c3ec146cd86ce22fb3e33ad
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 5 20:48:03 2015 -0700

    Rename ToolWrapper to iTermToolWrapper

commit b5c46e517a4cdae210e7f52ff9c8786fa9bf5f5f
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 5 20:45:20 2015 -0700

    Clean up ToolWrapper

commit faa1eda8a87bd1e8110b285fbe654d3169109529
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 5 20:33:19 2015 -0700

    More cleanup of Toolbelt code

commit 618d22492e01976b151945a185c54b519da57be0
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 5 20:28:10 2015 -0700

    Clean up toolbeltview

commit fbec9d1596d0681dfcd823e0efdad10890f95131
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 5 17:06:44 2015 -0700

    Clean up toolbelt splitview

commit c6c103752ef7b34f306d5f6b05796e85eef154eb
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 5 16:56:17 2015 -0700

    Rename ToolbeltView to iTermToolbeltView

commit 1f42d50979f798ef4645312764bf37017eacf2c2
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 5 15:06:50 2015 -0700

    Fix warning

commit 4dc7c5c397aeef1fab25b92d5fc305bf76592a62
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 5 15:06:12 2015 -0700

    Add tests for toolbelt window

commit 5c2111815b9c11b58d117a698c763b02cd125b12
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 5 14:56:55 2015 -0700

    Write testDirectoriesInsertsDirectoryNameOnDoubleClick

commit d5299f1ad6659a390ab57973c5628d215e19cd5b
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 5 14:54:46 2015 -0700

    Don't run jobs in servers in unit tests, they pile up.

commit 1339bc5bf380b560f411c6a0b9706b8da5ca3a38
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 5 14:49:35 2015 -0700

    Write test for testDirectoriesUpdatesOnCd, fix bug where directories tool showed trailing slashes

commit cbbd18441f0ebb22febee611cd18514a1e4316a2
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 5 12:35:38 2015 -0700

    Write testCommandHistoryLinkedToCapturedOutput

commit c73bc2fbbde25ca6fab1b9e19cf7a2f1b382d977
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 5 12:30:27 2015 -0700

    Write testCommandHistoryWritesCdOnOptionDoubleClick

commit 88970ca56f1dc53409528f9cd2685accae3e685f
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 5 12:22:31 2015 -0700

    Write testCommandHistoryEntersCommandOnDoubleClick

commit bf7d3a04dd3152591b58dfb28e91821f55c1c54e
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 5 12:06:19 2015 -0700

    Write testCommandHistoryUpdatesWhenNewCommandIsEntered

commit 57aaf2c70614c45d970d7c52f6ac796a4752d9e4
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 5 12:02:16 2015 -0700

    Write testCommandHistoryScrollsToClickedCommand

commit 23591c84cee5296d2d3af37f02af0d7c2a301ee0
Author: Walter Heck <walterheck@olindata.com>
Date:   Sun Jul 5 14:01:44 2015 +0200

    Update iTermAdvancedSettingsModel.m
    
    Fixed a typo in one of the strings displayed in the advanced settings

commit ae98b1e7e9c69abc6de6790fbaadc586b7bab9d3
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jul 4 22:13:55 2015 -0700

    Add some more tests for toolbelt.

commit 0faa620fd9fc6eb59ed1857e63d63366b008d29b
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jul 4 17:35:34 2015 -0700

    Add test that captured output scrolls on click

commit 0000f32d7e53c71bacaedec2a7baf01a63b43952
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jul 4 17:35:20 2015 -0700

    Don't open untitled window when unit testing

commit b48f81cdf10d7621c8cfe58ab2f5c867301194c9
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jul 4 17:21:21 2015 -0700

    Keep most window restoration stuff from happening when running unit tests.

commit 688eefd7c3a945fedeff7851d262bc64844efc3f
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jul 4 17:11:45 2015 -0700

    Make the file descriptor client tolerant of the dynamic linker printing messages before our code gets to run.

commit f95e165e4e2407eb8b8a6ae8b56a78f90a6698a7
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jul 4 17:11:26 2015 -0700

    Break the toolbelt's dependency on PseudoTerminal and being writing tests for it

commit 5ba66a30683661853449681b909620a8544cb081
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jul 3 15:15:02 2015 -0700

    Move toolbelt into root term view

commit 10f0cb18ad311caf440443bd02c82319656b11b2
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jul 3 14:25:41 2015 -0700

    Move division view into iTermRootTerminalView

commit 090edac9fbac3e6abc33f47c7a59bab5ae43c841
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jul 3 14:25:30 2015 -0700

    Fix bug where 'Next Tip' button wasn't visible. Turns out it'd been working by luck all along.

commit fa779118605be970a73e53c3d713184eb2c68217
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jul 3 14:24:24 2015 -0700

    Change reference from iTerm2 to AppIcon

commit f4ef19e88fce9e6f572aa09601539362d8945982
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jul 3 12:03:27 2015 -0700

    Move tab bar control into iTermRootTerminalView

commit 80dcf101f3914738bc2a4355b3a7c24a649e7dae
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jul 3 11:48:03 2015 -0700

    Move tabview into iTermRootTerminalView

commit f2023bf84e2500fc0aa0dd1409a7e149676c91d6
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jul 3 11:39:23 2015 -0700

    Introduce iTermRootTerminalView

commit d516597ae8fff51f0eaf43974426195fa4a6cc1f
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 2 16:32:19 2015 -0700

    Do some minor project file cleanup

commit 098e03ae6f68ed97c688815f5e8fe5333a0b4851
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 2 16:30:30 2015 -0700

    Remove migrated tests from iTermTests, leaving just Applescript behind

commit 003113b1f0f87c7d749af53fc88740ebef801821
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 2 16:26:17 2015 -0700

    Fix up paste helper test crash

commit 3f9bcd3c2d0de372124c738ad7a45993b87c318f
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 2 16:23:16 2015 -0700

    Turn assert into XCTAssert

commit f2d36462f6e2748da0d1eb4fb137ebaa8bd96e1e
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 2 16:22:36 2015 -0700

    Migrate paste helper test to XCT

commit e8dafbb530535cb34594bc21819bae7b9d1e2445
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 2 16:21:00 2015 -0700

    Migrate semantic history test to XCT

commit c27f0e02cea3b44349751f4ff29f51fb48d60f9e
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 2 16:18:51 2015 -0700

    Migrate PTYTextViewTest to XCT

commit 5374eb40d94937dba3bc5f83f9a8b5cc4ede00e4
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 2 16:06:36 2015 -0700

    Removing dangling file reference

commit c2a95a7f3e554e31127faa8a3f296f20c0c5c99c
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 2 16:06:20 2015 -0700

    Change assert to XCTAssert

commit b22ed3bde95549ceaba62bfc3313ab93d1dfaab5
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 2 16:04:11 2015 -0700

    Migrate PTYSessionTest to XCT

commit 46bdad4bb356058d52d384fc244df5eb036ec0b1
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 2 15:02:22 2015 -0700

    Migrate nsstring category tests to XCT

commit c3f8910231630cb9f889364b76024d5df6f4a9d5
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 2 15:01:01 2015 -0700

    Remove obsolete file

commit ddacb57d875fca8a54b8994a0ec911ff4f250696
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 2 15:00:49 2015 -0700

    Removing dangling file reference

commit 895433a588c212a80bab387ce59d537a2361a0db
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 2 15:00:36 2015 -0700

    Migrate CSI parser test to XCT

commit 26ec5747d4439902525e81f91e987c47db7f1d40
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 2 14:59:25 2015 -0700

    Migrate interval tree test to XCT

commit 48b9d5e58a513ad48f708e3eb898043bbcf7615f
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 2 14:57:33 2015 -0700

    Add iTerm2.pch

commit 247b55e19a3a81b67620d50c69d2e37371ef484c
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 2 14:57:12 2015 -0700

    Migrate VT100GridTest to XCT

commit 4502e51b48e7dd0ef02ec215e57fd71030db8b64
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 2 14:55:15 2015 -0700

    Migrate VT100ScreenTest to XCT

commit ec2c4bb60493fba73ede03926ef521bbd0d379cb
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 2 14:46:44 2015 -0700

    migrate xterm parser test to XC

commit 898718091266c1fb6f296ccf411236e6de8ed500
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 2 14:42:36 2015 -0700

    Migrate equivalence class set test to XC

commit 36bf01701894c3f38d642ec19caaea8f0b410cb1
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 2 14:39:17 2015 -0700

    Add XCTest target and migrate the DCS parser test over to it

commit de6e3b91c099daabb0954aa9027a9b9acd974b3b
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 2 12:37:29 2015 -0700

    Fix uninitialized variable warnings

commit acf47d432366968d338e80c2882d43b36e3fce96
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 2 12:35:39 2015 -0700

    Fix warning about tabView:updateStateForTabViewItem: method (was in the wrong protocol)

commit 77e03a8ed7b981445b33836256767c46bf00d14a
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 2 12:33:00 2015 -0700

    Move all source files into a target library.

commit 8800def1d206ff892528ed1abc10abe98d94d029
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 2 12:12:51 2015 -0700

    Move stray header files into their rightful place

commit 6adf2a5309f163c0f6026d3e00a6ea393a611fbf
Author: George Nachman <gln@google.com>
Date:   Wed Jul 1 20:03:40 2015 -0700

    Clean up setProfile: a bit

commit 0415183b7263644418a47fd59a32524a94cb765f
Author: George Nachman <gln@google.com>
Date:   Wed Jul 1 15:55:27 2015 -0700

    Clean up logging code a bit

commit 9cccaf05083f6c8b8a19f6ed44c966cd84af289f
Merge: ccc352fc 65a81f8d
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 1 09:34:11 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 65a81f8de814eb95116c983ba37abf6a39c236f5
Author: George Nachman <gln@google.com>
Date:   Tue Jun 30 10:40:30 2015 -0700

    Use session's encoding for badge. Was forced to latin-1 for some reason.

commit ccc352fc541d9180df562d7323670b0033c5f4cc
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 29 21:19:00 2015 -0700

    Move iTermMinimumSubsequenceMatcher into sources

commit ffd9fff3e9e53c3905a4969596d9567092ecb742
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 29 21:17:03 2015 -0700

    Move app icon into an xcasset. Clean up info file, removing obsolete key CFBundleIconFile and sorting keys as xcode prefers. Sort files in projects. Add opendirecty link dep for all targets

commit 125af022ded960f4d7a381f0a13e95506994a10b
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 29 20:50:18 2015 -0700

    Fix icon sizes

commit 972bba7c4c08570e066bc2ce319892c41cc4d879
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 25 20:14:37 2015 -0700

    Improvements to semantic history:
    
    * Do not try to guess the type of a file. In the past, if file(1) suggested the file might be a text file then we’d open it in the editor of our choosing. Now, we open it in your default editor. If it’s one we recognize and you clicked a reference with a line number, we open it to that line number.
    
    * Add an explicit option for Textmate 2 in the editor picker. We used to try to cleverly open the “right” version of textmate, but that made the other part of this commit not work so well.
    
    See issue 3569 for discussion.

commit 4b15c9e5a878b48bf2e9078d71bbf2066844cd3a
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 27 20:03:55 2015 -0700

    Fix bug where sessions didn't get restored when unlimited scrollback was on

commit 4d951432e250ca0c21dd8235197261acb60199c9
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 27 19:21:33 2015 -0700

    When there's a lion fullscreen window and you're in a native fullscreen window and you close a popup (e.g., autocomplete), it would switch desktops to the lion fullscreen window. Remove the performSelector:afterDelay: on makeKeyWindow when closing a popup to prevent that.

commit 1ebe02ee24b800c90280ae26830fad50d76bac8f
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 27 16:11:55 2015 -0700

    Use open directory to figure out the user shell. Fixes an issue where chsh required a restart.

commit c6b71c246d4ba4d74593de367cf1575b708b5ba9
Author: George Nachman <georgen@google.com>
Date:   Fri Jun 26 13:31:41 2015 -0700

    Turn on session restoration by default

commit 0f8b0e5ae6bbe0ce065d60bcf6724b079ccbb370
Author: George Nachman <georgen@google.com>
Date:   Fri Jun 26 13:30:28 2015 -0700

    Add an introductory tip of the day

commit adb4d9cdaaefbc2360a7e4d87a5dc5ecb5947003
Merge: 580d758b dd516f3b
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 25 21:19:13 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 580d758bd9ccc87dd0e239feccef2e478e049fec
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 25 21:18:32 2015 -0700

    Add accessibility helper delegate

commit 304a4b4127b9c88cd8473a7b915501b5e6e9b081
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 25 20:14:19 2015 -0700

    Add accessibility helper, untested
    
    Clean up accessibility helper

commit dd516f3bce262e3e773e92b06ce08eecbd59d78f
Author: George Nachman <georgen@google.com>
Date:   Thu Jun 25 15:46:12 2015 -0700

    Save session autolog directory when it's changed from the panel rather than just updating the control

commit 9c6d39749ec6658b9a2829f52ca0ada74c4684dd
Author: George Nachman <georgen@google.com>
Date:   Thu Jun 25 15:13:38 2015 -0700

    Make it possible to restore window arrangements from Open Quickly. Fix bug where profile titles didn't highlight in Open Quickly

commit 638a3b5c7cb6f3ffd806cce125e454bab239af78
Author: George Nachman <georgen@google.com>
Date:   Thu Jun 25 14:39:31 2015 -0700

    Properly restore working directory for saved arrangements with program data.

commit 97bcd9bea1b68473d107d6fe1e7941b1f60bae0a
Author: George Nachman <georgen@google.com>
Date:   Thu Jun 25 11:55:48 2015 -0700

    Strip out parens earlier in semantic history to make it possible to click in the filename in a string like this: prefix(filename:123)

commit decbb8c3a085b6e4a2e054d4b08b0e5288d93c8c
Merge: b1b59f8a 4de00993
Author: George Nachman <georgen@google.com>
Date:   Thu Jun 25 11:15:42 2015 -0700

    Merge branch 'cleanUpPSM'

commit 4de00993a74cedc8a47693ebc316469dbdb50184
Author: George Nachman <georgen@google.com>
Date:   Thu Jun 25 11:15:23 2015 -0700

    Add option to remove newlines in advanced paste.
    
    Fix bug where kPasteFlagsConvertUnicodePunctuation and kPasteFlagsCommands had the same value.
    
    Fix bug where canceling a paste that is waiting for a command line leaves the session hung.

commit 9d8c10051b601bde5accae7827a7153af6f515f1
Author: George Nachman <georgen@google.com>
Date:   Wed Jun 24 17:05:13 2015 -0700

    Remove nslog

commit be23ad878bdd8e7d340d1bc7e17811d4d3746caa
Merge: cc946c20 8b5a3c50
Author: George Nachman <georgen@google.com>
Date:   Wed Jun 24 17:03:26 2015 -0700

    Merge branch 'cleanUpPSM' of https://github.com/gnachman/iTerm2 into cleanUpPSM

commit b1b59f8a77c2d0abf474fb294ca996a30c3b27fd
Author: George Nachman <georgen@google.com>
Date:   Tue Jun 23 14:52:48 2015 -0700

    Fix bug where a dragged tab lost its object count and icon

commit 59eb7462e9ae18a668742cae5caaa040d14f3736
Author: George Nachman <georgen@google.com>
Date:   Tue Jun 23 14:30:19 2015 -0700

    Minor PSM cleanup

commit cc946c20c59c866b2b44df789c8bb97219f9cb14
Author: George Nachman <georgen@google.com>
Date:   Tue Jun 23 12:55:06 2015 -0700

    Clean up PSM code some more

commit 8b5a3c5016e65bb30caf4e094759833a10ba2fe3
Author: George Nachman <gln@google.com>
Date:   Tue Jun 23 14:14:55 2015 -0700

    Crashing

commit 5c46922157c9d381a5b3fd88e5d1f2c7eb4b94de
Author: George Nachman <gln@google.com>
Date:   Tue Jun 23 13:16:33 2015 -0700

    Fix breakage, remove some silly things from initializer

commit 658303101feed0e45d32e185be0107a539eb097c
Author: George Nachman <georgen@google.com>
Date:   Tue Jun 23 12:55:06 2015 -0700

    Cleaned it up and broke dragging

commit c0adeff481687c7dcf0135a30d59d4e7bc994ab0
Author: George Nachman <georgen@google.com>
Date:   Tue Jun 23 12:14:20 2015 -0700

    remove improper call to clear a cell's controlView when removing it from a tab bar. It broke dragging

commit 0758b678b718d1707b00684002657599990dfda6
Author: George Nachman <georgen@google.com>
Date:   Tue Jun 23 10:07:52 2015 -0700

    Clean up some of the PSM code. Make the cell be the delegate of the progress indicator and have it pass the delegate call up to PSMTabBarControl to try to fix a crash where the delegate pointer might have been dangling. Ensure the progress indicator's delegate is nilled out when a tab cell is dealloced and when the cell is removed from the tab bar.

commit 67bfab01f174c2fa29c92d34b4dd2b6da8a5ef25
Author: George Nachman <georgen@google.com>
Date:   Mon Jun 22 16:28:07 2015 -0700

    Update to latest NMSSH built from source with libssh2 version. It has libssh2 version 1.6.0 built off OpenSSH vesrion 1.0.2c from Lejdborg/NMSSH commit 9a9b64e7803c51ac0f53b90d993020a2c99cfcd8

commit 0db2b478c13cf4798f817ae34a2ab96c85bfcedf
Author: George Nachman <georgen@google.com>
Date:   Mon Jun 22 15:17:32 2015 -0700

    When splitting a tmux pane, mark existing panes as 'senior'. When tmux layout changes, look for a non-senior pane and make it active, so long as at least one senior pane also exists in the tab. This ensures that when you split a pane the new pane becomes active, but fails gracefully when weird things happen

commit 20db057554fa3b39e857f0270350f8d2f82b0810
Author: George Nachman <georgen@google.com>
Date:   Mon Jun 22 14:24:18 2015 -0700

    Fix permissions on adhoc build zip files

commit bbdcc950ee2932ef09402748597af31237bae6f2
Author: George Nachman <georgen@google.com>
Date:   Mon Jun 22 09:21:39 2015 -0700

    Make sure window is key after a popup closes

commit a9e655b9a4e53f109ef9205cecd4c084d05c4482
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 21 22:45:19 2015 -0700

    Make bottom border show for title-less windows when the dark theme is in use

commit 556e4c0435f361c9fd9534996faf7e613754b247
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 21 21:39:21 2015 -0700

    Make textview first responder after entering or exiting lion fullscreen. Fixes issue 3520.

commit 311e0a9ee0bf63cfcd677afcf4d68a66b448bca4
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 21 21:21:51 2015 -0700

    Fix a bug where a window whose type is lion fullscreen but that has been removed from fullscreen mode reverts to fullscreen on canonicalization

commit 4dde183818bf052a6bb842c8be623498f6c14af9
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 21 21:15:08 2015 -0700

    Fix bug where expose window has the wrong frame when not on the main screen

commit 77dbb8719c9dc109dad67175fdcecd7089eead2a
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 21 21:08:46 2015 -0700

    Make SessionView redraw itself when its background dimming state changes. This fixes a bug where a fullscreen window would show a dimmed area at the bottom when you have two fullscreen windows on two monitors and you switch between them.

commit 071b2a2a7c7c88e2d03466db49ced1e58160df4c
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 21 20:56:59 2015 -0700

    Canonicalize a window frame when it changes screen for issue 3145

commit 639ac9b7736029f423216461d23ad34884866109
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 21 19:44:02 2015 -0700

    Add some debug logging for window screen choice. Replace deepestScreen with screen to avoid picking different screens at different times, and I don't think we ever really wanted the deepest screen.

commit 3955a3870f4dfe950a00ab0d5011426f5c41099d
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 21 17:36:12 2015 -0700

    Update to latest version of my forked sparkle.

commit 98b701ed009e0d490757f7ff7a76b73f32c21723
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 20 21:13:27 2015 -0700

    Don't allow tip to show for 48 hours after install/upgrade.

commit 584bcca662a3bd72c30c7a0c94c7db9cb81d6299
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 20 14:40:32 2015 -0700

    Fix scheme for shell integration URL in command history alert. Add link to search syntax tip.

commit d5eb8f4835f7981b4dddca8ad5c9f395a6e8929d
Author: George Nachman <georgen@google.com>
Date:   Tue Jun 16 18:01:51 2015 -0700

    Add a "tip of the day" feature. Only available on 10.10 because of fancy animations.
    
    Also removes references to -[NSColor CGColor] which only exists in 10.10, and changes the color gallery URL to https.

commit 217891534b8e46134ba477a568790703d08f0b8e
Author: George Nachman <georgen@google.com>
Date:   Mon Jun 15 10:02:54 2015 -0700

    Show a check mark next to the current color preset.

commit f22a54b6bb4449ba1a777e71a2aa4b1391552c26
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 12 22:18:02 2015 -0700

    Make the profiles window remember its state using window state restoration. Clean up the code a bit.

commit 461c3bcbde3dcf5a09056c5e957e3915c27c08d6
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 12 21:17:31 2015 -0700

    Fix bug where window advanced directory prefs would be used when opening a second tab in a window, and tab advanced directory prefs would be used when opening a first or >=3rd tab (including opening a new window). Issue 3611

commit efc1dc170e1c09830cfe6120cbae75f17ca2cad5
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 12 20:59:07 2015 -0700

    Fix modify-during-enumerate on coprocessOnlyTasks. Happens when you force-end a tmux integration session with X while there are multiple tabs. See issue 3614

commit 279da0b8e65f90292dbbd3dbe8979b0e7775d237
Merge: ea209e30 0fb9dd69
Author: George Nachman <georgen@google.com>
Date:   Fri Jun 12 17:56:58 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit ea209e307369e71c58e25adc9fb0d914fb0649ca
Author: George Nachman <georgen@google.com>
Date:   Fri Jun 12 17:56:43 2015 -0700

    If the cursor ends up on the right half of a DWC, draw a single width cursor. Fix a bug where the underbar cursor could draw at 4x width

commit 0fb9dd6906e3833585ba66c201a530fb60abe481
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 11 21:05:30 2015 -0700

    When changing spaces, don't bring the hotkey window front if it's on a different space. Issue 3592

commit 3a70dfd4f4b586828d9a53ff8d7160ce4dd762b2
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 11 20:43:16 2015 -0700

    Handle APC sequences of ESC _ ... ST. They are equivalent to OSC 2 for compatibility with tmux in integration mode. See issue 3605.

commit 68e894660d1f1f65d9af94111728d6e374057743
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 11 20:42:09 2015 -0700

    Finish writing new feature summaries

commit 558451077a6424fcd69fce144bf7faecf28be465
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jun 11 20:20:45 2015 -0700

    Fix bug where hidden hotkey windows were pushed offscreen when canonicalizing for screen change

commit a8da080a06f62a70126e58dea00c078f33d33057
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 10 21:35:47 2015 -0700

    Have TaskNotifier waitpid() for dead servers. I noticed waitpid() hang when the child had exited. I tried wait() to no avail. ps showed it in parens and ps -o status showed a ? in the first column, which I think means task_for_pid failed, suggesting the process is in some weird state. Oddly, after breaking out of the loop waidpid was in, the dead process disappeared on its own. See the angry comment in -killServerIfRunning for more details on why this should work without causing too much harm.

commit ecef24366d13ff56cbcc97b2a63a149d4d4bca85
Merge: 3e4cee42 ff9a1f0b
Author: George Nachman <georgen@google.com>
Date:   Wed Jun 10 18:01:33 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 3e4cee42ac3c113a7a6f627e96cc6872a4c6724f
Author: George Nachman <georgen@google.com>
Date:   Wed Jun 10 18:01:30 2015 -0700

    Add new features file

commit ff9a1f0ba84b0143befbe0c9d90c8c0d1b3eb81e
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 10 11:47:47 2015 -0700

    Fix a few merge errors where the typo in iTermAnnouncementViewController came back

commit 735bc4c36cace88e413f2147f205544b68616a71
Merge: 2a8ed2d2 4a106363
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 10 11:14:39 2015 -0700

    Merge branch 'master_plus_restoration'
    
    Conflicts:
            sources/PTYSession.m

commit 2a8ed2d2250dc7d8f5911cf57271558bb812c42e
Merge: 166b13f4 14b1d1b9
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 10 11:13:53 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2
    
    Conflicts:
            iTerm2.xcodeproj/project.pbxproj
            sources/ProfilePreferencesViewController.m
            sources/PseudoTerminal.m
            sources/iTermApplicationDelegate.m

commit 4a106363b897e8da0cc0e932f4c3faeefda3aafe
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 10 11:12:31 2015 -0700

    Add advanced pref for suppress warning about pasting multiple lines

commit 036ca4193f165fab02c23e6d7c9d52ef76f2de0f
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 10 11:06:15 2015 -0700

    Make title of paste warning more appropriate to the specific sutation (number of lines and if at shell prompt). Properly handle newline, linefeed, and newline+linefeed line breaks for paste warning. Add test for newline+linefeed paste.

commit 0cb0ba922a091b68066e250f3386ed491d6849ee
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 10 11:03:26 2015 -0700

    Fix applescript test to accept string unique ids

commit 3281bb2c10ce77184f5d5b736fdd9560ac170af3
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 10 11:03:07 2015 -0700

    Fix -uniqueId in applescript (was renamed to guid)

commit 3b5ca7202a382defe1746010638db3887cd95eac
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jun 9 22:31:27 2015 -0700

    Begin making tests pass again

commit dbdf3afc481e75a1f72b633f64f323cc6b3a0a42
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jun 9 21:57:18 2015 -0700

    Make profile list views prettier

commit 40bf27d3b83127a6fea2fb6a549b6f1737e78a41
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jun 9 21:38:22 2015 -0700

    Clean up diagnostic logging about server connections at startup. Don't try to connect to orphaned servers that we know are not orphans because we're already connected to them.

commit a8c1a8b392c7499e43b4a3fa135ac3c0657a96f0
Merge: e183c739 b75816ca
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Jun 9 21:15:13 2015 -0700

    Merge branch 'master_plus_restoration' of https://github.com/gnachman/iTerm2 into master_plus_restoration

commit b75816ca4fd02c8c9cce9ef3963f9c2cdc7e4cd1
Author: George Nachman <georgen@google.com>
Date:   Tue Jun 9 17:02:12 2015 -0700

    Fix warning about PTYTabDelegate

commit 4ef4cca6714c4c8f8793950e7d846495a4cc32ac
Author: George Nachman <georgen@google.com>
Date:   Tue Jun 9 16:01:09 2015 -0700

    Clean up advanced settings. Rename it to indicate that it's a view controller. Use groups instead of prefixes. Add gray subtitles to items. Space things out a bit and get rid of chartjunk.

commit 6b7e1eb62a61ff7a8cd5bc85b57724dc454f8f54
Author: George Nachman <georgen@google.com>
Date:   Tue Jun 9 13:44:04 2015 -0700

    Add option to keep jobs alive when quitting if session restoration is on.

commit 14b1d1b901a7848e8668986bf2e8d5d3b3456550
Author: George Nachman <georgen@google.com>
Date:   Tue Jun 9 13:11:24 2015 -0700

    Change accessibility slowness warning to an announcement. Fix typo on announcementWithTitle.

commit e183c7393d02014b2eab76f707ade21bfaf74409
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 8 20:07:28 2015 -0700

    Handle EINTR from connect

commit 02181e4ca7b1121deedd92dc3640d64e0fc0560b
Author: George Nachman <georgen@google.com>
Date:   Mon Jun 8 16:30:16 2015 -0700

    Fix merge issues

commit 4b67ef4ba9d253effed9b899cc86d723d41a6337
Merge: bb92f923 6c688890
Author: George Nachman <georgen@google.com>
Date:   Mon Jun 8 13:17:26 2015 -0700

    Merge branch 'master' into master_plus_restoration
    
    Conflicts:
            iTerm2.xcodeproj/project.pbxproj
            sources/GeneralPreferencesViewController.m
            sources/IntervalTree.m
            sources/ProfilePreferencesViewController.m
            sources/PseudoTerminal.m
            sources/TmuxController.m
            sources/Trigger.h
            sources/iTermAdvancedSettingsModel.h
            sources/iTermApplicationDelegate.m

commit bb92f9239a1ec58852082073f2d8a7cc5215d656
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 7 22:10:46 2015 -0700

    Misc cleanup in preparation for merging in jobs-in-servers branch

commit 46d620714885a68bacb89b43dedab32487f12b6c
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 7 21:51:00 2015 -0700

    Don't put NSNull in serialized state dictionaries because it can't go in a plist

commit 70eee0aff61dbf5a1b457118571bc15bbef73f84
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 7 21:32:14 2015 -0700

    Rename client/server public functions to have iTerm prefix

commit a7c8fc42b0c31b2517f2c54004786534f445a6b4
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 7 21:22:42 2015 -0700

    Establish socket connection between client and server before fork()ing to remove sleep-retry loop after fork(). Nuke the whole sleep-retry loop.
    
    Pass around an iTermFileDescriptorServerConnection instead of a triple of fd and two pids.
    
    Kill the server when there’s a broken pipe.
    
    Don’t leak unix-domain socket file descriptors. Close them when the server dies.

commit a45e5e71b42e14532d6d15f0cafd7e7cf9c6f22b
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 7 12:07:52 2015 -0700

    Always restore hotkey window state by creating a hidden hotkey window at startup. Save the hotkey window’s state when encoding the app’s restorable state (if there is only a hotkey window and no other term window open, then PseudoTerminals’ encodeRestorableState method doesn’t get called).
    
    Only write the hotkey window’s restorable state to user defaults if system window restoration is on.
    
    If orphans are present, restore windows regardless of startup settings and don’t open default window arrangement.
    
    Move orphan server management into its own class.
    
    Move socket name string into shared code. Move function for extracting a process ID from a socket path into shared code.

commit 56daafe603a32d202a3a18ec908d7248b2daaf19
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jun 7 12:02:34 2015 -0700

    Fix a bug where servers with a space in their path wouldn't get launched because of over-escaping

commit cb9c307ff878eeccad18deedd074e857d331b00d
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 6 17:58:07 2015 -0700

    Use umask to set permissions to user-only on socket file

commit 8072a80bb0682f9f33d0f2c322407dd11d5e75f3
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 6 17:35:23 2015 -0700

    Search the correct directory for orphans

commit 916b820592015fadd578763e749ffcb0818bfa73
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 6 17:28:34 2015 -0700

    Don't try to put NSNull in an arrangement, because it must become a plist

commit e1f7d63ce64016a9a27fe3acbc1ba952056b3733
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 6 12:55:31 2015 -0700

    Make connection file descriptor a local var

commit c7c5539f2506759cd5d775f7400c07a7ddc2d197
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 6 12:53:54 2015 -0700

    Send only a single message from fd server to client, containing both the master pty file descriptor and the child's pid. Use shared code for the path to the unix domain socket, which now goes under /var/tmp, because it will have a longer lifespan there.

commit e18d818cfc30e293a1d13a343dd13ebd9630bfe4
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jun 6 12:52:54 2015 -0700

    Fix a bug where an announcement's block would get freed prematurely and where self wasn't retained. This caused a crash when restarting a session from an announcement.

commit 80245812622b47d75642751d877abd8f57952e65
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 5 21:51:41 2015 -0700

    Improve client-side FD logging

commit 91ef17e388eec9792938d8e4e0277268089a26c1
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 5 21:44:44 2015 -0700

    Use SIGUSR1 to kill FD servers. Clean up the FD server code.

commit b4a90d537be802ce7a537ad3a1dee23202ef228e
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 5 21:44:28 2015 -0700

    Don't prompt for substitutions when restoring an orphan session

commit 52dbdf50005b13bfd67fd60fe147a424d6d138be
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jun 5 21:43:43 2015 -0700

    Don't run brokenPipe if -terminate was already called. This is an issue with fd servers.

commit 6c6888904f31258b9370da097685e5f216671c18
Author: George Nachman <georgen@google.com>
Date:   Fri Jun 5 13:57:50 2015 -0700

    Change deployment target of SSKeychain to 10.7

commit f7939e4113e7542bebe15dfc5cd8d457671137dd
Author: George Nachman <georgen@google.com>
Date:   Fri Jun 5 11:50:41 2015 -0700

    Move toggleFullScreenMode into WindowControllerInterface to fix a warning

commit 8d740903e935651868a63b0ffd5ecf114f3900f1
Author: George Nachman <georgen@google.com>
Date:   Fri Jun 5 11:50:24 2015 -0700

    Don't switch tabs in session prefs upon cmd-i if a sheet is open

commit 35923424b7f18e34327e77a0174eadef2794ab88
Author: George Nachman <georgen@google.com>
Date:   Fri Jun 5 11:50:04 2015 -0700

    Change highlight triggers to use color wells instead of predefined colors. Render highlight triggers with 24-bit color. Clean up the code a little.

commit 1f20e257052d5e420aec75123d16eef091440f15
Author: George Nachman <georgen@google.com>
Date:   Wed Jun 3 16:32:10 2015 -0700

    Fix wrong names

commit 1668b6fa17790da6728f103e93480dae70566f8b
Author: George Nachman <georgen@google.com>
Date:   Wed Jun 3 15:38:40 2015 -0700

    Remember the fullscreen status of tmux windows

commit f83a804b4f9d20e8a6d3df360ec63d3084a3d6e5
Merge: 2f4a3b06 ab5cdac7
Author: George Nachman <georgen@google.com>
Date:   Wed Jun 3 13:24:06 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 2f4a3b06a3df9c236a6fed82015b048c536af846
Author: George Nachman <georgen@google.com>
Date:   Wed Jun 3 13:23:51 2015 -0700

    Remember the client size in the server as @iterm2_size with a value of width,height. This allows you to restart a tmux session and have things more or less as they were. I still need to remember which windows were full screen.

commit e271fca5d32fd75f509f8306e83ee7e39cb9f75a
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 3 08:14:04 2015 -0700

    Open server log for appending

commit 05203499211243daf4204c1b27b5806dcdf9328c
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 3 08:09:46 2015 -0700

    Save and restore program, environment, tty-is-utf-8, and substitutions in arrangements. Treat shell launcher specially since it references the current path of the iTerm2 binary

commit af419ee677c568f2cd39f83674ec6ace6bcff495
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jun 3 07:45:53 2015 -0700

    Move prefixing of command by iTerm2 --server into PYTTask at the last minute to ensure it's done consistently.

commit 8e1991e53943edaec04bedbb8978eebff32394bc
Author: George Nachman <georgen@google.com>
Date:   Tue Jun 2 16:06:02 2015 -0700

    Make adhoc a little safer and easier to use. Do a clean build first and retry ssh since it often times out waiting for a password

commit ab5cdac756c297f74be5c1f98f9fc4f6337fed3a
Author: George Nachman <gln@google.com>
Date:   Tue Jun 2 13:29:55 2015 -0700

    Add a cancel button to the paste with tabs prompt. Issue 3534

commit fdcc09cd68290b4c6f97b8e3fb2729d394b90ac2
Author: George Nachman <gln@google.com>
Date:   Tue Jun 2 13:14:21 2015 -0700

    Make partial-width bottom windows have a border on top

commit 6afb0e12f169882798b6a2b8e6896bcc2943c98b
Author: George Nachman <georgen@google.com>
Date:   Tue Jun 2 12:17:01 2015 -0700

    Fix default value for futureShouldAntialias

commit a741ee97edd31787552818f79e2f213418f1ee64
Author: George Nachman <georgen@google.com>
Date:   Tue Jun 2 11:58:34 2015 -0700

    Show a warning when anti-aliasing is disabled for a font that prefers it (only Menlo AFAICT). Terminal does something similar. See issue 3597

commit 0b425dc05e2d84eb60fe8790479a418bdc51bedb
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 1 21:46:29 2015 -0700

    Save program, environment, and tty is utf 8 flags, plus misc. cleanup

commit 82aed13f861b7b06461ddd519b71283b7c312383
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 1 21:03:27 2015 -0700

    Only store VT100ScreenMark's in the mark cache. I was storing captured output marks there, but that confused things when trying to find the last command.

commit bc65a85ff9b850b1157e315f51da8eb1a171a892
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Jun 1 20:40:54 2015 -0700

    Fix a leak of VT100ScreenMark objects because CommandUse held a reference to them after the session was gone.

commit 3a1adff4f9eed2656bdb2385343a2d9a3afb41ff
Author: George Nachman <georgen@google.com>
Date:   Mon Jun 1 16:42:07 2015 -0700

    Avoid creating lots and lots of VT100WorkingDirectory marks. Instead of creating a duplicate one, just extend the length of the last one.

commit 17b6caa24b1a0ac25e88ad848b704512b1bf6494
Merge: d0c88484 dc6d204b
Author: George Nachman <georgen@google.com>
Date:   Mon Jun 1 14:43:48 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit d0c8848458c9acff035b230f1731d164adfd5dac
Author: George Nachman <georgen@google.com>
Date:   Mon Jun 1 14:43:34 2015 -0700

    Draw double-width cursor on double-width characters

commit 68a26b6b6a0fca2e282e53deebfecf47f5c29871
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 28 20:40:39 2015 -0700

    Fix coprocesses on tmux sessions

commit d812158aa343870686a246f92c20b280d3a22a40
Author: George Nachman <gnachman@gmail.com>
Date:   Wed May 27 21:53:08 2015 -0700

    Fix indentation

commit 7d2f777233b7be9d65b60f00ed5cdd1624c652e9
Author: George Nachman <gnachman@gmail.com>
Date:   Wed May 27 21:44:52 2015 -0700

    Clean up release.sh

commit a320680fa4649b319bc012e254225d427e1a5b2c
Author: George Nachman <gnachman@gmail.com>
Date:   Wed May 27 20:33:01 2015 -0700

    Limit restoring the new state to when connected to a server

commit da9f22ac5d7a35a9752400ba67a5cf0da3233a08
Author: George Nachman <gnachman@gmail.com>
Date:   Wed May 27 20:07:16 2015 -0700

    Handle restoring from older versions of iterm

commit 6a81c4f5f4aa0f0ffdbc054127803817d294338f
Author: George Nachman <gnachman@gmail.com>
Date:   Wed May 27 20:04:26 2015 -0700

    Handle nil termtype

commit aba43fb8f26c61558d825703a3d08121df7f24dc
Author: George Nachman <gnachman@gmail.com>
Date:   Wed May 27 20:02:24 2015 -0700

    Fix up saved ranges to offset by number of dropped lines.

commit eabddbc013db2f52840a5d6cdcf1583c26366b24
Author: George Nachman <gnachman@gmail.com>
Date:   Wed May 27 09:20:30 2015 -0700

    Save grid state, untested

commit 3bf4d4af2c6cb5e4093d48bcecc0ce0c8d24f3e6
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 26 22:03:03 2015 -0700

    Save and restore selection

commit 79b5926aeb42d3363bd517f745652345138e6925
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 26 21:49:34 2015 -0700

    Restore last remote host, save and restore last directory

commit e98d3b3e74cd9095e0879d8ba53aa718c1b46ed2
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 26 21:42:20 2015 -0700

    Restore lastMark

commit 18540fac14591472f97c149aff234a565649bee3
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 26 21:40:34 2015 -0700

    Save cursor guide flag

commit 03732611ca9c96e3e4618b9df95cf8294a438411
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 26 21:35:25 2015 -0700

    Save commands, directories, and hosts

commit aefbc23dfecb61c6282dfa934f19d014230c041e
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 26 21:25:22 2015 -0700

    Persist alert on next mark

commit 0cfee12b0fa3df91c35085e78e8edea482118579
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 26 21:23:35 2015 -0700

    Persist Shell Integration Ever Used flag

commit 78bbdabe654b52dc3296385d0fdb4b9059939e21
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 26 21:19:17 2015 -0700

    Save and restore the current command range

commit 33615b359f579ec09e8be218a672ff57477d7bcf
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 26 21:14:03 2015 -0700

    Fix remembering the current command mark

commit f7229b4d674902ba91892522d73f0ddb2a9b8920
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 26 20:08:25 2015 -0700

    Fix a bug in tmux recovery mode where the command was analyzed on exit, not on first read.

commit 6a85e8bee15f23450b8f10ecf3915411348918cb
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 26 20:07:59 2015 -0700

    Show an announcement on orphans

commit c2500c0498d1e469076f6d1b2d7d2581d08ce12c
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 26 20:07:40 2015 -0700

    Fix cursor in announcement view

commit 2da78018fd1176530bed5224fb8f707eecc96c3b
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 26 12:35:18 2015 -0700

    Attach to existing tmux sessions when restoring a session that is a tmux gateway

commit 3a278e933cd77555885351ef8e614bc4e6cd723e
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 25 21:42:08 2015 -0700

    Initial stab at more complete state restoration.
    
    Conflicts:
            sources/CaptureTrigger.m
            sources/PTYSession.m
            sources/Trigger.m

commit 6ac19ee9d9e5dfa3e94445628cd52db8230586eb
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 21 23:08:40 2015 -0700

    Fix crash when drawing a cursor with an underline with smart cursor color

commit 7a8dc4495430ef64d3e33744a32d3f587cea6664
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 21 22:30:38 2015 -0700

    Make underlines in the cursor draw the same as underlines not in the cursor

commit 54a870e83600ee422e78241b3ac40b2379c85f67
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 21 22:27:04 2015 -0700

    Fix a bug where invalidated rects weren't big enough for the oversize parts of glyphs to get redrawn

commit f106e540f5eb6b61c94e490496c2ba6e9a19dac7
Author: George Nachman <gnachman@gmail.com>
Date:   Wed May 20 22:08:20 2015 -0700

    Session restoration improvments: Improve Sparkle support for session restoration. Don't prompt for a sparkle restart if sessions will be restored. Don't terminate jobs on shutdown for a sparkle restart. Put newlines around Session Restored message. Exponentially increase delay when first attaching, starting at 1ms. Handle failures to attach to new servers.  Fix bug where working directory was fetched from the server PID, which isn't so good when there isn't one.
    
    Conflicts:
            sources/iTermApplicationDelegate.m

commit 2e52c0ed844e458acd677fd44ebcfe3a15279073
Author: George Nachman <gnachman@gmail.com>
Date:   Wed May 20 21:54:16 2015 -0700

    Fix signing in release.sh for the new directory layout and new OS requirements that break --deep

commit 037004802a2dd58a5608a891603f886563fd88f7
Author: George Nachman <gnachman@gmail.com>
Date:   Sun May 17 21:55:44 2015 -0700

    Initial cut at session restoration
    
    Conflicts:
            sources/iTermApplicationDelegate.m

commit 166b13f42e568477c157e7f50dd02ddd8f888064
Author: George Nachman <gnachman@gmail.com>
Date:   Sun May 31 17:40:11 2015 -0700

    Add some debug logging for termination

commit ae5eb22c6b7c963a005aaf10935e443a0fcd5265
Author: George Nachman <gnachman@gmail.com>
Date:   Sun May 31 13:26:09 2015 -0700

    Add option to wait for prompt to advanced paste. Fix animation of edit key bindings window and clean up the code a bit.

commit b1898d7ceb29982c209762517afe8aa0f9fece1c
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 30 16:34:31 2015 -0700

    Fix up remote prefs button enabled status when load prefs is off

commit 77e2b15e8dc717576d814539740bd4fc7e707a3a
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 30 14:37:52 2015 -0700

    Add pref to save to remote folder on quit.

commit 8d1f25d77a9d7949fa5736667e66d30bf13ac70a
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 30 11:41:46 2015 -0700

    Add advanced pref, eliminate close buttons, for people who really hate close buttons on tabs. Issue 3586

commit 9f56293cff7a271fba1978b14c9679eb46274ef7
Author: George Nachman <georgen@google.com>
Date:   Fri May 29 16:49:55 2015 -0700

    Make a double click in the tab bar open a tmux tab if that's the user's preference. Issue 3326

commit f569707042e4414e58dad2e5e38357f278452597
Author: George Nachman <georgen@google.com>
Date:   Fri May 29 16:43:13 2015 -0700

    Don't close the hotkey window if the About window becomes key

commit 7220d3a99eac9db2c0979364aa7e2ac1aee9f37c
Author: George Nachman <georgen@google.com>
Date:   Fri May 29 12:47:37 2015 -0700

    Run select-window command when changing tabs so tmux knows our current window. See issue 3151 for details

commit cca606603138e03d6834cc0ca56ef618141045c5
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 29 09:07:05 2015 -0700

    Make sessions prefs always show the current session's profile and make it close when the current session closes.

commit ba160cf2f1882b73c97f7765a1691a8766d375f7
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 29 08:59:12 2015 -0700

    Make the Edit Session window change to always show the current tab

commit 2b8efc1f616af2341bb783595f73e74905d50ea5
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 29 08:35:19 2015 -0700

    Clean up iTermAppDelegate a little. applicationShouldTerminate actually returns NSTerminateCancel or NSTerminateNow, not a BOOL.

commit e380a7fb4a64365cf1105eecef4925b46fc48cf5
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 29 08:34:45 2015 -0700

    Prevent divide by zero in overUnder if the line height or char width is 0. Not sure why this would happen but it did happen once to me.

commit c79e1d444b91ee24f6891c4e7539f7962e68762e
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 29 08:23:13 2015 -0700

    Update Sparkle to latest code (just after 1.10)

commit faebbdf16eb9f0fd67ca89c8518696407dd3f269
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 28 21:04:23 2015 -0700

    When the temporary double-buffered grid expires, redraw the whole screen. There was a bug where if you hid the cursor and the screen scrolled immediately it would be left in an inconsistent state

commit dc6d204beaeb1222f6448364b054fbb041f87e55
Author: George Nachman <gnachman@gmail.com>
Date:   Sun May 31 13:26:09 2015 -0700

    Add option to wait for prompt to advanced paste. Fix animation of edit key bindings window and clean up the code a bit.

commit 4a2217cbac2e38b3b04daee1bb366fae8c928fe8
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 30 16:34:31 2015 -0700

    Fix up remote prefs button enabled status when load prefs is off

commit 6777dd53bd46ec128fd8efa5684bcc4e0b9e09f8
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 30 14:37:52 2015 -0700

    Add pref to save to remote folder on quit.

commit 666a6a4688c437004caf119229d32b0461d87672
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 30 11:41:46 2015 -0700

    Add advanced pref, eliminate close buttons, for people who really hate close buttons on tabs. Issue 3586

commit 323f87380b0df4937b0b0e9b41d0cbbdd953462e
Author: George Nachman <georgen@google.com>
Date:   Fri May 29 16:49:55 2015 -0700

    Make a double click in the tab bar open a tmux tab if that's the user's preference. Issue 3326

commit 79137bbe260d430a72558f8bfe353dd9d0b0b74c
Author: George Nachman <georgen@google.com>
Date:   Fri May 29 16:43:13 2015 -0700

    Don't close the hotkey window if the About window becomes key

commit 352c1d3b4a80b4835422f7be7ce5a0ca43025cbb
Author: George Nachman <georgen@google.com>
Date:   Fri May 29 12:47:37 2015 -0700

    Run select-window command when changing tabs so tmux knows our current window. See issue 3151 for details

commit fec9335e93c5afcfd0057f5318b8a2885c9b21b9
Merge: 8966a0c2 38c36d9c
Author: George Nachman <georgen@google.com>
Date:   Fri May 29 12:28:25 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 8966a0c2497a92d9a9ac2a89c5ea5e4c80eb7811
Author: George Nachman <georgen@google.com>
Date:   Fri May 29 12:26:33 2015 -0700

    Warn before adding duplicate color preset. Issue 2757

commit 38c36d9c6a8d772b7a068759bbcc119bf41ff985
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 29 09:07:05 2015 -0700

    Make sessions prefs always show the current session's profile and make it close when the current session closes.

commit 4c86a4afb032dc276540c62517d9122c13d0efe4
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 29 08:59:12 2015 -0700

    Make the Edit Session window change to always show the current tab

commit 740f0047456a0e87da4ccd78e756b13969232381
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 29 08:35:19 2015 -0700

    Clean up iTermAppDelegate a little. applicationShouldTerminate actually returns NSTerminateCancel or NSTerminateNow, not a BOOL.

commit 3a316efd5789fb25fac6f6b96a6d21f0fc97c9cb
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 29 08:34:45 2015 -0700

    Prevent divide by zero in overUnder if the line height or char width is 0. Not sure why this would happen but it did happen once to me.

commit f5fba70fa5d8aeb618cee0de5c369946ffca3910
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 29 08:23:13 2015 -0700

    Update Sparkle to latest code (just after 1.10)

commit cf88fd4af257f88baaa64ef78c966268f948d104
Merge: d59b0032 44702b89
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 28 21:05:29 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit d59b0032850685e9bd4ba7a3690766b377ad49aa
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 28 21:04:23 2015 -0700

    When the temporary double-buffered grid expires, redraw the whole screen. There was a bug where if you hid the cursor and the screen scrolled immediately it would be left in an inconsistent state

commit 44702b89b7db26410890ca66ef9c2b0f9a5ec966
Author: George Nachman <georgen@google.com>
Date:   Thu May 28 14:51:32 2015 -0700

    Correct label for dark gray background in highlight trigger

commit d62c412291299f9bda7f6496d8262b9a906a1f09
Author: George Nachman <georgen@google.com>
Date:   Thu May 28 14:41:53 2015 -0700

    Use non-dimmed text color for timestamps

commit c698bc4cad68ef46a6c44dc1d864390ec5f3c3bd
Author: George Nachman <georgen@google.com>
Date:   Wed May 27 17:13:55 2015 -0700

    Fix bug where password trigger didn't select the desired account

commit 0fafb0961d8f5ad05faa9284069f58b86fc99d08
Author: George Nachman <georgen@google.com>
Date:   Wed May 27 17:05:09 2015 -0700

    Improve legibility of timestamps in nonretina. Issue 3563

commit a05a3a53fda769b298024b2499d1a52a3c5ae3d0
Author: George Nachman <georgen@google.com>
Date:   Wed May 27 16:48:44 2015 -0700

    Strip newlines before base 64 decoding. Issue 3558

commit 1a32d76c066713d477dd2cf92031aad58e609a4f
Author: George Nachman <georgen@google.com>
Date:   Wed May 27 16:32:48 2015 -0700

    Show a tip in advanced prefs when semantic history is disabled in pointer prefs

commit 718d9a233082e35b5fb60e6bee21fd96cea73ba4
Author: George Nachman <georgen@google.com>
Date:   Fri May 22 16:43:31 2015 -0700

    Get rid of bindings in PSMTabBarController. I thought they'd start making sense but it's been five years and it's just a bad idea. Plus it's causing a crash and it's too hard to debug. Honestly, delegacy just works. Why mess with a good thing?

commit fd605af928c3c2a1510c711354c431279840ed95
Author: George Nachman <georgen@google.com>
Date:   Fri May 22 15:54:31 2015 -0700

    Move an assert into an ifdef. It does happen but no sense crashing because it's unimportant

commit d1ced1485199b2ca12759b76ca9e45006b53ed9f
Author: George Nachman <georgen@google.com>
Date:   Fri May 22 15:50:03 2015 -0700

    Fix a crash when a highlight trigger matches the end of a line

commit 13b94dee0bc9b7be17b22dd2244b5249e0347451
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 18 22:51:36 2015 -0700

    Greatly improve the performance of highlight triggers. They used to regex every line on the screen on each update. Now just regex the line that the cursor was on. Misc other improvements, including adding an announcement when a coprocess can't be started by a trigger.

commit dc6b13dc997e47a2ee153fea353e2f6b0194fd5d
Author: George Nachman <gln@google.com>
Date:   Mon May 18 15:37:52 2015 -0700

    Allow accessibility to set the selection

commit 19face6928a9f935400ef569f42c85610f8c91ea
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 15 22:25:34 2015 -0700

    Don't close the hotkey window when Apptivate or Alfred is frontmost. I expect this list to grow.

commit 3e6f210be7f2c1882a0ce0dffaee1a00da461bdd
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 15 22:14:07 2015 -0700

    Show password manager as a sheet in each window, or as a standalone window if there are no terminal windows. Properly handle it as a sheet in the hotkey window.

commit b4a7010b66146d55c4b011d5f50e6a9fe6c875ae
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 15 21:30:07 2015 -0700

    Fix bug where hotkey window sometimes flashes when first being created. Issue 2582

commit f2d2d65f48fc98f66de45afcf7aab29b5379c6c1
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 15 21:07:56 2015 -0700

    Add missing space to message about hotkey windows

commit dc7237d8664a2c75f342651307a6d4ce3eb91013
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 15 21:07:49 2015 -0700

    Warn when accessibility is making us slow

commit 83edd989a5b7201ad2e4ec6e0e1c56dd7435140d
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 15 21:07:34 2015 -0700

    Improve verbiage

commit c8351251f66c27593e400491b40119adee0dfea7
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 15 19:08:11 2015 -0700

    Show a warning when the user tries to turn on send code on idle

commit a4c3fd4e6533655e334339d125d84e50db0ed2b0
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 15 18:53:25 2015 -0700

    Ensure ITERM_SESSION_ID doesn't get duplicate tab numbers within a window

commit 67e86f4ecb1dab02c6b69396a12c70a94ce6e866
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 15 18:42:19 2015 -0700

    Ensure that ITERM_SESSION_ID gets unique pane numbers (it didn't if a pane was inserted before another pane). Issue 2269

commit 15d63298aa7d665e74bf6c888c7f8cd133a20eab
Merge: 493112f8 6e6e52d8
Author: George Nachman <gnachman@gmail.com>
Date:   Fri May 15 18:35:38 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 6e6e52d8b628e67e22ccf0bd871967b8d2288b50
Author: George Nachman <georgen@google.com>
Date:   Fri May 15 15:26:47 2015 -0700

    Add 'stop processing triggers' trigger

commit 03bd5f67046b3aeeedf2d5af7046de44df746288
Author: George Nachman <georgen@google.com>
Date:   Fri May 15 15:13:47 2015 -0700

    Alphabetize list of triggers in popup

commit 45cca0d9c476b7f42353ad9325bc786e563afae8
Author: George Nachman <georgen@google.com>
Date:   Fri May 15 11:26:02 2015 -0700

    Add a warning to prompt user about what kind of tab/window to open when doing new tab/window from within a tmux session

commit 493112f847d14fee02e0a865d6ae6b2f502c9272
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 14 22:36:40 2015 -0700

    Add undo support for trigger editing

commit 83503aa6ef6262e56af037acb490c7fbb69fdbd8
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 14 22:00:24 2015 -0700

    Keep the framework from drawing the gray highlight on profile lists when window is not key (looks bad, blue shows around edges)

commit 905e9faa5bf4d5ef40f7b86618d7b064644fd933
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 14 21:58:57 2015 -0700

    Allow drag-drop to reorder triggers

commit 73e7c258431d6dd8031fea2fa08949f3f662abbb
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 14 21:28:24 2015 -0700

    Keep highlight of profiles list view blue even when not first responder.

commit adad4b42531d0a5fe8a97b465973b791fc3fd5cb
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 14 21:09:59 2015 -0700

    Highlight matches in profile list view in tags

commit c357679838fafd75fc2cebb307395da561c5835a
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 14 20:50:11 2015 -0700

    Highlight matches in names

commit 6d6af5823ccb996bbccff74889a4c149f0e12f90
Merge: a603b84d 6ba0c6f7
Author: George Nachman <gnachman@gmail.com>
Date:   Thu May 14 19:31:11 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 6ba0c6f78f42e2ac5fd52eb940b00bc319f49c02
Author: George Nachman <georgen@google.com>
Date:   Thu May 14 17:03:30 2015 -0700

    Move iTermProfileSearchToken into its own file. Add support for $ terminator to anchor end. Make search for bonjour tags search only tags that exactly match bonjou

commit 2ee5504f0f5c82e01167e52d36752fcd9032c417
Author: George Nachman <georgen@google.com>
Date:   Thu May 14 16:55:30 2015 -0700

    Use substring matching for profile searches. Add name: and tag: operators. Add ^ prefix to anchor. Add support for quoting multiple words in query.

commit eb91f9ef65080e08655a494ab5bad8ce39327afa
Author: George Nachman <georgen@google.com>
Date:   Thu May 14 16:52:21 2015 -0700

    Add link to help on search syntax for upcoming change

commit 80c1b0231196e7b45e1de43f4c1376ed0b851999
Author: George Nachman <georgen@google.com>
Date:   Thu May 14 16:52:01 2015 -0700

    Remove unused method from header

commit a8b67367a9d30494e629d8bd3066a5cb03c7cfbf
Author: George Nachman <georgen@google.com>
Date:   Thu May 14 14:01:18 2015 -0700

    Allow ^N and ^P to work in popups

commit f1e2844dd705179297eb7e315285b28a719522e8
Author: George Nachman <georgen@google.com>
Date:   Thu May 14 12:29:31 2015 -0700

    Don't show the division view if a window has no title bar. The previous test was incorrect.

commit 8cd0ae677106d8e13803c076f550041c8ff9382a
Author: George Nachman <georgen@google.com>
Date:   Thu May 14 11:37:21 2015 -0700

    Make saveAffinities update affinities_. This fixes a bug where if you drag a tmux tab into its own window, newly created tmux tabs will be added to the wrong window because the local copy of the affinity is incorrect even though the one on the tmux server was right

commit fae7976d96d2da2b797e03be2e142dbaaf026189
Author: George Nachman <georgen@google.com>
Date:   Thu May 14 11:17:46 2015 -0700

    Preserve order of tmux tabs by reordering windows in tmux when tabs get reordered

commit e37055b76346f7bca53539a304f064f82fae3ce0
Author: George Nachman <georgen@google.com>
Date:   Wed May 13 17:40:01 2015 -0700

    Make duplicate tab respect PREVENT_TAB by opening a new window

commit 66326abfa19995a835539c3d114f54fd26327d77
Author: George Nachman <georgen@google.com>
Date:   Wed May 13 13:11:19 2015 -0700

    Respect minimum tab width setting, and allow uneven tabs to be larger than the minimum size.

commit a603b84d5950d7fd5a9c41b5006a64b4fd7a902f
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 12 21:05:16 2015 -0700

    Fix assumption that a single character is always one code point long

commit 08dc0d4de987a5522ca36e95c79680692e703099
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 12 20:57:41 2015 -0700

    Fix bug where a surrogate pair at the end of a line would get cut in half when copying because rangeOfCharacterFromSet:options: can return a length greater than 1. Issue 3544. See also commit 8fb8a564d503e19adade0be0949a36de2240c5a8 in the v2 branch

commit c608c37e1944426226e203a51b865365d01e6607
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 12 20:41:41 2015 -0700

    Improve logs when restoring session contents.

commit cc484d393e1110a7fe22915b4999638991eb8733
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 12 20:32:01 2015 -0700

    Add a gross hack to properly center profile names within their cells. I really don't see any sane way to do this.

commit fd44a292480a88cf0802e555d894a210c9547d41
Merge: ec074628 904042e4
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 12 19:48:02 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 904042e41409c7c22fe9fa3cd007e81d87dbf265
Author: George Nachman <georgen@google.com>
Date:   Tue May 12 16:45:33 2015 -0700

    Make new window/new tab open local session unless overridden by advanced pref

commit a6f91bfa53ff1fa396aa98d09b448cc687944725
Author: George Nachman <georgen@google.com>
Date:   Tue May 12 16:34:17 2015 -0700

    Respect each font's reported underlinePosition instead of always drawing underlines two points above the bottom of the cell. Issue 829

commit 16738123a2e1567e1e75a1297c4ee5573b00d5ff
Author: George Nachman <georgen@google.com>
Date:   Tue May 12 14:43:46 2015 -0700

    When respecting soft dividers and selecting text in the rightmost partition, treat trailing spaces as nulls to get line breaks (otherwise, in vim, everythign ends up in one big line)

commit ec07462839d66756239e63c472e35484cf8a540d
Merge: ecd83d75 5dc40316
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 11 22:21:15 2015 -0700

    Merge branch 'animatedGifsSquashed'

commit 5dc40316b37e9e92bc72c7c010d3e84b8fa87104
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 9 15:46:35 2015 -0700

    Add support for animated GIFs and in the process clean up some of the stuff around how images are handled:
    * Move responsiblity for creating a pasteboard item and saving a temp file into ImageInfo.
    * Make mouse become a cursor when over an image.
    * Make cmd-click on an image open it.
    * Move ImageInfo into its own file.
    * Also clean up a bogus method in a PSM header.
    
    Cleanup

commit ecd83d75824479f7fa7d0ff2775d7f8452002538
Merge: 8feb6c43 fac1c854
Author: George Nachman <gnachman@gmail.com>
Date:   Sat May 9 15:46:40 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit fac1c854a261d2b328b64a372ef8e694129e4ba7
Author: George Nachman <georgen@google.com>
Date:   Thu May 7 14:19:45 2015 -0700

    Fix some bugs in the advanced paste window. Turning off postprocessing features like b64 encoding now works. Filenames aren't forced to be shell escaped. The text view's width is correct now. Capitalize paste type labels in the popup. If multiple filenames are present, quote them.

commit e597bb4d15102e5162bc2a6d3bf5d1e961f7f1ac
Author: George Nachman <gln@google.com>
Date:   Thu May 7 11:05:08 2015 -0700

    Add more logging for window restoration. Turn on automatically enabled debug logging earlier to capture window restoration

commit ac2b43459ae367b662c82b4d513f87d47032609c
Author: George Nachman <georgen@google.com>
Date:   Wed May 6 14:39:40 2015 -0700

    Remove no-longer-needed call to taskWasDeregistered when closing a tmux session which over-released PTYSession, causing issue 3527. The earlier cleanup of memory leaks of PTYSession caused this.

commit f76d29deb36f6d8d1fc9b7f1c243bda57e39aeb5
Author: George Nachman <georgen@google.com>
Date:   Wed May 6 13:47:08 2015 -0700

    Fix Open Selection when the selection ends with whitespace and newlines.

commit 867216c1e18afd9041d6d0c77d3275775e84ce7d
Merge: 1bf6c8c6 40eab43c
Author: George Nachman <georgen@google.com>
Date:   Wed May 6 13:14:17 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 8feb6c43902bafa483fd1fc848c93b2a83c3f96c
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 5 22:38:21 2015 -0700

    Fix a bug with tabs on the left where the tab view would get shifted over when the tab bar control flashes into view in fullscreen

commit 62e576ddbeebe39e0cab1ff2acaa4beb3ea1bf16
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 5 22:17:52 2015 -0700

    Improve the appearance of the tab bar. Make the selected tab blend with the title bar. Make the close button fade in when the cell is moused over. Make the background of non-selected tabs animate to darken when moused over. Center things vertically better. Tweak various colors. Make the corner of the rightmost cell look better.

commit a414af0040de9da3bee48f64b156027aa89206d7
Author: George Nachman <gnachman@gmail.com>
Date:   Tue May 5 20:48:35 2015 -0700

    Make tabs look a little more like Terminal's by making the selected tab blend in

commit 40eab43c673d5df1d29566a4f6ea60e9cd41d5ca
Author: George Nachman <gln@google.com>
Date:   Tue May 5 13:55:19 2015 -0700

    Add Zoom Out menu item

commit 3d55beb10f997ffd28262a4160947822f7faee7b
Author: George Nachman <gln@google.com>
Date:   Tue May 5 13:48:58 2015 -0700

    Fix analyzer warning

commit fad0035249a44f9789e43800477c2cac2eb5a290
Author: George Nachman <gln@google.com>
Date:   Tue May 5 13:48:16 2015 -0700

    Fix analyzer warning

commit f88d078d7e8f6a09e6457cee31c2dd2735363bb1
Author: George Nachman <gln@google.com>
Date:   Tue May 5 13:46:59 2015 -0700

    Fix analyzer warning

commit 9d2aa9b6684fc0af7e13c6fe091bb71d1af0f7ea
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 4 22:25:12 2015 -0700

    Fix a leak of sessions used to display instant replay or zoomed results

commit a1994934d578873a9c227855fa0af8a99d0951f6
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 4 21:28:50 2015 -0700

    Remove unneeded retain and release that upset the analyzer

commit 8fe85dfbba939d751ed433b8a64531c117708845
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 4 21:13:55 2015 -0700

    Fix analyzer warning for unnecessary retain of bookmarks_, and modernize the surrounding code

commit 6fbc9cd6f7566f3f463f049523875abe47867047
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 4 21:02:36 2015 -0700

    Fix a leak of PTYSession when restoring an arrangement with a zommed session. Fix a bug where, in such a case, after zooming out the live session's view wasn't linked to its session (one symptom: closing the tab wouldn't close the window). Fix an analyzer warning in PseudoTerminal.m.

commit b8cac340d7772ec9fa4d86d8840e22118bbfeabb
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 4 20:12:59 2015 -0700

    Fix warnings

commit 775ebaec0796f58fa3ef0741eaa4737d765621b6
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 4 20:11:37 2015 -0700

    Fix analyzer warning, clean up findCursorWindow code.

commit 07760fe3bc75a44e90b4c82ba4ca0524e98c7e9f
Author: George Nachman <gnachman@gmail.com>
Date:   Mon May 4 19:54:15 2015 -0700

    Fix memory leak from temporary dobule-buffered grids. Issue 3518

commit 938746b09a73d1e8c9699554ecdfa8e919058fbe
Merge: c3c38035 b6d94b7c
Author: George Nachman <gnachman@gmail.com>
Date:   Sun May 3 22:45:53 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit c3c380356e0229d70738899db2277bfd4661ee86
Author: George Nachman <gnachman@gmail.com>
Date:   Sun May 3 22:45:35 2015 -0700

    Move the window title bar accessory to behind a turned-off feature flag because it broke the toolbelt. See the angry rant-comment for details.

commit 1bf6c8c64834c0ce4d476dba0a5062c608704243
Author: George Nachman <georgen@google.com>
Date:   Fri May 1 14:58:10 2015 -0700

    Improve description printed by SolidColorView

commit b6d94b7c888acc0ddd865cd9ac8838c69b64fbdf
Merge: 1eb7115d 1d5c3bf0
Author: George Nachman <georgen@google.com>
Date:   Wed Apr 29 10:07:23 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 1eb7115dd38d077ab5cd09e8dd827c7069b116f3
Author: George Nachman <georgen@google.com>
Date:   Wed Apr 29 10:07:11 2015 -0700

    Change URLs in about box to ones I control

commit 1d5c3bf0e0b9186a8451eae2856fae0df50a55a7
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 28 22:41:26 2015 -0700

    Fix punctuation in README.md

commit 447d15fdbe093c523f1be378eba8fea95d915411
Merge: 1fcf89b3 1c2e9ebe
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 28 22:40:52 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 1fcf89b3ed285b3df478582812b9088f87a64c53
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 28 22:40:38 2015 -0700

    Update readme for gitlab issues

commit 1c2e9ebe86fabc4e2f5dda63ed81790b8d9e86b3
Author: George Nachman <georgen@google.com>
Date:   Tue Apr 28 10:09:42 2015 -0700

    Limit upper bound of command size

commit 4319758e46495b0ee54829189a4c8960c478d10a
Author: George Nachman <georgen@google.com>
Date:   Tue Apr 28 09:57:22 2015 -0700

    Try to fix a common crash in the nightly build in [LineBlock getWrappedLineWithWrapWidth:lineNum:lineLength:includesEndOfLine:yOffset:continuation:], which I suspect is caused by a negative row passed to tabFillerOrphansOnRow:. From the comments in crash logs, it looks like shell integration is failing to mark the end of the command for some people; after a lot of output, the start of the command is lost to overflow, leading to a negative Y value in the command range, which gets passed to tabFillerOrphansOnRow.

commit fd3570abc6689a181c76a9542ce32da7d0931c22
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Apr 23 17:22:16 2015 -0700

    Add a cancel button to the prompt for substitutions, thus allowing session creation anywhere to fail. Make the parameter panel less ugly.
    
    Preserve substitutions in saved arrangements. Fixes issue 1063.
    
    Remove a bunch of dead code.
    
    Fix Shell>Close terminal window by implementing -[PseudoTerminal performClose:]

commit 1703d5b27aa0a74093837a2adfa808aa52580591
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 26 21:35:37 2015 -0700

    Recognize quoted URLs; generally improve url recognition for cmd-click.

commit 70e484e9a39c737bada8534c641b75359453949d
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 26 14:42:45 2015 -0700

    Turn on double buffered drawing when cursor is hidden by default

commit c7fc80e82adc5e168166f06267c51c081486fb2a
Merge: c2586882 24145874
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 25 16:05:35 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit c258688246b9690ebba3ed7d9ae8f0c8620faa8b
Merge: 6996917b a4b9473c
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 25 16:05:28 2015 -0700

    Merge branch 'fullscreenupdates'

commit a4b9473c878404421dfc713631e8fdef889df9ac
Author: George Nachman <georgen@google.com>
Date:   Thu Apr 23 16:25:35 2015 -0700

    When the cursor is hidden, save a copy of the grid for 200 ms and use it in place of the real grid for drawing purposes. This prevents flicker while the screen is getting repainted.

commit 241458743da2180a6026924cf5dff4d342c50523
Merge: 9398ffb9 6996917b
Author: gnachman <gnachman+github@gmail.com>
Date:   Fri Apr 24 18:37:12 2015 -0700

    Merge pull request #212 from ridiculousfish/master
    
    Make the find bar first responder immediately upon opening

commit 6996917b41cd494a80c51d304694b32b82632afb
Author: ridiculousfish <corydoras@ridiculousfish.com>
Date:   Fri Apr 24 16:54:07 2015 -0700

    Make the find bar first responder immediately upon opening
    
    More aggressive fix for issue 3496. The original fix allowed
    a possibility for enqueued events to be processed before
    the text field gained focus, so that for example typing
    cmd-F followed by 'a', the 'a' would go to the iTerm window.
    This fix ensures that enqueued events go to the search field.

commit 9398ffb994b3ee40017a1f0e76486ad0951d1b6a
Merge: 2a333f57 727ea70f
Author: George Nachman <georgen@google.com>
Date:   Fri Apr 24 11:39:51 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 727ea70fccc9a1ed81e1d89c2c4e53f985698fce
Merge: 1a8e8771 ebf0a798
Author: George Nachman <gln@google.com>
Date:   Wed Apr 22 12:52:07 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 1a8e8771165a60e4f29b23d8b32e73828446c00e
Author: George Nachman <gln@google.com>
Date:   Wed Apr 22 12:52:03 2015 -0700

    Align signal picker with button in Jobs tool

commit 4cfba2a4e309b4ad8d6c5d668ae01babf0a54fff
Author: George Nachman <georgen@google.com>
Date:   Wed Apr 22 11:27:45 2015 -0700

    Adhoc build 2.9.20150422_112606

commit 2a333f57003f24156af36bfb63db8e7136a18df3
Author: George Nachman <georgen@google.com>
Date:   Wed Apr 22 11:26:01 2015 -0700

    Add logging for debugging selectOutputOfLastCommand:

commit ebf0a798823b44e0b40676f9074f795aabf6234d
Author: George Nachman <georgen@google.com>
Date:   Wed Apr 22 11:14:22 2015 -0700

    Fix a bug where we didn't advance curX when constructing a run that begins with a DWC_RIGHT. That happens commonly now that we draw a ring of extra chars every time. Issue reported on mailing list today. Also make golden tests insensitive to small changes to avoid false failures.

commit a660c15019f02d71558d34f21c302bff7a05b4f4
Author: George Nachman <gln@google.com>
Date:   Tue Apr 21 13:48:35 2015 -0700

    Vertically center help buttons in toolbelt on Yosemite

commit f33cb0886a185ff20699489d7fbae1b92dd7e0bc
Author: George Nachman <gln@google.com>
Date:   Tue Apr 21 13:44:05 2015 -0700

    Fix bugs in captured output. Remove a warning about takeFocus being undefined. Fix a bug where the help button disappears when Captured Output is shown from the announcement bar. Make tapping an item in capture output make the textview first responder.

commit 154976304a6b08f48416fe0a88cfe9ca6e52c6f4
Author: George Nachman <gln@google.com>
Date:   Tue Apr 21 13:31:32 2015 -0700

    Use fabs for floating point value

commit 7da6c0e084ebee6a64974a50dc8cbe9c14d453e5
Author: George Nachman <gln@google.com>
Date:   Tue Apr 21 13:30:44 2015 -0700

    Ignore the tautological pointer comparison warning, which I think is actually incorrect because of the RKLCDelayedAssert at the top of the method.

commit e130f3d4e6abbbe71e56cc835d2b708ad34b794f
Author: George Nachman <gln@google.com>
Date:   Tue Apr 21 13:21:40 2015 -0700

    Fix some warnings about improper use of abs

commit cda91599a5bb793af78b9c0273299ba52868b215
Author: George Nachman <gln@google.com>
Date:   Tue Apr 21 13:21:11 2015 -0700

    Only escape will pop out of a zoomed in view

commit bfd5ffe43e5d718e97c3784cba3669aa935e05bf
Author: George Nachman <georgen@google.com>
Date:   Tue Apr 21 12:40:02 2015 -0700

    Use ThreeFingerTapGestureRecognizer for the EventMonitorView in the Pointer prefs panel. Clean up the code that uses it a bit

commit 4df0aaacc1d69ce4c6c64714f2a187a99bf24f73
Author: George Nachman <georgen@google.com>
Date:   Tue Apr 21 12:24:51 2015 -0700

    Fixes a bug where pointer actions requiring option would not work because ignoreOption: was always YES when the profile allows mouse reporting. This changes PTYTextView to take the mouse mode into consideration, allowing option to be used to determine the pointer action when the mode is NONE or HILITE, since they take no actions.

commit d4c6a1617ca44bf0fc9992e72265ea938cd590d2
Merge: 377e915f 26c3b765
Author: George Nachman <georgen@google.com>
Date:   Tue Apr 21 10:57:50 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 377e915f803db5f4e94e91fa7a4b885c2e08179b
Author: George Nachman <georgen@google.com>
Date:   Tue Apr 21 10:57:11 2015 -0700

    Fix a bug where selecting whole lines did not properly see soft EOLs because the check for logical windows was incorrect.

commit 7e8e6b1ce39fd08893b8729fa0ce4e8284811b3c
Author: George Nachman <georgen@google.com>
Date:   Tue Apr 21 10:56:45 2015 -0700

    Fix 'smart selection ignoring newlines' pointer action, which didn’t properly ignore newlines (it used iTermSelection’s smart selection mode; now we use character mode instead).

commit 26c3b7650f07846640247e54f650fa1f421382ba
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 20 21:53:26 2015 -0700

    Move 'Disable session-initiated window resizing' to Terminal from Window profile prefs. Add 'Open Toolbelt' to Window profile prefs (Issue 3303)

commit acf03290bcf31b5c4faed38926976c8e3d352067
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 20 21:20:28 2015 -0700

    Fix a bug where a dynamic profile couldn't be default if there were no bookmarks saved in prefs (Issue 3491)

commit 31bb97e2575a46ba861b49ec8ef15971df921a15
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 20 21:05:37 2015 -0700

    Use an ellipsis in Check for updates...

commit 00a34885d8646430605a6db340dc715751af7429
Merge: f2dc34fe 894fbd87
Author: gnachman <gnachman+github@gmail.com>
Date:   Mon Apr 20 21:04:58 2015 -0700

    Merge pull request #207 from Zifius/check-for-updates
    
    Fixed the plural form in "Check For Update..."

commit f2dc34fe6120d97cf0824ac9c3aa81ea96eb366e
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 20 20:56:43 2015 -0700

    Open BBEdit from semantic history by bundle ID since it uses the same scheme as textmate

commit e4c0f9258637c4e36154df9c0867a302f4cef5cc
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 20 20:55:57 2015 -0700

    Fix broken test that assumed indexing worked when cursor was outside l-r margin

commit c44fa55890c4116dd7d3c0108e208be4454720f0
Merge: 8a29db01 35ebb355
Author: gnachman <gnachman+github@gmail.com>
Date:   Mon Apr 20 20:24:54 2015 -0700

    Merge pull request #210 from gnachman/revert-206-bbedit
    
    Revert "Fix for setting BBEdit as default for semantic history"

commit 35ebb355c4494dde8213dc7d5e5c5705d1aa492c
Author: gnachman <gnachman+github@gmail.com>
Date:   Mon Apr 20 20:24:28 2015 -0700

    Revert "Fix for setting BBEdit as default for semantic history"

commit 8a29db015bd693f9a9004ae3dc4ed8c2cc89187f
Merge: 78b2c5d1 67fc7d61
Author: gnachman <gnachman+github@gmail.com>
Date:   Mon Apr 20 20:20:37 2015 -0700

    Merge pull request #206 from fingolfin/bbedit
    
    Fix for setting BBEdit as default for semantic history by using x-bbedit as the scheme.

commit 78b2c5d1bbeaa07b707dad68926fe7cbd2af9287
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 20 20:17:57 2015 -0700

    Enable build active arch only when debugging

commit 8e45535e10528ec84c9cf6ac2b1e167f73e57ac9
Merge: c920f71a ccb2711f
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 20 20:17:29 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2
    
    Conflicts:
            iTerm2.xcodeproj/project.pbxproj

commit c920f71aeb89add2ba511179a5b3cf2357768098
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 20 20:15:50 2015 -0700

    If a profile has a tag like Dynamic/xxx then don't add a Dynamic tag. Treat Dynamic/.* as a dynamic tag. Issue 3492.

commit ccb2711fbf481e98fc8416ea71f3a22a9d06c394
Author: George Nachman <georgen@google.com>
Date:   Mon Apr 20 14:35:15 2015 -0700

    Make find bar first responder one spin of the runloop after its open animation begins (issue 3496)

commit 1d1b5f60a123a80f7f3e4aff8ff142bebe686689
Author: George Nachman <georgen@google.com>
Date:   Mon Apr 20 14:15:40 2015 -0700

    Set NSScrollViewShouldScrollUnderTitlebar instead of trying to swizzle -[NSTitlebarContainerView addSubview:], which caused issue 3499.

commit 9a08b62223df3198177b41b6110e7042b5449f87
Author: George Nachman <georgen@google.com>
Date:   Mon Apr 20 12:28:56 2015 -0700

    Use minimum subsequence matcher for open quickly

commit d7dfc762fd9b9bc897b3754109f60a416e4479f4
Merge: 604c6c9f 05186165
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 19 22:15:59 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 604c6c9f03727165296ac7a74b6806d68df08365
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 19 22:15:44 2015 -0700

    Add minimum subsequence matcher

commit 05186165325090f6033eccdf74fdceaeb76c4ded
Merge: 54ca06c2 a8e847dd
Author: George Nachman <georgen@google.com>
Date:   Thu Apr 16 16:04:56 2015 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 54ca06c2431865d2118aa48bc17035c8119275cf
Author: George Nachman <georgen@google.com>
Date:   Thu Apr 16 16:04:38 2015 -0700

    Fix crash when closing a tab with a maximized view. The textview's delegate is removed in -[PTYSesison terminate], but setBadgeLabel: will crash if it has no delegate.

commit a8e847dda6dcfbbbe3b46aaf837d1ef5d8648879
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Apr 15 22:01:08 2015 -0700

    Hide the mirror view by swizzling addSubview: in NSTitlebarContainerView, since the old method was not reliable

commit 3f346cbd3f0f4ff25fc7618b8e326418ee3519ea
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Apr 15 21:33:25 2015 -0700

    Add 'zoom in on selection' feature.

commit 894fbd8734ae6a95d6c975668650b28c5eb1c33b
Author: Alexander Turiak <alex@hexbrain.com>
Date:   Wed Apr 15 15:15:01 2015 +0200

    Fixed the plural form in "Check For Update..."

commit 6a68c0362da4a45641144fe33da53b98e4ad66ad
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 14 21:33:02 2015 -0700

    Fix DCH test--it should work outside the margins

commit 2ba90fa5759ddfad35435d1d9c5eaf6640af37c1
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 14 21:26:14 2015 -0700

    Fix up winops support a bit

commit 449a0b3d510ff605642a01c6e943d0bab393ed46
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 14 21:00:08 2015 -0700

    Make shortcut accessory respect 'show window number' setting in appearance

commit 52d41debe65f4e64ac72aad25e76193956bf27d2
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 14 20:53:52 2015 -0700

    Use l as leader for reporting window title, not L

commit 8b00f8c9a43993a415fc41609d182be0b3bcdb96
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 14 20:48:26 2015 -0700

    Fix up test for VT

commit 99371931674c16902760c44e48897b71a81045b0
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 14 20:46:55 2015 -0700

    Corret knownBug for test_RIS_ResetTitleMode to indicate it fails because of a missing feature

commit 75c302e0b60398b31bde467674c38288018fe66e
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 14 20:45:15 2015 -0700

    Make iTerm2 reset terminal size to 80 cols when resetting via the Reset menu command, RIS escape sequence, or when restarting a session, provided it was in column mode.

commit 439842522b8dd136b2fe058cea16f9f21f7cf6c6
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 14 20:40:41 2015 -0700

    Fix tests for ff/lf/nel/ri to test cursor moving without scrolling. Fix RI to not scroll when outside l-r margin

commit ec05be148d46c886a3c528fdbae5225ec78e2660
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 14 20:26:22 2015 -0700

    IND TODO resolved

commit ca38ef29bb6a0566c4b590ffbe3fe3536ac999ee
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 14 20:26:02 2015 -0700

    Fix NEL when cursor outside left-right margin

commit 862c33cb79bc351bc16a5da324ae272d9d48d0cb
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 14 20:18:45 2015 -0700

    Remove knownBug annotation from test_LF_MovesDoesNotScrollOutsideLeftRight

commit b9ae7a27873fdf9a0167a03778b47614c01d9d3c
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 14 20:18:07 2015 -0700

    Index also doesn't scroll when cursor is outside l-r margin

commit b2ce2429406077e21cae196179610916273d19e1
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 14 20:05:08 2015 -0700

    Ignore linefeed and formfeeds when cursor is outside left-right margin

commit 6f323741e4e914e3cb13a76a96e21cdb169b2775
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 13 22:07:39 2015 -0700

    Allow a dynamic profile to be the default profile

commit f824550698c522615f1e4b33c7f3e4bb4710f29a
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 13 21:26:11 2015 -0700

    Don't show shortcuts for window numbers 10 and greater; just show the window number instead, since it is a useful guide.

commit 74fd37fd2b670340d08953661a55d85a29ad1f24
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 13 21:25:44 2015 -0700

    Make previousTerminal and nextTerminal cycle windows by PseudoTerminal.number rather than creation time, since the number is visible in the UI

commit c47d121d6616ed20aa7b2d67e79a79fc30d2144d
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 13 21:08:24 2015 -0700

    Make next/previous terminal move numerically through terminals instead of using cmd-backtick's crazy MRUish ordering

commit 5611c8175ff53135f3f9f5323c1f7c974557a121
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 13 21:07:51 2015 -0700

    Remove next terminal/previous terminal from window menu, which was silly nonsense left from the old iTerm

commit 9c9fe12ddc286eef64fdeed5d167f726af24d0d7
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 13 20:51:09 2015 -0700

    Improve scoring algorithm for open quickly to boost exact equality and penalize for sparse matches in proportion to the number of gaps in the subsequence

commit 2a55712c19a8b40c8c4ef696bf82c0fa8438b48b
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 13 20:12:50 2015 -0700

    Use window instead of terminal window element in applescript (see issue 3470)

commit 973ea2b389b0a9a12f3712fa1215829a1f0a1419
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 12 19:46:45 2015 -0700

    Only show 'new output' or 'idle' images (the pencil) when 'hide activity indicator' is off

commit 5527d537e39a1f22dcb42a24d02f0ff698a462b1
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 12 15:19:59 2015 -0700

    Add context menu item to select output of command

commit 35bfdc1d2e2e2aed05a6add20a9edb528a7748bf
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 12 13:12:36 2015 -0700

    Fix backspace test (should not skip over dwc-skip when reverse wrapping)

commit 490542ba43289eaefd122fb822d002fcafb82c93
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 12 13:10:02 2015 -0700

    Fix up golden for 256 colors (master branch had a bugfix for how colors were computed while the test were being written in another branch)

commit faaf7c9ff8646a26ad99dbda79c29a3b727f8415
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 8 10:19:46 2015 -0700

    Refactor drawing code and add tests for it.
    
    Conflicts:
            sources/PTYSession.h
            sources/PTYTextView.m
            sources/iTermTextExtractor.h

commit 67fc7d616b90f31f4703e28dc7493150f66e3cac
Author: Max Horn <max@quendi.de>
Date:   Fri Apr 10 10:52:55 2015 +0200

    Fix for setting BBEdit as default for semantic history
    
    Without this, if a user has both BBEdit and TextMate installed and
    chooses BBEdit as default for semantic history, iTerm2 would still
    launch TextMate. This is because both were configured to use the
    same URL scheme.
    using that has the problem that when both BBEdit
    
    (Also fix a typo in a debug message :)

commit d0b8d3d18da332eb3c6aa38d8c910680e093ab82
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Apr 9 20:46:04 2015 -0700

    Improve alpha for drawing time logging

commit 2f4c85d30d2c42c0c8e2a77214e09c6b39850bd3
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Apr 8 21:19:22 2015 -0700

    Fix leak of PTYScrollView.

commit eabcd287cfd27869df580df5505152c2302c71e8
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 5 22:35:11 2015 -0700

    When you've elected to use an editor in semantic history, always use it. The previous logic was nonsensical. Also, when opening a text file with the default semantic history action and the registered app for the file happens to be the preferred editor, pass the line number along.

commit c69ae5f49305ea9c6f3f9b6dcb4aeabf2980e29f
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 5 22:32:31 2015 -0700

    Convert tab to spaces

commit e0c43773a518ccbf2adfa0e7e21b593c997db689
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Apr 5 22:26:54 2015 -0700

    Remove stray characters

commit 095b4405e2e6c3cb9fc7edf59d8b92215233f89c
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 4 22:37:47 2015 -0700

    Allow backspace to leave the cursor on the right half of a double-width character.

commit b58b5d421ad71e75d7a04a9cf9e3a611c2b31a11
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Apr 4 09:26:43 2015 -0700

    Add more debug logging for semantic history

commit 6ffdc70bbc9eda97e9974f3305b8107760d686b9
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 29 17:30:45 2015 -0700

    Use pid_t instead of int for the result of waidpid

commit e772ff19636c849673f4988e5ec00e6c7218b67d
Merge: 84b48e40 8ec73329
Author: gnachman <gnachman+github@gmail.com>
Date:   Sun Mar 29 17:27:38 2015 -0700

    Merge pull request #204 from ridiculousfish/master
    
    Don't forget about processes that were alive when we tried to reap them (issue 3471)

commit 8ec73329f23459bd03aa6eda509e252052f41ab3
Author: ridiculousfish <corydoras@ridiculousfish.com>
Date:   Sun Mar 29 13:08:43 2015 -0700

    Don't forget about processes that were alive when we tried to reap them
    
    Pids are added to a "deadpool" in TaskNotifier when we expect them to
    die soon. When reaping processes, it's possible that waitpid() will
    return 0, meaning that the process is not yet dead. In that case, put
    its pid back into the deadpool so that we attempt to reap it again.
    Otherwise the process will become a zombie.
    
    Fixes https://code.google.com/p/iterm2/issues/detail?id=3471

commit 84b48e401a0b638bc955cdd6a540de64c00a926a
Merge: 11d9ea7d 1200bbad
Author: gnachman <gnachman+github@gmail.com>
Date:   Sat Mar 28 17:14:58 2015 -0700

    Merge pull request #203 from peteschaffner/update/prefs-icons
    
    Update preference pane icons for Yosemite

commit 1200bbadcc9a8ee258adc6dafd4eaa98aeceb564
Author: Pete Schaffner <pjschaffner@gmail.com>
Date:   Sat Mar 28 12:14:55 2015 +0100

    Redrew system ToolbarAdvanced at a smaller scale
    
    - Did some cleanup to the source file
    - Minor gradient tweaks

commit 14f15cc496005896c48d0c3d8e718254adbbb2a7
Author: Pete Schaffner <pjschaffner@gmail.com>
Date:   Fri Mar 27 08:58:25 2015 +0100

    Moar flat for all icons!
    
    - Reduced gradient contrast
    - Improved highlight (active) state
    - Toned down shadows
    - Scaled Pointer and Arrangements icons a bit
    - Drew custom Advanced icon

commit d3a588e6157e18f9cd545721d0d7e8bfcc70faea
Author: Pete Schaffner <pschaffner@google.com>
Date:   Wed Mar 25 10:27:12 2015 +0100

    Simplify & improve Pointer and Arrangements icons
    
    Tone down the outer shadows, soften the border radii and improve the
    highlight state.

commit 2d33c4fc171c16f653ca1c2bbdc67f1b33fa686f
Author: Pete Schaffner <pjschaffner@gmail.com>
Date:   Tue Mar 24 22:24:20 2015 +0100

    Update @1x versions of General and Keys icons

commit ad51871c51a1aaa9f7c6053b759cdec29906e16d
Author: Pete Schaffner <pjschaffner@gmail.com>
Date:   Tue Mar 24 22:02:31 2015 +0100

    Simplify and improve General and Keys icons
    
    Tone down the outer shadows, soften the border radii and improve the
    highlight state.

commit 94f89c7a935be68de8cf54c8bcc8f8bf03996034
Author: Pete Schaffner <pschaffner@google.com>
Date:   Mon Mar 23 09:02:43 2015 +0100

    Add Sketch source file

commit 163da5ea7bfdb3d3d2c65a42d8288df5577e9fb5
Author: Pete Schaffner <pschaffner@google.com>
Date:   Mon Mar 23 08:48:13 2015 +0100

    Change Profile icon to be a bit more subtle

commit d9c2f7f98505a804b093eef2bbcf2eb0707abc1f
Author: Pete Schaffner <pschaffner@google.com>
Date:   Mon Mar 23 08:46:51 2015 +0100

    Make grey gradients more consistent across icons

commit 82ca271212d9be3a2623a564efe9c0c64065f1e9
Author: Pete Schaffner <pjschaffner@gmail.com>
Date:   Sun Mar 22 20:34:11 2015 +0100

    Add new Yosemite-style preference pane icons

commit 11d9ea7d0f5625db9f42f1e2527c4a8c1e4fea5e
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Mar 23 17:27:47 2015 -0700

    Add 'is at shell prompt' property to session in applescript

commit ee1b92034de9fbb20f37067b028f4f9290f923d3
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Mar 23 17:27:31 2015 -0700

    Fix some broken tests

commit a74c4a6e3752c771254d0cc1904d09015d7628d1
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Mar 23 17:27:08 2015 -0700

    Don't crash if you get an OSC 1337 with no string.

commit f7bdda6fc737de6ae3588dc0f9e4ac52c2cfa4cc
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 22 15:49:51 2015 -0700

    Move focus reporting into VT100Output

commit 5138325787bd5240b09fdb5c5f2eaa56a7e4bbd0
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 22 15:38:16 2015 -0700

    Modernize animation code for find bar.

commit 9f54b7cc4cc8023ece3dc97c41b762651990a506
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 22 15:04:58 2015 -0700

    Remove isTabFillerOrphanAt: in favor of a new method, tabFillerOrphansOnRow:, which returns an index set. The problem with isTabFillerOrphanAt: was that it supported line-wrapping of tabs (which is no longer possible) at the expense of extreme inefficiency. See issue 3144.

commit 4605ed5afbaa2e2633569aa125721d27d88edc3c
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 22 13:18:04 2015 -0700

    Don't call unmaximize and maximize when computing a maximized tab's arrangement. This caused a flash. Instead, augment savedArrangement_ by adding contents to it. Fixes issue 3389.

commit f399d224be0d729e0b197c1820a51d591d530a76
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Mar 20 14:23:02 2015 -0700

    Include shift in the set of modifiers checked for switch-window shortcut. Fixes issue 3425.

commit 3ea3959ba839774644c7baab604ad8e85e4d6342
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Mar 19 20:19:54 2015 -0700

    Autorelease temp buffers

commit 1d00684606a32f930f4ab1ec5b2a939849f1fd04
Author: george Nachman <georgen@google.com>
Date:   Thu Mar 19 17:18:37 2015 -0700

    Handle null results from CTRunGetGlyphsPtr and CTRunGetPositionsPtr. Issue 3444.

commit d1fae31918686fdd40e05fc078c820635620e189
Merge: 19aa370a 9d224c00
Author: gnachman <gnachman+github@gmail.com>
Date:   Wed Mar 18 20:54:03 2015 -0700

    Merge pull request #199 from allewun/aw-pin-visor
    
    Added bindable key action to quickly toggle hotkey window pinning

commit 19aa370ab1db8d74bca4e21b2af543535b53db21
Merge: 3f36cdf4 80302af0
Author: gnachman <gnachman+github@gmail.com>
Date:   Wed Mar 18 16:57:24 2015 -0700

    Merge pull request #200 from baskerville/master
    
    Use SRGB color space for xterm 256-color mode colors.

commit 3f36cdf477a0a757305c507289d1bbc6e7d82797
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Mar 17 11:25:22 2015 -0700

    Don't try to add a titlebar accessory view controller to a window without a title bar. Issue 3449.

commit 500415697c1cada66a6819b530abbd9fd27b7f69
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Mar 17 11:20:30 2015 -0700

    Make sure to remove tracking rects on the tab bar control before adding new ones. I wasn't able to repro issue 3452 but this should fix it.

commit 0e4bf47407189ce61b0d3f7472927fa115c415b4
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Mar 17 11:10:33 2015 -0700

    Clean up tab activity indicator code and various odds and ends

commit 80302af0b1b3e021fa0fef73940423c05c0d481e
Author: Bastien Dejean <nihilhill@gmail.com>
Date:   Thu Mar 12 12:09:37 2015 +0100

    Handle the xterm 256 colors as sRGB values
    
    This is a continuation of #176.

commit 0232ba490ba855ca34bc23446bb1e6e13d7cfab9
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 7 21:23:17 2015 -0800

    Add timeout argument to esctest

commit ded255923cd2eec7483cb08e3c931c74bfd3c580
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 7 21:20:06 2015 -0800

    Simplify resetGraphicRendeiton

commit d755c06e4879ab537d0876e1fdff08446050997e
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 7 21:18:12 2015 -0800

    Preserve cursor position on decset/decreset 47

commit 9e9dfb10f1f6189cc25de320eb4c2a9c991d0995
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 7 21:08:33 2015 -0800

    Move saved linedrawing charset flags into VT100Terminal, allowing DECSTR to be fixed.

commit 058138be3fedaef50cc02cd2c15e7f41192d257e
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 7 20:56:14 2015 -0800

    Use two separate saved cursors (main and alt buf) except in tmux mode.

commit 41d8aba92224e025d94dc4b486e7d991a1959db2
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 7 20:35:08 2015 -0800

    Move saved cursor position into VT100Terminal

commit 5cc6e34ce0c53ddc5ab35414d94ff09461ea10de
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 7 16:04:15 2015 -0800

    Move 'saved cursor' data into a struct to simplify forthcoming changes.

commit 2a651ed0ffed52fe335e1165149f4215d9b52a9f
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 7 13:26:02 2015 -0800

    Merge executeSGR into executeToken

commit a95e3f449caa62b30385e2cae8c82d71e7763e41
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 7 13:19:32 2015 -0800

    Merge executeModeUpdates into executeToken

commit 0c835db225f0cfb3a37126fe362bdbe9dfe904da
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 7 13:13:17 2015 -0800

    Move misplaced DECCOLM code to where it belongs.

commit 95485ffb45d21ca2680222ed2a003e943485fbd3
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 7 13:10:14 2015 -0800

    Move SGR flags into their own struct to simplify save/restore cursor

commit 4709a197189c4c3bd502925b10e4a68d56d95234
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 7 12:54:36 2015 -0800

    Add CURSOR_DEFAULT which will be used by DECSTR later.

commit 930a1da2960dbb916c2f8416ec51b6c84add7662
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Mar 7 12:51:16 2015 -0800

    Remove vestigal code for VT100CSI_RESET_MODIFIERS and VT100CSI_SET_MODIFIERS which never did anything.

commit 519195db83b9fa157cc5d6a917ba147730811467
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 4 11:15:09 2015 -0800

    Require top to be above bottom for DECSTBM, not equal.

commit dd9bcdc62e7ab0b5db8a03168f578623db372f94
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 4 10:58:12 2015 -0800

    Only scroll the screen when the cursor is at the bottom margin. If it's at the bottom edge of the screen and there is a top-bottom scroll region, it should not scroll.

commit dc1e38325ab35e5c391d73bae82bd92183e278d9
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 4 08:13:15 2015 -0800

    Remove dead code

commit 5969b1a5d061886894c06c286e4ef2062614cce6
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 4 08:12:42 2015 -0800

    Remove knownBug for scrolling when cursor below bottom margin.

commit fc6f3fa6cd51aced28f30e7719fd6cabf643de70
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 4 07:36:43 2015 -0800

    Fix bug with reverse wrap when cursor is past right edge

commit 7554dce53fb144dd3dda6548c0a4e5333bd3e393
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 4 07:14:13 2015 -0800

    Fix tests for reverse wraparound to avoid iTerm's handling of soft EOLs

commit cb25748c851b89274fc85053db51d39b4817665c
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Mar 4 07:04:16 2015 -0800

    Add support for decset 41 (more-fix)

commit 208b6f05a0f62c7cd0efb414c641b94d53142048
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Mar 3 20:48:58 2015 -0800

    Fix DECRQCRA's handling of origin mode and bogus rectangles.

commit a1e9940734a710f6eff062b960d722773c33fdff
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Mar 3 20:38:12 2015 -0800

    Improve DECSTR/DECLRMM tests

commit acd97404939bdd17b4070d28c0d6ce19f0d3bd5d
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Mar 3 16:43:57 2015 -0800

    Fix how HT (tab) works to not line wrap and to respect right margins

commit 9d224c00a2bfa44c26f2f2b9a672e74ba59735b8
Author: Allen Wu <allen.wu@ucla.edu>
Date:   Tue Feb 24 00:00:54 2015 -0800

    Added bindable key action to quickly toggle hotkey window pinning

commit c19cdd7c2ce830706f51bd565fbfb53f619bed8d
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Mar 2 16:23:07 2015 -0800

    Remove knownBug annotation on test_DECSTR_DECOM because we now reset DECOM on DECSTR

commit 67649a5aee8d18a9b666da75b22d40274f6360a0
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Mar 2 16:16:14 2015 -0800

    Add knownBug annotation for test_DECSTR_DECOM

commit f7853655c11fc959c51663049efe07bfaf78d76f
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Mar 2 16:15:14 2015 -0800

    Remove knownBug annotation as we now require DECAWM for reverse wraparound (except when there's a soft newline)

commit 1f9e50546512413789fc514804a268bf557687ef
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Mar 2 16:14:06 2015 -0800

    Remove knownBug annotation from test_DECSET_ReverseWraparound_BS as we now do it correctly; also reset DECOM on DECSTR

commit 1e2663c4790df97ba30fd73a9fbf3d3f6d1bb304
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Mar 2 16:08:27 2015 -0800

    Fix incorrectly wirtten test.

commit 7a4011fdc129e53ec74f2946f8488aa1a38c2da9
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Mar 2 16:01:34 2015 -0800

    Remove ill-concieved test

commit a95226a8372ed5ac55d1469bb53fdaef100e66d1
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Mar 2 14:44:40 2015 -0800

    Fix bug where the cursor moves past the right margin on insert when autowrap is off.

commit a34b5f12f4682130b2b44adce3e8003a1590a1eb
Merge: 31baabbe d71105d8
Author: gnachman <gnachman+github@gmail.com>
Date:   Sun Mar 1 18:44:19 2015 -0800

    Merge pull request #198 from allewun/aw-context-menu
    
    Show main menu when right clicking empty tabBar region

commit 31baabbe682062672851a25b776e7c8162c4f8b5
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 1 15:34:11 2015 -0800

    Fix bug where saved window restoration (with system window restoration setting) did not restore the working directory, but always respected the profile's setting instead.

commit 5a613a9c1bf7ddd0fea34135a391fd3fa7c53585
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Mar 1 15:02:54 2015 -0800

    Change DA2 to return three args. Hayaki Saito pointed out in a comment on e5b7db007c9340b93607096f64f4895fe4cef544 that how vim sets ttymouse changes when there are 2 vs 3 args.

commit cae02646ef5a1733ab5456d281578ce6e9714e8c
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 28 22:06:33 2015 -0800

    Fix analyzer warnings

commit a4a6e68449c681094e485b4f87b9c15ee8733e33
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 28 21:02:11 2015 -0800

    Fix DCS parsing to match the spec so that it will properly swallow all unrecognized DCS codes.

commit d71105d86090cbd441748b02f59ca4ff99a9f153
Author: Allen Wu <allen.wu@ucla.edu>
Date:   Mon Feb 23 21:01:13 2015 -0800

    Show main menu when right clicking empty tabBar region
    
    * when the "LSUIElement hack" (issue #954) is enabled, the menu bar is inaccessible, so show it as a context menu when right-clicking empty tabBar region

commit e5b7db007c9340b93607096f64f4895fe4cef544
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 23 16:45:33 2015 -0800

    Return two parameters in responds to DA2 (aka SDA)

commit 7f4be8c4c1dedd991750c8efbec1f4ef98af2b7f
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 23 16:41:59 2015 -0800

    Fix CUB behavior when the cursor begins left of the left margin.

commit 5ab6bdd05950ffa71e60c11dc0bab64ebdb0c848
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Feb 23 16:21:04 2015 -0800

    Fix CR behavior with left-right margin

commit 9806e41b2eb93defb6fb508bd4fe3625e403a664
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 22 21:49:20 2015 -0800

    Improve the implementation of backspace for various edge cases.

commit 5b722803d1ffd0afb35c28b831b638eb5801a258
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 22 15:46:09 2015 -0800

    Sort DECSET cases

commit 56fa974fcf3a8486f2e46d6657314135de3bfd8e
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 22 15:41:39 2015 -0800

    Fix bug where backspace wouldn't move the cursor left if it were left of the left margin.

commit c14f3a861067f08213e582912258f49dbd13a7db
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 22 15:20:41 2015 -0800

    Fix bug where ANSI save/restore cursor didn't affect flags

commit 3215b765495909189a81b392fee336014cd93385
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 22 15:19:57 2015 -0800

    Extend the test framework to add --action=list-known-bugs

commit 4c1c81f22ca74964aff3c7b127067b17147bb624
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Feb 22 13:33:56 2015 -0800

    Fix off by one error in decrqcra

commit 946261b3c384c8fb990029ee388eee76d20fd60c
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Feb 21 20:22:42 2015 -0800

    Narrow scope of hack where selection is cleared on linefeed when in alt screen and not saving to scrollback.

commit 3ea3629da2412f0bed7fccd4ae199fc3891042df
Merge: 0e606292 3c48b2b1
Author: gnachman <gnachman+github@gmail.com>
Date:   Sat Feb 21 14:49:47 2015 -0800

    Merge pull request #194 from gnachman/fixKoreanEncodings
    
    Fix korean encodings

commit 0e606292ae150078364a5080f891f21891b05dc1
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Feb 20 22:00:07 2015 -0800

    Clarify how to build xterm

commit 25074d09391657d84e588674482e9052178e6839
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Feb 20 21:57:20 2015 -0800

    Make some tests more resilient

commit aecbed44735331b0979df026cdacdcf506015d5a
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Feb 20 20:53:25 2015 -0800

    Remove knownBug annotation for test_CUF_StopsAtRightEdgeWhenBegunRightOfScrollRegion

commit 5988699fa96ce2cb206a861f64b85ef07139962f
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Feb 20 20:52:37 2015 -0800

    Fix CUF's behavior when cursor starts right of margin, fix some failing tests.

commit 6560904b638885ec4fd1a59abe211d57c222dbf1
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Jan 13 22:14:23 2015 -0800

    Refactor the CSI parser and add a suite of automatic unit tests to measure xterm compatibility.

commit 66065314ef728afd30130d71f28a608c992b19bb
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Feb 10 21:48:23 2015 -0800

    fix tooltip (issue 3406)

commit 2b24cc19cf94e9774544ce3c4dfad51e7a0a435d
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Feb 10 16:33:43 2015 -0800

    Don't hide hotkey window due to a warning being shown.

commit 61700474a8df7cf7ee9027f7795daad923e6e436
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Feb 10 14:00:19 2015 -0800

    Add logging for issue 3410

commit ded630e97330306f7f1b704262730b4179261930
Merge: 7a2c71fb f44c755e
Author: gnachman <gnachman+github@gmail.com>
Date:   Thu Feb 5 14:25:46 2015 -0800

    Merge pull request #195 from allewun/aw-cursor-opaque
    
    Make cursor opaque

commit 7a2c71fb7cada86112b9cb45e158b4ba3d965b11
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Feb 4 15:36:56 2015 -0800

    Improve logging for selection changes

commit f44c755e58a0667f95581ac46b2b4c9f6cc064cd
Author: Allen Wu <allen.wu@ucla.edu>
Date:   Mon Feb 2 21:45:56 2015 -0800

    Make cursor opaque

commit 2480d36654c1293a8550b70e2a2498024d4297f1
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Feb 2 12:15:14 2015 -0800

    Add advanced preference to turn off snap to grid

commit 0b191b5dfe068b5e2a9f5bfb88797e1d73df5ba0
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Feb 2 12:10:17 2015 -0800

    Log stack trace in setBadgeLabel: to try to diagnose issue 3389

commit 5a814f42ae1bcd58cd52c0c201a0f951a1c90efb
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Feb 2 12:02:04 2015 -0800

    Fix printf format for debug log timestamps to not have two extra 0s after the decimal point.

commit 023ec5cc8896cead9ab44c6dfb9209f8ae2a4f8f
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Feb 1 22:26:52 2015 -0800

    Use -[iTermProfilePreferences xForKey:inProfile:] in -[PTYSession setPreferencesFromAddressBookEntry:] instead of accessing the dictionary directly, in most cases.
    
    Migrate deprecated KEY_DISABLE_BOLD. Drop support for KEY_ANTI_ALIASING.
    
    Drop support for migrating iTerm 0.x prefs, which didn’t work in recent OS versions because it copied user default plist files.
    
    Set appropriate default values for KEY_CHARACTER_ENCODING and KEY_TERMINAL_TYPE.

commit 8d781db61ba413cfa3ebc13db316761cf4a0f96d
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Feb 1 22:26:39 2015 -0800

    remove duplicate value from default bookmark.

commit 6ee4169cb217e02d68f77a5d4ad4d3f653524722
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Feb 1 22:19:07 2015 -0800

    Turn on int-pointer conversion warnings.

commit 65cf468bb66ac9bb99337cae942fe857b46ca54a
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Feb 1 21:43:01 2015 -0800

    Fix upside-down bell indicator.

commit f6dabc53024d13ec1bd7be92bf505f72f87ea779
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Jan 30 20:41:50 2015 -0800

    Fix a bug where TextViewWrapper has a constraint on its margins, causing constraint breakage on height change (not quite sure what triggers it since it didn't always happen). The gist of the issue is that since the min and max y margins were both nonzero and both fixed, that two constraints were created, fixing the two margins. When the height changed so that the container was smaller than the sum of the two margins, they became unsatisfiable. One was broken, which I think was harmless, but it produced a scary message.

commit c407e2119fa4037b6d312deaf998eff6f38de4fe
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Jan 29 22:23:27 2015 -0800

    Try to avoid multiple windows entering Lion fullscreen at once when restoring an arrangement (it isn't supported by the OS). Opening a 'normal' window while the key window is fullscreen causes it to automatically become fullscreened.

commit d58caffb680b8fa121232858daa3090213d2e67f
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Jan 27 10:00:08 2015 -0800

    Use unfollowed symlinks when possible for restored sessions.

commit 40008f02d2de7b99bffcb744f5aad8d44f9a5537
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Jan 27 09:59:06 2015 -0800

    Use info from shell integration so that recycling directories can be done without following symlinks (bug 3383).

commit c1dd6757e0aba7ca060bfc6f2d3bbc45afcf578f
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Jan 25 20:13:42 2015 -0800

    Fix bug where the 'default' mode for Xterm (dtterm) codes should be 0; eg OSC ; Ps ST should set the window and icon titles to Ps.

commit f8fafb6af1067315b02601a7d9e3e0310c609907
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Jan 11 14:31:38 2015 -0800

    Clean up VT100ScreenTest.m

commit 8bd05d75dad807cc3dd0eb0075c56939bd2a4851
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Jan 7 09:49:05 2015 -0800

    Clean up how file downloads work internally. Instead of the parser lying and saying that OSC 1337;File=...:data ST finished at the colon, emit an incidental token with the metadata; zero or more incidental tokens for the body; and then when the code finishes or fails, the parser emits a terminator or error.

commit 501b87191d1eb3567dddb7ed674dc8e252770043
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Jan 6 16:29:40 2015 -0800

    Add new parser infrastructure and rewrite the xterm parser and add tests for it.

commit c0243a14f4664bfd0d40800580249403266f09c7
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Jan 4 16:29:03 2015 -0800

    Minor cleanup of VT100XtermParser

commit 6d748bf21f46ae3d4a15556b39358bb500a039f5
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Jan 4 16:21:23 2015 -0800

    Allow the OSC parser to avoid reparsing data for better performance, especially on large OSC 52 codes.

commit 7803a4d6ad943ea4e2bc46384abdd32ce1432b7c
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Jan 4 16:20:57 2015 -0800

    Make improvements to testing infrastructure to facilitate running a subset of tests

commit 52bed72f96ec36be519d37e96fab750cc166a4df
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Jan 4 13:58:00 2015 -0800

    Fix a bug where File= downloads would add up to three null bytes at the end of the file

commit e4aef6d7b47ad91c63d73f54a5eead29437944c2
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Jan 2 18:28:20 2015 -0800

    Move control character sanitization code out of VT100XtermParser and into VT100Terminal

commit 8b74ae30d7716bd6fd6ee5881a521e5d8d793ee5
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Dec 31 18:57:29 2014 -0800

    Fix (hackly) a bug where testWriteContentsOfFile would fail because it would write concurrently with shell integration's initial output. The echoed back text ended up in the middle of an escape code. A delay works around it, but the test is inherently flaky. Also fixes a bug where window restoration would cause testCreateWindowWithDefaultProfile to fail sometimes.

commit 9afa15e199b53d06ffaf18fc28b56d45ff722d19
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Dec 31 18:28:36 2014 -0800

    Fix bug where OSC commands were limited to a paramter of 1024 chars. Fix bug where OSC P would only be executed after the subsequent token begins. Write tests for the OSC parser.

commit b26ce3779f8a23b4a2d4f8cc20e0792b33ab64aa
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Dec 17 23:36:29 2014 -0800

    Add advanced paste option to convert unicode quotes and dashes to ascii

commit 8a672ba922134b28c907c637e28e387489ee7037
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Dec 17 22:15:40 2014 -0800

    Turn off vibrancy when becoming key

commit 45445759c5fa26f0bae198d121ff3d92b24fe010
Author: George Nachman <georgen@google.com>
Date:   Wed Dec 17 17:09:37 2014 -0800

    Allow a double-click on the image well in prefs>profiles>window to open the file picker. Modernize the file picker code so it will remember the last-used directory.

commit d0ee925e8f23b0a78f058f53ad93988852cab92d
Author: George Nachman <georgen@google.com>
Date:   Wed Dec 17 12:12:33 2014 -0800

    Show alert with runtime errors for scripts run from Scripts menu

commit d8c5e07529bfaa504e6eb4d80e4b0f4c0a9b39c3
Author: George Nachman <georgen@google.com>
Date:   Wed Dec 17 11:56:35 2014 -0800

    Fix a bug where you could open find, hit a key, close find, and then results would get highlighted because of the delay inserted before find for very short queries. This commit sets the active state without calling doSearch when closing the find view. That prevents anything from happening in the dispatch_after.

commit ae6deab2e46f4d0c00643c9e6a2656698f048cd9
Merge: 22a3e2bd e635be00
Author: George Nachman <georgen@google.com>
Date:   Wed Dec 17 11:15:54 2014 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 22a3e2bd940013e4a084e14de05da749a9e8168a
Author: George Nachman <georgen@google.com>
Date:   Wed Dec 17 11:10:25 2014 -0800

    Add advanced pref for maximum number of bytes of selection to provide to Services (issue 3359)

commit e635be00ab6393c93f43e8f4945b8e52e8521aa7
Merge: c1bd20dc bbb6e963
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Dec 15 23:42:27 2014 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit c1bd20dc5d6ad8f4b16054156b60d846309831c1
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Dec 15 23:41:27 2014 -0800

    Minor cleanup of previous commit

commit 3a99bb0a0e5924e2d515ec9638a4ffa6731a5682
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Dec 15 21:30:11 2014 -0800

    Don't allow one iTerm2 to attach twice to the same session.

commit 7588f53b8e234d64b7804a4537adf51ebd87dddc
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Dec 15 23:00:04 2014 -0800

    Fix a problem where setFrame:display: on a window would annoy constraints, which caused the window to get resized to the wrong height. It was caused by the "bugFixView", which did not play nicely with constraints. Constraints exist on the window now when a titlebar accessory is present. To repro the bug, simply run tmux -CC attach, and observe that there's a bit of gray at the bottom of the window frame.

commit bbb6e963286775592b33ba3d30d076c234997925
Author: George Nachman <georgen@google.com>
Date:   Mon Dec 15 17:37:47 2014 -0800

    add session.tty variable

commit fbc62eb0038771262e38b363dfca980f2217bb1b
Merge: 1cb58b88 8b86bf1a
Author: George Nachman <georgen@google.com>
Date:   Mon Dec 15 17:23:39 2014 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 1cb58b88f1a0933cb2fc3586d98484f7fd8bb221
Author: George Nachman <georgen@google.com>
Date:   Mon Dec 15 17:23:27 2014 -0800

    Add session.lastCommand variable

commit 8b86bf1a11320f35d6df716924df4f12c577e61f
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Dec 14 21:52:04 2014 -0800

    Fix a bug where flashing indicators would not completely erase themselves when done flashing. Deal with fast repeating bell with flashing indicator better (allow flashes to completely finish). The problem was called because not all calls to -drawRect were due to iTermIndicatorsHelper calling setNeedsDisplay:.

commit 550234ebfebe6d5be627c38d7c00026513cbf814
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Dec 14 21:46:21 2014 -0800

    Don't allow the badge to go over 999 because it's slow to increment the badge.

commit b5d00198ba09252e9f09517a8909897a433a87e5
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Dec 11 22:13:58 2014 -0800

    Fix bug where window shortcut indicator would say 'Label' and where it would show as light when a window becomes key but not main.

commit dd5ed664c7126414464b651f863176ceb218a037
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Dec 11 22:05:23 2014 -0800

    Use tab style for find view and paste progress indicator view

commit 1c12eb3642da2e7575c2a6d547f194d3ae9e7911
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Dec 11 21:33:24 2014 -0800

    Clean up drag-drop code in PTYTextView some more.

commit 69e59af6e870582f87980820be1efc618483b6a0
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Dec 11 19:23:53 2014 -0800

    Clean up drag-drop code in PTYTextView. Remove aincent senseless code for 'extended drag-n-drop' which never made sense and doesn't seem to do anything. Also make cmd-drag of a single filename issue 'cd filename(newline)'

commit fedc356478437d57667258ad6e3617c75a2cc413
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Dec 11 17:36:41 2014 -0800

    Add option to restart session.

commit 223dcda9f8c926ade38ad25f1cd44855ee38d7b1
Merge: fd4a8fbd 2717908a
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Dec 11 17:02:48 2014 -0800

    Merge branch 'panemod'

commit fd4a8fbdce355b3edcd1d3ff249d25420fa463e6
Merge: 9e1dd56c 0c8ea8df
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Dec 11 16:03:42 2014 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 9e1dd56ceb0e5504073210b70ca208144ac2782d
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Dec 11 16:02:35 2014 -0800

    Add support for escape codes to change encoding to utf-8 and latin-1

commit 2717908aaad117870e3aba68e24ed434b0ba952e
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Dec 11 16:02:35 2014 -0800

    Add support for escape codes to change encoding to utf-8 and latin-1

commit 9b905bff8474f3ec03ed3444a69c09e9ee0f1bdb
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Dec 11 15:17:27 2014 -0800

    Fix how the right screen is picked for a window. Also add a titlebar accessory showing the window shortcut instead of putting it in the title in 10.10 (old behavior persists on older OSes)

commit 0c8ea8df886893d2ffcdd00453921c9a272973ad
Merge: c778be1c 8685cc39
Author: George Nachman <georgen@google.com>
Date:   Wed Dec 10 12:34:06 2014 -0800

    Merge branch 'panemod'

commit c778be1ca4e7c94f786795f93e5de4de98cbb78f
Merge: a4aacbb4 4d1e0830
Author: George Nachman <georgen@google.com>
Date:   Wed Dec 10 12:34:03 2014 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 8685cc391e0f79b6a5f0d3e5d9058a4c4ae5daa9
Author: George Nachman <georgen@google.com>
Date:   Wed Dec 10 12:33:55 2014 -0800

    Display shortcut in pane title bar.

commit 6a3849bd227c543c2d6fcda7623088698828f700
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Dec 10 08:46:50 2014 -0800

    initial try

commit c751e22ee3f900e90f0368eb5a18f45112564d80
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Dec 9 23:12:27 2014 -0800

    Add ability to use modifier+number to switch split panes

commit 83ce06845c2e3c35f8e4f40e0a3da94459802e99
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Dec 9 22:56:30 2014 -0800

    Modernize SessionView code a bit

commit 1736c8e6a1f3b31eb5760eea8110af44a5843ee1
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Dec 9 22:50:04 2014 -0800

    remove calls to the now-defunct SessionView.cancelTimers

commit 4d1e08303555e54fb793d48d5210fd23b2a12bf2
Merge: 8945a543 3253c831
Author: gnachman <gnachman+github@gmail.com>
Date:   Tue Dec 9 22:46:53 2014 -0800

    Merge pull request #176 from choppsv1/sRGB
    
    Use sRGB colorspace for CSI 24-bit RGB colors.

commit 8945a5430f7d5db4a047e5126713a6024bba7118
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Dec 9 22:45:13 2014 -0800

    Get rid of animated dimming and fix a bug where tmux split pane title bars would not have the correct text color at creation time

commit b25a72d3932f27c59e9a3e1bf1434a8b4dd02fd0
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Dec 9 22:39:57 2014 -0800

    If the size of the rect to draw in drawOneRect: includes only part of a character, draw it anyway. On 10.10, there's a bug where a few small rects (notably two tall single-pixel ones) are drawn when a trad fullscreen window with split panes becomes key. Since we wouldn't draw anything in response to this call, whatever garbage was in memory got drawn instead, usually as two vertical white lines. Issue 3338

commit 11dc26fdecfc93a046d9f67a75fcbb8ede7beef1
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Dec 9 19:08:07 2014 -0800

    Don't specify a target with a nil selector when swapping tmux panes (crashes)

commit e69b33a2fa365fb40790d19e2e4596be9c9cea32
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Dec 9 19:05:37 2014 -0800

    Allow maximization of tmux tabs

commit 3253c8316d400cffaf3182c964ee8c973c736ca0
Merge: fbebc79b 443b69c7
Author: Christian E. Hopps <chopps@gmail.com>
Date:   Tue Dec 9 20:16:56 2014 -0500

    Merge branch 'sRGB' of github.com:choppsv1/iTerm2 into sRGB

commit fbebc79b92161170663b511256eea434f4046e42
Author: Christian E. Hopps <chopps@gmail.com>
Date:   Tue Dec 9 19:55:58 2014 -0500

    backout change to always use sRGB for 24-bit color CSI values

commit 443b69c720d504a71d78a1d2c4d873ab4aa357fc
Author: Christian E. Hopps <chopps@gmail.com>
Date:   Tue Dec 9 19:55:58 2014 -0500

    use sRGB for 24-bit color CSI values

commit a4aacbb41e74ee3fd56ed880ce9589dcec9ec5a5
Author: George Nachman <georgen@google.com>
Date:   Tue Dec 9 16:27:47 2014 -0800

    Restore window contents by default

commit c21b1ce3c805e2207bb2f70a34d8485743d422e6
Author: George Nachman <georgen@google.com>
Date:   Tue Dec 9 16:08:36 2014 -0800

    Improve look of gear button in session title view and dial down the brightness of the selected title view in the light theme.

commit ef7c405902d51ae5a90f301cd0417d887dd17221
Author: George Nachman <georgen@google.com>
Date:   Tue Dec 9 15:31:13 2014 -0800

    Improve the look of session title bars

commit 2385cbe0e6148597f20f8d7a6eef79e3c51346c6
Author: George Nachman <georgen@google.com>
Date:   Tue Dec 9 14:43:09 2014 -0800

    Turn on bezels around all scrollviews that house a tableview.

commit efb729eb8dbbfc0e01da656acce3c9a44496ec38
Author: Brian Mock <brian@mockbrian.com>
Date:   Tue Dec 9 14:10:49 2014 -0800

    issue-3351 Adds profile list and profile tags table borders

commit a3dab0da49bc3f405529a32eb958ad9858f7642c
Author: George Nachman <georgen@google.com>
Date:   Tue Dec 9 12:41:44 2014 -0800

    Add preference for double-click to do smart selection (actually, it swaps double- and quad- click behaviors, but many users never discover quad click so I don't want to make the prefs text too verbsoe).

commit b36700b05866b51d630e977ddbd91ac93400e9bf
Author: George Nachman <georgen@google.com>
Date:   Tue Dec 9 12:14:13 2014 -0800

    Save hotkey window restorable state in the application's restorable state rather than in user defaults so its contents can be preserved.

commit 494bafd79129a95383cad804bc4e6e912381006b
Author: George Nachman <georgen@google.com>
Date:   Tue Dec 9 11:45:19 2014 -0800

    Remove some dead code and restore star before default profile.

commit 9f7965b86a1d203ffa9ddf3e25b8f7ba406a2172
Author: Christian E. Hopps <chopps@gmail.com>
Date:   Tue Dec 9 09:37:08 2014 -0500

    remove 10.10 target

commit 693008a000091039d2cc7c3345b624f0f5f08bfe
Merge: cc776f56 6faf61b0
Author: Christian E. Hopps <chopps@gmail.com>
Date:   Tue Dec 9 09:35:59 2014 -0500

    Merge branch 'master' into sRGB

commit 6faf61b04aac1e7bd0f723d52ccc64ad6d6d6257
Author: Christian E. Hopps <chopps@gmail.com>
Date:   Tue Dec 9 09:32:48 2014 -0500

    update prefrence description

commit a9515a4c5bc4d04621729522e067e4155705b883
Author: Christian E. Hopps <chopps@gmail.com>
Date:   Tue Dec 9 09:29:10 2014 -0500

    remove comment

commit 2ffe53344e455ed57c7fa4fd508322a99a465ca8
Merge: 9befedf9 9a801b15
Author: Christian E. Hopps <chopps@gmail.com>
Date:   Mon Dec 8 21:44:48 2014 -0500

    merge

commit 9befedf90518d842456fe0e3c26cdd9d8894ed4a
Author: Christian E. Hopps <chopps@gmail.com>
Date:   Mon Dec 8 21:39:18 2014 -0500

    only do shift code once

commit 9a801b155f6f2dad16aa0a9624e13704bde4a84e
Author: George Nachman <georgen@google.com>
Date:   Mon Dec 8 18:14:09 2014 -0800

    Load dynamic profiles from files in alphabetical order

commit 2154600bf4d2903eb34df17eec981cdaaa7cffd2
Author: George Nachman <georgen@google.com>
Date:   Mon Dec 8 18:08:59 2014 -0800

    If a dynamic profile is malformed ignore it and keep going. Allow specifying a parent profile by name. When updating, re-merge with parent, not with existing profile.

commit df0be0cc1dcd67f114c80ccd59575be402b89161
Author: George Nachman <georgen@google.com>
Date:   Mon Dec 8 17:51:11 2014 -0800

    Fix bug where a mix of relative and absolute line numbers were used in computing how far the cursor should move on alt-click. Do not allow alt-click outside the live area to do anything. Fixes issue 3347.

commit 65cecc3b5fc69a47f0a6469b49f9f3f88b8b64a7
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Dec 7 22:57:44 2014 -0800

    Add backgroundColor: arg that was missed

commit f725fcd557671dc0cbd6469f7c8e673957bbf2c4
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Dec 7 17:19:54 2014 -0800

    Improve how minimum contrast and cursor boost (aka muting) interact. Rather than apply muting after computing the minimum contrast color, simply use it to limit the range of permissible target brightnesses. This works because the colors passed in to the NSColor category methods are already muted and only need minimum contrast applied. Also apply minimum contrast to the character drawn over the cursor.

commit f1a47d9b6f2a68f2af6a45121d199cee159eb6e0
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Dec 7 12:03:02 2014 -0800

    Make split pane divider and session title bars use a darker color for the dark tab theme.

commit 859693923a3f29ba54106dd4ac15b183a16865a8
Merge: 021d8ebe eadfc0ed
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Dec 7 11:47:37 2014 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 021d8ebe66b315ef073b043d8a4fdcb9d6b21f09
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Dec 7 11:47:27 2014 -0800

    Move mouse entered/exited tracking from PTYTextView to SessionView. Whenever a new line arrives which grows the scrollback history, PTYTextView's frame changes. This causes updateTrackingRects to be called. updateTrackingRects sets the tracking rect, which causes mouseEntered: to be called every time. This was responsible for bug 3345. It also prevented mouseExit from being called when the mouse exits at the same time the view's frame changes. Now mouseEntered: and mouseExited: are reliable.

commit 81061f11b46a4436249ec059f9f9f1d356c7d4b9
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Dec 7 11:45:39 2014 -0800

    Add another check for nil arrangement. Also, the reason this happens is when you move a session to a different window with cmd-opt-shift-drag and it's the last session. Then the window closes and has no tabs.

commit cfb042d24dd52e3c36f1fd010b2b114729d87ee4
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Dec 7 11:42:14 2014 -0800

    Prevent a crash I saw once where -[PseudoTerminal arrangement] returned nil when closing a window (seemingly because it had no tabs, but that doesn't make much sense). I wasn't able to reproduce it.

commit b0e62e695b717eb5f5af2d308bb1025912d91c98
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Dec 6 21:03:23 2014 -0800

    Don't invalidate a live selection when a key is pressed. Fix selection scroll in this situation too.

commit 77bb06998523dc834bf6ec27f70d09a71cb934e8
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Dec 6 18:33:23 2014 -0800

    Rewrite comment

commit b93c3887ddf7c7f86f6f3e2af8f1e680ccbd1a64
Merge: d5ac57bd 0418a6dd
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Dec 6 18:32:28 2014 -0800

    Merge branch 'gb_weirdkey_fix' of https://github.com/shabble/iTerm2 into shabble-gb_weirdkey_fix

commit eadfc0edece3a6ed8c8ee2b40617f133d5c05474
Merge: a8bb5b71 cd61fa47
Author: gnachman <gnachman+github@gmail.com>
Date:   Sat Dec 6 18:28:22 2014 -0800

    Merge pull request #192 from ZeR0-Wu/master
    
    Use sRGB when changing color palette using "Proprietary Escape Codes"

commit d5ac57bdec585444789b879dd585ae4d7377a26f
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Dec 6 18:19:49 2014 -0800

    Don't shell escape filenames that are to be scp'ed.

commit a8bb5b71d9812af04fd9eb9bd17b59b207f11516
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Dec 6 18:04:09 2014 -0800

    Force divider color to be light gray. Apparently it's clear by default which makes fullscreen tmux look bad against black sessions (issue 3336).

commit 19b3e43b651767be1a269c44cd7fbe586a9ee0fc
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Dec 6 14:30:51 2014 -0800

    Don't require cmd to be pressed to drag a selection or an image (but it's still allowed, seems harmless).

commit 87facef61c6b30df3655e035efaaf4c05ab76cc8
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Dec 6 14:19:54 2014 -0800

    Add tests for semantic history handling filenames with parens and line numbers

commit cf6a8660dc171ff6f282abba3d7a8265d930254b
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Dec 6 13:35:03 2014 -0800

    Fix a bug where device status reports would be affected by broadcasting input. Issue 3329

commit 92b0b8edb7942b76a22a5bedac052d1ca81fa8e6
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Dec 6 13:28:37 2014 -0800

    Sort includes in MovePaneController

commit d9884bc6cc63adda689b33cc51be2dd2784e8942
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Dec 6 13:03:14 2014 -0800

    Allow cmd-opt-shift drag to move a window if a session is dropped on itself, so long as there are no split panes in the current tab.

commit 32ae7ea57acc94277ddd116b7074e56c0c8744f7
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Dec 6 12:39:04 2014 -0800

    Don't wait for sublime text, etc., to finish running when launched from semantic history

commit aa464b66dbb17ba6f5529a5cf58988515db64fb4
Author: Christian E. Hopps <chopps@gmail.com>
Date:   Sat Dec 6 11:06:51 2014 -0500

    remove XXX comment

commit 81faab7a5fe261b2e43d66aacdc13781a7efb385
Merge: be3df51c 4d946fdf
Author: Christian E. Hopps <chopps@gmail.com>
Date:   Sat Dec 6 07:15:48 2014 -0500

    Merge branch 'origin/master'

commit cc776f56989ec7f61a5400fb2f9722d8a379e9fb
Author: Christian E. Hopps <chopps@gmail.com>
Date:   Sat Dec 6 07:09:19 2014 -0500

    10.7 target

commit d43d3325c1faccbb0029a023c9cacb8658094ac0
Author: Christian E. Hopps <chopps@gmail.com>
Date:   Sat Dec 6 06:49:03 2014 -0500

    update project

commit 87aee65929b85bda1a9681634b83fbd3807fa851
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Dec 5 23:42:09 2014 -0800

    Finish writing tests and cleaning up

commit c410b79e0db9c0e710fce0026fd5b6fa2f572b45
Merge: 9853a88a c9d314be
Author: George Nachman <georgen@google.com>
Date:   Fri Dec 5 16:35:08 2014 -0800

    resolve merge conflicts

commit 9853a88a78f12e58e7443ce37679d799256b40ae
Author: George Nachman <georgen@google.com>
Date:   Fri Dec 5 11:59:01 2014 -0800

    Rename the last trouters

commit b9ec86c491b53c90733b17665e305ef88809f64c
Author: George Nachman <georgen@google.com>
Date:   Fri Dec 5 11:54:34 2014 -0800

    Rename trouter prefs to semantic history prefs

commit 721ab785804c9fa00e51a33871a2ecd9b4a04d22
Author: George Nachman <georgen@google.com>
Date:   Fri Dec 5 11:47:31 2014 -0800

    Rename trouter everywhere except in prefs

commit ec3d118240afb9930be3b32abeec643e84785f40
Author: George Nachman <georgen@google.com>
Date:   Fri Dec 5 11:16:18 2014 -0800

    Clean up header file

commit 7120feeea2875f2ccfade67ab5fabd9448bad578
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Dec 5 09:03:27 2014 -0800

    Add atom editor and clean up trouter code

commit b147df5d7b8c98e3b88575bdfe11fd4eb8cbb1e8
Merge: 5c9b8f3c be3df51c
Author: George Nachman <georgen@google.com>
Date:   Fri Dec 5 14:33:09 2014 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 5c9b8f3c4566c3ec3033b6a42eba95d1fb32a076
Author: George Nachman <georgen@google.com>
Date:   Fri Dec 5 14:32:59 2014 -0800

    Use third-party progress indicator against dark backgrounds because CIFilter was causing a crash when exiting traditional fullscreen.

commit d5727a569e9e5c5ca5c88b8d7eae74e29fdf989d
Author: George Nachman <georgen@google.com>
Date:   Fri Dec 5 12:03:30 2014 -0800

    Call layerUsesCoreImageFilters if possible, not sure if this will help though :(

commit c9d314becd339276eb432b271da6c666d6b13bfc
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Dec 5 09:03:27 2014 -0800

    Add atom editor and clean up trouter code

commit be3df51c2f78130a35b395cc1fe94e4ff8f31cda
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Dec 4 21:44:05 2014 -0800

    When reordering profiles, save them back to user defaults

commit cd61fa474efb39ec2ecc66642657feaaf596731b
Author: wuhaotian <wu.haotian@me.com>
Date:   Mon Dec 1 23:57:55 2014 +0800

    Use sRGB when changing color palette

commit bdcaf1687f0377a78aae2ad6df6d9919993a3f61
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Dec 3 23:13:30 2014 -0800

    Capitalize Dynamic tag in dynamic profiles

commit 2aded032c75b682b5e6e60547f61fa8a51f8a2ad
Author: George Nachman <georgen@google.com>
Date:   Wed Dec 3 17:49:20 2014 -0800

    ignore dotfiles for dynamic profiles

commit b865c8a75e16244c19ac90378aa98b83482d0f3a
Author: George Nachman <georgen@google.com>
Date:   Wed Dec 3 17:15:56 2014 -0800

    Style improvements

commit 53b311f5e9159063a2d9602146ff8fd4fa526b08
Merge: f8090320 e026a655
Author: George Nachman <georgen@google.com>
Date:   Wed Dec 3 16:55:27 2014 -0800

    Resolve merge conflicts

commit f80903202442b7ebf0626ec417903c9b7f26e4dd
Author: George Nachman <georgen@google.com>
Date:   Wed Dec 3 16:54:52 2014 -0800

    Finish writing tests for iTermPasteHelper

commit ef44f28893aff974b8c5f0b4200778263af7ae17
Author: George Nachman <georgen@google.com>
Date:   Wed Dec 3 14:20:07 2014 -0800

    Add tests for sanitize

commit f2c836dbff745a20bff8b44bac2e8b20d12a9414
Author: George Nachman <georgen@google.com>
Date:   Wed Dec 3 10:56:23 2014 -0800

    Clean up headers in project file

commit 67805093c092f8fa50b29e3d3af72fcde819619f
Author: George Nachman <georgen@google.com>
Date:   Wed Dec 3 10:55:06 2014 -0800

    Fix arg to NSSetFocusRingStyle to be of the right type

commit f70d240269ab7bfad8e5365cedeb73b7407d907d
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Dec 2 22:36:45 2014 -0800

    Remove stray NSLog

commit fdfd153666758b17286556e33f592fc790c01205
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Dec 2 22:34:58 2014 -0800

    Make sure flags get passed through pasteString:flags: and turned into a PasteEvent properly

commit 2f32cb09e3226d7c62f0dcd9a398f6401fe4e2b9
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Dec 2 22:32:49 2014 -0800

    Get a basic test working

commit 9d68ea07d487e56e59ac798363dc43dfc5afcfe4
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Dec 2 22:22:05 2014 -0800

    Move xib's into the Interfaces folder and clean up project file

commit e3a3f56bcce1b6f6972e0209d21e9875b9e52efa
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Dec 2 22:01:13 2014 -0800

    Start on PTYSessionTest

commit a35fb1b1a96c09db19253a45dc2def65fbf94dde
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Dec 2 21:28:21 2014 -0800

    Add a not-so-useful test of PTYTextView. Move logic for adding pasted strings to PasteboardHistory into iTermPasteHelper

commit 581b78eae1f9d6a37ebd6f92d23d0d4f23c0b7bd
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Dec 2 20:47:56 2014 -0800

    Reorganize project file

commit e026a655dcfddbe4e9771f23f5ce49d92aea236d
Author: George Nachman <georgen@google.com>
Date:   Tue Dec 2 11:50:18 2014 -0800

    Use a lighter color for tag labels in profile list views.

commit 4125701890cdb585e7207ec5d506b82a386fd600
Author: George Nachman <georgen@google.com>
Date:   Tue Dec 2 11:48:15 2014 -0800

    Loosen up spacing in toolbelt and profile list table views.

commit 289b3a0c9a7570340dd8e43615af4f69edc1a81f
Author: George Nachman <georgen@google.com>
Date:   Mon Dec 1 21:29:29 2014 -0800

    Pass font for profile list view to profile tag view

commit 8df7523113ce1ee76d8706ebdc1feff3d1c4fc55
Author: George Nachman <georgen@google.com>
Date:   Mon Dec 1 21:15:34 2014 -0800

    Use property syntax

commit b8219846b60a904bc3fce7ce1f30cc42cdef7175
Author: George Nachman <georgen@google.com>
Date:   Mon Dec 1 21:09:21 2014 -0800

    Finish wrapping NSProgressIndicator with PSMProgressIndicator

commit 3a34225ba739128570f4ec9940e40e623807ef55
Author: George Nachman <georgen@google.com>
Date:   Mon Dec 1 20:42:12 2014 -0800

    Fix project file

commit c17c71e3ff159b77fa3c40ee8e0fea625b92ced5
Merge: 5f8419ba 5351f338
Author: George Nachman <georgen@google.com>
Date:   Mon Dec 1 20:23:02 2014 -0800

    Resolve merge

commit 5f8419ba498cc5b80e1753c5fcd4df8a031a32f3
Author: George Nachman <georgen@google.com>
Date:   Mon Dec 1 20:21:42 2014 -0800

    Use generated scripting bridge header

commit c42e236cbd48f4e09c95a6013d3d65d218d643f1
Author: George Nachman <georgen@google.com>
Date:   Mon Dec 1 20:16:48 2014 -0800

    Add test of using the scripting bridge to talk applescript

commit 4e9aaf175104a6c8bb720cae0a42d90308761895
Author: George Nachman <georgen@google.com>
Date:   Mon Dec 1 12:30:50 2014 -0800

    Fix a bug where the find cursor blink timer keeps going after find cursor is gone

commit 87d156ba12693d376a1e83644f6461d02215db18
Author: George Nachman <georgen@google.com>
Date:   Mon Dec 1 12:24:31 2014 -0800

    Fix find cursor for when the window is scrolled.

commit 7ae2a0feea11a1e9bb08973b5e310cf6cedcbc1c
Author: George Nachman <georgen@google.com>
Date:   Mon Dec 1 11:11:36 2014 -0800

    Use absolute coordinates for command locations

commit 859b99ac7e71af728bcd1cabcd3de5696b2d6125
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 30 23:01:32 2014 -0800

    Add back paste file with b64

commit 659bcb5107ac1baac02ad7000eddc9af324b4ac6
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 30 22:32:55 2014 -0800

    Simplify menu

commit a7c665d106e4dac627c46052897fb66a0d4d161f
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 30 22:29:27 2014 -0800

    Add key binding action for paste from selection

commit a9a9b023ecacebbb153db8b8d31af4cf8c04588e
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 30 22:20:15 2014 -0800

    Refactored

commit 4ca6b4c4877d8c939b7aea3e350f542f52204c6f
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 30 17:14:12 2014 -0800

    Move the guts of paste special into its own view

commit 4a5d97fc79db76c30a213a32932d713e9997cfce
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 30 16:05:28 2014 -0800

    When pasting a string with tabs, show just one alert that includes an accessory for picking the tabstop size

commit 777b7a6e270a320302803c295211e6398403e837
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 30 15:37:05 2014 -0800

    Use iTermPreferences for user defaults

commit c22cd746b7c9cea8162238ea785d2f2b2a64a0ff
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 30 14:59:35 2014 -0800

    Save tab transform setting properly

commit 95db885cb4fde67c3896669c290ce8731e0b1b58
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 30 14:57:09 2014 -0800

    Refactor

commit 500852053d8c44808d0fc1ceb2dea255d3cb090f
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 30 14:10:55 2014 -0800

    In decent condition it seems

commit 01e34ec50e6fe8d03c538dde8f50d1accb5e436a
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 30 00:48:45 2014 -0800

    Simplify paste submenu

commit eb9c1b575255049dc55aeca482737d2bd790b704
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 30 00:37:38 2014 -0800

    Working pretty well

commit 85a09f4f6b44651a7f140dee01a46311c903eb07
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 30 00:11:17 2014 -0800

    The basics are there

commit 8ba1ed12d9a8fc89d2c7283298c99e2081290261
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Nov 29 15:56:39 2014 -0800

    Initial impl

commit f75758435d24bb3cbc9027278a2ace1d5524d61e
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Nov 26 21:19:20 2014 -0800

    Make iTermFindCursorView nonstatic so PseudoTerminal can see it

commit 62f8969d3d522e5361abb693173b10f1ce9eeaf3
Merge: d2c80566 63a4d5aa
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Nov 26 21:15:24 2014 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit d2c805667422235728a17ed03e0b1309dd07bbde
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Nov 26 21:15:10 2014 -0800

    Fix build breakage

commit 63a4d5aa4bc017599ba72ccbe5e664a76e762ab8
Author: George Nachman <georgen@google.com>
Date:   Tue Nov 25 19:32:28 2014 -0800

    Add isVisible to each window in the debug log

commit a9659da60b911ab44e643397bfcc8927daa7ea83
Author: George Nachman <georgen@google.com>
Date:   Tue Nov 25 18:27:36 2014 -0800

    Add option to not tolerate unrecognized server commands

commit 8197bab687293dbaeca3cd5efce96ef0a4be8ecc
Author: George Nachman <georgen@google.com>
Date:   Tue Nov 25 15:09:23 2014 -0800

    Fix autoresizing masks on tmux dashboared

commit b4c7e4b79b7c6eb84fb6d9d545009251dea86b61
Author: George Nachman <georgen@google.com>
Date:   Tue Nov 25 15:09:17 2014 -0800

    Put minimum height on smart selection action window

commit e02b64da4c6a9a0b4a5aa961e5ba51e074a920df
Author: George Nachman <georgen@google.com>
Date:   Tue Nov 25 11:45:18 2014 -0800

    Fix autoresizing mask and minimum size constraints on edit smart selection actions window

commit 3ad3b59e28d22c9b0ba1009c574573d0acf94048
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Nov 24 21:41:47 2014 -0800

    Rename useBackgroundIndicator_ to _showStripesWhenBroadcastingInput

commit 519b707f2044868f7e867f0a8f806605c7272b03
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Nov 24 21:39:45 2014 -0800

    Remove unused ivar

commit 217c69b8b718c70b3d00dbc2d324cd5d7cc34001
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Nov 24 21:38:47 2014 -0800

    Fix font panel accessory view for yosemite

commit 2146ea937e4fde185ef05b06441c30947e7d3f0c
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Nov 24 21:38:38 2014 -0800

    Move underscore on _mouseDownIsThreeFingerClick

commit 5f1fa63566877c586ee429a5feff25f384e7fd97
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Nov 24 21:35:57 2014 -0800

    Move underscore on _numTouches. Fix bug where three-finger tap used the wrong coordinate.

commit 626dce7b06d4759956b15fa2623c39b294b88de3
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Nov 24 20:59:29 2014 -0800

    Fix underscore on _imeCursorLastPos

commit b6951df94c1a0528f3a92bfc5b51054a13ec379a
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Nov 24 20:57:54 2014 -0800

    Fix underscore on _findCursorWindow

commit a2352accd53c8ffb00ca0105ea07b613ccd8f240
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Nov 24 20:57:07 2014 -0800

    Remove unused ivar backgroundBrightness

commit 7b180ada7c588b13aa2d8612ba6b98436d20a9eb
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Nov 24 20:56:35 2014 -0800

    Fix underscores on lineBreakChar/IndexOffsets

commit f530abef1cf628fed59f448bbbeba51b9b0e3bb8
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Nov 24 20:55:00 2014 -0800

    Fix underscore on allText

commit ca3d455ed023083323d5a219fcf03d6cd5f4f507
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Nov 24 20:54:20 2014 -0800

    Fix underscore and type on firstMouseEventNumber

commit 32cf1f6b814b8997f1b9028228bf667f9aa5b5ea
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Nov 24 20:53:32 2014 -0800

    Fix underscore on trouterDragged ivar

commit 9febf30a54c9005584db170a3b92ec77af34f3cd
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Nov 24 20:52:48 2014 -0800

    Move pragma to right place and make some style improvements

commit fd21170720f791e4cbe5dbeafe6171248d08a9e0
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Nov 24 20:51:31 2014 -0800

    Add pragma

commit 5f8411ea5b511764861142585f6a0e03322c7ccd
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Nov 24 20:51:09 2014 -0800

    Remove senseless set-alpha-to-1 behavior on doing cmd-/ twice

commit bcace70403c052b14f2437945e5de01190fdcfa4
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Nov 24 20:48:45 2014 -0800

    Rename cursor in iTermFindCursorView

commit ef9c90123a1441c3e5094b234430e5f7388a6cfd
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Nov 24 20:36:23 2014 -0800

    Rename FindCursorView to iTermFindCursorView

commit 7a57a7d7e5e7cd2dac9eaeabe8c1020994fa96cf
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Nov 24 20:34:27 2014 -0800

    Move a bunch of code into FindCursorView

commit 90465ffa5af1909bb5b755dc76b2b4a6a95d0580
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Nov 24 19:24:37 2014 -0800

    Refactor find on page code into a helper class.

commit 4e6d0b9b10d2fd16cf37ce41733767519a35ad1c
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Nov 24 15:18:56 2014 -0800

    Rename resultMap_ to _highlightMap and modernize some syntax it uses

commit 774f5aef0e3e1abc3f0a47a2bbf363e0b5a447f5
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Nov 24 15:16:18 2014 -0800

    Rename foundResult_ to _haveRevealedSearchResult

commit 087df2e22ba8c0dd308c9c46635245db43b74fac
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Nov 24 15:15:22 2014 -0800

    Rename nextOffset_ to _numberOfProcessedSearchResults

commit abab9ace59fbf3fc9a457f35d25ed5bb339fc081
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Nov 24 15:14:00 2014 -0800

    Rename findResults_ to _searchResults

commit 560eced0a943162b4b18ad13f6f1e3308cee78cd
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Nov 24 15:12:23 2014 -0800

    Rename findString to _lastStringSearchedFor

commit 92fa775fa3d14c1e37b5f4535901f4528763426e
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Nov 24 15:11:14 2014 -0800

    Move underscore to start of _changedSinceLastExpose

commit 17ecdfd2b30289609b677fb984c7e5ae40896796
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Nov 24 15:10:36 2014 -0800

    Rename accX and accY to reflect their true rules

commit 9cc9528025bcda7fbab2643f5233790ba1b629d0
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Nov 24 15:08:33 2014 -0800

    Clean up the interface for iTermSelectionSCrollHelper's delegate. Rename imeOffset to _numberOfIMELines. Fix a bug where IME would crash when given a bad proposedRange.

commit 00214a86901fb9f9fea1311ff4291fe2c8025a05
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Nov 24 12:51:10 2014 -0800

    Move files into sources directory

commit 2a700022a1634ce3abded46f92700d7f9f4f8987
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Nov 24 12:50:03 2014 -0800

    Move selection scroll code into iTermSelectionScrollHelper

commit 5aa0c1067a60546ffefa51628ae1d9be0d32814c
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Nov 24 11:52:18 2014 -0800

    Put an underscore prefix on trackingAreas

commit b1637a9e2762992c54050625a73ce9821295b5d8
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Nov 24 10:53:52 2014 -0800

    Move badge out of the way of indicators

commit 114661443590ef38f962e56344a31531ed06b7fc
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Nov 24 10:49:51 2014 -0800

    Fix how indicators draw

commit 9614991df79f5843fee5d08469cc3c5055879d71
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Nov 24 10:17:21 2014 -0800

    Add indicators

commit 2dbfa44ae0b789def3ee31d97147ce6cd370b265
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 23 21:37:19 2014 -0800

    Put an underscore prefix on validationClickPoint

commit 945eecc50225c29b3ccd1e00e91922604bca057c
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 23 21:36:29 2014 -0800

    Put an underscore prefix on markErrImage

commit a4d9f7d67df61ea9819d19210bcb43c19173623a
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 23 21:35:44 2014 -0800

    Put an underscore prefix on markImage

commit 431f12c675ff5c1e1ee25ae398fce8150b6df97b
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 23 21:34:51 2014 -0800

    Put an underscore prefix on showTimestamps

commit ef9d24f444bec3eeb9ce0010c6396e941b7b7b6a
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 23 21:34:03 2014 -0800

    Convert oldCursorX and oldCursorY into _oldCursorPosition

commit 79c4d9b994b9c1de1ac8580829791645ffe6f60b
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 23 21:32:28 2014 -0800

    Change lastBlink into a NSTimeInterval and rename it to timeOfLastBlink

commit 36549aca88fdcc0c599bb715b0e1beb3b46280a8
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 23 21:30:53 2014 -0800

    Rename blinkShow to _blinkingItemsVisible

commit 56cc2c6daa958fa98511b8983ef8aef57a5de933
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 23 21:29:15 2014 -0800

    Remove showCursor ivar

commit 56ace3578946d78e0003824eb0e284dd913bd4ce
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 23 21:27:13 2014 -0800

    Put an underscore prefix on mouseDownEvent

commit 442292ff369d02ee29f18cc7f377bf34db8a5aef
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 23 21:25:58 2014 -0800

    Rename theImage to _imageBeingClickedOn

commit b08b0cabc2ff4bfb337c3d5b2d70ff879c39485a
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 23 21:24:45 2014 -0800

    Put an underscore prefix on mouseDownOnImage

commit 62c2cc433a85e72e61f5fbd1d47d3689c51f2d1a
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 23 21:24:08 2014 -0800

    Put an underscore prefix on mouseDownOnSelection

commit b239555b7199e57a3aa13e3488c3b839c6485592
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 23 21:23:28 2014 -0800

    Put an underscore prefix on mouseDragged

commit 28e19c4261dc9edd249e8dd09317d5191f8382a6
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 23 21:22:45 2014 -0800

    Put an underscore prefix on mouseDown

commit 33268390e125138c094b31906452b44e357c9371
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 23 21:20:47 2014 -0800

    Put an underscore prefix on primaryFont and secondaryFont

commit a9e8c57bbe180dcf124064d082ada7d0b11de0ad
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 23 21:19:10 2014 -0800

    Put an underscore prefix on charWidthWithoutSpacing and charHeightWithoutSpacing. Remove unused ivars.

commit 13257554a89ab91be1e22a43f5ba0012d9abfa09
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 23 21:17:46 2014 -0800

    Put an underscore prefix on charWidth

commit 23b5e4253d6ff71caa1c9c161f975f04dca46d39
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 23 21:15:06 2014 -0800

    Put an underscore prefix on lineHeight

commit 4d3bc894acf779ade15736715cf3da95b9683f2b
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 23 21:07:54 2014 -0800

    Put an underscore prefix on markedText

commit 416fd69287915e74612a879763a42b13bc979309
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 23 21:03:04 2014 -0800

    Put underscore prefixes on asciiAntiAlias and nonAcsiiAntialias

commit 652055f859429bbe042c6b623dbe77d6f8e804c3
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 23 21:01:47 2014 -0800

    Clean up some dragdrop code in PTYTextView

commit 32e3e386ed79e0a82bc7200dd23ef1395fc2836e
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 23 19:19:44 2014 -0800

    Refactor cursor drawing

commit 792cd80d14f65c268e3cc0e1eb13295e281e6bfc
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 23 18:15:20 2014 -0800

    Fix crash when -hardStop calls -stop and -taskWasDeregistered gets run in the background before -hardStop has a chance to call [self retain]; -taskWasDeregistered would [self release] prior to the main thread's [self retain], causing a reference to a deallocated object when something else on the main thread (called from CFRunLoopTimerInvalidate) releases what should have been the last reference to PTYSession.

commit 77a9c408e1f909f22358e7e298987ff5b6ab3545
Merge: 21e471de 8c9d0d78
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 23 18:17:34 2014 -0800

    Merge branch 'save_history_2'

commit 8c9d0d78ae6c9666014c6ca60a76729ca924960f
Author: George Nachman <gln@google.com>
Date:   Thu Nov 20 18:06:52 2014 -0800

    Add the ability to save history with window state restoration. Also up the deployment target to 10.7.

commit 21e471deecbe0695f3b6c7f94cc01fc845ff39a4
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Nov 21 22:58:21 2014 -0800

    Fix adhoc script

commit 89b44580ca02edc1bd4b2c62678b7f5990eee46e
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Nov 21 22:58:06 2014 -0800

    Fix plist path for make release

commit 5351f3387a8d3e3c45f81b7aa89de3d8a04fae5b
Author: George Nachman <georgen@google.com>
Date:   Thu Nov 20 11:03:41 2014 -0800

    Various style tweaks to PSM code

commit e44ff9f0581c54a15ec089db1f85e3a65f843d9b
Merge: 8602f40d 19ec47c2
Author: George Nachman <georgen@google.com>
Date:   Thu Nov 20 11:01:38 2014 -0800

    Merge branch 'dark_tabs_light_indicator' into saikobee-issue/3268

commit 8602f40d1b26922a62a80b8536448caf16bf4e75
Merge: b800e54e 9d279af0
Author: George Nachman <georgen@google.com>
Date:   Thu Nov 20 11:01:11 2014 -0800

    Fix merge conflicts

commit 19ec47c2a1be000305f9a1f126ef7af8390433e3
Merge: b800e54e 9d279af0
Author: George Nachman <georgen@google.com>
Date:   Thu Nov 20 10:58:54 2014 -0800

    Add light indicator style and clean up code

commit c35d646d449b7a4416900123d888e104e245059a
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 16 23:09:29 2014 -0800

    Make find view prettier on 10.10

commit 412ef85e5757591b3808feb04ac9fc28fe099d52
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 16 22:21:50 2014 -0800

    Fix warning, turn on warnings for undeclared selectors

commit 807280dec2e50c444ce629a89178eb1987bd4956
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 16 22:17:26 2014 -0800

    Fix warnings

commit b800e54e08d786743ff770fd54c55421894515bb
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 16 21:17:11 2014 -0800

    Delete dead code

commit ddf9d992df0b5fcdc76f928ddc001d7556605231
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 16 21:13:00 2014 -0800

    Fix warning and improve style

commit c27edaa5171f932e9362609b244341d1cf366814
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 16 21:10:10 2014 -0800

    Fix warning

commit 2d400d95017b0e30624a2497a2a041e28adbcc8b
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 16 21:07:52 2014 -0800

    Fix warning

commit 89d30416e15764f8c21ce3a4255cea71844cfd4f
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 16 21:06:48 2014 -0800

    Fix warning

commit d8fe1183a8a2281610eeaf92f1fabe1d7283a208
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 16 21:04:20 2014 -0800

    Fix warning

commit e0d54582053409ba326bd052dcbfd4b3fca92fe8
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 16 21:03:15 2014 -0800

    Fix warning

commit 551ad7b1eea56572eb302b61f63633ab5044a124
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 16 20:50:57 2014 -0800

    Fix warnings

commit fd3efd796fdf7807ead33abf411dc76630084db8
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 16 20:48:35 2014 -0800

    Fix warning

commit 4653c7d3a7b292de1fc700f05647d7f29374f9ce
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 16 20:47:06 2014 -0800

    Fix warning

commit 9a27b5ac6a87e5e70335da4ee01a86ed61e1979c
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 16 20:38:59 2014 -0800

    Fix warning

commit 1e88a702c5091da0149d45a43e873a5fbd87dae2
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 16 20:38:11 2014 -0800

    Fix warnings

commit d1f37e83f9dcdd490abf0091b3f670f6e3b1bae4
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 16 20:37:16 2014 -0800

    Fix warning

commit ecc4b4b0a55ee2c98c432806077531b0a6efc94c
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 16 20:33:36 2014 -0800

    Fix warning

commit 0c3db2796e585e389adae49b00cdb8c161ddfef9
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 16 20:30:48 2014 -0800

    Fix warning

commit d256c229406dbee0a27411af5b5ada85cea3abf4
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 16 20:26:59 2014 -0800

    Fix warnings

commit a74d217e4d7e5a46187eb9782c234b3eabaa8b61
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 16 20:19:59 2014 -0800

    Fix warning, get rid of stupid icon for Script menu, and modernize the buildScriptMenu: method

commit a7a0db4e7a719594cc23dfada0b9e774cc8f72ab
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 16 20:10:42 2014 -0800

    Fix warning

commit f1cc6095c1c42ed5e420476a655c55eab2653d25
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 16 20:09:33 2014 -0800

    Fix warning

commit e33763ec6fbe6bfab1bf3f5cf54a84c70900ec15
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 16 19:51:17 2014 -0800

    Fix a warning

commit 4041f58ad259976016ea7b5e2fdd1f64eaac5ce6
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 16 19:11:37 2014 -0800

    Fix a bunch of warnings.

commit 0a07200e071b8de9f6d879352093e9afc4ea29e4
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 16 17:09:59 2014 -0800

    Fix some more warnings

commit 82fd973babd812de9f50500aed59339da473f63b
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 16 17:07:29 2014 -0800

    Fix some warnings

commit fcabb09aee3f7981ab4dd0d6d4e480f8b557025b
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 16 17:05:34 2014 -0800

    Update project settings per XCode's recommendations

commit 0798155a1315b1bb5dae131501d45e86e08d6c0d
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 16 17:05:09 2014 -0800

    Ensure started recent directories never get aged out

commit 168227bb3b803cf22946066582d4166dd86b50e8
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 16 11:10:17 2014 -0800

    Add 'Copy All Profiles as JSON' menu to profile prefs tools menu

commit 0124c0b370be9f5f05776e1bfd0f8391dc75bebf
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 16 10:56:46 2014 -0800

    Fix a bug where the tab bar appeared one pixel too low

commit 98181113c8f9ad32eb30f02562016f7fd944ccf8
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 16 10:41:25 2014 -0800

    Reload dynamic profiles when one changes (e.g., so colors get updated)

commit 0339c5be09db1b3e36156293af0478219ec36261
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Nov 14 23:31:27 2014 -0800

    Truncate log files because when you do shell>log>start and you pick an existing file you're asked if you want to replace it. And it just doesn't make much sense to append anyway.

commit 8912e6e6605c809452be424d651dadaaae9277a1
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Nov 14 23:24:18 2014 -0800

    Increase max blur to 30 to match Terminal

commit e292766e60b219600ac16da7903bd8c8c76fce66
Merge: 3e51e207 ffebf967
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Nov 14 22:39:05 2014 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 3e51e207469890cb98e99c5609b15e8ee8b9105a
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Nov 14 22:38:54 2014 -0800

    Fix bug where advanceAndEatControlChars would go one past the end of the array, sometimes causing UNKONWNCHAR to be returned due to a cancellation from a stray ESC after the end of the valid data.

commit 9d279af0caa118a74a83885e114fff12c6494cc0
Author: Brian Mock <brian@mockbrian.com>
Date:   Fri Nov 14 09:39:30 2014 -0800

    issue-3268 Color tweaks

commit bfbc8c5c4e3c6cfcacf1a4d211547adba1e92f0f
Author: Brian Mock <brian@mockbrian.com>
Date:   Fri Nov 14 09:39:13 2014 -0800

    issue-3268 Make use of enum totality checking

commit 176685cabedb5662111d50f5b00f820724c31992
Author: Brian Mock <brian@mockbrian.com>
Date:   Thu Nov 13 21:01:07 2014 -0800

    issue-3268 Small code cleanups

commit ffebf9675b63e9ac1b497e185794530a8f25eb8f
Author: George Nachman <georgen@google.com>
Date:   Thu Nov 13 15:54:58 2014 -0800

    Allow trouter to brute force search for files with absolute paths while in a network directory

commit 7a1e9725479e128357264fb6faae2733d37a1d22
Merge: 8d42809c 1ab267cc
Author: George Nachman <georgen@google.com>
Date:   Thu Nov 13 15:35:21 2014 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 8d42809c1269fcf550db99d98fe329868b9f5b6f
Author: George Nachman <georgen@google.com>
Date:   Thu Nov 13 15:35:14 2014 -0800

    Move hotspot of IBar cursor to the center of the crossbeam.

commit 1ab267cc52d7bbd5c79af910ab261d02e5afe835
Merge: c0444fa9 8d3b01cc
Author: gnachman <gnachman+github@gmail.com>
Date:   Thu Nov 13 15:21:32 2014 -0800

    Merge pull request #189 from calmh/use-convert-weight
    
    Use -convertWeight:ofFont: to get the next bolder version of a font instead of getting the "bold" version, which might be too bold (i.e., when using Mono Extra Light, then the "regular" weight should be used for bold text, as it's the next step up in boldness).

commit c0444fa992eb4d2da8118585a499def6682cc65d
Merge: 2c0812d2 bbb9458e
Author: gnachman <gnachman+github@gmail.com>
Date:   Thu Nov 13 15:17:37 2014 -0800

    Merge pull request #191 from luan/vt100-srgb
    
    Use the SRGB color space for XTERMCC_SET_RGB codes.

commit 3c48b2b1824b2c8004e1062b24d564a1beebf9d6
Merge: 063ead9f 2596ba2d
Author: gnachman <gnachman+github@gmail.com>
Date:   Thu Nov 13 15:12:05 2014 -0800

    Merge pull request #190 from khwon/fix-cp949
    
    separate Korean encoding into cp949 and euc-kr

commit bbb9458e51d2e98d0e8bda864d34ce53d2dc2194
Author: Luan Santos <cfcluan@gmail.com>
Date:   Wed Nov 12 23:26:57 2014 -0800

    Use VT100 colors as sRGB, calibrating them after

commit 2596ba2d6556131dae2024575a263900ff50a368
Author: kanghee won <snowkh@gmail.com>
Date:   Wed Nov 12 16:33:26 2014 +0900

    separate Korean encoding into cp949 and euc-kr

commit 14f1681c478e04ba2eacc2beb10cefa81b8207c9
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Nov 11 22:49:54 2014 -0800

    Turn off vibrancy after exiting traditional fullscreen

commit 063ead9ff46eb47751a319665baab74c89b418a9
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Nov 11 22:43:52 2014 -0800

    Clean up how encodings work and expand Korean to include 0x81 on.

commit fc06a8cb06efb92ff6e9767f0df8c00c71693834
Author: Brian Mock <brian@mockbrian.com>
Date:   Tue Nov 11 20:49:50 2014 -0800

    issue-3268 Actually update tab style

commit fa0ba548e8c262a5904dce16c190eddca242e415
Author: Brian Mock <brian@mockbrian.com>
Date:   Tue Nov 11 20:36:37 2014 -0800

    issue-3268 Added UI/hooks for tab style

commit 8d3b01cc5745fef73ca858b2948759c7aa2a215d
Author: Jakob Borg <jakob@nym.se>
Date:   Tue Nov 11 13:10:10 2014 +0100

    Use (NSFont*)convertWeight:ofFont: to get bold font
    
    This changes the behavior for fonts with many weight variants.
    Currently, if a font has the variants Light, Medium and Bold and user
    normally uses Light, the Bold font will be jarringly bold. With this
    change, Medium will be selected instead which fits better visually.

commit 2c0812d2737da04157d3a894a2febe15d361f64a
Merge: 6eed6346 fd22fe18
Author: gnachman <gnachman+github@gmail.com>
Date:   Mon Nov 10 22:44:15 2014 -0800

    Merge pull request #187 from subhasis256/master
    
    Add option of detaching tmux windows upon closing to alert shown when closing window with tmux tabs

commit 6eed63463b4090f70b132692808f44b1dbca5d31
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 9 22:50:02 2014 -0800

    Fix bug where CAN, SUB, and ESC did not cancel a CSI. Issue 3293.

commit fd22fe186dc1ed131b5400097b29400a369f8d46
Author: Subhasis Das <subhasis256@gmail.com>
Date:   Sun Nov 9 22:49:52 2014 -0800

    in response to code review comments by gnachman

commit c5c0592dd9c819b32c9f3b113a30cc0bce29eb1e
Author: Brian Mock <brian@mockbrian.com>
Date:   Sun Nov 9 22:31:26 2014 -0800

    issue-3268 More code style changes

commit b3943980c4a15bad89c5b0b08cd087c93f14232c
Author: Brian Mock <brian@mockbrian.com>
Date:   Sun Nov 9 22:29:38 2014 -0800

    issue-3268 Gradient and text color tweaks to tabs

commit 9bd2701ba00b26fff65e98ef6d594c5c0e22c7cd
Author: Brian Mock <brian@mockbrian.com>
Date:   Sun Nov 9 22:09:05 2014 -0800

    issue-3268 Code style changes

commit 565df733854fd21fe9bc2b277834955a4769e279
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 9 21:45:47 2014 -0800

    Add keybinding action for changing the color preset. It affects the profile.

commit 82b63842323148a3c4f15e84b038d96a423f8fbe
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 9 17:17:35 2014 -0800

    Don't remove an underline unless there is an underline.

commit 880011bcaab708713652340e311e8b50e6c83354
Author: Subhasis Das <subhasis256@gmail.com>
Date:   Sat Nov 8 22:46:08 2014 -0800

    changed detach button label

commit 97e964ca906e52594ae1e43ca6753655e6fc69ec
Author: Brian Mock <brian@mockbrian.com>
Date:   Sat Nov 8 22:29:16 2014 -0800

    issue-3268 Simplifies DarkTabStyle code

commit 67b94846acef31eaf7795e5decd44a0b7eac8d9b
Author: Subhasis Das <subhasis256@gmail.com>
Date:   Sat Nov 8 22:16:09 2014 -0800

    changes to dialog text as per gnachman

commit 194453e742c8b2cfad00ffebb78db2bda100de85
Author: Subhasis Das <subhasis256@gmail.com>
Date:   Sat Nov 8 17:34:23 2014 -0800

    made the alert text shorter

commit d34d6a9bf495fa3a35537f9ca0473ab09b4934c6
Author: Brian Mock <brian@mockbrian.com>
Date:   Sat Nov 8 15:16:50 2014 -0800

    issue-3268 Started large refactor to simplify DarkTabStyle

commit 5df148154aa78e3fa950fcbfb4a13551e53d7169
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Nov 8 13:20:23 2014 -0800

    Add debug logs for pasting

commit 30397d983705bec890c7253fa7d6624ce2edf3e6
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Nov 8 12:57:20 2014 -0800

    Add protocol to shell integration url

commit 526427334b8f8ca5486c8bbd190981885fb83f8e
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Nov 7 22:44:39 2014 -0800

    Revert commit 0f5bb7704b31 which was apparently due to a bug in a Yosemite beta

commit b25a40fb0aa78e10854615b18f49e11fedc5ed4d
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Nov 7 22:15:24 2014 -0800

    Fix crash on CSI :

commit a763a813ef17f48a791d6e25186bd60787950410
Author: Subhasis Das <subhasis256@gmail.com>
Date:   Thu Nov 6 08:39:27 2014 -0800

    small bugfix, also inform users that there is an option to detach in the alert window

commit ff6404e8978b1bba67163051977adcde322c6211
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Nov 5 22:37:28 2014 -0800

    Check if a file exists locally before trying to stat it for trouter. Should fix bug 3266.

commit 04e36729676cfd16ff23ddaf4d7c99ebf5dd63ce
Author: Subhasis Das <subhasis256@gmail.com>
Date:   Tue Nov 4 12:04:20 2014 -0800

    patch to give user the option of detaching tmux windows upon closing

commit 69355f6d95d5c877c5a440ebc4f4123c2a5e0364
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Nov 3 22:53:59 2014 -0800

    Handle nil account name

commit 17e4ffd8c607e537049f7e8ee26f7c3f81a6c6ff
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Nov 3 22:29:45 2014 -0800

    Update shadow when toggling fullscreen

commit a0e9ab9f2626aede0efef2b834ef2c4d65bc4eb4
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Nov 3 22:28:09 2014 -0800

    Turn on widown shadow for only normal windows

commit 73cf973d004c34bf7c9d5d6f34758327574b53a3
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Nov 3 21:54:01 2014 -0800

    Get rid of content shadow. Turning it off on 10.10 doesn't work right. See issue 3252

commit d8b823a896f57ed5fa8d45388692557437349d48
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 2 17:27:22 2014 -0800

    Add a bunch of tooltips

commit aa399ce2d4be80f755e92a9be7ad821956fcefd3
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 2 16:11:47 2014 -0800

    Call updateContentShadow after adding a session. Issue 3264.

commit 9c3555a9dffeeaf781143c42adce44bdbec39a02
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 2 13:09:13 2014 -0800

    Hide mirrored scroll view in title bar to fix issue 3244

commit d275b637f777e8c0f683c274ffaabb2e67b117c7
Author: Brian Mock <brian@mockbrian.com>
Date:   Wed Oct 29 00:04:10 2014 -0700

    issue-3268 Removed unused code

commit d92acd11f6808a1ddeb674ae7c36b1cf7f69ce6e
Author: Brian Mock <brian@mockbrian.com>
Date:   Tue Oct 28 22:50:54 2014 -0700

    issue-3268 Draw left tab separators

commit 36c04a56c3fd78f9e365efb670edff5dae4b203b
Author: Brian Mock <brian@mockbrian.com>
Date:   Tue Oct 28 22:41:39 2014 -0700

    issue-3268 Dark tab style looks nice now

commit 6b864054b5a6b50f5fedfca50f131874105ca6ba
Merge: 4d946fdf 37a9e50b
Author: Christian E. Hopps <chopps@gmail.com>
Date:   Tue Oct 28 18:03:43 2014 -0400

    Merge branch 'master' into sRGB

commit 4d946fdfca9a7b24cf491f3db64f1058d1f3693f
Author: Christian E. Hopps <chopps@gmail.com>
Date:   Tue Oct 28 18:01:49 2014 -0400

    add comment about colorspace

commit 42d087bee6565310dea519d76459bdfca7210191
Author: Brian Mock <brian@mockbrian.com>
Date:   Tue Oct 28 02:13:41 2014 -0700

    issue-3268 Dark tabs draw right
    
    Dark tabs and labels now draw correctly. Still need to add unfocused app and tab hover state.

commit f37613d9d36ccfbf4a21bbe4a957284ca0b0c42b
Author: Brian Mock <brian@mockbrian.com>
Date:   Tue Oct 28 01:26:05 2014 -0700

    issue 3268 changed tab font
    
    Dark tab bar style now uses a monospace font in the tabs

commit a184ab81afccf68ff4891b8681547c961d1b9d0b
Author: Brian Mock <brian@mockbrian.com>
Date:   Tue Oct 28 01:20:01 2014 -0700

    issue 3268 dark tab bar BG
    
    Dark tab bar actually has a dark background now, but nothing else.

commit 84b751d5f7d8b7073d8022a5f0351e8693757360
Author: Brian Mock <brian@mockbrian.com>
Date:   Tue Oct 28 00:59:04 2014 -0700

    issue-3268 new files in place for dark tab style
    
    Adds files for new dark tab style. Currently just a copy of Unified tab style.

commit 12a05a05be4675f9e426c5e001ba7af424ce6607
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Oct 27 22:40:07 2014 -0700

    Change zoom button to zoom to reduce confusion exposed in issue 3247

commit e66fd839436a4fad2b13b75f59dfe8c20d7a2d09
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Oct 27 22:31:12 2014 -0700

    Flush user defaults after adding the hotkey window profile

commit 37a9e50b6c4ac42fc3b7cd1697c5a75f42dbbf5d
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Oct 26 22:47:52 2014 -0700

    Tweak annoying bell silencing. Only sample bell once per second for moving average. Three samples over three seconds will trigger the annoyance threshold. Add an option to automatically silence bell.

commit b9d98c44e281c9be9ee080a7c32726e562f2fe8a
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Oct 26 22:01:12 2014 -0700

    Retain result of beginActivityWithOptions:reason: so that app nap really gets turned off.

commit d94a0c77fc17a7dfcfd239a3b392526b5e7072dc
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Oct 25 23:15:45 2014 -0700

    Add alwaysAcceptFirstMouse advanced pref for issue 3236

commit cc9ce4e52227d8076975da58b1ad7bb865047235
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Oct 15 22:43:44 2014 -0700

    Add support for timing out announcements. Make the capture trigger error about multiple coprocesses timeout after 2 seconds and the bell announcement time out after 10 seconds without a bell. If an announcement has more than two actions, put the first action in a button and the remainder in a popup. Limit announcement height to two lines.

commit 5b40f4768f369a7870139bb401e2d72e9304bc11
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Oct 11 13:02:52 2014 -0700

    Start activity when stopping app nap

commit 63b1d23bbcdf8f57aaba1ba6959087360e50e962
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Oct 9 23:33:24 2014 -0700

    Add support for CSI E and CSI F (cursor next line, cursor preceding line) that move the cursor up or down and to the left margin. Not sure how this went unnoticed for so long.

commit 0b1937f073815b880bb3819bf4c663a5f0bbcbb7
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Oct 9 23:08:38 2014 -0700

    If the hotkey window doesn't autohide and isn't key, then the hotkey should make it key and activate teh app instead of hiding it.

commit 7c3d7e71f05ad074cdea4265735463327ad14b03
Merge: 4c7c9871 02f780f4
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Oct 9 22:22:02 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 4c7c987162e42d84dce4457d4f81634f662560b4
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Oct 9 22:20:35 2014 -0700

    Fix color space of vertical tab divider

commit 4bb150697fde90df6ade0a2e02615f8ba28bd3fa
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Oct 9 22:16:23 2014 -0700

    Reformat DefaultGlobalKeyMap and add ctrl-shift-tab mapping to cycle tabs backward

commit 2b3344610b2a05caa5295c51721978599d8b1f94
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Oct 9 21:50:59 2014 -0700

    Add cycle tabs backwards. Generally clean up PTYTabView.

commit 02f780f4f73fdac79ad7cba35e3e5cd0e8e73750
Merge: 9db043d9 de8f9d62
Author: gnachman <gnachman+github@gmail.com>
Date:   Thu Oct 9 19:27:50 2014 -0700

    Merge pull request #181 from poiru/makefile-run
    
    Fix path to iTerm2 binary in Makefile run target

commit 9db043d91914a7f3d7966eb1c43dccc9cf3cd1b0
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Oct 9 19:21:16 2014 -0700

    Don't use colorWithWhite:alpha: because it's new in 10.9

commit 563f51dcf0963d6df4b904de5b9a6355f3e5d032
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Oct 9 19:18:45 2014 -0700

    Change wording of text in filter alerts from filter terminal-generated alerts to filter escape sequence-generated alerts

commit 120a948cda36ac7e8040089b13a04c91a23fcf95
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Oct 5 15:59:26 2014 -0700

    The applescript parser couldn't deal with 'current session' having different codes in different contexts. Use the same code whether it's the current session of a window or a tab and update tests.

commit 020ce14f6a40c3afbfa07b66344cbdf5f428e3ef
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Oct 4 12:50:22 2014 -0700

    Don't use all-lowercase codes in sdef file as those are reserved by Apple (issue 3213)

commit 52e0b00ca2d1b571f44b636fa7c6e0e75d5fe222
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Oct 4 12:24:58 2014 -0700

    If the 'New Bookmarks' user default's value is a string then load profiles from that location and never update they key in user defaults. This lets you specify a filename for profiles on the command line with '-New Bookmarks' '/path/to/file'. The file has the same structure as those for dynamic profiles.

commit de8f9d621707927ee96f487277e99dfc54799e2e
Author: Birunthan Mohanathas <birunthan@mohanathas.com>
Date:   Sat Oct 4 12:56:29 2014 +0300

    Fix path to iTerm2 binary in Makefile run target

commit 82e7901fac1b4cab696348f58ee93c13a8097f18
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Oct 3 22:25:11 2014 -0700

    Improve finalterm logging and handle aborted commands explicitly in an attempt to resolve issue 3183.

commit 7709b84ac737c5a185e017dbca3cddad34837fdf
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Oct 3 20:56:41 2014 -0700

    Fix restoring fullscreen windows in Yosemite the right way. Changing the frame in init is bad news.

commit 9258eb48fddcec91075e6d5fb47d56300e84dd81
Merge: 785b8788 c586219d
Author: George Nachman <georgen@google.com>
Date:   Thu Oct 2 23:10:40 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 785b87889c5185c27ebab56afd9847908ece04d9
Author: George Nachman <georgen@google.com>
Date:   Thu Oct 2 23:10:05 2014 -0700

    Fix restoring fullscreen windows in Yosemite

commit 24c3f73c9e4b83d36a07212215e51bdffba3eab9
Author: George Nachman <georgen@google.com>
Date:   Thu Oct 2 23:09:07 2014 -0700

    Simplify solution

commit c707abdfe477343e9bd6d8c02f3d49e4d086fd35
Author: George Nachman <georgen@google.com>
Date:   Thu Oct 2 22:48:19 2014 -0700

    remoe comment

commit dcd52595cfb4fca5acef70bbabfaa61ce60da207
Author: George Nachman <georgen@google.com>
Date:   Thu Oct 2 22:47:46 2014 -0700

    Disaster avoided, still get a title bar

commit 61f1860ded47732ff353605cb6cbec832b197b6f
Author: George Nachman <georgen@google.com>
Date:   Thu Oct 2 22:31:47 2014 -0700

    it works with awful hacks

commit c586219defa6306eecfaa76ae408cd22f8feb42c
Merge: 509feb3d c92b82e3
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Sep 30 23:09:08 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 509feb3d7331ec7da10edadfc49d94b82b215f1e
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Sep 30 23:08:57 2014 -0700

    When pasting a string with tabs, ask the user if he wants to convert them to spaces.

commit c92b82e306b8c9036cf67085a678a43b16e0e736
Author: George Nachman <georgen@google.com>
Date:   Fri Sep 26 11:14:12 2014 -0700

    Fix nightly build script

commit 081c6ec6f491777a968db1ad5265eaf6688cff69
Author: George Nachman <georgen@google.com>
Date:   Thu Sep 25 22:22:21 2014 -0700

    Allow windows pinned to a screen edge to go all the way to the edge where a hidden dock is. Issue 3096.

commit db94e617a2e4889941db6d6ed3b4b3f2dcea354e
Author: George Nachman <georgen@google.com>
Date:   Thu Sep 25 21:21:28 2014 -0700

    Fix oops

commit fc7833bd1f1ebe649c0ea53d326d3a7e5aa95ce2
Author: George Nachman <georgen@google.com>
Date:   Thu Sep 25 21:18:52 2014 -0700

    When switching spaces while a hotkey window that doesn't autohide and belongs to all spaces is open, reactivate it after a short delay. Also switch spaces instead of closing a hotkey window that's stuck on another space.

commit a12d242acf74fa42476a6e560e4f24d288a7a7d0
Merge: 7529caa7 98350317
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Sep 23 22:42:39 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 7529caa757d58675774e76d811fc69f7dd7d0ac9
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Sep 23 22:42:19 2014 -0700

    Add Dynamic Profiles (issue 3094)

commit 9835031710a037441acd1a1eb5ec3d647701159e
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Sep 22 23:19:34 2014 -0700

    Fix paths to plists in makefile

commit 6f26b555172091f67420be6319a60593773233df
Merge: f2bbe844 7861946f
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Sep 22 00:00:05 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit c802425918038234a36b95998442df37471c0889
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Sep 21 22:55:12 2014 -0700

    Flush changes to prefs to user defaults after deleting or bulk copying. Issue 3198

commit 7861946fb98c6ca53cf6585787fa9b8a8b4d3dd4
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Sep 21 22:42:40 2014 -0700

    Make sure not to try to make the hotkey window key if it is hidden

commit 2bb1beb3324bef943ee6729513b66bc667e876c4
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Sep 21 22:40:19 2014 -0700

    When closing the open quickly window, return to the hotkey window if possible.

commit 14bde617f145f9d36d2bb02873742911221cdb5c
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Sep 21 22:34:29 2014 -0700

    Add the open quickly window to the list of windows whose opening does not cause the hotkey window to hide

commit e02bd8e42d496eb434aa38aa4250c9d911eed857
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Sep 21 22:28:28 2014 -0700

    Respect the 'hide close button 'pref

commit 1a3b39bfa8d007c44508f377654443dc3d8cf8c5
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Sep 21 22:17:08 2014 -0700

    Move about window into its own files. Rename iTerm to iTerm2 menus.

commit e18659ff0e49c8ac7b0cb56e23ea1d2e7661664e
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Sep 21 21:57:21 2014 -0700

    Trim whitespace before opening URL with trouter or openSelection

commit c7f53df95a7f4f7c4c5a5d89ab8ec8f24d164bb4
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Sep 21 21:01:00 2014 -0700

    Use a pull down menu for announcements with more than two actions

commit 2558c0c5e7b6ede188f6489ff22f06a1676689b9
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Sep 21 20:31:09 2014 -0700

    Add option to suppress bell or all output when bell rings too quickly

commit 2d0fc273460bbb9c133523ab76546fb1ec550138
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Sep 21 14:29:42 2014 -0700

    remove -2 suffix from nightly

commit ec696f00ae127b85f8a2c36c80bd271fba691154
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Sep 21 14:29:35 2014 -0700

    Move remaining plist files to plists

commit 96ad1de9aa5c0d67a1ba919a5fb3e6eec4b1ac57
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Sep 21 14:28:27 2014 -0700

    Get rid of triplicate nmssh in project

commit e3686f404c64fcd9b11a443e3d39d2063732e678
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Sep 21 14:22:58 2014 -0700

    Remove duplicate icon set. For some reason xcode insists that its iconset be in the project root directory.

commit db34b715630a16af0a6a212cd0194e078a13063a
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Sep 21 14:16:11 2014 -0700

    Move plist files into plists/

commit 0c214d2e31328fb3ac70c366787ed999b6df3887
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Sep 21 14:07:14 2014 -0700

    Move xib files into English.lproj

commit a5ea87868ae6a9de3ec08a23ba7c5472ab95da4e
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Sep 21 14:03:43 2014 -0700

    Move scripts into tools/

commit dff7c9faec90daa7f1974a57bb43d1c2d383892e
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Sep 21 14:01:43 2014 -0700

    Move source into sources/ directory. Delete a few unused images in the process and fix a reference to an Aqua image in FindView

commit 5147559bf072ea892734ac790a65386e2e65f0cf
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Sep 21 12:26:16 2014 -0700

    Ignore xcworkspace, not pbxproj

commit 0b7962f9675701af6ca149677cf6e9dcbeceac05
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Sep 21 12:25:49 2014 -0700

    Update gitignore for new project name

commit f2bbe8446190449a1b1f5afdfc4bb20ffa1c1d80
Merge: 0747fb5f 62d66dbf
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Sep 21 00:00:04 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 62d66dbfe555ef363194cf5e5de1d9c42ad5d0f5
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Sep 20 18:30:39 2014 -0700

    Ignore certain suffixes in filenames for semantic history

commit 7cddbacddcfb385682fbbdccdeb85fd3591b8365
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Sep 20 18:16:25 2014 -0700

    Fix various longstanding bugs in StringToScreenChars. Get rid of “lastInitializedChar” because it always moved in lockstop with j. Fix a bug where buf[i].complexChar was initialized, with a comment incorrectly claiming that some harm would be caused by j repeating in consecutive iterations. While it does repeat in the case of zero-width joiners, there is no harm from reinitializing the complexChar field since buf[j] is fair game at the top of the for loop. Fix various out of date or nonsensical comments and clarify others.

commit c28963dfaeeb26950533e98f68863b9cd4d9a04c
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Sep 20 17:16:19 2014 -0700

    Make the session under the mouse active when the app becomes key if focus follows mouse is on. Comment 1 in issue 3163

commit ac4e9901fd62c330af5f0c44f2a4523da24adfc1
Merge: 4e94f8cc e6f0176e
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Sep 20 16:45:29 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 4e94f8ccb23b7c86062e093ad88153f02213423c
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Sep 20 16:44:59 2014 -0700

    When you click in an inactive pane while iTerm2 is not key and focus follows mouse is on, make that pane active.

commit 0747fb5f917d789d6c64f72d3d83609090e196ec
Merge: 8def6deb e6f0176e
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Sep 20 00:00:03 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit e6f0176e4c50970889f2224efad438cac425652a
Merge: 65f70725 09c3db40
Author: George Nachman <georgen@google.com>
Date:   Fri Sep 19 11:56:04 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 65f707256b31684b6e360c05e7eaf25d947ac603
Author: George Nachman <georgen@google.com>
Date:   Fri Sep 19 11:55:55 2014 -0700

    Improve support for multi-line shell prompts in shell integration

commit 8def6debe4a0df0f15175907e7d0c56131d5946e
Merge: e7174a35 09c3db40
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Sep 19 00:00:04 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 09c3db4051f9b5fa5fde651c0bfe017ffce532c9
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Sep 18 20:37:45 2014 -0700

    Add support for showing a notification on alert. Issue 3162

commit 603aa220d743a70318a7548d4f3282a84c7677f1
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Sep 18 19:53:19 2014 -0700

    Fix some warnings

commit 9fe3b427381bcfcdd51a5795acc543755450b9a1
Merge: 6c5250c9 b778d338
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Sep 18 19:25:09 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 6c5250c9b2c6a4f20c533ee7c99b6501f88ea53c
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Sep 18 19:24:59 2014 -0700

    When a tmux client's session's name is changed in Edit Current Session and then the name field resigns first responder, send rename-window to tmux.

commit e7174a356bf76a3b2bafcafbaa9837269c44deb1
Merge: 8f128fac b778d338
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Sep 18 00:00:04 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit b778d338ddf06c86b9f934a609da4ef3ed5e42b1
Author: George Nachman <georgen@google.com>
Date:   Wed Sep 17 14:07:22 2014 -0700

    Add support for SGR 2 'faint' colors

commit 8f128facecbfbc3d78a345affc304b40b23a5f62
Merge: 817b4ce5 caa75e9e
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Sep 17 00:00:05 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit caa75e9e0d2a886c5a956150e0916d124d1b211b
Author: George Nachman <georgen@google.com>
Date:   Tue Sep 16 18:32:33 2014 -0700

    Add opening tabs to Open Quickly

commit adb0215a286721951ee6999ad28a399066e8895a
Author: George Nachman <georgen@google.com>
Date:   Tue Sep 16 16:19:09 2014 -0700

    Turn off window resizing snap-to-grid if control is pressed AND no other modifier is pressed (issue 3152)

commit 084a1fc64adc0bbb5b2c1a154222a476244cc025
Author: George Nachman <georgen@google.com>
Date:   Tue Sep 16 16:16:15 2014 -0700

    Fix new warnings from XCode 6 (besides deprecation warnings)

commit ca6e149f52ef4eb410cb2c49c2347d1f9930dbde
Author: George Nachman <georgen@google.com>
Date:   Tue Sep 16 16:09:03 2014 -0700

    Get rid of commandField, which was part of the toolbar

commit 86644886424d3eabc55999aef17b5a74081b4ea3
Merge: fc6b7aee ffd85f43
Author: George Nachman <georgen@google.com>
Date:   Tue Sep 16 15:40:48 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit fc6b7aee5dc69db268f7bb8c0edbfa996cd02a17
Author: George Nachman <georgen@google.com>
Date:   Tue Sep 16 15:40:39 2014 -0700

    Make iTermSelection -clearSelection do nothing if there is no selection. It was calling selectionDidChange:, which forced a redraw. That was a problem because when not saving lines to scrollback in the alternate screen we would clear the selection on every linefeed and that killed performance. Issue 794 comments 22-27.

commit ffd85f4343a3dc8f5b3db85be2c3c2dbc33b6da5
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Sep 16 09:40:57 2014 -0700

    Get rid of the ugly-ass toolbar

commit 1e25b07796e877b82d2a50e5983ab961c61ba722
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Sep 16 08:48:34 2014 -0700

    When you rename a profile while there is a search query in the profile prefs, 'lock' it so that even though the profile's name nolonger matches the query, it remains visible in the ProfileListView and selected.

commit 817b4ce51ea110c1ba3caf58466a3b8d177ca877
Merge: c42125c9 e272f0bb
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Sep 16 00:00:04 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit e272f0bb145ce3ba9d545c6c85b6ddcacbb55888
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Sep 15 22:56:00 2014 -0700

    Increase prefix and suffix length passed to trouter subs. Add variables as subs as well. Issue 3120

commit 42ee1cad0bfb07d3205bf679f45bfca69ed1db30
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Sep 15 22:09:57 2014 -0700

    Pass extended prefix and suffix as subs 3 and 4 to trouter, including newlines.

commit 5a0e8cc178b6d7d498a0c68b2cafda4df9562a5d
Author: George Nachman <georgen@google.com>
Date:   Mon Sep 15 14:01:16 2014 -0700

    Add error reporting for scripts run from the Scripts menu.

commit c42125c9f1867f65ad6e3b96ed8f2688486502d0
Merge: 82a88eb4 05d4e782
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Sep 14 23:53:13 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 05d4e7822e2872169c053776a92ab2b54fbd1f0e
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Sep 14 23:46:52 2014 -0700

    Make selection respects soft boundaries setting persistent

commit 22c5accff0edbf30afa65160ecacab1011d66cef
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Sep 14 23:42:25 2014 -0700

    Fix bug where box selection wasn't visible during live selection in Cartesian quadrants 1 and 3

commit 7ccc86e495dc4c6158fe645cfb5d612a653a4a84
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Sep 14 23:25:53 2014 -0700

    Make respect soft boundaries work for char selection. Fix bug where you can't select the last char in a row. Change how line wraps are computed in the presence of soft boundaries (treat terminal whitespace as EOL).

commit 7499cfe5b5c0649e4d5c2a5bdadc83ec763f9c50
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Sep 14 21:56:11 2014 -0700

    Add Edit>Selection respects soft boundaries. Works for word and smart selection only at the moment

commit b609aa615ee1c8f78cd86723f9a3137569a0e207
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Sep 14 21:14:50 2014 -0700

    Add options to filter alerts. Turn off idle and new output alerts by default

commit abe532acdb1fd88f4012c490e757fa09d478e229
Merge: 019cd5bb 7030d25d
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Sep 14 17:26:27 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 019cd5bbb457c44fe0fefae1b4269e12c652cc52
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Sep 14 17:26:22 2014 -0700

    Try to detect fast user switching when remapping modifiers

commit 7030d25d0c0cf96639a6d8b3460f7ee3cf43b703
Author: George Nachman <georgen@google.com>
Date:   Sun Sep 14 16:49:09 2014 -0700

    Change highlight style of profile lists to look acceptable on Yosemite

commit e4472a5dc3e6753a4bab341d03254a039eaa3669
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Sep 14 15:46:58 2014 -0700

    If you cmd click on a text file and the default app to open it is an editor, then use that editor; otherwise use iTerm2's opinion of the best editor.

commit 5d53c49fb1b9c7cb6b735f421c4a65e324418850
Merge: fb0f13a5 89e6f6f3
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Sep 14 15:00:11 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit fb0f13a593f7c963c06dbb08feff15f0adff6607
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Sep 14 14:59:49 2014 -0700

    Add advanced pref to start debug logging automatically

commit 0418a6dd35a17b58f0611a44b47a178b9ffdc409
Author: Tom Feist <shabble@metavore.org>
Date:   Sun Sep 14 08:22:38 2014 +0100

    Add proper lookups for § and ± in key-bindings stringification
    
    The (B) and (Z) models listed at
    http://support.apple.com/kb/HT2841?viewlocale=en_GB have these keys
    where the tilde/backtick key goes, but appear as '⌘ Hex Code 0xa7' in
    the Keys prefs fields.

commit 82a88eb45307721a529f90698e7434c3941ed2f5
Merge: 770258ec 89e6f6f3
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Sep 13 00:00:04 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 89e6f6f3c413d1a7ddefa6842d5401313eb1945e
Author: George Nachman <georgen@google.com>
Date:   Fri Sep 12 11:26:54 2014 -0700

    Allow scroll-sends-arrow-keys-in-alt-screen to work even if mouse reporting is disabled in prefs>profiles>terminal>enable xterm mouse reporting

commit 770258ecc62edfe7f165aff0909566c851184b96
Merge: 4a56950c 70d5badc
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Sep 11 00:00:04 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 70d5badc540934cfb0acaa9ce90afd1b1f7b26b2
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Sep 10 22:23:53 2014 -0700

    Add advanced pref to treat option as alt (vs the default of meta) for arrow keys, home and end

commit 4a56950c253c3d8f943e3311c296a1463f351365
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Sep 10 21:38:03 2014 -0700

    remove -2 suffix on date for nightly builds

commit 467ddca96d9a919e66969124c0502947109597c1
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Sep 8 21:24:00 2014 -0700

    Add delay to applescript test

commit 9582e9eac250bc539956532757c5efbd633d599a
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Sep 8 21:23:52 2014 -0700

    Fix bug where a shift-click would modify the existing selection incorrectly

commit 03a950b1dbb57edee6ac9b5ba8d2c70fd820502d
Author: Christian E. Hopps <chopps@gmail.com>
Date:   Sun Sep 7 17:24:52 2014 -0400

    Default to sRGB colors for CSI RGB values.
    
    - By default consider CSI 24-bit RGB values to be display independent
      sRGB colors.
    - Add an advanced option to disable this and consider the values to
      be calibrated to the given display that iTerm2 is running on.

commit 2d96e196e9c909d737524c993ca6840a4d9f60bf
Merge: 781fc3ed 8c621c54
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Sep 4 22:50:28 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 781fc3ed7c903ed9b17b039b5885bbdf90cc738b
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Sep 4 22:50:03 2014 -0700

    Clean up some remnants of old scripting code and add some comments to scripting headers

commit 550d3b0ec6c31e68ef8ee27f04d0261354bbca8a
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Sep 4 22:39:11 2014 -0700

    Rename addNewSession to createSession

commit 521692e78c5903e18d846c5765db43aacddfe005
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Sep 4 22:35:02 2014 -0700

    Clean up code during review

commit cc29ca3e6e874901421b2a4a3bb7ff6306e77905
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Sep 4 22:04:08 2014 -0700

    Fix iTerm2ForApplescriptTesting

commit 408ef212568692efc7089bfc7735f61fe176cafc
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Sep 4 21:57:02 2014 -0700

    Change to my fork of Sparkle so we can upgrade using a zip file having a root folder of iTerm.app even though our bundle name is iTerm2.

commit d0290344f7772b416e6b897144da4d7e54defd0c
Merge: 4c7af561 60b7e300
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Sep 3 08:49:16 2014 -0700

    Merge branch 'cleanUpScripting' of https://github.com/gnachman/iTerm2 into cleanUpScripting

commit 4c7af561b60cd8c8dca1aac13c2c7d8aff2e9e98
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Sep 3 08:49:05 2014 -0700

    Add sdef references to nightly and release plsit files. Keep the folder name as iTerm.app so Sparkle will be happy.

commit e06a14c60c207f06dd65b6d99a6cf8dd1e20daaf
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Sep 3 08:03:27 2014 -0700

    Add pkg for upgrading iTerm2 from iTerm.app to iTerm2.app

commit 9f932c8849ee95006ae36dc375412181bb881d5c
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Sep 2 21:55:01 2014 -0700

    Add example applescript

commit 60b7e3009083e1b4ef9dbfcf5179065c7e82d5a4
Author: George Nachman <georgen@google.com>
Date:   Wed Aug 27 18:03:23 2014 -0700

    Add second copy of iTerm2 target to use as applescript test app. Add complete tests for applescript commands.

commit 2d522b237ac6929d24dcf950b54a959d8a83ec86
Author: George Nachman <georgen@google.com>
Date:   Wed Aug 27 16:14:29 2014 -0700

    Move PTYTab scripting code into its own file.

commit ab4ded42d00a43fadd96cc8614337ac28970059c
Author: George Nachman <georgen@google.com>
Date:   Tue Aug 26 11:51:38 2014 -0700

    Add is processing to Applescript interface for Session

commit b104c52dc8f664097b02984990ab045ee4be5d60
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Aug 25 22:50:53 2014 -0700

    Finish adding applescript

commit 003d624195f0d2c6de8b3ede5c3c2e158d7ac025
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Aug 21 22:42:09 2014 -0700

    Add applescript commands to split

commit 3ece400f41f9dbebfc0b9a26ebc9763ead2392df
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Aug 21 22:00:43 2014 -0700

    Add a bunch more commands

commit b6f863e992eaee9c83ead583b6dcf35accd5873b
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Aug 20 23:04:44 2014 -0700

    Add current session

commit 02c18bc1e1e68496ccbc835e60a3cb14c2d9b8cc
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Aug 20 22:59:47 2014 -0700

    Fix current window and current tab

commit a03845a9f102d2b92f0682d92c18ef987dc8e7eb
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Aug 20 19:37:15 2014 -0700

    Start redoing scripting

commit 2051a749102fdcb7922501497984244e4a557415
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Aug 17 22:01:00 2014 -0700

    rename iTerm to iTerm2

commit 9bc2617178d4ed45d90f08ab86992627da45890e
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Aug 15 23:51:07 2014 -0700

    Clean up scripting

commit 8c621c54402e65b5b40964f88b4423017e914c38
Author: George Nachman <georgen@google.com>
Date:   Thu Aug 14 15:50:12 2014 -0700

    Allow selection by doing a single click followed by a shift-click, which is apparently standard on Mac OS (thanks, Reddit!)

commit 4d39569acf28564898b7037861b4416a9039317a
Author: George Nachman <georgen@google.com>
Date:   Wed Aug 13 16:22:33 2014 -0700

    When an interval tree entry has a negative end position, drop it. I think this should fix the crash in bug 3136

commit 354fcce59178a13adac2ca6bad9eb77949fa995a
Merge: fe69c2cb bc5f91d8
Author: George Nachman <georgen@google.com>
Date:   Wed Aug 13 16:17:35 2014 -0700

    Resolve merge conflicts

commit fe69c2cbe0777976bb4bfd20a4120e44136d8eae
Author: George Nachman <georgen@google.com>
Date:   Wed Aug 13 16:15:24 2014 -0700

    Make toolbelt prettier

commit bc5f91d8b01c1fc20f05494771c93cf0c94249ca
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Aug 11 22:22:47 2014 -0700

    Try to fix a crash on resizing (bug 3136), which I suspect happened because the test for when an object in intervalTree has scrolled off the top was wrong

commit 0d09d643973b097db5c2552e7de9e45bc53441a5
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Aug 11 22:18:13 2014 -0700

    Fix bug where annotations would grow when the window was resized

commit 31ebc521dfba10db2d0e59412664c66ee8823cae
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Aug 11 21:41:22 2014 -0700

    Consistently treat applescript sessions as an array of active sessions. The -[PseudoTerminal sessions] method was wrong; it actually returned all sessions, which caused bug 3147 when there was a split pane.

commit 3bf3238458e6f0b202df7c3744848c51b57c255b
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Aug 10 22:44:37 2014 -0700

    Update logo generator for new logo

commit b7a8b6162138e8d0912859d71ccf5429e19272d5
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Aug 10 22:13:51 2014 -0700

    Create command history popup if needed when the current command changes

commit 4d398bfde3f3cf1f975f2d20106d4278fec84daa
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Aug 10 22:09:59 2014 -0700

    Lazily create popup windows and release them as soon as possible. Only search truncated values in popups.

commit 850a11b6bd893f83c8098740714187cb2fc7ba9e
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Aug 8 08:29:48 2014 -0700

    Draw tab color as a strip on the left for vertical orientation

commit 162163b16413337427e82e13793639cb96151c5b
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Aug 8 08:25:23 2014 -0700

    Draw tab colors as a strip across the top when not selected

commit cde45e5a607acd9d4e96c474068ae7bea31ef96b
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Aug 8 08:25:12 2014 -0700

    Make gray tab color in menu item darker

commit e8244cf2887664a236d6fa2d2e111871b6d89940
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Aug 2 17:43:53 2014 -0700

    Fix icon ref in plist files

commit 240695c9f43cc7e7c755d09b838c8632c237c4eb
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Aug 1 18:39:33 2014 -0700

    Remove unused files

commit cf12d6cbb2fea624dfdff4d34377302b11dd248f
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Aug 1 18:38:04 2014 -0700

    Remove unused images

commit 36215448c50f1b4962a07934633db4a71e03aca6
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Aug 1 18:34:30 2014 -0700

    Remove idle image

commit e15aae380f1fc12e0e03611914525e7c2980c2f7
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Aug 1 18:30:06 2014 -0700

    Go back to the square icon based on a twitter poll, but with increased brightness on the frame

commit 068fe81fee834e1348d820ef238abb8d39ff3572
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Aug 1 18:03:54 2014 -0700

    Resolve merge conflict

commit db6a382cb0b7ec0faf2c6136d8e646e381001d2f
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Aug 1 17:40:38 2014 -0700

    Fix a bug where surrogate pairs got truncated by stringByTrimmingTrailingWhitespace

commit 8d5ee5be5fd51cdefe6bfe981ca5fa65fefeb60b
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Aug 1 17:18:41 2014 -0700

    Add test for new command line parser

commit 5364d85bc409bdae0e9ad87fdf1431e4c1f01eeb
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Aug 1 16:58:49 2014 -0700

    Try to execute unparseable command instead of a dangling pointer

commit 6823832847ab21a046d38f91ecbf56cb08d01b45
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Aug 1 16:57:39 2014 -0700

    Fix a race condition where broken pipes might cut off the end of output. Rewrite how commands are parsed.

commit 0b9b502cdf958b72c9b2684333bd042e5b7d41a8
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Aug 1 15:19:47 2014 -0700

    Make Cmd-F show and select the find field, not toggle it. Introduce a delay when performing very short searches. When a find query is erased, remove all highlights. Redraw the textview when highlights are removed.

commit dcfcd8ecaece44a1d4965a868335174a03278b9f
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Aug 1 11:29:28 2014 -0700

    Fix up 128x128 icon, delete duplicate icon files

commit 972f3d68ddd202ca7d60903ba62170aeed842d4b
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Aug 1 11:24:59 2014 -0700

    Update icon in all plist files

commit 2607cf2a9ccbc8829ef738ffbf8442d46dd00dba
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Aug 1 11:06:21 2014 -0700

    Tweak icon some more

commit acea04a3b9d8b2c998cf09fa63a196a3bcb21500
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Aug 1 10:40:41 2014 -0700

    Various tweaks to icon

commit ad8146506c89934f1ae66a85e3a9692dcc42519c
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Aug 1 00:14:46 2014 -0700

    Use light colored text labels in tabs if their tabColor is very dark

commit a325aa05674e4c8c317a4eada9886ab7618bb653
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Aug 1 00:07:57 2014 -0700

    Improve look of tabs

commit 9d877a8fa23ae1e96c598cc81f9d8f74d59d2623
Author: George Nachman <georgen@google.com>
Date:   Thu Jul 31 18:01:53 2014 -0700

    Remove unused scrollBar outlet in profiles advanced prefs

commit 0f5bb7704b3191f6c019357fd310cc6834c9f19d
Author: George Nachman <georgen@google.com>
Date:   Thu Jul 31 17:59:29 2014 -0700

    Bump tab bar up two pixels in Yosemite for normal windows. Not quite sure why this was needed but it looks a lot better.

commit 37bbab01da684889c48cd568f68da1a2bb31e030
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Jul 31 16:44:49 2014 -0700

    Move blue rectangle that was peeking out the bottom up so it's invisible

commit d345ac5f19052bd59cbda79f75645788608e4cd8
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Jul 31 16:40:44 2014 -0700

    Tweak icon by adding brushed metal edge, bevel, and fixing the shadow

commit 79dd7197235232f41172e235d44a69be365cc45e
Author: George Nachman <georgen@google.com>
Date:   Wed Jul 30 13:31:50 2014 -0700

    Update PseudoTerminal window's icon

commit 39e907f8f0d7a989d5648ee069485c6d3721c474
Author: George Nachman <georgen@google.com>
Date:   Wed Jul 30 13:31:33 2014 -0700

    Add updated icon for tests

commit e217926fdb37217767a416c3eda76acfbd4f0770
Author: George Nachman <georgen@google.com>
Date:   Wed Jul 30 13:16:07 2014 -0700

    Add iconset

commit 10cf61d6396c8d6d67b12138c9e2335eb7fda5c5
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Jul 29 19:51:35 2014 -0400

    Support DCS tmux; ESC ... ST, which tmux uses for wrapping escape codes to pass them through. We treat them as a no-op. Its necessity was discovered while fixing shell integration to work in tmux integration.

commit e9c7aa8706a7cc1d165af43c4bac2582146b581c
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Jul 29 19:51:01 2014 -0400

    Improve legibility of charmaps.h

commit b2c01739155b5c236e551e4db821e0273f0339fb
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Jul 29 18:47:58 2014 -0400

    Update icons

commit d65cd7276d5fc0cf5eb567ec01dfce7019159eca
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Jul 29 18:11:26 2014 -0400

    Add new icon graphics

commit 0e817e84d84df298522ddb4d6a15e2807e954d82
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Jul 29 16:53:09 2014 -0400

    Add option to open tmux windows as tabs in the original window

commit a52ba3cca8fc2bed9178dbf6e635c192e0b1e4ac
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Jul 29 16:01:14 2014 -0400

    Fix bug where an empty session title may appear in open quickly if the search doesn't match it.

commit a1874632c19bfedeaced1f165ced1803612dfc4c
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Jul 29 16:00:55 2014 -0400

    Fix bug where open quickly text colors aren't changed soon enough when changing the selection (while clicking and holding, prior to mouse up)

commit 30a445863a28cb4a6b509c8777abdfb044924e20
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Jul 28 19:01:52 2014 -0400

    Move scripting methods out of PTYSession and into another category to avoid accidentally removing them.

commit 7f93d61228bb37bd706f6694e3333516a2d8a60a
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Jul 28 17:41:13 2014 -0400

    Add back -[PTYSession contents], needed by key-value coding.

commit af46d7e0e74146814ddda4d9cd97ccd38446a04a
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Jul 26 02:10:09 2014 -0400

    Add Idle icon and advanced pref for idle time

commit aae584898fad4be2b135201b50348d45b1e3785d
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Jul 26 02:05:14 2014 -0400

    Add idle notification, clean up setting session icon state.

commit 404f7b2f399c299c0d3b66109acdfdc70dd71c56
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Jul 26 01:45:27 2014 -0400

    Make tab color affect session title bar. Fix how it is blended.

commit e9dca1c9150a8c3e7689e72a2147b030c3129cdf
Merge: 00590c26 f4b82646
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Jul 26 01:36:02 2014 -0400

    Merge branch 'killDrawer' of https://github.com/gnachman/iTerm2 into killDrawer

commit 00590c26e98dc4a17086be8af929e1c7a7db5e7e
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Jul 25 17:48:57 2014 -0700

    Use buster icon to indicate a dead session

commit 2e06bea26b5e9447dd1df6dc13614d881cc3a25f
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Jul 25 17:48:44 2014 -0700

    Remove some unwanted code for disabling tab closing. Bring tab icons closer to indicator.

commit fad22b7d10955c2b5832a7b08df7cc79712a5fb8
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Jul 25 15:54:23 2014 -0700

    Move tab icon to right side of label

commit ab4a4052d01fd51217d5b1b99ce8f91270076426
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Jul 25 15:48:15 2014 -0700

    Get rid of label-coloring code. Improve indicator icons.

commit 402d22035b8eccd4571de2cac649bb516063c136
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Jul 25 14:44:02 2014 -0700

    Delete non-Yosemite-style tabs

commit 1606fbc69a4e954097b9f81bf99b61f0e68d2589
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Jul 25 14:37:37 2014 -0700

    Get rid of tab styles other than metal

commit 73544cdf34303dec6d7ed9d9894c78cfd9b5e933
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Jul 25 14:27:19 2014 -0700

    Update metal tab style to look like yosemite

commit f16608a8b9a64f6ea8917cd1c9bf609edb72d572
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Jul 25 13:06:44 2014 -0700

    Update TabClose buttons for Yosemite style

commit 791df2fd81feb95f6bec221cdf6a8b7044acfd04
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Jul 25 12:35:08 2014 -0700

    Clean up PSMMetalTabStyle code style

commit 5b6a656f586470275915c085142754784e8a72b8
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Jul 25 12:12:21 2014 -0700

    Clean up eterm code a teeny bit

commit f4b8264607b57b0250a27e94a2e8af3d2362c86b
Author: George Nachman <georgen@google.com>
Date:   Mon Jul 21 14:00:20 2014 -0700

    In captured output, reload table instead of updating when a checkmark is toggled. Show emoji chars next to captured output.

commit a5ede9d2624ac57c7a95d8c6297f493a689ab2c4
Author: George Nachman <georgen@google.com>
Date:   Mon Jul 21 13:49:51 2014 -0700

    Reload table data when the table's frame is updated (e.g., due to resize) so the row heights will be recomputed.

commit 67e2ca6f9c56d065f208b4386b81f92aeb90aa47
Author: George Nachman <georgen@google.com>
Date:   Mon Jul 21 13:47:10 2014 -0700

    Cache the last command mark. Search the last 500 marks for a last command mark (not just the last 50) if it's not cached. Add a delegate to iTermMark to notify VT100Screen when a mark becomes a command mark.

commit 59b0b5f4ab4698443684a3705ecb332076c5930a
Author: George Nachman <georgen@google.com>
Date:   Mon Jul 21 13:46:21 2014 -0700

    Add some intercell spacing to captured output to improve legibility.

commit 9da4dab4ecf8b0c4aabf0796e9cab2fe26fbb11b
Author: George Nachman <georgen@google.com>
Date:   Mon Jul 21 13:45:58 2014 -0700

    Fix memory leak and over-releasing of PTYSession in announcements

commit 552b7152825943cb79517108bd57e4b58c745db5
Author: George Nachman <georgen@google.com>
Date:   Mon Jul 21 11:42:35 2014 -0700

    Properly handle resizing the captured output table. It didn't like having its frame set because the height depends on the width.

commit ead585d930ada3b28f36662f3c025cf61e58c91a
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Jul 20 22:17:32 2014 -0700

    Save and restore toolbelt setting

commit 4a1d623a173d4e852b5c67fecff33c7c22f36842
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Jul 20 22:02:09 2014 -0700

    Make captured output marks invisible.

commit 807987f143dc5e4b5614e0d6c81a31dc8101afcc
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Jul 20 21:53:18 2014 -0700

    Make toolbelt be a per-window setting

commit 8b7a4c777a5664ff42e5e8110275974448c4442e
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Jul 20 21:26:59 2014 -0700

    Make toolbelt resizable by dragging.

commit 6c41008e92635933211d8a3a99b7bc7396b2cdf5
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Jul 20 19:46:46 2014 -0700

    Move toolbelt permanently into the window. Die, drawer.

commit bca2c17c0a425f7f49c00365a5f0be9706084717
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Jul 20 17:36:02 2014 -0700

    Add growl escape code demo

commit 4da78806205f68af8effb4f49af72b6dd1223953
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Jul 20 13:45:58 2014 -0700

    Use iterated box blurs instead of CIFilter for blurring the logo in open quickly because it just doesn't work for some people. See issue 3091

commit b66400b8a61b726ae0af1cd70898df8e58d37cd1
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Jul 19 17:41:41 2014 -0700

    Add caching to iTermLogoGenerator

commit 0a9ba4d04e04ca61600e1c04204f1decd42e7e52
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Jul 19 17:25:01 2014 -0700

    Switch nightly to check for sparkle updates over https

commit 822065b7ce4dc7477485167d1a52c6354f39d084
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Jul 18 19:31:35 2014 -0700

    Turn off blue underline when you start dragging.

commit 735b635a73aad289f17abc49e270d960a0f1b2d0
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Jul 18 19:00:42 2014 -0700

    Move iTermOpenQuicklyWindowController into the Open Quickly group in the project

commit dab4f749ea94ed75fa2470a536689379010a8c58
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Jul 18 18:59:30 2014 -0700

    Fix ProfileListView delegate in SplitPanel

commit 0b9374ba50dc410951a519400ffeb40f0af0cc5d
Merge: 30e5e3e5 088bc3f8
Author: George Nachman <georgen@google.com>
Date:   Tue Jul 15 10:27:02 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 30e5e3e559b38bed6e724d4b2d0912b13d46c301
Author: George Nachman <georgen@google.com>
Date:   Tue Jul 15 10:26:52 2014 -0700

    README.license

commit 088bc3f82cda58d6ce9fe0403d52c321f47b55a6
Merge: b7e3c072 8e4550fe
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Jul 14 23:08:18 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit b7e3c07249f9e288522816c88861ade874c2177e
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Jul 14 23:08:08 2014 -0700

    Rename nightly builds to 2.9.date

commit 8e4550fec63e69729c792e749b9efa77fb4fc464
Author: George Nachman <georgen@google.com>
Date:   Mon Jul 14 14:15:33 2014 -0700

    Formatting fixds

commit 0a4855ca025cd8f0bd0d16c9279ad290424ebe5d
Author: George Nachman <georgen@google.com>
Date:   Mon Jul 14 14:14:31 2014 -0700

    Also truncate titles in open quickly with an ellipsis. Separate out NSAttributedString from the model.

commit 1853bf0d2b206a2eee5f6eba723be45c55efd6fd
Author: George Nachman <georgen@google.com>
Date:   Mon Jul 14 13:58:23 2014 -0700

    Truncate long strings in open quickly with an ellipsis

commit 0ae651e0526986358c20fdd14b24febe8f4dd0b7
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Jul 13 21:02:48 2014 -0700

    Fix crasher

commit a5b9c7291f568bd249b3a8d7dd84cbdcc7c92067
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Jul 13 16:06:14 2014 -0700

    Improve animations on open quickly

commit 9127c13f32f81d037ccc2c66b3c40431a13f3c44
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Jul 13 14:12:09 2014 -0700

    Inset icon a few more px so it lines up with text field selection

commit 7cb620ebb7dd7c59a2f4a5c5d807904635ccbda2
Merge: 237bf513 b93b2ff5
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Jul 13 14:09:18 2014 -0700

    Merge branch 'openQuickly'

commit b93b2ff5df59e7b9dfef86ca76b9528f09527f9d
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Jul 10 22:57:40 2014 -0700

    Add "Open Quickly" feature for finding sessions, based on XCode's implementation.

commit 237bf51330c69dc4f8fe85b7b27db3ff5c44cbf0
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Jul 13 11:58:05 2014 -0700

    Fix 10.7 and 10.8 support in nightly

commit 1cac06aa6f9923c66e20ed62aaddab37eb4545e9
Merge: b7aa9bba d2616dca
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Jul 10 19:45:16 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit b7aa9bba3565a1ecb7d73f6c80afc873b8d0801b
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Jul 10 19:45:03 2014 -0700

    Add test for changing colors by escape code

commit edb249a4203d07e1a5fc5d51fb912cf9c861d66b
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Jul 10 19:42:51 2014 -0700

    Fix bug where escape code to change colors used the wrong divisor (doubling values) causing colors to be washed out. Fixes issue 3013.

commit 69e2d2db2dbfbcef6c81df277d700fe5c59e5480
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Jul 10 19:42:16 2014 -0700

    Fix bug where colors outside 0-15 weren't changed by escape code.

commit d2616dca27b176704ce9c2effd7df9e1c69c7357
Merge: 927c9a15 6b8cb236
Author: George Nachman <georgen@google.com>
Date:   Thu Jul 10 16:09:45 2014 -0700

    Resolve merge conflicts

commit 927c9a1555c67d74361b41dc19d7df902f06de02
Author: George Nachman <georgen@google.com>
Date:   Thu Jul 10 16:06:32 2014 -0700

    Add shell integration feature that moves prompt to leftmost column

commit 6b8cb236745de128edaad6f8c523d0e1c0dc65a6
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Jul 8 20:51:08 2014 -0700

    When XTERMCC_SET_RGB changes an indexed color value, divorce and modify the profile instead of just changing the color table. This makes it durable in the event that the session profile is later changed. Fixes issue 3013.

commit 80d8c2767b582d30099afe5c922e51e2647927d1
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Jul 8 19:30:13 2014 -0700

    Add advanced pref to disable app nap

commit 64fbc3d4b01d573c275f9df269f14e6fc7bed092
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Jul 7 20:54:14 2014 -0700

    Change default badge color to red with 50% alpha

commit dd2fe69276bc45a03314d78c84ae0a221ba2d559
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Jul 7 20:48:44 2014 -0700

    Make alpha value of cursor guide adjustable.

commit 1c16da9f5a5a6351239ecbfe0c721e9e261ac91d
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Jul 7 20:36:55 2014 -0700

    Add alpha slider to color panel for badge

commit e922f555085226f416a02ac7af0ae1df0a3fc278
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Jul 4 22:00:16 2014 -0700

    Improve layout of some prefs views. Fix bug with shortcut field not showing modifiers, and make it size to fit.

commit cee645a813193dde7635caf5eb792aba831d73da
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Jul 4 21:37:27 2014 -0700

    Change wording of advanced pref copyWithStylesByDefault from 'Copy to pasteboard includes color and font style' to 'Copy to pasteboard on selection includes color and font style' because of confusion evident in issue 346. Also change clipboard to pasteboard in prefs>general and improve its layout.

commit 4d3ad40d3a4cffd3945d386d27bc3ff0a8d84d54
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Jul 4 21:25:14 2014 -0700

    Allow sessions ended by broken pipe to be restarted. Also remove xterm-256color installer since it comes with 10.7+.

commit 7e988ff0d777b1780216a03107d55d837b1e3715
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Jul 3 20:57:39 2014 -0700

    When a software-drawn divider is present (as in split panes in emacs), ignore the backslash just before the right margin that emacs draws to signify continuation. Fixes bug 3067.

commit 9ddd6cab5e0f7c4153b3f3f9e9c8cc1db0f3545d
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Jun 28 17:43:36 2014 -0700

    Get rid of debugKeyDown and just use debug logs.

commit ff0447d95fd1369079f3d5da1c58c1a944bb6696
Merge: 34a6c1d1 088a8114
Author: gnachman <gnachman+github@gmail.com>
Date:   Sat Jun 28 17:30:23 2014 -0700

    Merge pull request #172 from rianhunter/master
    
    Fix handling of shift+alt from Synergy

commit 34a6c1d1f60a7d19be16b901ef7e6beb16d3a5ce
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Jun 28 16:31:01 2014 -0700

    Preserve top left corner of prefs window when resizing it.

commit 1a0b152a12f34510b35dc9239341e7d427d32855
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Jun 28 16:19:27 2014 -0700

    Add option to open window in the screen where the cursor is. Only restore a window's frame-by-name if it doesn't have a screen preference. Allow all kinds of windows to have a screen preference.

commit 99fa3fe40b754dbb25ce1d6474472880695b9dd5
Author: George Nachman <georgen@google.com>
Date:   Fri Jun 27 18:18:44 2014 -0700

    Use raw name for badges, not formatted name. Update badge label after reloading profile so it gets the most up to date color. Avoid recomputing the badge image when nothing changed.

commit 088a81140125c7e07b814fa3697e66251b8eb756
Author: Rian Hunter <rian@alum.mit.edu>
Date:   Wed Jun 25 19:02:12 2014 -0700

    Fix handling of shift+alt from Synergy
    
    Synergy doesn't send a keyDown event with its modifierFlags
    having a left or right directionality set with NSAlternateKeyMask.
    Before this change, we distinguished Synergy's event by using
    "modifierFlags == NSAlternateKeyMask." This logic doesn't work
    when the user has both the "alt" and "shift" keys held down from
    Synergy.
    
    With this change we trigger the "left" option key actions in
    PTYSession/PTYTextView whenever NSAlternateKeyMask is set and no right
    directionality is set on modifierFlags (instead of testing for a left
    directionality). This covers both the physical "left alt" button press
    and the Synergy case. The trigger for "right" option actions are left
    untouched.

commit e7e92510f09debe37668a0eb809d4dc6bf1683d9
Merge: ff008ecf 6d45432e
Author: George Nachman <georgen@google.com>
Date:   Wed Jun 25 18:05:16 2014 -0700

    Resolve merge conflicts

commit 6d45432eed167e8509ddd3d520edb131039d9500
Author: George Nachman <georgen@google.com>
Date:   Wed Jun 25 18:00:56 2014 -0700

    general clean up of prefs panels

commit cda1f922ced8d5c5b04f777d29e127f4c02b540e
Author: George Nachman <georgen@google.com>
Date:   Wed Jun 25 17:04:17 2014 -0700

    Simplify colors prefs

commit 737eda2beeb9137987df4abc7a3f38466fa06b40
Author: George Nachman <georgen@google.com>
Date:   Wed Jun 25 16:47:16 2014 -0700

    Clean up colors dialog alignment

commit d0abb359ef096ae9122d3793c0db82cef6ecc2a8
Author: George Nachman <georgen@google.com>
Date:   Wed Jun 25 16:03:12 2014 -0700

    Add badge color setting

commit 3a076d8d9fecaa46f92a3ae5420e99f5075a09b0
Author: George Nachman <georgen@google.com>
Date:   Wed Jun 25 12:56:14 2014 -0700

    Make badges wrap. Fix up escape codes for setting badges. SetBadgeFormat=base64format and SetUserVar=key=base64value

commit 857c652639798537ec9ee0867dc218ec460c8db3
Author: George Nachman <georgen@google.com>
Date:   Wed Jun 25 11:47:24 2014 -0700

    Fix first responder in prefs panel for get info. Correct placeholder text for badge

commit c77ef09fa4eadebde7b066e7c98b030798c613cf
Author: George Nachman <georgen@google.com>
Date:   Wed Jun 25 11:38:14 2014 -0700

    Clean up resizing prefs panel

commit b9fe111151ecd8e5f13a5e5e7fedcac4f80faf06
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Jun 25 08:50:41 2014 -0700

    Add support for badge vars. Allow badge to grow to 50% of screen width.

commit 3d84b7afead9f22af405e96ad3671eb876aa5b17
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Jun 24 22:36:14 2014 -0700

    Actually use the selected profile for 'Copy Current Settings to Selected Profile'

commit 224639698a711534ed04136bbd9dcd9d812ccd41
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Jun 24 22:32:55 2014 -0700

    Fix up support for changing the badge through settings and tie the session>profile and profile>session buttons to whether a profile is selected.

commit ff008ecf65d35eed409aea24eec4cd237de12b30
Author: George Nachman <georgen@google.com>
Date:   Tue Jun 24 14:40:29 2014 -0700

    Allow switching profiles by path

commit d6663c17f4cd9c6b4a5ffdfbb9620968192a3d99
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Jun 23 23:55:02 2014 -0700

    Get basic badge UI and escape codes working. Get Info screen needs work.

commit 324790b6d76c4dab93d203fb4c09a42280f53c7d
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Jun 23 21:59:22 2014 -0700

    Split edit-current-session general prefs into its own view

commit f46dce4a55f443ed4d0d0288028d3ef958078381
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Jun 23 21:30:48 2014 -0700

    Fine tune prefs

commit 49bb064ade1993f3379e45da41b712eba4734da4
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Jun 23 21:24:52 2014 -0700

    Automatically wrap prefs view in a scrollview if they're too tall.

commit cb0e26a49829d68c16e80ab85b118696952ac1d6
Author: George Nachman <georgen@google.com>
Date:   Mon Jun 23 19:38:12 2014 -0700

    Split advanced into its own view

commit 9ed55b0fa46ec652c042a1cdeaf0e8e1fd92fe6d
Author: George Nachman <georgen@google.com>
Date:   Mon Jun 23 19:26:40 2014 -0700

    Split pointer into its own view

commit 7ed55052c8fdd34b83cefcb3118f685fda6f666d
Author: George Nachman <georgen@google.com>
Date:   Mon Jun 23 19:22:52 2014 -0700

    Split arrangements into its own view

commit ca3221f82084fd3fa97326f647a0ef532df73ce0
Author: George Nachman <georgen@google.com>
Date:   Mon Jun 23 19:17:50 2014 -0700

    Split keys into its own view

commit 5fbdbf99eed92140295d3bc0bd49d0b8ea43f917
Author: George Nachman <georgen@google.com>
Date:   Mon Jun 23 19:13:55 2014 -0700

    Split Appearance into its own view

commit c648ff93941748f9775a939568ec1b2a12b1b936
Author: George Nachman <georgen@google.com>
Date:   Mon Jun 23 19:07:00 2014 -0700

    Split general prefs into its own view

commit c7d83304446397412e71953c5411181746485c0c
Author: George Nachman <georgen@google.com>
Date:   Mon Jun 23 18:53:47 2014 -0700

    Reorder advanced prefs in xib

commit 196844b92f1f5cf60cc55176899ca86ebc1fe749
Author: George Nachman <georgen@google.com>
Date:   Mon Jun 23 18:50:56 2014 -0700

    Fix autoresizing mask of views in prefs not in profiles

commit 79b6458fd8df3de358ccf549949dc9837e70c2b9
Author: George Nachman <georgen@google.com>
Date:   Mon Jun 23 18:45:36 2014 -0700

    Resize window when entering/exiting profiles. Clean up appearance

commit e86ed8cb3e96ec7fcf3888faa2680bb740fef0be
Author: George Nachman <georgen@google.com>
Date:   Mon Jun 23 18:34:18 2014 -0700

    Fix up sessions view

commit 77196d9024a083787bfb9218f1c3ed34c45ba819
Author: George Nachman <georgen@google.com>
Date:   Mon Jun 23 18:05:21 2014 -0700

    Fix autoresizing masks of widgets in profile prefs

commit d9cbfb1c4ffc9188f422a2cd9ed1b308d05bfe5e
Author: George Nachman <georgen@google.com>
Date:   Mon Jun 23 17:54:56 2014 -0700

    Split advanced into its own view

commit b0af7e6064532de4337db07094462deba1cffd58
Author: George Nachman <georgen@google.com>
Date:   Mon Jun 23 17:34:46 2014 -0700

    Split Keys into its own view

commit b82d1806c73932761c0d2f535095848492426f5f
Author: George Nachman <georgen@google.com>
Date:   Mon Jun 23 17:27:11 2014 -0700

    Split session into its own view

commit f11a71ef1683f17ecdc036989fd18231605908e8
Author: George Nachman <georgen@google.com>
Date:   Mon Jun 23 17:22:35 2014 -0700

    Split Terminal into its own view

commit c9a1a2cbdf255da43e456758659f7c2b179d91e4
Author: George Nachman <georgen@google.com>
Date:   Mon Jun 23 17:13:54 2014 -0700

    Split window profile prefs into its own view

commit 2ae9e3bf8fcb3298a6551e403494b6fef3ef073a
Author: George Nachman <georgen@google.com>
Date:   Mon Jun 23 17:07:51 2014 -0700

    Fix height of text tab

commit ffe2cb7c3b5b394e2f601e7376d53ab298723c32
Author: George Nachman <georgen@google.com>
Date:   Mon Jun 23 17:06:52 2014 -0700

    Split out text into its own view

commit 3d1e0533d47356822dbd74bffc3f69e2631993ad
Author: George Nachman <georgen@google.com>
Date:   Mon Jun 23 17:01:19 2014 -0700

    Move colors to its own view

commit b2c6b2c4a3860583ed2868b34115732c99fbdce6
Author: George Nachman <georgen@google.com>
Date:   Mon Jun 23 16:53:01 2014 -0700

    Get resizable prefs window working with General (sessions prefs are broken)

commit 4c5a3395b51f186c5d2d48644c0b4e633d52ce73
Author: George Nachman <georgen@google.com>
Date:   Mon Jun 23 09:26:58 2014 -0700

    Change escape codes to use status format and status vars instead of going right to the badge because the status bar's appearance will be configurable. This breaks setting the badge.

commit efa646bc5efc0e52bec78cd84ddf90d063440f26
Author: George Nachman <georgen@google.com>
Date:   Mon Jun 23 09:17:43 2014 -0700

    Add support for a badge, settable by escape sequence.

commit 00cf8b6b8ee6447f6591a890c24d35ed96e35389
Author: George Nachman <georgen@google.com>
Date:   Sun Jun 22 22:00:15 2014 -0700

    Don't change tracking area in PTYTextView if there's nothing to change. In 10.10, updating the tracking area from within mouseEntered causes mouseEntered to be called again on the next iteration of the runloop; this caused a bad performance problem (issue 3053). This also pulls in a change that uses character wrapping for printing.

commit 1bd61a9d924b592dab4e1a9cd272e6855726fb5b
Merge: e59e9de3 000f9063
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Jun 21 18:34:24 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit e59e9de3bbda915003420d16c9cf6f6c7921b31c
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Jun 21 18:34:09 2014 -0700

    Code cleanup

commit 000f9063a7da0882cc98fa76779829754d70e0e5
Author: George Nachman <georgen@google.com>
Date:   Wed Jun 18 13:30:08 2014 -0700

    Use base64 encoded filename for set background image

commit 7954ef02fca924e010342e006c6ce92109d2e9d5
Author: George Nachman <georgen@google.com>
Date:   Wed Jun 18 13:18:08 2014 -0700

    Fix imgls to support filenames with spaces

commit 58a8f29d27afd7da7b5646f4bd42ccdd5eff591a
Author: George Nachman <georgen@google.com>
Date:   Wed Jun 18 13:17:21 2014 -0700

    Fix imgcat support for files with spaces in their names

commit c4d2f8230a72aaac1cc80e39c2da547157255c0d
Author: George Nachman <georgen@google.com>
Date:   Wed Jun 18 13:15:55 2014 -0700

    Update sessions profile prefs window when a session-specific profile setting is changed (such as background image via escape code). Ignore set-background-image escape code when the file doesn’t exist. Fix allow/deny lists.

commit 0e323468de0addd1a0ee571c60e33055070c7b83
Merge: 4ddd3db7 091a3b64
Author: George Nachman <georgen@google.com>
Date:   Wed Jun 18 11:22:44 2014 -0700

    Merge branch 'master' into set_bg_image

commit b2841f2f873a5a4f8c11290e683d36d55c3c7ef2
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Jun 17 22:50:12 2014 -0700

    Adhoc build 1.0.0.20140617_224912

commit 091a3b64abe3393e1cd80857259dd32808b24c2b
Merge: 70f48ac2 a7c0f1d6
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Jun 17 22:13:04 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 70f48ac26950586547805be7bcdfd8ca570aa99c
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Jun 17 22:09:07 2014 -0700

    Add applescript commands to set ansi colors

commit 4ddd3db74eb4b8e136646af42049b22a87c5a67b
Author: George Nachman <gln@google.com>
Date:   Tue Jun 17 17:10:51 2014 -0700

    Initial stab. needs a better icon.

commit a7c0f1d6c32e720d67e39138f23cdae08f3a18e2
Author: George Nachman <georgen@google.com>
Date:   Tue Jun 17 15:30:46 2014 -0700

    Fix a bug where reloading profiles caused the window to shrink because PTYSession's setFont:nonAsciiFont:horizontalSpacing:verticalSpacing: thought that the non-ascii font had changed when it hadn't because PTYTextView was reporting the ascii font since using non-ascii font was off. Fix refs to PTYTextView's font and nonAsciiFont to use dot notation.

commit 3c1c1e42c4f1d820229f3277a19c8e221fbdfbc1
Author: George Nachman <georgen@google.com>
Date:   Tue Jun 17 15:29:35 2014 -0700

    Avoid a crash where oldSelection changes while in selectionDidChange, invalidating the selection. Issue 3059.

commit c138a4d699151b274a9f12759714ca9a27c21b04
Merge: 4351caca 9511d516
Author: George Nachman <georgen@google.com>
Date:   Mon Jun 16 13:16:32 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 4351cacad73525509d8e9af5ece4b75b97c6df97
Author: George Nachman <georgen@google.com>
Date:   Mon Jun 16 13:16:23 2014 -0700

    Add pref for link color. Assign default values to all colors. Tolerate loading color presets with missing entries, subbing default color in (needed for link since old presets won't have that).

commit 9511d5169e8ec38aff718c32b624991abfc6d725
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Jun 15 21:16:15 2014 -0700

    When changing profiles with Get Info>Change Profile, update the title of affected windows unless those titles have been edited

commit d6f224f789fde9f044a59b8ad8e4b8e0718e7bba
Merge: f07ae2a2 7dde6b53
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Jun 15 20:32:03 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit f07ae2a2de142f3d4edf98246c55dd9b9c115fbb
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Jun 15 20:31:52 2014 -0700

    Allow CSI_CUB (CSI n D) [move cursor left] to wrap around the left margin. Fixes bug 2969.

commit 7dde6b53d3c23ecde2671f0294024f663bb3d212
Author: George Nachman <georgen@google.com>
Date:   Wed Jun 11 17:02:34 2014 -0700

    Only show command info if the click is in the left margin. Also add some debug logging.

commit 78acfd8a87de787f402b09a07dd8fbfe88cec9a9
Author: George Nachman <georgen@google.com>
Date:   Wed Jun 11 16:42:00 2014 -0700

    Replace maximized dotted outline with top-right-corner indicator icon. Fix a bug where a broken pipe notification could be received by PTYSession between -hardStop and -dealloc, and a dangling textview pointer would be dereferenced. Fix assertion when unmaximizing.

commit e6909cb98e37f95ea615eed07d48039e7a8a5d39
Merge: 80fa181a 1f59cb5a
Author: George Nachman <georgen@google.com>
Date:   Wed Jun 11 14:53:59 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 80fa181a470a714f4ba8dcbd67204390e9d329f3
Author: George Nachman <georgen@google.com>
Date:   Wed Jun 11 14:53:55 2014 -0700

    Change all files to 4 space indents in xcode project

commit d7f8945feab4a168e1ee2b00b385c45a9bc2e65b
Author: George Nachman <georgen@google.com>
Date:   Wed Jun 11 14:50:15 2014 -0700

    If a profile is selected in the profiles window, make edit profiles open to that one.

commit 1f59cb5a7b652920a9d9165e5b06df9e0ee4881f
Author: George Nachman <georgen@google.com>
Date:   Wed Jun 11 14:21:55 2014 -0700

    Reduce max length for custom actions to 400 bytes because some regexes are very slow. See issue 3056 (manual application of e57f245 since cherry-pick failed)

commit 5c6d7e7026717801f95f308c3720e35a0e8d5d33
Author: George Nachman <georgen@google.com>
Date:   Wed Jun 11 11:27:26 2014 -0700

    Restore 10.8 compat

commit afc22fb26c17730d7c5688a65c005c7d18e1d78b
Author: George Nachman <georgen@google.com>
Date:   Mon Jun 9 20:23:18 2014 -0700

    Show bottom border when the tab bar is on the left

commit 26ce664d0524525d4af74b3691ebae9f8120dfb9
Author: George Nachman <georgen@google.com>
Date:   Mon Jun 9 20:15:34 2014 -0700

    Add support for tabs on the left

commit 6f43144f9ff9fcbe7385444224f5b7ad54a41865
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Jun 7 17:35:28 2014 -0700

    Set mouseDown flag before reporting mouse down; otherwise we return and mouseUp doesn't think there was a mouseDown.

commit faac29a29760e1724f0f1f8a8748b0969418ba6d
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Jun 5 21:42:12 2014 -0700

    Clean up odds and ends before merging undo-close code

commit 180b19c95627bdd089e638eef7e6ae52c19c793c
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Jun 5 21:30:37 2014 -0700

    Add a setting for the undo timeout

commit a0de8964631893562739ae58c58a3fde6c4b6296
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Jun 5 20:57:20 2014 -0700

    Fix bug where window restoration prefs weren't observed

commit fe1ad88e2ae88640f69b04b90e4e02be3a92b5cc
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Jun 5 20:53:27 2014 -0700

    Make sessions' unique id's more unique (increasing ints rather than ttys)

commit 538d82a0ad3b141d5e97b05ba2e19365e54acc47
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Jun 5 20:46:25 2014 -0700

    Prevent undo of closing tmux sessions

commit a62e6e463f45c89051a53bb388cce1eca6560b01
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Jun 5 20:07:40 2014 -0700

    Handle queueing tokens and unblocking task notifier when undoing close session

commit ee4473dc15b669183a0214e6e221f4cae95023dd
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Jun 5 19:53:05 2014 -0700

    Don't reset exited flag if a shell has a broken pipe

commit 2c9e9ea8d2c40df204599ea6615e69aba72fe7f7
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Jun 5 19:50:46 2014 -0700

    Deal with closing the last session in a window. Deal with adding a split pane and then undoing closing a split pane

commit 62ec8c58997b1aa94a917d2bb65eb5e5ccb4f406
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Jun 4 23:37:32 2014 -0700

    Fix bug where TABVIEW would have two subviews. You can't change a PTYTab's root_; it's bound for life.

commit 8832071a1fd5e82bc511b9832a1baeb0faa5c206
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Jun 2 22:01:56 2014 -0500

    First try at undo functionality. It still needs a lot of work. This code should be audited.

commit dd31d4f0ec193ffa3cf33203c56bcae7eb0eb2f7
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri May 30 12:45:03 2014 -0700

    Fix bug where auto command history window would open while running a command (most reasily repro'ed with git difftool -x vimdiff) because showing the ACH window was done with a delayed perform. This cancels the delayed perform when hiding the window.

commit b5f77a53b4456bce02ad9cf1e2c86c4f410405ce
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri May 30 12:35:02 2014 -0700

    Accept escape to close popups if there are no entries.

commit 30c630b08ce98c696a5a374abe524572e067ed77
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri May 30 12:27:39 2014 -0700

    Change some shortcuts to make more sense. Command history is now cmd-shift-; to match autocomplete's cmd-;. Recent directories is now cmd-opt-/, since / goes with paths. The cursor guide is moved to cmd-opt-;, which was freed up.

commit c7b601280fd48175d465fb1ccc7a341216573986
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri May 30 12:23:31 2014 -0700

    Add on-by-default pref under appearance to turn off flashing fullscreen tabs when switching tabs.

commit f0b12087a9505f6e7017e6b86b53b3fd7da3af95
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri May 30 12:06:42 2014 -0700

    Briefly show tabs in fullscreen as a floating view when the current tab changes. No long resize the tabview when showing tabs because you held cmd.

commit 568d80d1a61f4c39d7179f1f01d5baae7051a3f1
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu May 29 19:13:11 2014 -0700

    When closing a tmux window or tab, confirm if user wants to kill the sessions or just hide them, and add advanced settings to un-suppress the warning.

commit 9033c1f901a28e124e4676a39165e36628a7e7b5
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed May 28 22:13:17 2014 -0700

    Increase sleep time after setting space. Fixes bug 3015

commit 65df0c53daae1692f48424e9435b63d4778fc0ff
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed May 28 22:02:34 2014 -0700

    Fix applescript commands for changing session colors to divorce the profile and update the dictionary rather than just changing the color map. Fixes bug 3014

commit e3fab67fc7fa6630e04d3051cfda2794d0a5eca2
Author: George Nachman <georgen@google.com>
Date:   Wed May 28 14:34:33 2014 -0700

    Improve cmd-click behavior to be more mac-like: a cmd-click on an inactive window/pane behaves like a non-cmd-click that doesn’t give focus. Also clean up some odds and ends with click handling: reset the selection’s appending flag when you click on an image or on the selection (relevant after creating a discontinuous selection). Don’t highlight url’s when the cursor is over an image. Restrict mouse reporting to the 'live' region at the bottom of the scrollview.

commit f06ba4ec6cea20554b932827fdb211308169e70d
Author: George Nachman <georgen@google.com>
Date:   Wed May 28 14:20:05 2014 -0700

    Improve layout of smart selection actions panel

commit 0a7e03cdae06b44da704bc951292f9cb7d0cf6ae
Author: George Nachman <georgen@google.com>
Date:   Tue May 27 15:36:49 2014 -0700

    Fix a bug where two sessions profiles would be created when setting a session-specific value because the sessionsInstance was updated after divorcing.

commit 269193b1da077f2f2becb33f135052103e2a351e
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon May 26 16:19:11 2014 -0700

    Remember the character attributes at the end of each line to fill unspecified cells when restoring from line buffer. Whie in the grid, it's stored in the last column where the continuation mark lives. When stored in the line buffer it goes in a new metadata per-line structure alongside timestamp. It is just a screen_char_t.

commit 0d89e1d21a02369728582e850816c41e750e1f68
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon May 26 16:18:07 2014 -0700

    Don't update label or post growl notifications if you are a tmux gateway

commit 0d349be11761c153726d2066687a95df9b5b93f2
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat May 24 21:30:08 2014 -0700

    Fix imgcat to work on linux

commit e4f2ee50d121b28c4e300631f26efdf48599026a
Merge: 17c79eb3 33462ba2
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat May 24 21:26:54 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 17c79eb3aa5373b02ff22d5ded685044533b7840
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat May 24 21:24:57 2014 -0700

    Use marks instead of line numbers for captured output locations. Generalize marks to an iTermMark base class and protocol.

commit 04d97b366f4aa91116be1bfd1e8d71c7bc0db15d
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat May 24 18:30:56 2014 -0700

    Improve captured output announcements

commit 67f07876f92c91c28c397a8c4a43e8e2b11e4e15
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat May 24 18:22:26 2014 -0700

    Show announcement when captured output is received but tool is not visible.

commit 8aabe6593a1b7ce1e8bc5f5f5b76daee45239601
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat May 24 18:10:31 2014 -0700

    Add support for multi-line announcements.

commit bd811d3c92bc6a4f7db7f680808e30549b92a783
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat May 24 17:02:36 2014 -0700

    Show an announcement when capture output fires without shell integration having seen a prompt yet in this session

commit da9500821af7edcdfa1ec7abf614adeaaa6ef878
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat May 24 16:33:38 2014 -0700

    Prevent capture triggers from firing more than once per line

commit 24f003291fc64a398c07e907eedee69d92d7c485
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat May 24 16:05:01 2014 -0700

    Add SSKeychain as a dependency of iterm

commit 89f75490d4b22a69b98827ce6f343ebd6119ed2c
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat May 24 16:02:07 2014 -0700

    Add search and help to the captured output tool

commit 33462ba20163cf8bcb3ddeaf9dcbadf7838dc55a
Author: George Nachman <georgen@google.com>
Date:   Fri May 23 16:26:30 2014 -0700

    Use either pipe or unicode 0x2502 (box drawing light vertical), used by tmux, as dividers for selection wrapping

commit 875a3e7c398c9ec9fee5b6b35708ca019636f581
Author: George Nachman <georgen@google.com>
Date:   Fri May 23 16:26:30 2014 -0700

    Use either pipe or unicode 0x2502 (box drawing light vertical), used by tmux, as dividers for selection wrapping

commit 71bec8186f2163eb07afa279852de9fabf0b5363
Author: George Nachman <georgen@google.com>
Date:   Fri May 23 13:47:27 2014 -0700

    Make textview first responder after doubleclicking on captured output line.

commit 13280c447634630f4da341ae8c5e063f5c8e093d
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu May 22 23:17:32 2014 -0700

    Make a nicer interface for posting one-of-a-kind announcements. Make captured output use it to complain about not being able to start a coprocess.

commit afbd64b3884530a79388433ea7fe1275aeeb8ac0
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu May 22 22:42:41 2014 -0700

    Improve cell layout in captured output

commit 954503ede360753017574ca8938ccba1f53600ae
Author: George Nachman <georgen@google.com>
Date:   Thu May 22 16:13:56 2014 -0700

    Initial add of captured output

commit 3ef4d3339189efe80c76578ad745fdf10097fd09
Merge: 581a0b17 36af4efc
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon May 19 21:58:28 2014 -0700

    Merge branch 'vimSpecialChars'

commit 581a0b1710806dfda00df1c648f46c5c88c95920
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon May 19 21:56:21 2014 -0700

    When copying with styles, add RTF before String. Pages uses the first one it finds, not the best. Fixes bug mentioned in comment in bug 346

commit 36af4efc4f58d9d2efca4fd0aecbc2b1d5392fa8
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon May 19 21:56:21 2014 -0700

    When copying with styles, add RTF before String. Pages uses the first one it finds, not the best. Fixes bug mentioned in comment in bug 346

commit fc98607da898b257d31302eb107462b2df08cf8d
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun May 18 18:28:47 2014 -0700

    If a tool changes names, don't count that as a configured toolbelt tool. Disable the show toolbelt menu option if no tool is selected.

commit 04b755bc07e9dbe31308eccd48b085ce2c8b6b74
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun May 18 18:10:37 2014 -0700

    Add KEY_ACTION_VIM_TEXT

commit 0194e0f78ff1d4b46d3a0fe2d48ae4eee527595e
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun May 18 18:03:46 2014 -0700

    Reorg tests part of proj file

commit f1285b05252e8569fd0578e651ac86f72e747acb
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun May 18 18:03:17 2014 -0700

    Add tests for stringByExpandingVimSpecialCharacters, fix bugs found by tests.

commit 85a21319f00b3855653865909c4a078403cc8d33
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun May 18 17:02:23 2014 -0700

    Fix failing tests

commit 814a0c727a947f0015461f5fdaeb8d9405245146
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun May 18 17:02:23 2014 -0700

    Fix failing tests

commit 87865f2191a59154722db985b9409567eedeeb91
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun May 18 16:46:01 2014 -0700

    Initial add of vim special character support

commit 62e01cb8ebb50aa7b71fd6fcf1edde1fe8c525f6
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun May 18 13:08:15 2014 -0700

    Add Swap With Session action to context view

commit a81163e7ba4bf75bdf56fc8b6b5669df0b7a9b1f
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat May 17 22:16:57 2014 -0700

    Change imgcat to accept an image on stdin. Inspired by PR 170 by Mathias Leppich

commit 91e81c4764c3480775f92629d1ec2b0a16bc5e68
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat May 17 22:02:05 2014 -0700

    Ignore alt-click on firstmouse, because that is defined by the OS as hiding the previous window when switching windows.

commit 98a59e504a443b89414453c8440a3102919c5de3
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat May 17 21:55:40 2014 -0700

    Fix bug that would cause jan 1 2000 timestamps. If one ever does sneak through just show an empty string, though that shoudln't happen.

commit 652ed94f299630d4ef7991e0f3838eb0950f5969
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat May 17 21:44:55 2014 -0700

    You can click anywhere on a line with a command mark to get command info as a submenu. Clicking in the margin gives you only command info

commit 6aaa592e53c57f3451ca2ef11a7d0479eea8ef5a
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat May 17 16:38:24 2014 -0700

    Navigate panes with flipped reading order when root split is vertical

commit 3f4886c192fbde44e4ecfa4f39a1dcbc14b7ad8d
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat May 17 16:34:29 2014 -0700

    Allow pane nagivation in reading order or MRU order

commit b8b155757946f7db1516f71e18d8dc7bbba80fb7
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat May 17 16:14:29 2014 -0700

    Get rid of saved view order in PTYTab. Instead impose a total ordering by sorting by y origin primarily and x origin secondarily.

commit 58db2ca2739c911ae66a1448935ce64c8e90eb49
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat May 17 12:53:21 2014 -0700

    Expose announcement style in api

commit 9ce667fa189f94f2284746154fc81378522df344
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat May 17 12:52:59 2014 -0700

    Add margin right of icon in announcement view

commit 6bfb3cc6e20efcac38febeed6cde9744632ed0ee
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat May 17 12:30:51 2014 -0700

    Don't run shell integration installer when you're not at the shell prompt

commit cf00ca1038459d8c7c2788e987a29f117468095a
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat May 17 12:09:50 2014 -0700

    Use a text field instead of a text view for announcement titles so they truncate nicely

commit 3762eae427a47dc53ba11395df3b236eaab2df89
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat May 17 11:57:33 2014 -0700

    Add style to announcement view

commit 694d2e95233b8ab36c083e1d938f48f760774a82
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat May 17 11:38:44 2014 -0700

    Add close button to announcement

commit fa4b2544803a6d3ff7de16a6245400d0e3b8193d
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat May 17 11:30:52 2014 -0700

    Add a shadow to the announcement

commit cddd758e9f3ffb5129ee66ae52f9a01099825823
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat May 17 09:33:31 2014 -0700

    Animate announcements out

commit b73fbd896066afd6f9ddadd660832f39346fe428
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri May 16 23:38:05 2014 -0700

    Add shell integration version escape code and support for announcements

commit 7c51b7868ab150f4275e57a8e99abbb9b99d8636
Author: George Nachman <gln@google.com>
Date:   Fri May 16 17:43:26 2014 -0700

    Fix bug where indices into account names were not always into a sorted list for password triggers

commit 09d51b1e82c42aa855e50b0513f701b19121f117
Merge: f6a9af6d 1dffd519
Author: George Nachman <georgen@google.com>
Date:   Fri May 16 11:03:12 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit f6a9af6d17627b0f7cfd669a0e91485a920877c7
Author: George Nachman <georgen@google.com>
Date:   Fri May 16 11:02:49 2014 -0700

    Rate limit instant triggers to .5 seconds

commit c0dec24a69c184d7efe4c72d4ff3f9a2b93d6728
Author: George Nachman <georgen@google.com>
Date:   Fri May 16 10:58:16 2014 -0700

    FIx up instant triggers, which run as soon as a match is found on the current line

commit 2db76dad667fbf36b96afb1935bbae03f88f105e
Author: George Nachman <georgen@google.com>
Date:   Fri May 16 10:56:10 2014 -0700

    Make growl trigger's messaging more generically about notifications

commit dcb27cb0d9e9b1c329dde7c6bdd2e28dda0ead46
Author: George Nachman <georgen@google.com>
Date:   Fri May 16 10:55:46 2014 -0700

    Make the bell trigger act like a real bell, and not just beep.

commit 024fb37c37c5cb80f65a01761429c52c38d7830d
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri May 16 09:31:45 2014 -0700

    Start adding partial line support to triggers

commit 1dffd519b7ace31808d334f4e4b8935366d3c12c
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu May 15 22:55:24 2014 -0700

    Change SCPFile to use ssh_config

commit 991426a469b98c625a0fa0953adda63e34b40087
Merge: 1ea970cf 677493ff
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu May 15 17:44:56 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 1ea970cf6729910dfca57cce3d3c1bd823132b0f
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu May 15 17:44:48 2014 -0700

    Add files missing from previous commit

commit 8cdeabf8bf4ce55757624eff99a2f499168b1d27
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu May 15 17:42:39 2014 -0700

    Upgrade to latest NMSSH (commit 606537d858175688c5a0b24c1a140d03dca62e30)

commit 27bb927368cc575b27a48a78cc3315e8e23389f7
Author: George Nachman <gln@google.com>
Date:   Thu May 15 13:30:28 2014 -0700

    Add Open Password Manager trigger

commit 0b7931b922655cbc7f7c51052a6c7fc85c1e58db
Author: George Nachman <georgen@google.com>
Date:   Wed May 14 15:30:21 2014 -0700

    Add echo probing and save password being shown to avoid multiple requests to keychain

commit 6f05070e2150544a4f7d394aaa144ae86c5b948f
Author: George Nachman <georgen@google.com>
Date:   Wed May 14 14:07:05 2014 -0700

    Get the password manager basically working

commit befe08a7500a5e3b361c22245af9c7611ec8c26c
Author: George Nachman <georgen@google.com>
Date:   Wed May 14 11:14:41 2014 -0700

    Add SSKeychain

commit 677493ff108214acb9e50e963cb03319fefccc93
Merge: d1f2bf7f 1852ce97
Author: George Nachman <georgen@google.com>
Date:   Tue May 13 13:56:23 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit d1f2bf7f078a9f6bb946759a9e7da3385e3eeeb9
Author: George Nachman <georgen@google.com>
Date:   Tue May 13 13:55:45 2014 -0700

    Add option to open no windows at startup (issue 848)

commit 0017701963ceb4f88c12bb3827141663f8a6b1d0
Author: George Nachman <georgen@google.com>
Date:   Tue May 13 12:13:46 2014 -0700

    Make the colors tab prettier

commit 1852ce97835152d518f6d83622362cc709662894
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon May 12 21:52:20 2014 -0700

    Use UTF-16 for hfs-plus decomposition

commit 349b690adc98748e8ac7253d31347bd0d46cabdf
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon May 12 21:29:51 2014 -0700

    Add option to use HFS Plus decomposition (issue 2872)

commit b37eed9c1a2d810887034dd9fc7a0a0f2a8120e4
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun May 11 18:08:37 2014 -0700

    Add key action to change profile

commit 739b0ad13ee64c80d91d4c240e2768e450f9645c
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun May 11 17:22:05 2014 -0700

    Improve support for OSC 4 by cleaning up parsing code and adding support for reporting 8-bit color rgb values. Issue 3007

commit 588e65b3c518874e6f8af0dfe5b00deb5e97544f
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun May 11 13:19:22 2014 -0700

    Use bash instead of sh for installing shell integration because sh might be dash

commit fcb34441f4d06e7f288b181dc4eaf96bda4bcec0
Merge: 02742054 e5de9ce2
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun May 11 12:17:42 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 02742054398aa0ff0c6345f9b8b766c47ec64368
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun May 11 12:17:31 2014 -0700

    Add advanced pref 'use system mouse cursor when possible'. Add iTermMouseCursor class which overrides an internal API of NSCursor to provide scalable cursors and hide the difference between built-in cursors and custom cursors.

commit e5de9ce258d57351951db180c9193cee0ae3abcd
Author: George Nachman <georgen@google.com>
Date:   Fri May 9 14:44:58 2014 -0700

    Improve alignment on Colors

commit 76f30e65879af46e9cab06712f9386f55aea5935
Author: George Nachman <georgen@google.com>
Date:   Fri May 9 14:34:57 2014 -0700

    Improve alignment of views on  Color sheet

commit d798b01384d362f00320bce3dd81ae928a76d9dd
Author: George Nachman <georgen@google.com>
Date:   Fri May 9 13:09:26 2014 -0700

    Add cursor guide toggle and color to profiles color prefs. Reorganize that page to have more structure.

commit bb30497aa11902dd150abe2f619ad15bc0ae58eb
Author: George Nachman <georgen@google.com>
Date:   Wed May 7 11:23:41 2014 -0700

    Improve debug logging for tmux

commit 241278a0dd2316f84f6d035fcb3f83d9df00a4d3
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue May 6 23:11:09 2014 -0700

    Add command to save window arrangement only for front window

commit 124dcb7bc43068e994b07d39d1ad127e7b8f4909
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue May 6 21:24:27 2014 -0700

    Add support for no-titlebar windows

commit af2db57d7e5b832a55719e8b6ad96a006d3de509
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue May 6 20:07:02 2014 -0700

    set autoresizing mask on directories popup

commit cf434677e0348fe45f600d799eca951360bf5d78
Merge: dd2388ef a5d8043a
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue May 6 19:59:10 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit dd2388ef1123e30b427290e5c7d0e2ac2efaff65
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue May 6 19:58:26 2014 -0700

    Ignore nil paths in iTermDirectoryModel. Fixes bug 3001

commit a5d8043a61ff2fc6c6b2d89d855d57473978e639
Author: George Nachman <gln@google.com>
Date:   Mon May 5 13:25:06 2014 -0700

    Make warning about broadcasting input silenceable. Bug 1658.

commit 476a8cc8c77137c6b1e71f02b767f007b823aa12
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat May 3 22:12:23 2014 -0700

    Add automatic profile switching

commit 21041e7ccb550eab802d706bf08dff419a42f682
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat May 3 18:51:23 2014 -0700

    Add link to install shell integration from the SI informational alert box

commit 3d58c26ff7680b513182ca3bfbb8b99533cbc5af
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat May 3 10:15:30 2014 -0700

    Add Install Shell Integration menu item

commit 780f04f662665a890a6309845f03fd5a1ac6598d
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri May 2 18:19:55 2014 -0700

    Add Select Output of Last Command. Also rename Directories to Recent Directories

commit b8c0813aad7852326708a6e64571e3c26f5bd1d2
Author: George Nachman <gln@google.com>
Date:   Fri May 2 15:40:59 2014 -0700

    Fix vertical alignment of help buttons in command and directories tool and remove table headers from tools that don't need them.

commit 3620153d86cfe426d36a3cbb6d1dd247070ec96c
Author: George Nachman <gln@google.com>
Date:   Fri May 2 15:17:59 2014 -0700

    Add help button to command history

commit de2df5188105dc84efd04a0f8f46a490940346db
Author: George Nachman <gln@google.com>
Date:   Fri May 2 15:15:54 2014 -0700

    Add help button to directories tool

commit 8aa48405f1804d029a471f0bb578fa51b512d14f
Author: George Nachman <gln@google.com>
Date:   Fri May 2 15:02:00 2014 -0700

    Clean up project file and delete unused images

commit 2035e101699f2aeff5e2fd7068674e921a3c8a28
Author: George Nachman <gln@google.com>
Date:   Fri May 2 14:48:03 2014 -0700

    Add directories popup.

commit 5ce309623cf3799101adeea8323b146982df908f
Author: George Nachman <gln@google.com>
Date:   Fri May 2 14:29:02 2014 -0700

    Make command history help more general

commit c85497457153ddf03cc53cb7f1e70479a97387dd
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri May 2 10:02:33 2014 -0700

    Don't abbreviate directory components that disambiguate. Fix various bugs in saved directories.

commit eb887bfadb3e1351c376a19fa30cea2b142e8686
Merge: 96cef976 0dacbf47
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu May 1 21:42:02 2014 -0700

    Resolve merge conflicts

commit 0dacbf47298bd007462e5fee5b4975faaa1442bd
Author: George Nachman <gln@google.com>
Date:   Thu May 1 16:51:20 2014 -0700

    Add menu to toggle star on directories

commit 1a27b8cf15ab99e9d34a26e332a7da5a46363e9b
Author: George Nachman <gln@google.com>
Date:   Thu May 1 15:59:48 2014 -0700

    For saved directories, add tooltips and compress long names better

commit abddb2c5d640ec618ddbc2aba47d5a0ba184dbce
Author: George Nachman <gln@google.com>
Date:   Thu May 1 15:59:27 2014 -0700

    Fix bug where directories weren't being saved

commit d8c506f90570d9ec7e2667b1152be5b720520162
Author: George Nachman <gln@google.com>
Date:   Thu May 1 15:34:31 2014 -0700

    Add saved directories

commit 7efcfbb57061757f951cc71c99988bc80f978ded
Author: George Nachman <gln@google.com>
Date:   Tue Apr 29 11:57:29 2014 -0700

    Add Toggle Cursor Guide to view menu

commit 0c20a983d2aa4955dc0dd14cfc94e9dec6f4dba0
Author: George Nachman <gln@google.com>
Date:   Tue Apr 29 11:10:23 2014 -0700

    Add cursor boost feature, which mutes (blends with default background color) all colors except the cursor

commit 96cef9763139087a44e6c2f975c9f8f40a009b03
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Apr 28 21:41:34 2014 -0700

    Output milliseconds in runtime for commands that take under an hour.

commit f31e8a052631b7109284916e089c71a9b8d975ba
Merge: 3076e0be 4a4d3763
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Apr 28 21:36:17 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 3076e0bee5f0324abb66d6f1f83d53bcf3d291e3
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Apr 28 20:30:31 2014 -0700

    Add support for escape code for reporting profile name

commit 4a4d3763021bc79446cbcdb70ab68e499982eaad
Author: George Nachman <gln@google.com>
Date:   Mon Apr 28 16:51:32 2014 -0700

    Add running time to context menu for mark

commit 5c4fa9544cd3dd6b223b636a24c54ca5e92f421e
Author: George Nachman <gln@google.com>
Date:   Mon Apr 28 13:31:27 2014 -0700

    keep reading from coprocess even after it ceases to be writable (e.g., when it terminates)

commit 735a52c741ae8987305df60776b2f343d2d7fefb
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 27 23:18:20 2014 -0700

    Add support for reporting iTerm2Profile

commit 56ec19f212bf968ea6c4e92deff0138aba6b4a15
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 27 22:56:33 2014 -0700

    Add very limited support for DCS Request Termcap/Terminfo String (bug 2220)

commit bb852d816b153bd7899b79264f6888d70bacbcc2
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 26 16:40:13 2014 -0700

    Improve the progress indicator for find on page to show progress in the background.

commit 2816fc4d32e2f8fa622929899edc94488d3cea47
Author: George Nachman <gln@google.com>
Date:   Tue Apr 22 15:41:27 2014 -0700

    Add 'set mark' trigger action.

commit 682b9cc6fa3ef5d5ed1a20f413bbc64c969797f2
Merge: 0085dc48 b676dddd
Author: George Nachman <gln@google.com>
Date:   Tue Apr 22 11:21:56 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 0085dc481fc64a342b3d03e61f2ab7942823a678
Author: George Nachman <gln@google.com>
Date:   Tue Apr 22 11:20:41 2014 -0700

    Let opt-click navigate within the current command by sending only left and right arrow keys

commit b676dddd2fa12571adde731fd0ceae1886e71dfd
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Apr 21 21:51:57 2014 -0700

    Allow mouse reporting for inactive tabs for just scroll wheel events (bug 2968)

commit 4fca9d924e5b65677788550ae4a91f8171fdbd99
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Apr 21 21:43:22 2014 -0700

    Fix bug where you get left with a gray window without tabs casued because -[PTYSession terminate] can cause tabs to be closed (as in bug 2966), causing [[self window] close] to never get called.

commit ca9a36b4452a1c985557b3bb543bdc62d7c877cf
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Apr 21 21:42:31 2014 -0700

    Remove extraneous space

commit cac7e8a094a0636ddc0c8d5eaa710ec326a57952
Merge: 7f52c3a8 062ae8db
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Apr 21 19:49:12 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 062ae8dbb80f03a10608f6d0488eaebdf03a0a45
Author: George Nachman <gln@google.com>
Date:   Mon Apr 21 17:42:08 2014 -0700

    When fetching lines from history, don't fill in the right side of the line with the default color. Instead, extend the last cell's color to the end. This isn't a perfect solution because we should really save the color separately (it could be different) but it's a big improvement. Partially fixes bug 2259

commit 906f7d2a0207cc9290a182db7e0f310abf060f35
Author: George Nachman <gln@google.com>
Date:   Mon Apr 21 16:03:43 2014 -0700

    save and restore session names (default name [user-set], name [server-set], and window title [server-set]) in saved arrangements

commit 8af576700c8904e2f20e7efbbd2f44cd03c74364
Author: George Nachman <gln@google.com>
Date:   Mon Apr 21 15:09:16 2014 -0700

    Set close-on-exec on the unblock pipe and on master pty fd's. Forcibly close open filesdecriptors before exec. Fixes bug 2662.

commit edd2d807ed7f77523ea18a74647f5aaecdcbfd28
Author: George Nachman <gln@google.com>
Date:   Mon Apr 21 11:55:52 2014 -0700

    Add option to suppress multiline paste warning when not at shell prompt if shell integration is in use

commit 2d183696a17fe11ef93a186096877291a0c64190
Author: George Nachman <gln@google.com>
Date:   Mon Apr 21 11:46:57 2014 -0700

    Rename misnamed advanced setting

commit 4b5ad37ee9904506dcae48d39898a268220b64d3
Author: George Nachman <gln@google.com>
Date:   Mon Apr 21 11:43:59 2014 -0700

    Add advanced setting to suppress multiline paste warning for singles lines ending in a newline

commit a3ed783e84edf5d129aeecc16dbc9c6812426766
Author: George Nachman <gln@google.com>
Date:   Mon Apr 21 10:48:28 2014 -0700

    Improve performance when looking for a URLAction on a very long line. Limit the number of characters considered and optimize OffsetOfWrappedLine for the no-DWC-present case.

commit 7f52c3a8704b29521326184f3a709176b7d1d464
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 20 11:14:44 2014 -0700

    Make trouter in raw mode activate on any nonempty string

commit 8e3ac369bf76997dad1f7806ddcbfe00bba46bdc
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 20 10:59:57 2014 -0700

    Accept unlinked- prefix on tmux commands window-add and window-close

commit 828aa99cacbbf1c2656a07ba7d2c4b541471510c
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 20 10:49:23 2014 -0700

    Use proper frame for trad fullscreen window when menu bar is not autohidden

commit a988b5aa17485da786cd117306a710d1bdf798bb
Merge: d422fe68 0e115378
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 20 10:26:18 2014 -0700

    Merge in refactor of preferences

commit 0e115378cfb70bde126d3daa01cbf58f90963da8
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 20 09:11:01 2014 -0700

    Delete dead code and reorg ProfilePreferencesViewController

commit 1532d977d586bacaa7e0f7921c7afdfa94d538b7
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 20 09:09:04 2014 -0700

    Delete dead code

commit a07c4aa84208d7a07a53072b1344e635bb1a23a7
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 20 09:08:20 2014 -0700

    Get rid of copyOwnedValuesToDict. Make each profiles prefs view controller export a list of keys it's responsible for and use that for bulk copy instead of having bulk copy keep a list of keys.

commit 7fbcc4105c60a8c08e8e1eca27f38413ef7ea993
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 22:45:35 2014 -0700

    Rename iTermSettingsModel to iTermAdvancedSettingsModel

commit 8d0a756a1a5465294b0c32fca81da3618fe53c9c
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 22:41:32 2014 -0700

    Remove dead code from prefpanel

commit aeb11e80b8b2e45be132e0a6bb4ad2f7ab7a29f7
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 22:40:19 2014 -0700

    Fix up ivar name in prefpanel

commit 63e08e8ad069a997fa44fc89c73ab03dc0e666c9
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 22:38:20 2014 -0700

    Move fsTabDelay accessor out of prefpanel

commit d79a4b9c90ad7a8b0f1c3a94279e2d2d3d01f152
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 22:36:51 2014 -0700

    Move trimTrailingWhitespace accessor out of prefpanel and fix bug where it didn't work for regular selections

commit c579fc919dd51788f467feb6b15a3025256380e7
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 22:32:39 2014 -0700

    Drop support for legacy global minimum contrast option from a million years ago

commit 152f06baef5e6e38c6afacc1f0ef2a5f75eedf15
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 22:31:34 2014 -0700

    Move allowClipboardAccess accessor out of prefpanel

commit a22779febaa31c6ce4688753dc73e151df7a177d
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 22:30:02 2014 -0700

    Move copySelection accessor out of prefpanel

commit adbdc420f3262ba38aad1f0408657fdb1ae74ae3
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 22:28:06 2014 -0700

    Move copy last newline accessor out of prefpanel

commit de72c63eb195dcb73d15864e0b273f1f417a393e
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 22:22:45 2014 -0700

    Move legacyPasteFromClipboard from prefpanel

commit 2258f4069e0b390b68872619c03483f876dcbea3
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 22:20:00 2014 -0700

    Move threeFingerEmulatesMiddle accessor out of prefpanel

commit d8e75b994ee7d5c0e7ee1f5c32800761bf36c762
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 22:18:25 2014 -0700

    Move hideTab accessor out of prefpanel

commit 184133d26656e982d7b30b37c601b53d854fef73
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 22:17:03 2014 -0700

    Move tabViewType accessor out of prefpanel

commit d8e98e52a103f8aab1e97c07f71124fa765c967f
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 22:14:11 2014 -0700

    Move windowStyle accessor out of prefpanel and make constants out of values related to it.

commit a0dfb97d034becf63150e01c9ad67c31354ce2ea
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 22:09:04 2014 -0700

    Move openTmuxWindowsIn accessor out of prefpanel

commit 73f99b7b6b71425fc3821dcb924371d148370ffa
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 22:07:35 2014 -0700

    Move autoHideTmuxClientSession accessor out of prefpanel

commit 7c0676abb5bb34b9241e9f4589ffa51c379a3f77
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 22:06:19 2014 -0700

    Move tmuxDashboardLimit out of prefpanel

commit 12efddae68a1f62508be63477358f30478b393fa
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 22:04:59 2014 -0700

    Move promptOnQuit accessor out of prefpanel

commit 462b7e05d54d8aef2a429e938fcfcd1434d18fbc
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 22:03:56 2014 -0700

    Move onlyWhenMoreTabs out of prefpanel

commit 56d27e873dc57992e9da182c682b106d7b641e67
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 22:02:01 2014 -0700

    Move focusFollowsMouse accessor out of prefpanel

commit 5137550b1e34fbb3141bab4870cdc5b68ea85f43
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 22:00:53 2014 -0700

    Move tripleClickSelectsFullLines out of prefpanel

commit b4fe52d7df1d9655231553b1f4158e68be44be32
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 21:59:50 2014 -0700

    Remove dead code

commit faafcfde3273ba70d4817c731ed41b77f96b165d
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 21:52:13 2014 -0700

    Get rid of enableGrowl, which didn't make any sense

commit 80329acf7d510d2a60a24b0a6057d185d8e471aa
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 21:41:47 2014 -0700

    Move cmdSelection accessor out of prefpanel

commit b4fd40ebcc7f6b0df4c538b543ce1962b2d68e7d
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 21:40:40 2014 -0700

    Move optionClickMovesCursor accessor out of prefpanel

commit 1a61c351856a4af6c06f90079a45c2c82f2a7153
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 21:39:19 2014 -0700

    Move passOnControlLeftClick accessor out of prefpanel

commit 44656b17798dd4bf241ca689b09c324e8b5d45cf
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 21:37:41 2014 -0700

    Move maxVertically accessor out of prefpanel

commit dd7465f33955efc47b346bca4a6e9b37b65086bc
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 21:35:51 2014 -0700

    Move hideTabNumber accessor out of prefpanel

commit befed6657dac2745202ca99eb3be892d639771dd
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 21:34:38 2014 -0700

    Move hide tab close button accessor out of prefpanel

commit 66961939e1169aec917077dcac1d6ee6ba754f6f
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 21:33:24 2014 -0700

    Move hideActivityIndicator accessor out of prefpanel

commit c42e319054d7215cebf39b18e070c193d584e80b
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 21:31:52 2014 -0700

    Move highlightTabLabels accessor out of prefpanel

commit b0c84d613c9635b907715d8680a44c7a702925c0
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 21:20:17 2014 -0700

    Move hideMenuBarInFullscreen accessor out of prefs panel

commit 80e57563a216cd42432ef64d72b8c3acb6aecf2b
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 21:18:00 2014 -0700

    Move openBookmark accessor out of prefpanel

commit f5691600ba6f6db37f33291d1b637314866be927
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 21:16:38 2014 -0700

    Move wordChars accessor out of prefpanel

commit c0ff0d7804affab67ef993e7477f1cf454b11356
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 21:14:19 2014 -0700

    Move hideScrollbar accessor out of prefpanel

commit 31873dffb1f3b1117e01c8fca16ee0df4446c2d1
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 21:13:16 2014 -0700

    Move showPaneTitles accessor out of prefpanel

commit 3664332b484fbbc3e8946657e4d77d1a4113211b
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 21:11:26 2014 -0700

    Move disableFullscreenTransparency out of prefpanel

commit 8b30a903dd9b527b83a10d5759f404cab5d721eb
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 21:10:12 2014 -0700

    Move smartPlacement accessor out of PrefPanel

commit 6d5ae9fce6d208323f3b6926b2962e840f0956f7
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 21:08:49 2014 -0700

    Make pref panel not visible on launch (it would appear when the underlying profile was changed because that invoked -prefpanel window to see if it was open)

commit f7a5c6c9c93b38a3728b5290e60f70a3266896dd
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 21:07:40 2014 -0700

    Move adjustWIndowForFontSizeChange out of prefpanel

commit 45be89524a6ebd6f7fa767dd672921977de6a4a3
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 21:05:08 2014 -0700

    Move windowNumber accessor out of prefpanel

commit 86324284a1889d102dabf769e2681c44790acd36
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 21:03:38 2014 -0700

    Move jobName accessor out of prefpanel

commit e633a1cbe0770e5388575dac3ac365942c3db5f8
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 21:02:17 2014 -0700

    Move showBookmarkName accessor out of prefpanel

commit 48caa402cd5ead344d209a2437fea8ce1c8cb479
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 21:00:35 2014 -0700

    Remove useless irEnabled accessor in prefpanel that always returns yes

commit a2e2e01c8e5e70c8527eb13a0e04b3c91104b699
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 20:59:14 2014 -0700

    Move savePasteHistory accessor out of prefpanel

commit d1aa699dcb4d768796f50b465921f15c466deb16
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 20:57:19 2014 -0700

    Move switchTabModifier accessor out of prefpanel

commit 1a7cbfc7620e8f9d7a5839b26f4e1c9190ad3486
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 20:55:05 2014 -0700

    Remove unused references to PrefsPanel from modifier remapping code

commit 48c92d997dde653ab4372cf4713914288d957a04
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 20:52:03 2014 -0700

    Move accessors for which modifiers are remapped out of prefpanel

commit fa5ec2cc32d2383a872597748c64c8587aa303bb
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 20:38:09 2014 -0700

    Move switchWindowModifier accessor out of prefpanel

commit 54bdca05c56abfeb632961ac8eea69b9c097df53
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 20:36:25 2014 -0700

    Move openArrangementAtStartup out of prefpanel

commit bd9c62f1279bb409245e390baec7003bdaa26fbb
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 20:33:40 2014 -0700

    Move irMemory accessor out of prefpanel

commit e43c37386841d8da55e0b540401be5d6f96bbf26
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 20:31:44 2014 -0700

    Move hotkey accessor out of prefpanel

commit d69df872f68b567ee25dc4b10082626bce08d924
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 20:29:42 2014 -0700

    Move hotkeyChar out of prefpanel

commit 17af5db1d473a0aba7dd8169aa8885853523edf3
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 20:27:50 2014 -0700

    Move hotkeyCode accessor out of prefpanel.

commit 9d0199aaca88c01b82e46664342e6dde8936f3a5
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 20:21:09 2014 -0700

    Move hotkeyModifiers accessor out of prefpanel

commit a9294392b8879e8bd23ba154ef3ab4c2104e49d8
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 20:19:19 2014 -0700

    Move dimInactiveSplitPanes accessor out of prefpanel

commit 8786515c734d770182fe471920be28e25f28e7f8
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 20:18:17 2014 -0700

    Move dimBackgroundWindows accessor out of prefpanel

commit 6a311e7f7d92be2f634e9ff63b7a760059680886
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 20:17:01 2014 -0700

    Move animateDimming accessor out of prefpanel

commit 21274684d2758eaeb1fa2518262897d772c07d00
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 20:14:51 2014 -0700

    Move dimOnlyText accessor out of prefpanel

commit e4869d614da112f35943fe55bfe04e10deb84375
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 20:11:54 2014 -0700

    Move dimmingAmount accessor out of prefpanel

commit 49704f6be7cd315437da98967a59931f5a0d8bc8
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 20:08:08 2014 -0700

    Move showWindowBorder accessor out of prefpanel

commit 6e36da11317dd2a485852c0a35a173351910dfd4
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 20:05:23 2014 -0700

    Move lionStyleFullscreen accessor out of prefpanel

commit 40a6f2f241bfd81d75ad9fcc64aea7058877015b
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 20:02:18 2014 -0700

    Remove dead code

commit a92dafa52de466dad045bdee3e1e9c63fb8547cd
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 20:01:25 2014 -0700

    Drop support for the legacy global smart cursor color setting

commit 0993c3e5acbb2438e7415163bfae85eed09bdf25
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 19:52:09 2014 -0700

    Move quitWhenAllWindowsClosed accessor out of prefpanel

commit a5930e155533b0781026b45554485274c12d3d99
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 19:50:00 2014 -0700

    Move useUnevenTabs accessor out of prefpanel

commit 0aacf05b6ba0269cf2dafbeea05d85b0f0e80bc2
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 19:48:42 2014 -0700

    Move minTabWidth accessor out of prefpanel

commit f279ffb4bcc3dd800bccd4dee2705ffd86b95157
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 19:47:29 2014 -0700

    Move minCompactTabWidth accessor out of prefpanel

commit 8dc104cd67008fdda395a61d4d4738de70f20680
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 19:46:05 2014 -0700

    Move optimumTabWidth out of prefpanel

commit 5846520de1643df2b99111b36413bfefd69c2c2d
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 19:44:15 2014 -0700

    Move traditionalVisualBell accessor out of prefpanel

commit bdaf937400da223abce7cd007ef86f4b958ba9c3
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 19:41:44 2014 -0700

    Move alternateMouseScroll accessor out of prefpanel.

commit c1f7cefd996bb2e749d2b2719c61bbd4d1d05f80
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 19:39:07 2014 -0700

    Move hotkeyTermAnimationDuration duration out of prefpanel

commit a2c89a9597abb7407a27b0acf4f142f8eb393e56
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 19:36:45 2014 -0700

    Move searchCommand accessor out of prefpanel

commit d80d940d054009ebd488729756ab7e0b5042714e
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 19:36:32 2014 -0700

    Fix incorrect default search template

commit 861d8234ee780effbc2e290b4a38a02ec2eb1290
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 19:31:38 2014 -0700

    Move antiIdleTimerPeriod accesso out of prefpanel

commit 00c9215efa5583da762c8897e583e75c7b46b1db
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 19:27:48 2014 -0700

    Move hotkeyTogglesWindow accessor out of prefpanel

commit 7ad8b1823d6adb6e63d513ab2883593e496d0ca8
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 19:24:49 2014 -0700

    Move hotkeyAutoHides accessor out of prefpanel

commit 5c7462bf797b75a41642ffc30b72374aed30d63c
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 19:18:55 2014 -0700

    Move dockIconTogglesWindow out of prefpanel

commit e428797a65abfe821e7770f8d9cc25a2cb0bfe07
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 19:11:36 2014 -0700

    Move timeBetweenBlinks out of prefpanel

commit 3994f2b0f95c6702c24bbdf3d0506ae85ec9fef8
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 19:08:17 2014 -0700

    Move autoCommandHistory prefs accessor out of prefpanel

commit 346d566bb8f4f8f44e736a188b5db7dbb1ec82a2
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 19:00:52 2014 -0700

    Reorg PrefPanel

commit 632139bb45bb9bef1f893f8c082197acd48050ee
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 18:55:09 2014 -0700

    Get rid of profilePreferencesModelDidAwakeFromNib

commit 2f8f4e03d0484d9ebd49f03d947a49a4c5f94bed
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 17:42:27 2014 -0700

    Remove what's left of updateBookmarkFields into ProfilePreferencesViewController. Yay!

commit 015c1b9283ed1c90f426fe83953777178f3104c4
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 17:38:19 2014 -0700

    Command updateBookmarkFields: and underlyingBookmarkDidChange

commit 995dbd91a00cbabf06b3fdc130f18a1186c21893
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 17:35:00 2014 -0700

    Remove dead code

commit 149187b15d751c4caa0d98c0c1e574a06bdbde4d
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 17:34:39 2014 -0700

    Improve comment, remove double semicolon

commit c0487d234d3b7d71699ae518c86003967cf0d9aa
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 17:31:33 2014 -0700

    Remove dead code

commit 787adba91a7be9f40347d637880667d69db2904d
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 17:30:54 2014 -0700

    Move modifierTagForMask: to iTermPreferences maskForModifierTag and change the tag values to a properly named enum

commit 42b5e481bd78c8ba63015f7566960ff82b75300b
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 17:21:31 2014 -0700

    Get rid of -savePreferences and just synchronize where needed.

commit fae6b5a8f3b3b0ddea3151553e61a93b16428b6c
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 17:17:36 2014 -0700

    Fix up member var names in prefpanel

commit 846eacb29531fd4a94831a4225590afcc44e6f0b
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 17:10:10 2014 -0700

    Simplify prefpanel code for handling the toolbar

commit 33b62e1a151bb45cc58bc26db252018c5a6dc9f8
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 17:04:59 2014 -0700

    Simplify prefpanel code and reorganize a little

commit 9f5fa80b381968cdb706d73ec274bcf71550ea7d
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 17:01:20 2014 -0700

    Move removeKeyMappingsReferringToBookmarkGuid: to new prefs

commit 337846b4960300dcb06b8607949863e8defcf343
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 16:58:01 2014 -0700

    Add explanatory comment

commit 87e46182f6c27051781d24d42d3319534bee149f
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 16:56:34 2014 -0700

    Remove dead code

commit 7f1084a7dc5d674e6d6f7b9019fcea0857581fd8
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 16:55:49 2014 -0700

    Remove dead method

commit cedb192a3e0bc65b8b45fb198ec27bd3dc369378
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 16:54:02 2014 -0700

    Move setAsDefault: to a/ProfilePreferencesViewController and improve some formatting

commit 48fc4aa29869679c93b20dc613de481fb707a3c3
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 16:51:11 2014 -0700

    Create a constant for nonTerminalWindowBecameKey notification

commit ed3724c1cfe3f23927a2acb49691470b1cab7a1e
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 16:47:06 2014 -0700

    Move code for finding hotkey profile to HotkeyWindowController

commit 61eb69a93b39f1d90903e14f36765571ba3cd334
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 16:39:16 2014 -0700

    Rename openToBookmark to openToProfileWithGuid

commit 898d4a76f5e88839483b5a5f244811d570e3e72d
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 16:37:55 2014 -0700

    When editing current session, select the general tab before showing the pref window

commit 16ab6cb4f801294dd8077d548384694e2da0bd1e
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 16:33:52 2014 -0700

    Remove call to set window's level in prefpanel, which is unnecessary, and move call to select first profile to before window is shown.

commit 0f1dedd6acc76e6767dde51955d12cf7846c9d9d
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 16:32:07 2014 -0700

    Fix insanity where init might be called twice in PrefPanel, and remove duplicate delegate-setting.

commit d937da397c1bf0675f9886affa0ae4e8846462df
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 16:29:56 2014 -0700

    Rename showBookmarks to selectProfilesTab

commit 71fe52883f57c69fd22d8ff299dfd9332d6965ed
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 16:28:15 2014 -0700

    Rename layoutSubviewsForSingleBookmarkMode to layoutSubviewsForEditCurrentSessionMode

commit 5e44ee48953fb35c2d47591bed319825aa2117c1
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 16:26:16 2014 -0700

    Remove useless line that instantiates the prefpanel's window.

commit 1f43f935f5916ebea93a551ed3a9481fdc94df39
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 16:25:38 2014 -0700

    Remove unneeded line (of course the toolbar items are all enabled).

commit b38041fd9646eb2a24e9a3ae6ccc20971b559c35
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 16:23:57 2014 -0700

    Assign a const kReloadAddressBookNotification to the notification name and move the horribly misnamed reloadURLHandlers to new prefs

commit a846f63b6df8341792d1e33709ab1535bc768c3c
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 16:12:51 2014 -0700

    Move call to turn off NSScrollAnimationEnabled to iTermPreferences.

commit 66e818894bed2e43f99502ce854f02f1fb44b4e8
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 16:11:08 2014 -0700

    Load remote prefs much earlier (it was being done after the profilesmodel was loaded, which was too late, and it was inappropriate to load it from prefpanel's initializer anyway).

commit fd30f3eb0ed34f8ed91a2d89aab894fa671f1213
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 16:04:13 2014 -0700

    Rename prefs to _userDefaults in PreFPanel

commit f9dc1a355d6f5e7bf94049a6b53f0e1712924055
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 16:02:48 2014 -0700

    rename dataSource to _profileModel in prefpanel

commit 5d5c363af59fe0b840f024e187d93f46addf508a
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 16:01:36 2014 -0700

    Modernize sharedInstance and sessionsInstance

commit 540db8d56b5d6fea3176e86124a165bebe013e1e
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 15:58:39 2014 -0700

    Move first responder methods in prefpanel

commit e9736ba0d423e89cf758da768b9259841b4ff9ea
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 15:57:57 2014 -0700

    Remove IBAction from closeWindow and closeCurrentSession in PrefPanel, where not needed.

commit 97d993ad6b9af7a528396067e34bbab9b264d6b4
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 15:53:57 2014 -0700

    remove dead bookmarkSettingChanged: (yay!)

commit 54bf4f92295fd690e2f8a14b5baed50b62a927d3
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 15:51:16 2014 -0700

    Make prefpanel not be an NSTextFieldDelegate since it's not called that way

commit 0320a3835bac514764d8b2fc0f1d7a92a44ace33
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 15:49:37 2014 -0700

    Remove profileWithGuidWasSelected

commit 10714967b0cc0dd80311fab2c55e8ff5a9694928
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 15:39:19 2014 -0700

    Remove unused method declarations

commit 3e6fb6678405d5fd5927699de3570f258dfe57c5
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 14:29:50 2014 -0700

    Clean up project file, comments.

commit db8b77ea0d432376467942a5f98178448a46f202
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 14:29:00 2014 -0700

    Move advanced prefs to new prefs system

commit 508c89cdb99e8131ad3517b1f582f51b8d43e16e
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 13:51:41 2014 -0700

    Move application keypad allowed to new prefs, and treat keymap as an owned value

commit dc178832c806387916c2adffce75bb4cc9d5a296
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 13:36:30 2014 -0700

    Move delete sends c-h to new prefs

commit d54a2b303c33431ee4c5125690fb99ad8d8aff66
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 13:13:48 2014 -0700

    Move option keys sends prefs to new prefs

commit 50f34752a901ba6810d3dc3ca4f97a8ec85803b5
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 13:00:46 2014 -0700

    Add prefs profiles keys view controller and move key bindings view to it

commit d13593f748cdb4ec40aba822ffbd29ef128a64d7
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 19 11:38:13 2014 -0700

    Move idle code to new prefs

commit 45d075ffed9e421c015dd6506c211c79428b4eac
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Apr 18 23:26:37 2014 -0700

    Move autolog to new prefs

commit 2c9351826e4d209d330a95c1eca859befbbcb19e
Merge: 308d3aac f8a8ecc5
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Apr 18 23:03:37 2014 -0700

    Resolve merge conflict

commit f8a8ecc572143bb08affc51eb6ccc82a45160dcf
Author: George Nachman <gln@google.com>
Date:   Fri Apr 18 18:02:34 2014 -0700

    Move session jobs to new prefs

commit b98a0c4e2daa8cf36934566e5244690d0e83db3a
Author: George Nachman <gln@google.com>
Date:   Fri Apr 18 17:02:27 2014 -0700

    Move autoclose session and prompt before closing to new preferences profiles sessions view controller

commit 308d3aac7af166ee024c5a45ae90abbb81231717
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Apr 18 00:37:13 2014 -0700

    Minor housekeeping in PreferencePanel

commit 5fdbbd99b93fe6b0f0e502246bce8cb1970c6081
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Apr 18 00:35:48 2014 -0700

    Move set locale vars automatically to new prefs

commit b062f1a8c1ae4806380368742c961df4db433251
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Apr 18 00:33:05 2014 -0700

    Move bell icon in tabs to new prefs

commit 5e6be72d8782a09297ae8665953b91f5e7226c54
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Apr 18 00:31:01 2014 -0700

    Move flashing bell to new prefs

commit e22c16e81bef0fe93b64f54436d0ce64393b5717
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Apr 18 00:28:52 2014 -0700

    Move post growl notifications to new prefs

commit 8b9a9c6892f620cf06b3af137ca3e03b0b879881
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Apr 18 00:24:40 2014 -0700

    Move silence bell to new prefs

commit 902d73e0c2525795e132585941c97d59e920a817
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Apr 18 00:22:34 2014 -0700

    Move disable alt screen to new prefs

commit 0bbe1f2f5485dfa709a02bf9d564856fbac109f7
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Apr 18 00:20:16 2014 -0700

    Move disable printing to new prefs

commit 8f7ece085dda744e5de46e9c19a6632839e82ef9
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Apr 18 00:17:48 2014 -0700

    Move allow title setting to new prefs

commit 79eb4f811764c8580294a128aa3acb1c1f9d4295
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Apr 18 00:15:23 2014 -0700

    Move allow title reporting to new prefs

commit 778273fae6e855fd11402ac66504da0b6c87e86e
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Apr 18 00:08:50 2014 -0700

    Move xterm mouse reporting to new prefs

commit 3f515d05a23e6e73a3429cee1ecdc843f7d3376a
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Apr 18 00:06:23 2014 -0700

    Move terminal type to new prefS

commit 8f8494f97c37dee2fb984c34fc167d765aa61be3
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Apr 18 00:00:04 2014 -0700

    Move character encoding to new prefs

commit 933c6c84959a63ace832c19e840277fb0910f758
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Apr 17 23:37:39 2014 -0700

    Move add to scrollback in alt screen to new prefs

commit 93c08503716b2cdf45e8288ef0d4e021899e5705
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Apr 17 23:34:33 2014 -0700

    Move add to scrollback with status bar to new prefs

commit b06a9e8445b984bccf06ba3bbf0d5c182d8d475f
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Apr 17 23:31:45 2014 -0700

    Move unlimited scrollback to new prefs

commit fe8f42ff04c74b155dfb38520c2c5710c954a543
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Apr 17 23:25:13 2014 -0700

    Move scrollback lines to new prefs.

commit 130732bfe91ef959495c54973895678056794494
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Apr 17 23:09:09 2014 -0700

    Move anti-aliasing settings to new prefs

commit 910cff4ea8a7a9e93650410e0b75833e08afe15c
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Apr 17 00:30:58 2014 -0700

    Move prevent-tab to new prefs

commit c04562739badb57ff6307579fc6f040d0c3e071e
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Apr 17 00:28:44 2014 -0700

    Move disable window resizing to new prefs

commit a8371e8cdaa6180c51e380e1b583c1a90970cb2e
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Apr 17 00:24:34 2014 -0700

    Move sync title to new prefs

commit 4b8ac7f1d40674ab4aa12002a5680e37b7c51a3a
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Apr 17 00:20:09 2014 -0700

    Move columns, rows, space, and window style labels to new prefs

commit c5f1c34befbbf43c90df6212628bc8866b36c551
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Apr 17 00:17:10 2014 -0700

    Move spaces to new prefs

commit 936773e2e3636ec2c7c00f6942aa78725a9b3ec9
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Apr 17 00:03:02 2014 -0700

    Move window type and screen to new prefs

commit cb29d1f0762a58a3b55fde1561c355af5cdfd402
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Apr 16 23:40:45 2014 -0700

    Move hide-after-opening to new prefs

commit d2794005d925dcb4fdf46fe04e5e9e335c9f3a9c
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Apr 16 23:37:57 2014 -0700

    Move rows to new prefs

commit cc0d5f287fa31a02404be291f692b6fb17536c2c
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Apr 16 23:34:59 2014 -0700

    Move columns to new prefs. Also improve how integer text fields are parsed.

commit 39df5cd392b9b224c1c8ce36f7d253138ac0957f
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Apr 16 21:45:13 2014 -0700

    Move blend to new prefs

commit df4e078e1b9edda7fec284b3d657c7973189b0e5
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Apr 16 21:24:30 2014 -0700

    Move background image tiling to new prefs

commit c9f9e382f74968c546d2733c00c7ca6548244ca4
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Apr 16 21:19:19 2014 -0700

    Move background image to new prefs

commit e2b5179567ea487094092bc4ddde7b869564bfa7
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Apr 16 20:59:17 2014 -0700

    Move blur to new prefs

commit ceac1afdf1ff38cbe9c7c3e6af64d4d09d03f9d2
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Apr 16 20:53:18 2014 -0700

    Reorg project file class hierarchy, nuke dead code.

commit e96ca7131403f76dcd6d3d19bb6775929eb47280
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Apr 16 20:38:52 2014 -0700

    Add ProfilesWindowPreferencesViewController and move transparency to it.

commit 2d51ad512ac1a19969e2f021ac6566bc78df66ff
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Apr 16 20:38:36 2014 -0700

    Define PreferenceInfo.observer and change code to use it. Post a notification when a change is made to the shared panel to update the control on the sessions panel.

commit 3b7d605b5890eeb284e04638045dae31810fb164
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Apr 15 23:32:22 2014 -0700

    Move all remaining font prefs to new prefs

commit 6f8bfce46f351b50dbe570ca2a46b5725bcd6731
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Apr 15 20:50:23 2014 -0700

    Move ambiguous-is-double-width to new prefs

commit f38857feefbe976a22ee9cbf2904a223e76639f4
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Apr 15 20:48:22 2014 -0700

    Move use italic font to new prefs

commit 8829121908f47ca9672b0f0313cdf44ba3c7ddf3
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Apr 15 20:46:30 2014 -0700

    Move blink allowed to new prefs

commit c28870dfe64da8cff637f2e20cae227acea6796a
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Apr 15 20:44:50 2014 -0700

    Move use bright bold to new prefs

commit 38d6e12128fbc758b3d6f906c4a7e643db9e764d
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Apr 15 20:38:57 2014 -0700

    Move use bold font to new prefs. Link profilestextviewcontroller to ProfilePreferencesViewController

commit e3ca843925cd33d1f6f4c4f0a334a31501104540
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Apr 15 20:22:47 2014 -0700

    Move blinking cursor to new prefs

commit f639097f4377fe0064f08051afea26746c885a30
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Apr 15 20:20:25 2014 -0700

    Add ProfilesTextPreferencesViewController, move cursor type into it

commit 87d73de0e72ab43d0cbcce1cac18fa691bdb6d46
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Apr 15 20:08:16 2014 -0700

    Add script that outputs all color combinations in 16 color mode

commit 77f19ace7ce0c754333ca2383f57f2dd9e82aa07
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Apr 15 00:01:38 2014 -0700

    Move labels in colors tab over to new prefs

commit d40234f0409fb1d027b2378375f711e19c9c3efe
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Apr 14 23:54:39 2014 -0700

    Move minimum contrast to new prefs

commit 5ed2535eb803a2d55b12ff1d0ebe88a4d09307e3
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Apr 14 23:50:46 2014 -0700

    Move color preset menu to new prefs

commit 10e7a98885a04c43c9735b80fb0aba915c1184ad
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Apr 14 23:28:36 2014 -0700

    Use flush instead of writing prefs to nsuserdefaults, since we want flush to be a no-op for the sessionsInstance

commit 3014c7f7714fd009386c6fc0dc58f481ffccf162
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Apr 14 23:28:02 2014 -0700

    When a shared profile changes, update PTYSession's originalProfile to match it. Don't call sharedProfileDidChange unless the shared profile did change, because that overwrites the session profile (prior to this commit, editing the session profile with View>Edit Current Session didn't work at all because I removed the equality comparison from the if statement's condition clause). This could use more testing.

commit 7764718f8ee73d7b5cefc206527426b07b8cf11c
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Apr 14 23:26:14 2014 -0700

    Fix bindings for most controls in colors tab of profile prefs

commit 0e2566fdadc6370454c9543d0693421c634d4de2
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Apr 14 23:04:33 2014 -0700

    Move color wells over to new prefs but lots of testing is needed.

commit a844e4a5947767107b59c8e8dd0f2f88962f6a5c
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Apr 14 20:37:53 2014 -0700

    Move set profile label, visible only in Edit Current Session, to new prefs

commit c0f1ffc9007a9575d0b70c44a0e369aeddc7db13
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Apr 14 20:33:43 2014 -0700

    Move change profile controls in general tab of Edit Current Session to new prefs

commit a98aa9a1b7b8e7c4c0d3a8b8f215c849d2839a7c
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Apr 14 20:19:21 2014 -0700

    Move url schemes popup to new prefs

commit b4b99aad8764c7b7751ea78d00763925cc01486f
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Apr 14 20:02:47 2014 -0700

    Move URL scheme registration/deregistration/lookup to iTermURLSchemeController

commit dc7c09fbc71f1628e48e330c6947916c79abcbdc
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Apr 14 19:15:30 2014 -0700

    Reorganizer project file for new classes

commit 46a7a51761586e7ca200b4b0538b148b5abb7cd7
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Apr 14 19:14:24 2014 -0700

    Move labels in general profile prefs to new prefs

commit 8f87b140834e609128dce34153a85ecfd1abc56d
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Apr 14 19:09:40 2014 -0700

    Replace string literals for working directory with consts

commit a0ccd9c124cfe48d0ed3028b1dd9b15bd9aa29a8
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Apr 14 19:06:28 2014 -0700

    Remove duplicate code for copying advanced working dir prefs

commit a92e010484e36bffb9464376729075aab94cedd4
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Apr 14 19:05:04 2014 -0700

    Move advanced working dir sheet into its own file and edit button that launches it to new prefs

commit 0268bc7dd9d56ea29769c11132925bbbfa9d55ea
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Apr 14 17:25:22 2014 -0700

    Move custom directory field to new prefs

commit 57a21436053d78243aeaba71e56c619b44ee1559
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Apr 14 17:17:14 2014 -0700

    Initialize user defaults from an explicit call instead of from +load because +load fails when run with --launch_shell.

commit 74931202186c9ae144eef79ed247bb5bcd51d352
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 13 12:36:29 2014 -0700

    Move custom dir type to new prefs, but this broke starting shell with Reuse type

commit b0cca3a2108e41ce960a0ffb54bc089fe2665b38
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 13 12:09:20 2014 -0700

    Move send-text-at start profile pref to new prefs

commit b82e11037d8ffebf6fb95074fb556e327be2de9c
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 13 12:04:51 2014 -0700

    Move perprofile custom command text field to new prefs

commit ce9a2d5011dc96b44e5a1a03207d32bd0d9e8b22
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 13 12:04:28 2014 -0700

    Fix bug where NSTextField+iTerm was overriding NSTextField setEnabled: when all I wanted it to do was change non-editable field text color. The fix is to rename the setter to setLabelEnabled.

commit 299f8de65af6183d28a420f1279c7b3d9f41a5c4
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 13 11:50:19 2014 -0700

    Move command type (login shell/custom command) to new prefs

commit 36cb8c87647768ba17029c9df124ddb2da316bfd
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 13 11:29:01 2014 -0700

    Move profile tags to new prefs

commit cb07b1bf28dae1bb79a1b0389e52ddb4efaeb87f
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 13 10:39:30 2014 -0700

    Remove unused toggleTagsButton from PrefPanel

commit 72aadb615ccd2d2d1a36f96944de28a58b50d4b6
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 13 10:38:19 2014 -0700

    Add an explanatory comment to the top of PreferencePanel.m

commit 855e2db86cc7d1f7a089f1f136b965c5c2019f82
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 13 10:23:06 2014 -0700

    Migrate profiles>general>shortcut to new prefs. Give views in profiles>general descriptive names in the xib file. Add defineControl:key:type:settingChanged:update: to allow custom handlers (e.g., for popup buttons that store a string vale instead of a tag number, as shortcuts do). Fix a bug where migrated profile prefs would get nilled out when making a change to a non-migrated profile pref (added copyOwnedValueToDict:). Add runtime type checking for preference defaults.

commit 0b19224a20dab23d6aaf069bca6460b5fcbfd8dc
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 12 15:39:48 2014 -0700

    Lay the groundwork for refactoring profile prefs and move bookmarkName over to new system. Also fix assertion when a bogus range is passed to accessibility for the NSAccessibilityAttributedStringForRangeParameterizedAttribute property

commit 83c4138f288571c556af056c392dea2f7f3aa64e
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Apr 10 23:44:49 2014 -0700

    Remove dead code (onScreen)

commit ed51c53f1c4356b81e2b31d326d8e3bdaa519131
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Apr 10 23:43:50 2014 -0700

    Move duplicateBookmark out of prefspanel

commit 41a8e4b821e533d9668250c776aaa8fe9b8b912c
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Apr 10 22:55:55 2014 -0700

    remove various uses of the word bookmark, change to profile.

commit 0e29f6666653fce467e0c31b428433dccc9e0499
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Apr 10 22:52:32 2014 -0700

    Rename addBookmark to addProfile

commit 2a922e9e0400e6fb1f458320d8a7d6844cac3ccd
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Apr 10 22:50:17 2014 -0700

    Rename removeBookmark to removeProfile

commit d37c22c133d607d3c178cbea9190e09d68b02ef7
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Apr 10 22:47:46 2014 -0700

    Move bulk copy to its own file and xib

commit e7e18f24a8cee23142bb86e870e5feb432ba5f88
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Apr 10 22:05:01 2014 -0700

    Move startup code out of PrefPanel and into iTermPreferences

commit 3b439e0c887c6acf5949182fd1fa3cf93f243343
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Apr 10 21:41:57 2014 -0700

    Get rid of silly onScreen method in PrefPanel, and fix a bug where awakeFromNib actually needs to run twice in PrefPanel (once for shared and once for sessions instances)

commit bc73da694752d7a970c9558a98d5f5669f8d2cbb
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Apr 10 21:34:57 2014 -0700

    Fix a bug where the character encoding wasn't initialized when prefs was opened for the first time because PreferencePanel's awakeFromNib was only called after ProfilePreferencesViewController's awakeFromNib returned.

commit e03649178eb194ad804a1306e0873ab12590a16b
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Apr 10 21:24:57 2014 -0700

    Move prefs migration code to iTermPreferences

commit e3c8539bbe78f57d6108cfba4376ea6f01ffb0ab
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Apr 10 21:23:03 2014 -0700

    Improve organization of ProfilePreferencesViewController

commit 9abb3e30a2d92c6365975a62dede6e53a2d2d5cd
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Apr 10 21:19:32 2014 -0700

    Move a bunch of profiles code over to ProfilePreferencesViewController

commit 85f33949ff62e2a7ff714938587228c5c353db89
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Apr 10 21:19:21 2014 -0700

    Fix crash when first responder isn't a text view

commit 445e88f1e04e7e8176f5563ce906e5b769497b9f
Author: George Nachman <gln@google.com>
Date:   Mon Apr 7 21:21:47 2014 -0700

    Fix bug where smart selection would find midline nulls. Now it stops when it hits a null.

commit c9ba7ac9b99a8d9fa77baed2ea46b4a12baf4e85
Author: George Nachman <gln@google.com>
Date:   Mon Apr 7 21:10:11 2014 -0700

    Nuke dead code

commit bda84d0116ea6821894637a356ead60a9882283e
Author: George Nachman <gln@google.com>
Date:   Mon Apr 7 21:04:22 2014 -0700

    Move triple click selects full wrapped lines to new prefs

commit 50afcda23951cd6190fff802ac408feaa42b38c9
Author: George Nachman <gln@google.com>
Date:   Mon Apr 7 20:57:55 2014 -0700

    Move focus follows mouse to new prefs

commit c403da5226f6af49030fbd2d73aaeacbb9e4577b
Author: George Nachman <gln@google.com>
Date:   Mon Apr 7 20:53:44 2014 -0700

    Move three finger tap emulates middle to new prefs

commit bbbc19b1c87c2279cac776870f5d1477a631c181
Author: George Nachman <gln@google.com>
Date:   Mon Apr 7 20:47:02 2014 -0700

    Move option click moves cursor to new prefs

commit 6754d30ebfe3297149ed2247417093af7d01c2bc
Author: George Nachman <gln@google.com>
Date:   Mon Apr 7 20:43:57 2014 -0700

    Move control-click reports as control-click to new prefs, fix its broken behavior.

commit bc275658089b5828e7af0a787b566f631e66ed39
Author: George Nachman <gln@google.com>
Date:   Mon Apr 7 20:30:27 2014 -0700

    Move cmd-click opens URL to new pointer prefs view controller

commit 57933fa2f2f9e6e558511028ef1bfea88ffafb07
Author: George Nachman <gln@google.com>
Date:   Mon Apr 7 20:20:06 2014 -0700

    Use a constant for key bindings changed notification

commit 7bed01cb90793bdcf8ab69b5282f0d943ab1ecda
Author: George Nachman <gln@google.com>
Date:   Mon Apr 7 20:18:07 2014 -0700

    Move all key mapping tableview code out of PreferencePanel for per-profile key mappings.

commit fdaacb20d77a0b43729d6f7db27d6f16737c731b
Author: George Nachman <gln@google.com>
Date:   Mon Apr 7 19:26:59 2014 -0700

    Clean up temporary disabling of key remapping

commit 483ee7d82669248ae74f01042d0c28ce901edd4d
Author: George Nachman <gln@google.com>
Date:   Mon Apr 7 18:57:46 2014 -0700

    Global key remapping is working but not completely tested

commit 789bcc93b04435744f8195472bc6eb3fad9c0981
Author: George Nachman <gln@google.com>
Date:   Mon Apr 7 16:32:22 2014 -0700

    Make shortcutDelegate an IBOutlet in the property, not ivar

commit f43da0dfaf39c04a1bf11c811b1397bdf2225da7
Author: George Nachman <gln@google.com>
Date:   Mon Apr 7 16:29:17 2014 -0700

    Use shortcut input views for handling input of global shortcuts instead of ugly hackery in sendEvent:

commit 756ee4acafc20eef7e823fb4144d96930eb9307f
Author: George Nachman <gln@google.com>
Date:   Mon Apr 7 16:01:35 2014 -0700

    Clean up how shortcut keypresses are passed to the hotkey input field in prefs.

commit 4d81883e758d50c3603e748a5f73f8856a7f379e
Author: George Nachman <gln@google.com>
Date:   Mon Apr 7 15:39:32 2014 -0700

    Move the rest of hotkey settings to new prefs

commit 2d27f941434a0cb18ccdb18f21d92889a2e397af
Author: George Nachman <gln@google.com>
Date:   Mon Apr 7 13:13:10 2014 -0700

    Move first half of hotkey (not the dedicated window stuff) to new prefs

commit b01444836d233123fe99c02b52361d03edfcd68f
Author: George Nachman <gln@google.com>
Date:   Mon Apr 7 12:15:28 2014 -0700

    Move modifier for switching tab and window to new prefs

commit 9ffe833412240bdba9bf51ba12d1d2d3b5666e44
Author: George Nachman <gln@google.com>
Date:   Mon Apr 7 11:59:28 2014 -0700

    Move right command to new prefs

commit 0b4fcd1cb59a6d747c29e2911eb6c95173f5103f
Author: George Nachman <gln@google.com>
Date:   Mon Apr 7 11:56:37 2014 -0700

    Move left command to new prefs

commit 83b039e3d15d605a95937c9492d02f43678ede2e
Author: George Nachman <gln@google.com>
Date:   Mon Apr 7 11:53:36 2014 -0700

    Move right option key to new prefs

commit 784d8f300d1a0c03e8b84e2ee77eb653e58ba955
Author: George Nachman <gln@google.com>
Date:   Mon Apr 7 11:49:21 2014 -0700

    Move left option remapping to new prefs

commit f200e2fa3b1e31d8dc0bdede82caba286f6513bd
Author: George Nachman <gln@google.com>
Date:   Mon Apr 7 11:24:51 2014 -0700

    Move remapping of control to new prefs

commit e444a63c303c4f6d6e76822956438c334031166d
Author: George Nachman <gln@google.com>
Date:   Mon Apr 7 11:08:38 2014 -0700

    Move dim background windows to new prefs

commit 00c2ad4260cc559d345396eb24c5ef5bdfa92d43
Author: George Nachman <gln@google.com>
Date:   Mon Apr 7 11:05:09 2014 -0700

    Move disable fullscreen transparency to new prefs

commit 7742b8a42e8dc4698f3d51fa7fead1451a823e88
Author: George Nachman <gln@google.com>
Date:   Mon Apr 7 11:01:35 2014 -0700

    Move hide scrollbar to new prefs

commit e0139ed12238f5ce4fb366da4bafa7dae90ba834
Author: George Nachman <gln@google.com>
Date:   Mon Apr 7 10:56:58 2014 -0700

    Move show window border to new prefs

commit b8d1c3e9dc51d2d1c88b452a2eee9adf4aa1cce4
Author: George Nachman <gln@google.com>
Date:   Mon Apr 7 10:52:38 2014 -0700

    Move animate dimming to new prefs

commit 45c5e867b9d99388c0d8934ac6ac0daf6edd4551
Author: George Nachman <gln@google.com>
Date:   Mon Apr 7 10:49:09 2014 -0700

    Move dim inactive split panes to new prefs

commit d8240b993ff064ab33e4384c3d535a367523d596
Author: George Nachman <gln@google.com>
Date:   Mon Apr 7 10:44:27 2014 -0700

    Move dimming amount to new prefs

commit 4877dd6a71583f0c9e96fd4748c79108384f3a33
Author: George Nachman <gln@google.com>
Date:   Mon Apr 7 10:40:39 2014 -0700

    Add dim only text to new prefs

commit d14194e5b8be5b724d44b6225b001fd4b55019ab
Author: George Nachman <gln@google.com>
Date:   Mon Apr 7 10:34:41 2014 -0700

    Move show profile name to new prefs

commit a8117544e8785bdca5f512194f5d738d2647054c
Author: George Nachman <gln@google.com>
Date:   Mon Apr 7 10:30:20 2014 -0700

    Move show job name to new prefs

commit 07e3dbcf24b807148d27a3d1608d2fcafef0bd60
Author: George Nachman <gln@google.com>
Date:   Mon Apr 7 10:26:24 2014 -0700

    Move show window number to new prefs

commit fa9583e9b6831406b2b71e74dcdadd052c455e4b
Author: George Nachman <gln@google.com>
Date:   Mon Apr 7 10:19:26 2014 -0700

    Move auto-hide-menu-bar-in-fullscreen to new prefs

commit 848dcafaca6f4bab81ac5e90007236e2efe350d4
Author: George Nachman <gln@google.com>
Date:   Mon Apr 7 10:13:50 2014 -0700

    Move per-pane title bar to new prefs

commit 19281dcece889780f1128f983927afc71fabf73c
Author: George Nachman <gln@google.com>
Date:   Mon Apr 7 10:13:39 2014 -0700

    Improve wrench graphic for advanced prefs by giving it a shadow at its base

commit 42ab85fb7bb6ffa6fa15cd0a89a2ac3a01cc1624
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 6 23:17:47 2014 -0700

    Move fullscreen tab delay to new prefs, add support for sliders.

commit 251d3ea07ee1f58c0ac08fc20bb6414c66b7bd9a
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 6 23:11:15 2014 -0700

    Move hide activity indicator to new prefs

commit 89c0ffa6b48fcb49d52c16349c76115c2ccaac16
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 6 23:07:48 2014 -0700

    Move hide tab close button into new prefs

commit 44a652f2c84fa225e1812c0118a89bb2fae0a346
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 6 23:04:25 2014 -0700

    Move hide tab number into new prefs

commit 952750b70d970372f43adfdb266a454008b5d0fd
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 6 23:00:47 2014 -0700

    Move highlight tab labels on activity into new prefs

commit 13ba3d901ad6e4fbbeb3ea97d93dd6014cde3d52
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 6 22:57:28 2014 -0700

    Move hide tab bar when there is only one tab in new prefs

commit 13951caa36c379fa048ec60aeeee212214a32e38
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 6 22:53:15 2014 -0700

    Move tab position into new prefs

commit 619d7ba47ef6a6036d0775b0f1ea62c10621979b
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 6 22:42:30 2014 -0700

    Add appearance view controller and move window style into it.

commit 2a7a8a581f410a245317a1c880296c8563f082c7
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 6 22:08:35 2014 -0700

    Move code that will be common to all prefs tabs into iTermPreferencesBaseViewController

commit fec0d142152eec2142ac92725a67601ee0e6fa1b
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 6 21:41:57 2014 -0700

    Move PreferenceInfo to its own files

commit 255387ae77b30eaef82cc555da8850a8710b7621
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 6 21:40:04 2014 -0700

    Make prefs>general view the GeneralPreferencesViewController's view

commit b403294bdf9e10d687efc1bd7ce94bd82b84eeba
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 6 21:38:50 2014 -0700

    Move AutoHide tmux client session to new prefs

commit 07c0e9bf0bb8aad35a86b0440dcc6acf1784a5fd
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 6 21:34:32 2014 -0700

    Move tmux dashboard limit to new prefs. Add support for integer ranges on int text fields in prefs and apply a range of 0-1000 to ir memory.

commit dbad4ec9e3005b456777e1e3d7a667269095ba20
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 6 21:19:28 2014 -0700

    Move open tmux windows in to new prefs

commit 7c4d22f349dbfbb10d165f33d4895416344cfcbd
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 6 21:07:45 2014 -0700

    Move lion-style fullscreen windows to new prefs

commit 35f0aad5561b059af6c42d9c8609df94f458b611
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 6 20:59:32 2014 -0700

    Move maximize vertically to new prefs

commit 18731e1d106b7703e45aa233b99f1a49f543338d
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 6 20:18:39 2014 -0700

    Move adjust window for font size change to new prefs.

commit c8a4506251e437c27fa8081b76d622dc80c59b8c
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 6 20:14:51 2014 -0700

    Migrate smart window placement to new prefs.

commit 1491e620ca852f50a31d95d9602a92535a0263c3
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 6 20:10:57 2014 -0700

    Migrate chars considered part of a word for selection to new prefs. Fix a bug where string prefs didn't take their default value correctly.

commit 30583e29e6b3efccd97491e4c95d357246eae9e1
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 6 16:25:30 2014 -0700

    Migrate apps may access clipbord to new prefs

commit d422fe68d799f9e413e0a70dab22ef001c2d647f
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 6 16:19:12 2014 -0700

    Fix bug where trailing whitespace wasn't stripped according to preference and terminal newlines weren't copied properly either.

commit d717f5cc714171c67ae788a97b270e09fab6879f
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 6 16:17:04 2014 -0700

    Migrate copy terminal newline to new prefs

commit c3443aeed1242b5856b1b757ea9ae47356aebaa0
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 6 15:59:29 2014 -0700

    Migrate selection copies text to new prefs

commit f18fd94e28e7045c1348fd77d174e8a65db99d26
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 6 15:54:12 2014 -0700

    Migrate custom folder/url to new prefs system. Add plumbing for nil values and string values.

commit 3c3872d9bfaf32f56ec7d0ed7bf9056598209482
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 6 15:03:21 2014 -0700

    Migrate check for test releases to new prefs

commit a8fb520e66ea5990e7e6843088184dee8961a375
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 6 14:45:52 2014 -0700

    Add check for updates to new prefs.

commit 00a98f930308f509838dec9bf48776ecab07f1c4
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 6 14:41:39 2014 -0700

    Add EnableBonjour to new prefs. Add observer plumbing to prefs.

commit 396661caca9b104ccb58e53df18e04aa24206175
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 6 14:19:09 2014 -0700

    Migrate save paste/command history to new prefs

commit 272d53e3e116c2f71b00893d8561a1bee374bd81
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 6 13:28:04 2014 -0700

    Migrate IR memory to new prefs. Add plumbing for integer prefs.

commit 0d0674c2583c50c4ec3d5aa83b7733af5a26c0d6
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 6 13:18:53 2014 -0700

    Migrate prompt-on-quit to new prefs

commit 3c084271b5cf8d7175f11767f1071b816ee63d8b
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 6 13:15:13 2014 -0700

    Migrate 'confirm closing multiple sessions' over to new prefs

commit eaf595e417f84befffab6862d7fbb615251a4c89
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 6 13:08:30 2014 -0700

    Migrate quit-when-all-windows-closed to new prefs

commit 296aab86a37c5b38d4f1a3a3b27c7df86a10e0fd
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 6 13:04:05 2014 -0700

    Move OpenArrangementsAtStartup to the new prefs system. It is dynamically enabled/disabled, so that plumbing was added.

commit 41ae628c2f711dcd7c6a093844f9e761b0f8acd6
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 6 13:02:30 2014 -0700

    Add some convenience stuff to gitignore

commit 271075954dc83c530c7ddc0c013f358f178371d8
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 6 12:16:50 2014 -0700

    Add GeneralPreferencesVieController and iTermPreferences. Move OpenBookmark into GPVC.

commit 069c11c1b39bcdaa61b8ceee7aa8271ebeb4a13a
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Apr 6 11:10:49 2014 -0700

    Save and restore hotkey window arrangement. Also fixes a bug where sessions are too easily divorced (when splitting and setting tab color, they got a divorce, even though the tab color was normally not different). Fixes a bug where you get short-lived-session warnings that you already silenced for divorced sessions because they always got a new guid--the fix is to use the original profile's guid for the warning silencing identifier.

commit 0287aa7c56bfe1769333146eb512bcc37644856e
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 5 16:03:29 2014 -0700

    Add Open Selection. Also reorganize the Edit menu which was getting out of hand

commit 2d2228d4f1bc5bff68b44632772b377872154738
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 5 15:22:47 2014 -0700

    Move find code from iTermAppDelegate to PseudoTerminal, so at least if there is no terminal session then the find commands in the menu are disabled.

commit 270a456c9b0c7c53fbbb1231070ec5498849124e
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 5 15:11:14 2014 -0700

    Add Edit>Find>Find URLs

commit e12620a70224b21ab53aa971c1ae5e14c1c19ece
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Apr 5 14:56:24 2014 -0700

    Add support for saved search keyboard shortcuts and, correspondingly, temporary searches in the FindViewController.

commit 67d463e8549a30c834ff919b78ef08a700b349bb
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Apr 3 21:21:50 2014 -0700

    Add url to original script

commit 0077ee1ebf3ed74d14f2349f8fdac770bbdb49d3
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Apr 3 21:21:10 2014 -0700

    Add support for different formats.

commit 0e6bfa9f0aa33b517154fc22662c78d3ff2cc17c
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Apr 3 19:09:50 2014 -0700

    Hack mouse reporting script to support 1000, 1002, and 1003 modes.

commit 40707f80ef200159bd50298a6b36f9bbc6f41ad4
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Apr 3 19:09:20 2014 -0700

    Add mouse reporting script from http://cfajohnson.com/shell/listing1.txt

commit 34bf00b15f6d71d0fc04bb3c0202aa2cbf1e14ff
Author: George Nachman <gln@google.com>
Date:   Wed Apr 2 18:33:29 2014 -0700

    Refactor remote prefs, add warning when remote prefs that changed are about to be overwritten.

commit 65f3a2ff632e29a00ebd151425617ef72396b845
Merge: 2e70f324 28be0441
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Apr 1 23:17:07 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 2e70f32432e3eb25a1aad923e5a70f6e3dacc618
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Apr 1 23:16:54 2014 -0700

    Refactor mouse reporting to reduce duplicate code and hopefully make its behavior more consistent.

commit 28be04415394f71932ffd4b89858ec84b57a464c
Merge: 3566c6b3 52275082
Author: George Nachman <gln@google.com>
Date:   Tue Apr 1 14:46:13 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 3566c6b325660181d4d83ca89e619ed0f1f6c297
Author: George Nachman <georgen@georgen-macbookpro3.roam.corp.google.com>
Date:   Tue Apr 1 14:45:51 2014 -0700

    Only set and reset tab label activity indicator for foreground tabs.

commit 81d5b463aba4e62305e8934bdb9d9088c4f1c3b3
Author: George Nachman <gln@google.com>
Date:   Tue Apr 1 14:40:47 2014 -0700

    Allow multiple tmux connections

commit 52275082c78596573087a112a147f444467931b5
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Mar 31 21:30:28 2014 -0700

    Don't move cursor on alt-click when it's a first-mouse event (issue 2943).

commit 6c4ad8f7c3ef3ba42624ddc00a746f1c6b724947
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Mar 30 18:32:52 2014 -0700

    Send growl notifications for sessions that are not visible, not just for background sessions. This includes occluded windows as detected on 10.9, windows in another space, and windows more than 40% covered by other iterm windows. Remove the GrowlOnForegroundTabs option, which no longer makes sense.

commit 7cb66e933f9dc7f63c07039918f7236baaf5501e
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Mar 30 13:24:09 2014 -0700

    Fix bug where a selection that wraps lines was incorrectly split into multiple selections when the window got resized. Also clean up resizeWidth:'s selection handling a tiny bit.

commit 54c8e3e03df625f266b0a70228345b610a3b7d89
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Mar 30 12:21:23 2014 -0700

    Fix tests for changes to attention protocol.

commit 42a1921b7711e7fdc6704c22ef48690c366f6090
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Mar 30 11:55:24 2014 -0700

    Remove unused screenRequestUserAttention and add isCritical arg to screenRequestAttention:.

commit 8778c638d5360728f8e3ddf69624354b8a9d1cdb
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Mar 30 11:50:58 2014 -0700

    Increase warning levels and fix warnings. The only inexcusably disabled warning (possibly) is for comparisons of different signs, simply because there are so many of them, in large part because methods like -count and -length return unsigned integers. IMO, the proliferation of unsigned ints is more dangerous than turning off the warning.

commit a9d1be0eebbaae41447905fbec44697a99dd36ba
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Mar 30 11:27:50 2014 -0700

    Remove selection on keypress or on terminal-initiated scroll, clearscreen, or grid-swap.

commit 50785ce919671e715b96a3bef42a590ff4ae3138
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Mar 30 11:10:32 2014 -0700

    Fix some warnings, build for active arch only on debug, remove vestigal ppc archs

commit 705acd68619da4393e1b7f0a4282677088ca3bea
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Mar 30 11:08:29 2014 -0700

    Rework getNullCorrectedSelectionStartPosition and properly test its return for failure, fixing a crash (1395945411.2026083509.txt).

commit 829c941aa1998a219e804736ae30702bf3e03784
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Mar 30 11:05:29 2014 -0700

    Add a note about the test's flakiness

commit 60a3284fe7fd4fd46f77d19de518ef37c15b40ab
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Mar 29 22:10:48 2014 -0700

    Call -displayIfNeeded on progress indicator to improve its odds of drawing when needed.

commit a01022cb35cc85534dd3882339203d33ed5d9161
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Mar 29 21:23:26 2014 -0700

    Don't remove selection when a selected char becomes dirty. That code survived from the old iTerm a million years ago and I can't scrute the benefit; it was responsible for bug 2886. If there's a great hue and cry then this can come back.

commit a659cf088ab4d24db33360bb20cd5cb6de5b3abc
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Mar 29 20:40:53 2014 -0700

    Use a dedicated dispatch queue for tmux threadedReadTask:length: calls. Previously I used dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_DEFAULT, 0) which actualy creates a queue every time, causing a race condition and mixed up streams.

commit d8df57f84d9f3bc9f293f98cfc8cf3d02ecc29b7
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Mar 29 17:19:53 2014 -0700

    Add preference to disable toolbar completely

commit 29f46bcfd221645f4d5091d7899d85f4fa69cc0b
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Mar 29 17:02:43 2014 -0700

    Add advanced setting for remembering window positions

commit 712a8e83df15ad4fdb564645edf8df9580d60514
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Mar 29 15:59:51 2014 -0700

    Fix up project file for iTermPasteHelper

commit d1668c6b3875377078a6fe57148a7f96d327e99c
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Mar 29 15:59:13 2014 -0700

    Move pasting logic into iTermPasteHelper

commit 03f15624af35a17041c322ee3bd46979879ff12f
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Mar 29 14:55:32 2014 -0700

    Clean up pasting.

commit 1c9838cfeae1f99f8388b18a4461df1eeb5d3801
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Mar 29 14:52:57 2014 -0700

    Get rid of incredibly outdated stringReplaceSubstringFrom:to: method in favor of stringByReplacingOccurrencesOfString:withString:

commit 01638189c200ba8b4427a83fc384b5cfb21ff75e
Merge: 5623cda4 fe1f791c
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Mar 29 11:39:51 2014 -0700

    Merge branch 'master' of https://github.com/bdpdx/iTerm2 into bdpdx-master

commit 5623cda462ce08c255b121dd3946c6d5fd9c9337
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Mar 29 10:58:49 2014 -0700

    Add some debug logging to the dvr code

commit 702b780ddb9cb269e3018cb8b6c16449d52f344f
Merge: 551c1b4b 6114b844
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Mar 29 10:41:06 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 551c1b4b629d5d7506d6612edde3fee16bd33e6c
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Mar 29 10:40:54 2014 -0700

    Unblock TaskNotifier when SIGCHLD is handled.

commit 6114b84411a468d6fa34dc0e4856770b25f5da7b
Author: George Nachman <gln@google.com>
Date:   Wed Mar 26 17:06:19 2014 -0700

    Retain images loaded in initialize method of PTYTextView

commit 24065494118ab69a37956d185b7f21c57fbdfbf7
Merge: 11677aaa 5efbe634
Author: George Nachman <gln@google.com>
Date:   Tue Mar 25 10:19:38 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit fe1f791c270b1d65209c5793fdc5ad73abd0a816
Author: bdpdx <brian@balance-software.com>
Date:   Tue Mar 25 00:42:40 2014 -0700

    formatting

commit cb7bc7ea328b4368952696fbef3dedcebc784c1a
Author: bdpdx <brian@balance-software.com>
Date:   Tue Mar 25 00:41:19 2014 -0700

    formatting

commit 0f16499f2a9903be2dc68892bf58cc8d7ae3898e
Author: bdpdx <brian@balance-software.com>
Date:   Tue Mar 25 00:40:38 2014 -0700

    Update PTYSession.m

commit a5336e992e22e1ef4d50516987533fa513a48fc8
Author: bdpdx <brian@balance-software.com>
Date:   Tue Mar 25 00:39:36 2014 -0700

    formatting

commit bfab9e7a320cecdfbebd80d8878fd3746b905587
Author: bdpdx <brian@balance-software.com>
Date:   Tue Mar 25 00:38:28 2014 -0700

    comment syn -> lnext

commit 36c9040f12972d509b04348fb1a3f56578497ea3
Author: Brian Doyle <brian@balance-software.com>
Date:   Tue Mar 25 00:33:29 2014 -0700

    Various changes per gnachman's suggestions
    
    - removed code added to PasteContext
    - moved control code stripping to pasteString:flags:
    - changed tabs to spaces
    - removed spaces after : in methods (e.g. arg:foo)

commit 5efbe634e6a92e1582303060786ea21a0cd541bb
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Mar 24 21:21:27 2014 -0700

    Don't call interpretKeyEvents: directly from -sendEvent: when there is an IME open. I don't know why we did that before, but it caused bug 2882. Instead, just let the event go through the normal channels (bypassing special key handling in -sendEvent:, though).

commit aa8ed88a2a767e4b4edadaff45f540a0ebb09993
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Mar 24 20:09:48 2014 -0700

    Connect to SSH agent.

commit 11677aaa4d25c8d9e08c34f07fb43640876ce634
Author: George Nachman <gln@google.com>
Date:   Mon Mar 24 16:23:58 2014 -0700

    Fix bugs with escape code file downloads

commit f16cb0f999db2454387b024dfa51f497c0a03fd3
Author: George Nachman <gln@google.com>
Date:   Mon Mar 24 16:23:50 2014 -0700

    Improve advanced prefs image

commit 84f1b73ea0540db3e6d15649bdb8061c711093a2
Merge: b78ea992 9aefc3ac
Author: gnachman <gnachman+github@gmail.com>
Date:   Mon Mar 24 00:02:42 2014 -0700

    Merge pull request #168 from percontation/master
    
    Reorder code in prefs to match the UI. Fix a crash when switching profiles while on Sessions tab in prefs>profiles and jobs-to-ignore changes. Fix bulk copy to accurately reflect UI.

commit b78ea992d68790550bd5a19aa8bfea770c55d249
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Mar 23 17:40:09 2014 -0700

    Make hex/decimal conversion smart about 32 vs 64 bits

commit 5c2cd9b8cc613e0dc4a7ad3ea67e70f62a3e6280
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Mar 23 17:18:45 2014 -0700

    Use 64-bit ints for context menu hex/decimal conversions.

commit 152587da1c096f759ff32b8bf946021c5f7786fc
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Mar 23 17:14:24 2014 -0700

    Rename Note to Annotation and move Edit>Show/Hide note to View>Toggle Annotation.

commit 385981c7e0ddd014053e3a629b7a6e07f452f131
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Mar 23 17:07:21 2014 -0700

    Fix blurriness of text in annotations and close buttons in session titles, annotations, and toolbelt.

commit 81570c02d45e54b5caaaaffd7b33ab7f6ebf70b7
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Mar 23 15:56:02 2014 -0700

    Fix analyzer warnings

commit c5e1058f0007ccfc5ccb77a186572b316adbe3a1
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Mar 23 15:51:55 2014 -0700

    Change word selection to select symbols one by one.

commit 47ff12360d41aa6dcebab3ee9c320537d881f3f5
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Mar 23 15:36:24 2014 -0700

    Change description of cursor blink speed setting

commit e6508415f43639a96f5f033cee9bcb595e8abffc
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Mar 23 13:24:28 2014 -0700

    Add advanced setting for whether new tabs are opened at the end of the tab list or adjacent to the current tab (issue 2902)

commit f5d5aa99223431e475106d190d2a81b0a6bd939d
Merge: 82106fc6 08f7bb48
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Mar 23 12:47:26 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 82106fc6104e1fcea817503f8801f89451a8ccd1
Author: George Nachman <gln@google.com>
Date:   Fri Mar 21 22:15:04 2014 -0700

    Add category prefixes to advanced settings descriptions and show them in sorted order.

commit 107ca48de3e397cfb8350f854ae24579ddf67964
Author: George Nachman <gln@google.com>
Date:   Fri Mar 21 22:00:35 2014 -0700

    Use iTermSettingsModel for remaining hidden prefs

commit 5839749b2fcc5c4ca9214acf1290c99f29a7a513
Author: George Nachman <gln@google.com>
Date:   Fri Mar 21 21:49:29 2014 -0700

    Add a few more values to iTermSettingsModel. Fix respectHardNewlines to stop at nulls. Improve contentInRange: to respect nulls according to different policies.

commit b151af724bda5ff9022423fc25675518625acbb4
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Mar 21 00:13:17 2014 -0700

    Convert more code to use iTermWarning and iTermSettingsModel.

commit 5f446b747b90850f8af5fc61fd63c6a629c92d81
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Mar 20 23:26:51 2014 -0700

    Rip out migration stuff, it's too risky. Also use a different pref for url vs file remote prefs changed warnings. Everyone will get the warning again.

commit 1cea9de780685b1413f2d717d5eafaff04782fe3
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Mar 20 21:47:40 2014 -0700

    Add some warnings. Improve iTerWarning behavior when there is a cancel button to not remember anything.

commit a9ea13d85fb1b0c26678023a4d09e068a1753f4d
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Mar 20 21:11:14 2014 -0700

    Add some more settings, fix bug with default values in floats being changed to an int.

commit 4a6945c594cc15a5696712ca2176b82e289149f0
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Mar 20 20:55:08 2014 -0700

    Add string support to advanced settings/settings model.

commit 2bba10a7f17072d079b7cf9734a9ee16c7232531
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Mar 20 20:46:31 2014 -0700

    It basically works.

commit 9aefc3aceae0c67e02930a6e1f43c117cc15a9ef
Author: Ryan Goulden <percontation@gmail.com>
Date:   Thu Mar 20 15:20:11 2014 -0400

    Fix some profile settings bugs
    Missing keys & terminating null in copyAttributes,
    and moved a few lines of code to match UI.

commit 4b3a9df8f8f0c134c8113057bc2bb912342e7b79
Author: Ryan Goulden <percontation@gmail.com>
Date:   Thu Mar 20 15:04:29 2014 -0400

    small ui bugfix
    The table on Preferences > Profiles > Session wasn’t updating when a different profile was selected.

commit 82861263bf3059fdab458514423d00a327b5ca4f
Author: Brian Doyle <brian@balance-software.com>
Date:   Thu Mar 20 00:18:23 2014 -0700

    Updated Paste with Literal Tabs to support large amounts of pasted data.
    
    Previous commit only handled pasting a small amount of data, when the paste
    code went into the slow paste callback cycle the don't-discard-control-codes
    state was lost.  In this commit the state is passed along via the PasteContext.

commit 02ec1ea1d91f948dc2e15469b4f9dd154cec7d04
Author: Brian Doyle <brian@balance-software.com>
Date:   Wed Mar 19 21:17:11 2014 -0700

    Added Edit > Paste Special > Paste with Literal Tabs
    
    Also fixed "Paste Selection Escaping Special Characters" command
    Updated documentation
    
    The Toolbelt Paste History window does not correctly handle formerly paste-special'ed text
    
    Signed-off-by: Brian Doyle <brian@balance-software.com>

commit a707f36fb8916b02b4c703a7fcb04229688d9db7
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Mar 18 21:32:04 2014 -0700

    Split off advanced settings model

commit 08f7bb48619b7feac78e391b66248e401e6f6c79
Author: George Nachman <gln@google.com>
Date:   Tue Mar 18 16:27:21 2014 -0700

    Never call NMSSHSession lastError if it lacks a rawSession. Report errors on connection failure properly.

commit 263a355b61bff0e2f8a9ef4aa5584508c093974c
Author: George Nachman <gln@google.com>
Date:   Tue Mar 18 16:08:57 2014 -0700

    Fix a crash on scp connection failed

commit a349746b630f8d487c0c2cf0f2974d88a169ab1a
Author: George Nachman <gln@google.com>
Date:   Tue Mar 18 15:54:13 2014 -0700

    Fix setBackgroundImagePath: to not die if you call it with its own string.

commit 34e4f12b19423f724ff5911c840495adde9df4fc
Author: George Nachman <gln@google.com>
Date:   Tue Mar 18 15:51:44 2014 -0700

    Use colorWithCalibratedWhite instead of colorWithWhite, which is 10.9 only

commit 55664e0c6c20d4db57ecde468e97c56e995a0a06
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Mar 18 01:34:25 2014 -0700

    An early start on advanced settings

commit ce2d6a8d3fc67ab0152f2d5214d86f0ac12c6763
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Mar 17 22:09:43 2014 -0700

    When a note (or mark, or remotehost) goes off the top of the screen, just drop it instead of asserting.

commit bb006650a3743a0f2c229630794bacc1a7b83ea4
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Mar 17 22:03:09 2014 -0700

    Add divider script

commit 7bf5b575764ceed68e172a34d88d6c9b3ac8ad58
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Mar 17 21:03:10 2014 -0700

    Improve look of toolbelt. Center it properly horizontally (shadow be damned!), force its color to 93% gray because window background color is fugly in lion fullscreen.

commit fd928189b99b7fa05b05dba1cceaf87b754fb2bc
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Mar 17 20:36:12 2014 -0700

    Support percentage units for inline images. Fix cursor positioning issues (started one too far to the right, added an extra linefeed at the end).

commit de47ef216f038832011859bd97a518515d746805
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Mar 17 20:26:20 2014 -0700

    add a tip to prefs>appearance about enabling tabs in fullscreen with the menu, fix alignment on that screen.

commit 0d34c5e8a23899ef54d513f2f635a288564c4200
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Mar 17 20:20:11 2014 -0700

    Ignore the option key for custom pointer actions while xterm mouse reporting is on.

commit 373dce7c2fadaaff56e75d54c47478e9228261c7
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Mar 17 19:22:03 2014 -0700

    Get rid of _drawFullScreenBlackBackground, which never did the right thing.

commit b0a16a15d7fbcf637eb55d13911d667cebdc30f2
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Mar 17 19:20:06 2014 -0700

    Add natural text editing key preset to try to hack the shell into working like a native app

commit 9007639075e60b7782b01f249b72a239538a4ca9
Author: George Nachman <gln@google.com>
Date:   Mon Mar 17 15:47:46 2014 -0700

    Only assign a toolbar to a terminal window if it has a title bar.

commit f56449e675b0a245c82b2ff3a5c557af1a23b0c0
Author: George Nachman <gln@google.com>
Date:   Mon Mar 17 15:09:20 2014 -0700

    Move InstantReplay.xib into the interfaces folder

commit 5fb830447d06e7d99533cdbfa41bd4157c2b7638
Author: George Nachman <gln@google.com>
Date:   Mon Mar 17 15:09:00 2014 -0700

    Hack UKCrashReporter to not use the address book to fill in the reporter's email address because it pops a permission dialog.

commit e716a27cd5c58e52f056f29b0e8a92824aa250a7
Author: George Nachman <gln@google.com>
Date:   Mon Mar 17 14:43:18 2014 -0700

    Fix crash at startup. Apparently if the window height is 187 or smaller we get a crash. This window height isn't used anyway (it's just a placeholder).

commit b9a0c18889fc7d07d18c6dd77d3acde3397421cb
Author: George Nachman <gln@google.com>
Date:   Mon Mar 17 13:34:54 2014 -0700

    Retain markImage and markErrImage

commit 71cc79ef93be90663cff4bdf77909e3eb1cedca6
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Mar 16 22:24:20 2014 -0700

    Add confirmation to Open All in Profiles

commit 29177aa200f3ba3420a321046a44e67e227080c8
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Mar 16 21:07:34 2014 -0700

    Make IR control window resizable.

commit e39382f5a882074d66bba09a947dc2519da993a2
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Mar 16 20:55:03 2014 -0700

    Fade IR control in and out as mouse enters/leaves

commit 214365f32f241068ef17f4a253fdb4499ccc17d1
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Mar 16 20:48:46 2014 -0700

    Make IR control text and controls smaller

commit fc3e75f6a9e4af122e803eae584c7b18038dd832
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Mar 16 20:11:37 2014 -0700

    Fix up initial frame of instant replay. Try to change its cursor into an arrow but the OS doesn't respect the wishes of non-key windows.

commit dd1cf5756ac5d6efa4c42d3fbe922bc15a8e9f6c
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Mar 16 17:50:11 2014 -0700

    Take a guess at an appropriate window frame size when exiting fullscreen for a window that started out as fullscreen, based on the preferred size set in the current session's profile.

commit 119d5d7b5386f6c99f0a8a3f579eba0c976825f8
Merge: 04fbbb61 8b76a83c
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Mar 16 17:18:26 2014 -0700

    Fix merge conflict

commit 8b76a83c1a3c27d61ce86bfd356f9cda4fc3b84d
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Mar 16 17:14:05 2014 -0700

    Git rid of WINDOW_TYPE_FORCE_FULL_SCREEN

commit c90d52385e6c1e2a96325cb98e6a0051d4ba7aba
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Mar 16 16:26:44 2014 -0700

    Make switching to traditional fullscreen change the window style mask instead of creating a new pseudoterminal. It was done that way because older versions of Mac OS didn't support changing the style mask.

commit 04fbbb610362be83373a641553a88af8bbb9fd2e
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Mar 16 15:49:19 2014 -0700

    A start at a floating instant replay controller

commit 358004190b5361989cb2d09a16d03c0c391ee770
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Mar 15 16:42:49 2014 -0700

    Allow key actions that select a menu item by name to select alternates as well. Fixes issue 2920.

commit 2f4b188999ca8038f5e0c24e7df55dc1cb662d9a
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Mar 15 16:31:58 2014 -0700

    Split up compount pref for compact tabs into separate prefs for hide tab close button and number. This will reset everyone's prefs since they now default to off, which is the better default.

commit 92933ade72cd8ab26cdb0e29d21f8ebd2eb9c543
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Mar 15 16:11:29 2014 -0700

    Turn off content shadow only when there is a transparent window. Fixes issue 2925.

commit ae03a55d9f4c29e09d4f424b4d112c7739217ece
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Mar 15 15:55:56 2014 -0700

    Retire the 'closing hotkey window switches spaces flag'.

commit d60d27d6eacb9d8dc094e51bbfe9374e8cba6a10
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Mar 15 12:32:43 2014 -0700

    Fix bug where the dimmed background wasn't drawn below the scrollview. Also clean up background image drawing and snapshotting.

commit fad27263fedf56a3a72e3031b3fc9c209813622b
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Mar 14 21:46:08 2014 -0700

    Add hidden pref for anti-idle timer period

commit f76f17b3c0e2cddc1eccd427b1e3877dfb2e175f
Merge: eb83b476 81b4f4dd
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Mar 14 21:38:35 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit eb83b476b8eccfa66831ef5859e54a3f82a4efef
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Mar 14 21:38:15 2014 -0700

    Minor clean up of pull request 165. Add -defaultIndex method to Trigger subclasses that let them specify the index of the default parameter value.

commit d9ff8ec733f193a007bdc570103cd046a8ec9828
Merge: 37771b78 914fa71f
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Mar 14 21:15:38 2014 -0700

    Merge branch 'master' of https://github.com/fmichea/iTerm2 into fmichea-master

commit 81b4f4ddcd2bab3e6360b6717614b1b595f9dab6
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Mar 14 21:02:43 2014 -0700

    Fix UKCrashReporter for OSX 10.7+ (yikes)
    
    Conflicts:
            UKCrashReporter/UKCrashReporter.m

commit 7ca6e5f5e323007f19b2653dac9a449fd5b10223
Author: George Nachman <gln@google.com>
Date:   Fri Mar 14 12:24:26 2014 -0700

    Hide the menu bar when switching from settings to fullscreen hotkey window

commit 37771b784e8f396190849b896fb06929b9fd53eb
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Mar 13 23:51:27 2014 -0700

    Hide hotkey window when no iterm window is main or when another terminal window becomes key. This allows things like clipboard managers (which don't affect the main window) to not dismiss the hotkey window, but switching terminals or going to another app will hide it. Also fix a bug where the menu bar wasn't hidden when toggling a fullscreen hotkey window.

commit f1fed7516a7346604c2b06ef9391f5fd78199065
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Mar 13 21:40:40 2014 -0700

    Clean up PTYWindow

commit 666edc752040cb6e4bdbc651f0cbf02b3bda6781
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Mar 13 00:28:25 2014 -0700

    Add back color-related key-value coding methods to PTYSession.

commit ffb00fe87299cbbf801cc77a8c19955cf0eaac95
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Mar 12 23:45:42 2014 -0700

    Rename session argument of applescript split command to profile.

commit 7403e9a52f514f64b63ff96e9dbec4e47ec6f303
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Mar 12 23:45:10 2014 -0700

    Remove unused variable

commit 730cf48478f014badad843d7b4b81dd214a4f64a
Merge: daec3640 98fe7047
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Mar 12 23:40:41 2014 -0700

    Merge branch 'master' of https://github.com/pose/iTerm2 into pose-master

commit daec3640458a0f7f5e0040a3f1cd7ae0376b664d
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Mar 12 23:38:03 2014 -0700

    Style cleanup.

commit 7457af7f0212e9e25eb677a8020d15296e550cdd
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Mar 12 23:36:58 2014 -0700

    Fix capitalization of OK and arguments to various alert panels for XCode 5.1 warnings

commit 4edffa0563736efdc1cc7eef891b1e59ec6add71
Merge: 6e46347a 5614dd8d
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Mar 12 21:57:33 2014 -0700

    Merge branch 'master' of https://github.com/percontation/iTerm2 into percontation-master

commit 6e46347a1f86ff7c1bf0dbf09d2a972cd7d769ae
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Mar 12 21:56:24 2014 -0700

    Make PTYTextView implement NSTextInputClient. Fixes bug 2928 (chinese punctuation box doesn't show on shift-opt-b with pinyin input method).

commit 5614dd8dd8e61d4bcb1d717a95db6bcc0f95eb3a
Author: Ryan Goulden <percontation@gmail.com>
Date:   Tue Mar 11 21:21:23 2014 -0400

    Fix a small leak.

commit 940d7acbe9c0b6eba3909dd261c19514508aad93
Author: Ryan Goulden <percontation@gmail.com>
Date:   Tue Mar 11 20:55:37 2014 -0400

    Better signal picker in Jobs toolbelt

commit ecf0cc1ac22fdf9b8b5a9669214de8bede71d54b
Author: Ryan Goulden <percontation@gmail.com>
Date:   Tue Mar 11 11:42:25 2014 -0400

    Fix format strings in NSRunAlertPanel

commit fda712ee46e69038e1b2a2887ad3cad1c55e0549
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Mar 12 20:00:10 2014 -0700

    Minor improvements to pull request 164 for style

commit d815348ca28ff56fc0ad226b779380bab44663e3
Merge: eaff30eb 48934d5f
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Mar 12 19:55:10 2014 -0700

    Merge branch 'alternate_mousescroll' of https://github.com/FiloSottile/iTerm2 into FiloSottile-alternate_mousescroll

commit eaff30eb3f71f1f63e3a6fd6eccdd788822e621b
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Mar 12 19:54:05 2014 -0700

    Clean up growl delegate, ripping out notification center code because Growl 2.0 will send notifications to it if the Growl server isn't available.

commit 8a734fe1e45c4bc161045f9c014394c5c75d6dff
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Mar 12 19:53:28 2014 -0700

    Don't request attention when a bell rings, that's annoying.

commit 98fe7047bdbf696d874ff5d157f6dada67333eeb
Author: Alberto Pose <albertopose@gmail.com>
Date:   Wed Mar 12 23:52:49 2014 -0300

    Closing the iTerm test instance from the AppleScript part.

commit cf5d0ed6833f3b25ea514e0112ca403d1d4b4b73
Author: Alberto Pose <albertopose@gmail.com>
Date:   Sun Dec 29 02:41:46 2013 -0300

    Adding support for splits when scripting with AppleScript.

commit a4b98cfd282bd537b7df8b5587ffdca63f9e8dda
Merge: 62837b26 3f7a32d2
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Mar 12 19:27:20 2014 -0700

    Merge branch 'master' of https://github.com/s1unky/iTerm2 into s1unky-master

commit 62837b26f62bfb0193323549a50be7e477e1e49b
Merge: db791c27 263401c2
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Mar 12 19:19:10 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit db791c2709f74c4fafa0f2e1cd86c81d1ef472d4
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Mar 12 19:18:43 2014 -0700

    Fix failing tests and XCode 5.1 warnings for test target

commit 263401c260e979a00581cfa44cbd06c265f4a55e
Merge: 7a28176b 174b4708
Author: gnachman <gnachman+github@gmail.com>
Date:   Wed Mar 12 18:59:45 2014 -0700

    Merge pull request #160 from saitoha/fix-for-decsc-behavior
    
    Some fixes for DECSC/DECRC behavior

commit 48934d5fe29874d68cb1d2dd98d66af59a464e67
Author: Filippo Valsorda <filippo.valsorda@gmail.com>
Date:   Thu Mar 13 02:58:21 2014 +0100

    Expose isAlternate as a method of the PTYTextViewDataSource protocol and other improvements as suggested by @gnachman

commit c054d22535523a1bfd47a4654e69dad6d6e65844
Author: Filippo Valsorda <filippo.valsorda@gmail.com>
Date:   Thu Mar 13 01:21:19 2014 +0100

    Add hidden setting (AlternateMouseScroll) for arrow keys on mouse scroll
    
    The hidden defaults setting AlternateMouseScroll turns on "mouse wheel
    scrolling support when a terminal is in MOUSE_REPORTING_NONE mouse mode and
    is using an alternate screen by translating them to arrow up/down terminfo
    escape sequences. (ala MouseTerm)"
    
    Activate it with
    $ defaults write com.googlecode.iterm2 AlternateMouseScroll -bool true
    
    This patch was submitted and adapted in
    https://code.google.com/p/iterm2/issues/detail?id=974
    and then wrapped in a hidden setting by me

commit 174b470851ced5d87f02fb9542701396629b6264
Author: Hayaki Saito <user@zuse.jp>
Date:   Thu Mar 13 03:33:43 2014 +0900

    Reset save area with RIS

commit 1e9a882d651b1a162dd6e724c3b7d8fb55e82f67
Author: Hayaki Saito <user@zuse.jp>
Date:   Thu Mar 13 03:33:09 2014 +0900

    Initialize save area on startup

commit 4a387a99cce2e4afa6f12f712670e610ea357c75
Author: Hayaki Saito <user@zuse.jp>
Date:   Wed Feb 19 22:04:47 2014 +0900

    Save/Restore the wraparound mode with DECSC/DECRC or DECSET/DECRST 1049

commit 1555eff45f8900e96cf74a5b8dbd342707076fef
Author: Hayaki Saito <user@zuse.jp>
Date:   Wed Feb 19 21:57:05 2014 +0900

    Save/Restore the origin mode with DECSC/DECRC or DECSET/DECRST 1049

commit c0c970efa9531a47f788f062d0c189616d15d116
Author: Hayaki Saito <user@zuse.jp>
Date:   Wed Feb 19 21:44:44 2014 +0900

    Make the terminal save/restore the character ROM state with DECSC/DECRC

commit dc3721b2ca0715a419636e3962e4be0f9fb8cd1c
Author: Hayaki Saito <user@zuse.jp>
Date:   Wed Feb 19 21:42:10 2014 +0900

    Reduce the duplicated evaluation for DECSC/DECRC

commit 09ae57cc5dfe8cfd978bce656d27772859b8649d
Author: carmi <carmi@carmi-macbookair.roam.corp.google.com>
Date:   Mon Feb 17 17:13:49 2014 -0500

    Make Triggers panel resizable.

commit 76929dc70acb89fd221a1140563c25fb0a2557ab
Author: Hayaki Saito <user@zuse.jp>
Date:   Mon Feb 17 02:48:01 2014 +0900

    Reset terminal modes with RIS

commit 3f7a32d2e36f85521f670b35290546c05e3f0411
Merge: eccbfecc 7a28176b
Author: slunky <slunky@ghostly.us>
Date:   Wed Mar 12 06:06:35 2014 -0600

    Merge remote-tracking branch 'upstream/master'

commit 32c1dba3f79550fe17e8c595a971c4559636ae0d
Merge: 9688f7f5 7a28176b
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Mar 12 01:12:30 2014 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 9688f7f55424f84c5750495dfd510d54eb6e3ef2
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Mar 12 01:11:43 2014 -0700

    Make smart selection panel resizable

commit 7a28176b6d6305502209363862e47f173eea7b90
Merge: ab546809 c344752c
Author: gnachman <gnachman+github@gmail.com>
Date:   Wed Mar 12 01:08:54 2014 -0700

    Merge pull request #159 from cgrushko/master
    
    Make Triggers panel resizable.

commit ab5468096eca067e06486f80556b9955895cda53
Merge: dadc8ef2 51d87acb
Author: gnachman <gnachman+github@gmail.com>
Date:   Wed Mar 12 01:07:21 2014 -0700

    Merge pull request #158 from saitoha/quickfix-for-ris
    
    Reset terminal modes with RIS

commit dadc8ef2043807643eef3707c51c170a5ab873a2
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Jan 20 21:22:56 2014 -0800

    Handle prefs that refer to nonexistent tools

commit 9479b80fbeca927b5542680afa936c30ac9734ab
Author: George Nachman <gln@google.com>
Date:   Wed Jan 8 14:41:07 2014 -0800

    Fix race condition that threw an exception in ProcessCache when getNameOfPid:isForeground returned nil.
    
    Conflicts:
            ProcessCache.m

commit 6cac66227781cbb6bbff9801b64e079b504c8a1f
Author: David Powell <david@drp.id.au>
Date:   Fri Oct 18 21:00:40 2013 +1100

    Use NFC form when possible. Fixes issue 2813

commit de7dc50a6575c87700e82414e5957cded028f40c
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Dec 31 15:04:42 2013 -0800

    Update window titles immediately during live resize (bug 2812)

commit 10c24816557e41b734c551f5c7cc974ba46dff80
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Mar 11 23:29:52 2014 -0700

    Improve debug logging of token parsing.

commit 0511a67a121cf0fb939f67e9d1a925da71f8a03c
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Mar 11 23:29:31 2014 -0700

    Don't set old selection's delegate to nil because then it can't get width

commit ca0035a85a93665635407fdce64d7658987c8605
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Mar 11 23:29:11 2014 -0700

    Remove directory portion of filename from debug log

commit 512c897e07ac5308aa5264fe89c4bee9e7d0ab9e
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Mar 11 22:34:24 2014 -0700

    Fix errors found by xcode 5.1

commit eccbfecc93490810048cbea49e5d2737c5e55729
Author: slunky <slunky@ghostly.us>
Date:   Tue Mar 11 20:27:37 2014 -0600

    Update project for Xcode 5.1

commit 7c78c1d9c285214807332e1f84bec4a51cce0a8c
Merge: 79e7cefa b70ccc4f
Author: slunky <slunky@ghostly.us>
Date:   Tue Mar 11 19:43:07 2014 -0600

    Merge remote-tracking branch 'upstream/master'

commit b70ccc4fc02764aed3764709720a792e8b39ec38
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Mar 11 00:30:44 2014 -0700

    Make debug logging thread-safe. Add appendBytes:length:excludingCharacter: to NSMutableData. Do low-level tmux parsing in new VT100TmuxParser class to simplify PTYSession’s threadedReadTask: method. Fix race condition where threadedReadTask: could run after dealloc was begun. Remove the not-so-useful kTmuxGatewayCommandHasEndGuardBug flag. Fix analyzer issues and some leaks.

commit 914fa71f59ddeaa2f16ac7e0df4eeb5009f42b21
Author: Franck Michea <franck.michea@gmail.com>
Date:   Tue Mar 11 00:26:26 2014 +0100

    Make it possible to choose the bouncing type for dock icon (once, infinite).

commit fb8cdaea081edda5f46826e5a34368230990bbab
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Mar 10 00:36:17 2014 -0700

    Fix some bugs with how autocomplete works with command history. Multiple words would be picked from history and not always with the prefix removed.

commit 4a441d5275b7f7afebf60031096794283e1d7f42
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Mar 10 00:20:10 2014 -0700

    Fix bug in Autocomplete that limits size of prefix to 1 byte

commit 192564ed5d725330d4ca2321d7f963910ce20b39
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Mar 10 00:11:30 2014 -0700

    reduce number of outstanding execute calls with minimal performance penalty of 4%

commit 964a88d51ac26a8744b5ee80f2c47823995e9fac
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Mar 9 16:33:40 2014 -0700

    Improve performance on very long lines by assuming there are no DWC's until one is seen, which allows a faster algorithm for counting the number of lines since we don't care about DWCs that get wrapped to the next line.

commit 9db6390af36f5ff0b18f014b9b2fd0722a7718c4
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Mar 9 14:49:10 2014 -0700

    Initialize screen_char_t’s in PTYTask thread for ascii strings. Combine ALTSEM_FG_DEFAULT and ALTSEM_BG_DEFAULT into one value so totally default characters are 0s and calloc initializes all the fields of screen_char_t except code for ascii data. Add ALTSEM_REVERSED_DEFAULT so foreground and background can take each other’s default values in reverse video.

commit 10d2e93eb6b4f0dbd7ae52622a9661c7345e751a
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Mar 8 13:48:49 2014 -0800

    Remove log statement

commit 79e7cefac1d7f915f1d63ab5205cabba3a347d95
Author: slunky <slunky@ghostly.us>
Date:   Sat Mar 8 07:34:42 2014 -0700

    Update to Growl 2.0.1 framework

commit bc47b6eb868656b01937a19b00f922c6f88fba66
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Mar 8 00:42:03 2014 -0800

    Speed up dropping lines

commit 867b39df3f346ceab6e71f1af17054178693c76f
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Mar 8 00:20:41 2014 -0800

    Improve dynamic redraw frequency to avoid randomly switching between fast and slow updates

commit a04f700b2c8a8ef521d8a47eeb8de2b73cc0dbe5
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Mar 7 08:47:51 2014 -0800

    Recycle tokens in a background thread (big performance win)

commit 6ce15db5aa180cae54c45959ccf81817c52150ad
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Mar 7 01:08:56 2014 -0800

    Fix bug in previous commit that entered the for loop in clearScreenChars in the wrong condition

commit 6536e3dbaa2721f9b8ea873c3e82b7efa1b09c8c
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Mar 7 00:54:38 2014 -0800

    Optimize clearing lines in VT100Grid

commit bf867ea9f55eefa2e3823136da888be7c31035c6
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Mar 7 00:54:29 2014 -0800

    Convert frequently used VT100 parsers from Obj-C to C functions to reduce time spent in objc_msgsend.

commit 16876482799411ad737474fc4262ca83742438c0
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Mar 7 00:22:03 2014 -0800

    Increase the number of collections of VT100Tokens. This is a big performance win.

commit fd03881f3d7b68b95df2e6f3189a28ede191f07d
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Mar 7 00:17:51 2014 -0800

    Don't store ascii data in NSData because it takes forever to dealloc. Instead, use a 128 byte static buffer if possible.

commit 272d5bc6339fb3ecfc71a37823ccbf595aa4cdac
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Mar 6 23:54:37 2014 -0800

    Convert _updateDisplayUntil into a NSTimeInterval for a few percent speedup

commit 4e8c3e36b28c43a9754557b0ff3be8d42c457070
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Mar 6 23:41:18 2014 -0800

    Add comment about failed optimization of finding length of ascii string.

commit 9195ecd7fedcbaee8ca23fe4b439289b45b26045
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Mar 6 23:39:54 2014 -0800

    Remove assertion that fires for some stupid reason but is harmless

commit 8b7e5cca705d88ae8e612031ecb5b4b43cd3d381
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Mar 6 23:39:39 2014 -0800

    Log millseconds from stopwatch for better precision on very fast operations

commit 817fabc6cc02899c5465d1b89cbd5af485faf551
Author: slunky <slunky@ghostly.us>
Date:   Thu Mar 6 21:03:12 2014 -0700

    Remove hardcoded path: /Users/gnachman/iTerm2

commit 008909f9bba8eac699b5a45f2d425597f4870167
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Mar 5 21:50:22 2014 -0800

    Store tokens in a CVector instead of a NSMutableArray for better performance.

commit 90c37f3648e95594059d6ae30de73456d8985286
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Mar 5 21:02:43 2014 -0800

    Cleanup ITERM_DEBUG semantics. Use a semaphore and allow 8 outstanding executeTokens blocks.

commit b0a2b800929d80bad7456d230f48f3b7aa82a227
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Mar 5 20:32:35 2014 -0800

    Add optimizations for ascii strings, plus various other smaller optimizations. Fix warnings. Fix a few bugs. Make thread save data when the terminal needs raw data for clipboard copying instead of passing possibly dangling pointers in token.position. Update architectures for test target.

commit f48365576621be1e29bd12b2e816e2a1e6c75e5e
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Mar 5 01:21:07 2014 -0800

    Get threaded parsing working

commit 618849844572e854dc7a05e0dcdae203d34e6408
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Mar 5 00:14:08 2014 -0800

    Add STOPWATCH

commit 80b1b16e9232c11f4e1c057bb1873b13899e5c9a
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Mar 2 23:54:14 2014 +1100

    Initial refactor. Needs epic amounts of testing.

commit 55ebc3bc5f346c36cee3ea7bc8e0e65a3759868f
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Mar 2 21:26:06 2014 +1100

    Style cleanup for VT100Terminal

commit 16a9a4804624e0d074e734542e4862640c125721
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Mar 2 21:21:45 2014 +1100

    Split out output-generating code from VT100Terminal

commit 00c406ac9eed06af6d12ec34823764cb04767c3c
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Mar 2 20:40:41 2014 +1100

    Finish converting VT100Terminal's public APIs into properties

commit 10defa1ac865379a770e5e6fdc2d8ca5f378809f
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Mar 2 20:33:04 2014 +1100

    Make a bunch more bits of VT100Terminal into properties

commit 6a201351ca5867273e55fcf40361c0ef206c04cc
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Mar 2 20:22:57 2014 +1100

    Make reportFocus into a property

commit 9d812a7fa01bc8f98fe01f0d75561fc069d540fe
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Mar 2 20:21:17 2014 +1100

    Make encoding into a property

commit f2b0c60d024729f836e621feec5ff906e35e54fe
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Mar 2 20:19:59 2014 +1100

    Begin clean up of VT100Terminal. Move ivars into implementation, make termType into property.

commit 40a976d357f57bdf594fefa7ae04362524d27890
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Mar 2 20:16:54 2014 +1100

    Rename screenMode to reverseVideo

commit c6434f0baae4a28c7ef8f86e48d6fbe6c0497bb7
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Mar 2 20:15:07 2014 +1100

    Fix analyzer warnings

commit f1219d2fc6f401c3408a8e1226f6f32bef633520
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Mar 2 19:20:26 2014 +1100

    Create iTermColorMap to reduce duplicate code between PTYSession and PTYTextView. Also do a general cleanup, fix broken tests.

commit 8f3c4b2f477ec173ec07817698fec156172fc491
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Mar 1 22:02:04 2014 +1100

    Clean up PTYSession.

commit 057ac7c6abacc5f2e185b3176827fd58c1354983
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Feb 28 10:25:13 2014 +1100

    Fix indentation

commit f5ca0d9ea27ff050b767f630526e9334c86063e3
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Feb 27 16:18:30 2014 +1100

    Move wordSeparatorCharacterSet into a class method on iTermTextExtractor

commit b0937ead847f01b8f827064b8558cf496907a8b5
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Feb 27 16:15:15 2014 +1100

    Make isFindingCursor into a property

commit 4f3b66965326caae2935d2c13be34c9da3c6ff98
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Feb 27 16:13:52 2014 +1100

    Make dimmingAmount into property

commit a6deb4e05089fc09f9879c0ef9cc0f166e5d8de5
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Feb 27 16:11:37 2014 +1100

    Make findContext into a property and rename it from initialFindContext.

commit 354d1d4e5bddbafa2fdaa1042b6ae31331ad5737
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Feb 27 16:09:12 2014 +1100

    Make absoluteScrollPosition into a property

commit a1858e30d66d87b22eb84598110aa77bd0736f46
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Feb 27 16:08:10 2014 +1100

    Make findInProgress into a property

commit c8bd4cd8b278014b138fdf7b66317f20fea1228d
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Feb 27 16:06:45 2014 +1100

    Make cursorVisible into a property

commit 85a2744b20f861a4e1add92c466880da8f06f4d5
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Feb 27 16:03:09 2014 +1100

    Make lineHeight and charWidth into properties

commit 364c6649e614ceb5ef0531710caa164ec4e41bdf
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Feb 27 16:02:24 2014 +1100

    Remove excess from public header

commit 469a0b24c5a69f3258713f6e446f87fa6a1f42bc
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Feb 27 16:01:34 2014 +1100

    Rename naFont into nonAsciiFont. Use a property for font/nafont

commit 7ccea93335097453c402e86b132bef92b966d679
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Feb 27 15:57:33 2014 +1100

    Make font/nafont into properties

commit 4fb43d0d180b899d0fb7f12752532823d07019c1
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Feb 27 15:54:15 2014 +1100

    Make selectionTime into property

commit d8718ab589cb53aed3bbfd79ab25c24c14b16084
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Feb 27 15:51:27 2014 +1100

    Make content into a property

commit 8d9d83ae7767d81270b7d66e976e44329eb53cfe
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Feb 27 15:49:24 2014 +1100

    Make selectedText into property

commit c2ee10a99a9b6c7db82f6849b30ddfcbb6c6217e
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Feb 27 15:48:21 2014 +1100

    Make keyIsRepeat into property

commit 038b9b4713702fca3268628e38c50987881f9ce4
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Feb 27 15:47:04 2014 +1100

    Make useTransparency into property

commit 291a9efd6ef6bdf49e43f6adf62ab721edd45c16
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Feb 27 15:46:10 2014 +1100

    Make blend into property

commit f8f70780321c0b7fe4cc14ab65576dd6ee0eec76
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Feb 27 15:43:26 2014 +1100

    Make transparency into property

commit 1ff9174c0bc5717a9bc4f683b515fb2ed5aafc96
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Feb 27 15:41:23 2014 +1100

    Make minimumContrast into property

commit 5c8dfaf422c153332da0bae238c9ed5bb215d26e
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Feb 27 15:39:22 2014 +1100

    Change useSmartCursorColor into property

commit ff2d64c6ec9634a09389a0d88eb81a131cc2890e
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Feb 26 22:50:00 2014 +1100

    Make cursor text color into a property

commit ccb122a7fd94606c233b43856cd03c2a5c6cc9fc
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Feb 26 22:48:47 2014 +1100

    Make selectedTextColor into a property

commit 3b88b5633491aafe6b21c63abdc07329760d6ec7
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Feb 26 22:46:23 2014 +1100

    Make cursorColor into a property

commit 3ffeed1ce86b0b00996cc87f74230edd13ba071a
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Feb 26 22:44:25 2014 +1100

    Make selectionColor into a property

commit 2b5a3a0f71770eb8d40874550d80cb5787e82b1d
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Feb 26 22:42:54 2014 +1100

    Make boldColor into property

commit abc2506551cce845350e6696f7edc627476282db
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Feb 26 22:40:35 2014 +1100

    Make backgroundColor into a property

commit 3b6d9398cfa2a74d38fe480ce1bb217a54909a75
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Feb 26 22:37:36 2014 +1100

    Make defaultFGColor into property

commit 182a1a76828cb4895b8c475d5e8db82d4aa7f3ce
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Feb 26 22:33:47 2014 +1100

    Make dimOnlyText into a property

commit ed3cada6b03ad8d61aef804ba696af6d22f59606
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Feb 26 22:32:15 2014 +1100

    Make cursorType into property

commit eb3b5d79e694ab87860bf5deff780b9f2ea36b37
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Feb 26 22:31:13 2014 +1100

    Make blinkAllowed into property

commit fefd4bcaadf55413394bc074266288fa7d714001
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Feb 26 22:28:50 2014 +1100

    Make blinkingCursor into a property

commit 6c34b63dc77682557162244b0bd4582465830b91
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Feb 26 22:27:33 2014 +1100

    Make useItalicFont into property

commit 0bd0b8e992b8cf2b7bc1b95dcf90b77883ba6a54
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Feb 26 22:26:14 2014 +1100

    Make useBrightBold into property

commit 76fbe25fd201e76b157a004bb33ab303273a89db
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Feb 26 22:24:43 2014 +1100

    Make useBoldFont a property

commit 4711d09dec0b6ba710f2bfff06672e71c3a496c9
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Feb 26 22:23:20 2014 +1100

    Make horizontal and vertical spacing into properties

commit eda9da1d6bc0c92f832343f7f00b1dfdd95e85db
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Feb 26 22:21:03 2014 +1100

    Make smartSelectionRules into a property

commit abba3a26c9559d356b726ee422baaf0c52530d65
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Feb 26 22:19:37 2014 +1100

    Make delegate into a property for PTYTextView.

commit 6da9cd3b6ed15810c4777ff42e566e2cdf4d9217
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Feb 26 22:13:23 2014 +1100

    Change dataSource and useNonAsciiFont into properties

commit 145e6143fedc361d9c9224ab7857fd0a94012331
Merge: f712cc02 922e6085
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Feb 26 22:03:37 2014 +1100

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit f712cc024b8a5ee2cabc85afb74c47826873737c
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Feb 11 23:40:27 2014 -0800

    Refactor selection, moving text extraction code into iTermTextExtractor. You may now have multiple discontinuous selections. Word and smart selection respect vertical dividers made of pipes. Cmd-click underlines do as well (as they did before), but now draw properly. The selection mode is remembered when extending a selection to be more Mac-like.

commit 922e608573e65cde661e69362d927c7b48b30746
Merge: f75f842c 3d43f8f0
Author: George Nachman <gln@google.com>
Date:   Thu Feb 20 20:06:24 2014 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit f75f842c117bbfebe22e555bc579b648933671bf
Author: George Nachman <gln@google.com>
Date:   Thu Feb 20 20:05:33 2014 -0800

    Scroll screen into history when ED (erase in display) is called with the below-the-cursor mode and the cursor is at 0,0. Makes entering vim save cursor state with 'screen' term, as used by tmux et al

commit c344752c56a5a8b9e0a76cfe945e2907b24245f4
Author: carmi <carmi@carmi-macbookair.roam.corp.google.com>
Date:   Mon Feb 17 17:13:49 2014 -0500

    Make Triggers panel resizable.

commit 51d87acb01969cf747e16ba9a066c21edbc1ddb0
Author: Hayaki Saito <user@zuse.jp>
Date:   Mon Feb 17 02:48:01 2014 +0900

    Reset terminal modes with RIS

commit 3d43f8f05eb62500aa48445127ec9a9e020b5d3f
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Feb 6 19:05:38 2014 -0600

    Add 'partial' types for x-of-screen window types that respect row/column setting. Clean up x-of-screen code generally.

commit 23854271ae660d9f4f7de1b6d98731f7dff536a8
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Feb 6 17:17:54 2014 -0600

    Fix bug where clicking the gear icon in the session title didn't open a context menu

commit 8fb3f78fd8cd540444840565a83d867fb9403d65
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Feb 6 17:17:31 2014 -0600

    Fix bug where sessions that are broadcasting were lost when toggling traditional fullscreen

commit a2271325c2881947742aa51eb2a42358ad89e58a
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Feb 5 23:03:44 2014 -0600

    Add preference to disable terminal setting window/tab title

commit ddc5e2f2658a75a665ea496f9f45230fb547a080
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Feb 5 22:51:41 2014 -0600

    Make canonical CSI parser the only parser

commit 55cc44ffe2bd245ce2d8965252747ce04fc7bc33
Merge: ba0b1490 b7ecfc77
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Feb 5 22:05:07 2014 -0600

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit ba0b14901c0e4e9d7c8851747a6eb6c84a935caf
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Feb 5 15:50:31 2014 -0800

    Clean up a bit

commit f6e4fc8b4427e50bf62379fafe267717d78f4bd6
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Feb 5 15:42:08 2014 -0800

    Add toggle for autocommandhistory

commit 1ae2b8ccb5b2fe5f3144db430754e0a6d1ab1445
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Feb 5 15:30:52 2014 -0800

    Keep cursor full while auto command history is open

commit ecb0b2192695f95e06260bd9397ebc8c95111572
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Feb 5 15:21:28 2014 -0800

    Fix flickering empty auto command history window and make enter key send enter when ACH's selection equals current command

commit 8c129308ee24e2ea5dffa52ce2160c2f49de3511
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Feb 5 15:06:08 2014 -0800

    Don't show auto command history after command ends

commit d6a0f53fdb3d999295a83ddf7379b6c6c61576c0
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Feb 5 14:42:29 2014 -0800

    It's kind sort of half working

commit 840080da42f9c5864a3a8a56a5fbd04672714f51
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Feb 5 13:36:18 2014 -0800

    Resize command history toolbelt table view to the proper height to fit all the rows, not to the content size of the scroll view.

commit 50ac5fb7f85a579eca5e639d74258019636a15ff
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Feb 5 13:27:57 2014 -0800

    Drop notes that scroll off the top during resizing to fix crash

commit 32694f91ce23488cb2849cf2162dabdf7f3794af
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Feb 5 13:20:13 2014 -0800

    Fix size of about box

commit b7ecfc77f4105904b580ffdc69f8a88a41af60eb
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Feb 4 21:54:34 2014 -0800

    Wipe out previous nightly build to ensure frameworks are always up to date.

commit 0f42e850b38639818ca7f791031dd211fc0897f5
Merge: 5d85ad0a 990be022
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Feb 4 00:00:07 2014 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 990be0221aeb5a59b83225880a9d5209fb2478f6
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Feb 3 21:36:37 2014 -0800

    Add option to allow hotkey window not to autohide

commit 5a459f674906ea2bad028347408b19aed053ace7
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Feb 2 21:22:43 2014 -0800

    Add 'duplicate tab' function. Fixes bug 1063.

commit 060fcce5562276a6c0193437f158a5a707383486
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Feb 2 21:22:26 2014 -0800

    improve session view's description

commit cf38fad00ec96ea88f00be18d5e82f51ad1fb9ea
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Feb 2 15:40:46 2014 -0800

    Remove all tooltips when the app is hidden. Fixes bug 2875

commit 14189ef75bb6ae35f061cc796c71cb7b2dac65cb
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Feb 2 13:26:14 2014 -0800

    Optimize reading from the socket

commit 2cf25f6a389e0225ecdb585b5c2deeed506bb5e0
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Feb 2 11:55:21 2014 -0800

    Cache append to scrollback with status bar flag in VT100Screen

commit 2d5a0a3df8ab7579db18f29cddc7ddff2b3579a7
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Feb 2 11:40:54 2014 -0800

    Fix busted logic in dirty chars as range and add tests

commit d377e6a0c8069fb71405a1831ce69a6ddb82de92
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Feb 2 11:23:36 2014 -0800

    Simplify dirty char tracking to keep a range per line

commit e618fdaa92b47b47a2fb0d5d3da8a0bacbb45b42
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Feb 2 11:14:13 2014 -0800

    Cache insert mode in VT100Screen

commit 08c6dd996ffe5e89c004843508462b4da45e50eb
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Feb 2 11:09:28 2014 -0800

    Don't call terminal on every append to get wrap and ansi flags. Instead, cache them in VT100Screen.

commit 4d27c550d8f1132eeeb908cb23de5eb0fc9b9eef
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Feb 2 10:53:13 2014 -0800

    Move lineDrawingMode flags into C array for speed

commit 0ff995effc92fc0cfc6def5967f2825286d92d56
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Feb 2 10:52:52 2014 -0800

    Change how redraw timer is fired to be more consistently paced during cursor movement

commit 5d85ad0a316c8d52c6fef6864dcb88c61c80fa95
Merge: 7b70b62a 045fc523
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jan 28 00:00:12 2014 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 045fc523381c96275c0b4d1a79b12c703405f59d
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Jan 27 19:56:27 2014 -0800

    Fix bug where iTermSearchField would capture arrow key presses even when it wasn't key. Became an issue first with the command history tool. Fixes bug 2865.

commit 7b70b62a68f167106afe1a114bf33c05812bf139
Merge: b26e4013 f866df47
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jan 26 00:00:07 2014 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit f866df4723a3e495537440d23b2bf31090c6cac1
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Jan 25 22:38:12 2014 -0800

    Link to online help for command history

commit 18663b68298f562941c2e3c1d03f763963b2cd85
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Jan 25 11:18:49 2014 -0800

    Fix how divorced sessions update their profiles by finding changes in the shared profile or session profile and updating overridden fields appropriately.

commit b26e40137bd096c2055956f0ad102e02f925fb99
Merge: 0abc4de5 5e95c429
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Jan 25 00:00:08 2014 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 5e95c429ba7245f43fd3ed83602e924b54e15885
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Jan 24 22:37:09 2014 -0800

    Make pseudoterminal pull the tab color from the current session instead of considering the tab's current color the canonical value. Also fix a bug for when the underlying profile of a divorced session has a nil value for a key and is an overridden field.

commit 403d5c089289cd4de3262cac13b0077fa5a555d1
Merge: 3b4fbe0c 2051d8a1
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Jan 24 20:39:50 2014 -0800

    Fix merge conflicts

commit 2051d8a10c5770937c0d238416ed2af7999bb1f0
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Jan 24 20:35:05 2014 -0800

    Clean up PreferencePanel.h somewhat and make changes to a divorced session's profile caused by a change to the original profile be reflected in the Edit Current Session preference panel

commit 9fc14399a0a21223eb2fbd87063bb18792350f2b
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Jan 24 20:00:19 2014 -0800

    When a session is modified with Edit Current Session, it retains a link to the original profile and changes in the original profile will be reflected in the session except for values changed in Edit Current Session. Also fixes a bug where semantic history's editor would not be initialized correctly for such sessions. Fixes a bug where sessions restored from arrangements would lose the link to the underlying profile.

commit 0abc4de5a63e18b517e8c21b9d2730a5ff8158e8
Merge: 2c4d3cf3 7ab285d2
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Jan 24 00:00:07 2014 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 3b4fbe0c00e5a462c372f6bc87b710dcbf92b788
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Jan 23 17:30:01 2014 -0800

    Initial attempt, foiled by divorce.

commit 7ab285d275c0837c7ddffe0e4cb35eec0a943bbd
Author: George Nachman <gln@google.com>
Date:   Thu Jan 23 16:27:25 2014 -0800

    Fix tests.

commit d20a3d60322c1ea0fb73ed75673a7c53c09b81ba
Author: George Nachman <gln@google.com>
Date:   Thu Jan 23 16:07:40 2014 -0800

    Fix up up cursor line highlighting by redrawing the line every time the cursor moves to avoid a race condition where the cursor moves between drawRect calls. Also make VT100Screen the delegate of the grid.

commit 2c4d3cf351eed6b8654971383f323993eef6c20a
Merge: 272d66f1 f661c597
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Jan 23 00:00:06 2014 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit f661c597c7a1542790689e0d48c89bb990eef6fb
Merge: 105af794 392279ff
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Jan 22 21:46:36 2014 -0800

    Merge branch 'centerScrollViewVertically'

commit 392279ffc90e2c9027d716774069f2b69c4d0faa
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Jan 22 21:45:24 2014 -0800

    Keep scroll view in top left but adjust its height.

commit 4542954dfb9d6c1165d37c811a21925153064381
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Jan 22 21:44:38 2014 -0800

    Fix crash when you try to set a session's profile with no entry in the tableview selected

commit 9354ec7f130c88147d8c04834fb5028facc5e040
Author: George Nachman <gln@google.com>
Date:   Wed Jan 22 17:04:28 2014 -0800

    Doesn't really work

commit 272d66f152b110d45db88dec051cdc4d7097b3ba
Merge: d825208f 4e6f6357
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jan 21 00:00:07 2014 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 105af79443991ffd62c562fb2b30bbecfed20c86
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Jan 20 23:21:45 2014 -0800

    Support resizing of edge-windows. Put the toolbelt inside them, as well.

commit 4e6f6357d2fa3e8028740c7fef7f54ce55db2d86
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Jan 20 16:34:54 2014 -0800

    Add support for CSI 3J, which erases scrollback history but leaves the screen alone. (Erase Saved Lines). Fixes bug 666.

commit 6f0a39caafaaa77ca96ae366fd26f1048f97868f
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Jan 20 16:04:51 2014 -0800

    Change some NSLog's into DLog's

commit 5cff9dd12a8861a600c13ea6c32caf254c96c7f6
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Jan 20 16:03:15 2014 -0800

    Add HighlightCursorLine=<bool> escape code to highlight the horizontal line the cursor is on by blending in a light blue background.

commit 17b052c1bd533d42266adc72767d8b6550645dcf
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Jan 20 14:59:07 2014 -0800

    Don't move cursor with alt-click when at the command line, as determined by FinalTerm escape codes. Fixes bug 2841.

commit 1290212ba572ec70c3a3366df65f6a007024a56c
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Jan 20 13:56:13 2014 -0800

    For very small chunks of data, redraw screen almost immediately.

commit f7137ebe0f48874cf36c2514431801ec775f0292
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Jan 20 13:56:03 2014 -0800

    Remove excess debug logging

commit 70a885ba1c32e0e0163205f2bd27b02bd80d7556
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Jan 20 13:55:44 2014 -0800

    Fix bug where preserveAspectRatio flag was misinterpreted

commit c6533a951b1366a7aa2673f15e54b9bf7e046fe2
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Jan 20 13:55:31 2014 -0800

    Leave cursor at bottom right of image after receiving one so the app can know how big it ended up being

commit be539ec3644b93f9a1581e862c02007aeb4ca41b
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Jan 20 13:11:02 2014 -0800

    Limit imgls thumbnail height to 3 rows

commit 58b1515ed8e6b0ba86f23d1bb3ea09001ac770ca
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Jan 20 12:58:19 2014 -0800

    Try to keep tools in toolbelt from getting smaller than tool-specific minimum heights.

commit b6f54b345e2ae87d7c4ce98c568d21996e660ece
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Jan 20 12:00:30 2014 -0800

    Make sure that performKeyEquivalent in iTermSearchField doesn't recurse forever. Fixes bug 2855

commit d825208f2631b26e1fbaa5337193e46580921039
Merge: fb4b309e 533930d8
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jan 20 00:00:06 2014 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 533930d83433052e56ed77c04dae106ee26faa6f
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Jan 19 13:33:28 2014 -0800

    Deprecate OSC 50, use OSC 1337 instead

commit d475c7abd89e369d3995987ae8ba2c494f34cb22
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Jan 19 13:33:20 2014 -0800

    Ignore key bindings that aren't insertText (bug 2856)

commit af6ebb06aa9ef1cd328199c6ed336dab561fda01
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Jan 19 12:44:28 2014 -0800

    Refactor expose in to separate files

commit 94a1e1355dfac18ed0cd20a9418befec2751effc
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Jan 19 12:00:50 2014 -0800

    refactor command history stuff into one file per class

commit 7dcadc9d911952ce87b84efb13a8b0f676f139ed
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Jan 19 11:46:26 2014 -0800

    Make CommandUse track directory each command was run in. Alt-doubleclick in the command history tool outputs a cd command to that directory if available. Also fix a bug where the command history popup didn't scroll to the top/bottom of the table when opened.

commit 06274e123e5b8ca22119c57b059ba454c7ab1a9c
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Jan 19 11:22:26 2014 -0800

    Assign unique integer IDs to each session. Use them to tell if a mark belongs to a particular session and bold it in the command history tool.

commit 0d934c5a7c37abaf75bb1d6189a1541f3620333b
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Jan 19 11:02:58 2014 -0800

    Reverse list of commands in command history tool

commit 1cfedeeee2f1e20c1bfda0531c941050a4e0bbd8
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Jan 19 11:02:45 2014 -0800

    Update imgls

commit fb4b309e18662b859861bd529f5b4c686073b9b5
Merge: 98891a4f 24867b30
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jan 19 00:00:07 2014 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 24867b307ade8978ada2b656a15d83f2c2a39554
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Jan 18 21:49:38 2014 -0800

    Deprecate BeginFile..EndFile and introduce File, which is more flexible and fits entirely in an OSC for compatibility with other terminals.

commit 0292e04d02e47fa729f7f99f25f7f684b7e261ce
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Jan 18 15:33:40 2014 -0800

    Support 'auto' as width and/or height for inline images

commit 98891a4fc882a0f1e18cf656ac8528ff63707a60
Merge: b19f08eb 4501463c
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Jan 18 00:00:06 2014 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 4501463c19b70764577170d7ef92560bd1da2cee
Merge: ff9461e4 53c1dbe8
Author: George Nachman <gln@google.com>
Date:   Fri Jan 17 14:03:25 2014 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit ff9461e48672684b688150bf9291706a1b6bfd90
Author: George Nachman <gln@google.com>
Date:   Fri Jan 17 14:03:19 2014 -0800

    Add keyboard shortcuts to resize split panes

commit b19f08eb98a94c2b6b1d024f4300fa37b415784b
Merge: 4191a12b 53c1dbe8
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Jan 17 00:00:06 2014 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 53c1dbe8dde731b41559d8a2763618657505bc19
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Jan 16 23:49:33 2014 -0800

    Add search field and confirm-to-clear to command history tool

commit 3e34506535d6b2a6e14a245197ebacf5a51b590c
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Jan 16 23:28:10 2014 -0800

    Prevent illegal width/height inline files.

commit f9db7cf791185841cdf87f68b031c2d011ab7ed7
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Jan 16 23:27:04 2014 -0800

    Add imgcat and imgls and change inline files to adjust their dimensions down if the passed-in size is too large to fit. Aspect ratio is preserved.

commit bf2243f109e771c192d0bf79985759ead7bfebcf
Author: George Nachman <gln@google.com>
Date:   Thu Jan 16 17:35:05 2014 -0800

    Add paste file with base64 encoding. Update command history when host, current session changes. Ignore unknown tools in toolbelt prefs.

commit 9aa00364edebff9355f3004db0dd9293e18db673
Merge: c9fed138 f060e1e2
Author: George Nachman <gln@google.com>
Date:   Thu Jan 16 11:07:19 2014 -0800

    Merge branch 'historytool'

commit f060e1e2f0a978133d6fe537ce0db95f244eee25
Author: George Nachman <gln@google.com>
Date:   Thu Jan 16 11:07:09 2014 -0800

    Fix scrollToMark to make sure the mark exists in this session. Update command history when host change.

commit c9fed1386c5ca77cb885c8e5ed2ff7176731ed99
Author: George Nachman <gln@google.com>
Date:   Thu Jan 16 10:13:46 2014 -0800

    Accept pixel units in inline files

commit f45edf318ca772c68cea7ef1805553b4474bf52a
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Jan 16 09:31:03 2014 -0800

    Add command history tool

commit d55fd096ff394b5bf562fb6a0a76f61e7b99c6f2
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Jan 16 00:05:54 2014 -0800

    Add command history to toolbelt

commit 554fb38a69f12ed4ce5aa96a5111c7e98601f979
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Jan 15 23:47:19 2014 -0800

    Change command history dialog to show each command's invocation rather than grouping identical commands

commit 4191a12b7ee58451f8a0b76e3af12850067591c0
Merge: 383a38ec 726d2208
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Jan 15 00:00:08 2014 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 726d2208d84f21dc29bf6cb98b9d97f28d158279
Author: George Nachman <gln@google.com>
Date:   Tue Jan 14 22:46:06 2014 -0800

    expand save paste history preference to also apply to command history

commit 741106a22fee49a97454f4b45e9443e1f310c84a
Author: George Nachman <gln@google.com>
Date:   Tue Jan 14 22:43:47 2014 -0800

    Save command history to disk. Allow popups to scroll, limiting their height to 20 rows

commit 6535c990657becbf46e73c2173febc9446adca57
Author: George Nachman <gln@google.com>
Date:   Tue Jan 14 22:20:46 2014 -0800

    Turn off autolayout for command history window

commit f5cd59b5970a2c5cb667b7d4a35a46a8193f0fde
Author: George Nachman <gln@google.com>
Date:   Tue Jan 14 22:17:18 2014 -0800

    Add cmd-opt-y to show command history (when using finalterm escape codes). Also improve how whitespace trimming works for command history (we trim only leading spaces when searching for a match to support tcsh's stupid requirement of not having a terminal escape code in the prompt) but trim all spaces when adding to history.

commit 4f72f829c40981a73a8769b62dd1bc51127ab176
Author: George Nachman <gln@google.com>
Date:   Tue Jan 14 20:18:09 2014 -0800

    Fix off by one error for finding pwd for a line. Handle final term return code escape code.

commit 29051ca1109cee471fc906dfc90cc7580b75b96e
Author: George Nachman <gln@google.com>
Date:   Tue Jan 14 18:01:02 2014 -0800

    Change marks to store a command string and error code. Set them from finalterm codes. Use a red mark for error codes not equal to 0. Marks get a context menu showing what's known about the associated command.

commit f18f6dc6162bf2e69f3cd6bab01d618895a562a6
Author: George Nachman <gln@google.com>
Date:   Tue Jan 14 14:03:58 2014 -0800

    Add hooks for FinalTerm's term commands

commit 5fdf606cd95f0158f0ed2f90636dae0e0fc6f0b7
Author: George Nachman <gln@google.com>
Date:   Tue Jan 14 14:03:42 2014 -0800

    Initialize |image| field when converting characters to screen_char_t's.

commit 383a38ec6132ccbd78a9bbd9245f880b234440d0
Merge: d59d5e8d d7bc39f8
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jan 14 00:00:06 2014 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit d7bc39f873641182c6ba0e06d9c144297b75ab4c
Author: George Nachman <gln@google.com>
Date:   Mon Jan 13 16:00:54 2014 -0800

    If no pwd is known in trouter, use the current working directory. Handle nil working directory better in smart selection code

commit ea2bacaab354fda8e558a7ddb7421964c29f693a
Author: George Nachman <gln@google.com>
Date:   Mon Jan 13 15:48:21 2014 -0800

    Remove progress log messages while xfering file

commit 98f57767704b039570eccb088f44961830b6e856
Author: George Nachman <gln@google.com>
Date:   Mon Jan 13 15:47:40 2014 -0800

    Update NMSSH framework to latest code

commit b601edd8f0656bd3ff147d41d319a058ae560237
Author: George Nachman <gln@google.com>
Date:   Mon Jan 13 14:57:31 2014 -0800

    Add 'send text' smart selection action. Replace escaped backslash, n, d, h, and u in smart selection actions with backslash, newline, pwd, host, and username.

commit 8583e97d14836c329e3189d01ef585b5d41e7327
Author: George Nachman <gln@google.com>
Date:   Mon Jan 13 12:45:50 2014 -0800

    Implement drag-drop via cmd-drag for images

commit 3747375089386d1e98c533bdb809417a97b72e83
Author: George Nachman <gln@google.com>
Date:   Mon Jan 13 12:13:34 2014 -0800

    Make context menu change when you right click on an image

commit dc9bee9c701aa8df7d81d8484280122fcc0c2d4d
Author: George Nachman <gln@google.com>
Date:   Mon Jan 13 11:11:14 2014 -0800

    Add a bunch of debug logging for trouter path determination

commit 583c6088e6602f6f909030951f65e16677dfbc2d
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Jan 13 00:47:52 2014 -0800

    elaborate comments

commit 17da0bc310ca58cdfe1a6b3d4fe4067406a4fb5e
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Jan 13 00:46:31 2014 -0800

    Add support for showing images with \e50;BeginFile\nfilename\nfilesize\nwidth-cells\nheight-cells\npreserveAspectRatioFlag

commit d59d5e8d5644343894038133b297caf2cbd91aa7
Merge: 8358715d 0ba2b0e4
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jan 13 00:00:07 2014 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 0ba2b0e4461c548c4297beeac66250c5be6b2f7a
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Jan 12 18:28:30 2014 -0800

    Hide tags button in single bookmark mode

commit 416bb6d9b94e84ba190c5f5ab80a543312126865
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Jan 12 18:10:37 2014 -0800

    Allow trouter to accept filenames wrapped in parens

commit f7c0036c989294e5205356fd5d7397c65b508ecc
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Jan 12 17:58:19 2014 -0800

    Update to latest finalterm codes

commit 7e1b5bbe22ca2ac2145dc920a85d502b15b85131
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Jan 11 23:12:11 2014 -0800

    initialize and reset command range

commit 0a422d710c5b63c1c844d400f0f202a68f98978b
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Jan 11 22:59:36 2014 -0800

    Handle autocomplete with no current command. Fix up formatting in autocomplete of prefix with space.

commit d024da612635cf5d16af7a18d5e541934ea2188c
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Jan 11 22:36:09 2014 -0800

    Don't add words from pasteboard history if the autocomplete prefix comes from the middle of a word

commit cc200643d9c205f7d633930bdb9312fda7a1ba46
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Jan 10 09:45:39 2014 -0800

    Fix up using the regular ac window.

commit 1343029a3b4b587755213a31acaae806e96514cf
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Jan 9 22:05:22 2014 -0800

    Adhoc build 1.0.0.20140109_220214

commit 57d12708a126010b016b4593a1273a3c3d547926
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Jan 8 17:23:23 2014 -0800

    Sync NMSSH up with official version

commit f6f399a4564e4a76f964d455cfd26d199888102f
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Jan 7 22:52:04 2014 -0800

    Half-baked command history

commit 8358715de6bfd6d3e957c3f7ae70063c058e7797
Merge: 50cf161f e428b585
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jan 7 00:00:04 2014 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit e428b5853caa9fa3a8ff7cc547ea6c4d01ce4948
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Jan 6 20:14:44 2014 -0800

    You must hold alt when dragging a file in to upload it. Checking if the hostname was localhost was too slow and unreliable.

commit 50cf161fe729aed527e05940136909036f33b6d7
Merge: a6bc6e5d 55bb3544
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jan 6 19:57:03 2014 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit ec01d0361370ece0b5a4f5d6ff20f9d9a8dbaae0
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Jan 6 19:44:32 2014 -0800

    Make download.sh more portable

commit 55bb3544ae3c69d475e76918a45a215412707601
Author: George Nachman <gln@google.com>
Date:   Mon Jan 6 14:14:30 2014 -0800

    cache which files have been checked for existence by trouter's brute force to reduce number of stat()s

commit 61abc180ef8dea3cc7a25975707cdd01daaa741f
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Jan 5 22:13:03 2014 -0800

    Add proprietary escape codes BeginFile and EndFile to download base64-encoded data

commit 051fc36ab0b94226cc9c726f65fa0d21478c3d8b
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Jan 5 14:12:01 2014 -0800

    Make character spacing sliders bigger and continuous

commit 1ffb55f71fc8dc5cb3bdd9032e215e31e2ed63b7
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Jan 5 13:57:19 2014 -0800

    Make tag browser not editable because it would let you edit the indents

commit 2c69edd9a29ffea1ffc2f2ce91eb94389ddc842e
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Jan 5 13:43:43 2014 -0800

    eliminate star column and use unicode star in favor of cheesy graphic

commit 66dbf3916bad92a52747bd2ed8960de85ae2f0ec
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Jan 5 13:36:26 2014 -0800

    Cache sorted indented tags

commit 4f15f12bde4f2b09f514b5e0eb4f806a1f4ee51d
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Jan 5 13:28:51 2014 -0800

    Reload tags tables when profiles change

commit 7cea0ae15a0dc6e982d52dbf0e25a0de8070e121
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Jan 5 13:25:54 2014 -0800

    Add open all to top level menu when it has two tags and no profiles

commit c9d773940c6dc9e858845fc1cf14cc69ebd64f14
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Jan 5 13:19:24 2014 -0800

    Use tag hierarchy for menus

commit 1a2caabf82ea97d5b243a2d64bbf6d54a7640056
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Jan 5 13:19:12 2014 -0800

    Add and fix up toggle tags button

commit 6378f63f6e27fb57a41fb1a15ceaf0ac2f986436
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Jan 4 18:51:59 2014 -0800

    Improve resizing behavior of profiles window

commit 95797eea14ce6c737cd4fdc70d2f4de341b43a58
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Jan 4 17:44:41 2014 -0800

    Add toggle for tags view in prefs

commit 3c12a640a3a339fd9bcdbd3f599ccd888ffb124c
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Jan 4 16:53:15 2014 -0800

    Add tags browser. Still nascent.

commit 42c4bfdcb224db1e80ec859540c243fe08ca3324
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Jan 4 15:06:23 2014 -0800

    Add 'close other tabs' and 'close tabs to the right'. Fixes bug 2819.

commit 85ec874744cf50350b312bcbf22650322c0eea28
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Jan 3 15:24:04 2014 -0800

    Improve Alert on Next Mark to show an alert. Expose -reveal method in PTYSession nad make growl delegate use it.

commit cd60838d040625c407cab2549dcc2de39e437626
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Jan 3 14:51:22 2014 -0800

    Change shortcut for next/previous mark to use arrows instead of brackets for easier use on international keyboards

commit a6bc6e5dfd9e74d0cdd7f3c0bd642cf2e74e00aa
Merge: 1a4cef43 d30d96ca
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Jan 3 00:00:07 2014 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit d30d96ca4819aeb4d551a354048657db5ff2349c
Merge: 346a7c3c 90aa77d2
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Jan 2 17:54:21 2014 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 346a7c3c9022b3827f1fd110e8eb15c355796b15
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Dec 29 02:41:46 2013 -0300

    Fix up the half-baked allow application keypad switch

commit 90aa77d24070bf47b047245b54c27d2497d86b82
Merge: fcd92cba 24cdcffd
Author: gnachman <gnachman+github@gmail.com>
Date:   Thu Jan 2 17:15:43 2014 -0800

    Merge pull request #157 from pstadler/traditional-visual-bell
    
    hidden setting for traditional visual bell

commit 66d8e3a03df07e7003344f9463d15a4dfa9daf64
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Jan 2 13:25:54 2014 -0800

    Update NMSSHSession to 5af72932eb692c9d95aa17ac70331721eb042d0d

commit a4680771ac979e34b7dc03f392449af3d7580c94
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Jan 2 13:22:51 2014 -0800

    Use addCurrentHostToKnownHostsUnhashed

commit 24cdcffd78a6c2b405fc78b38ff549e660193be0
Author: Patrick Stadler <patrick.stadler@gmail.com>
Date:   Thu Jan 2 11:57:13 2014 +0100

    hidden setting for traditional visual bell

commit 1a4cef4312feb53d6eae7a2e9ea882c37d7103cb
Merge: bec5f813 fcd92cba
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Jan 2 00:00:04 2014 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit fcd92cbaf4f339906d1ef0970f1e579013fbcfb0
Merge: f46bb9ca ad11ea31
Author: gnachman <gnachman+github@gmail.com>
Date:   Wed Jan 1 21:49:41 2014 -0800

    Merge pull request #156 from saitoha/fix-right-edge-cpr
    
    Fix off-by-one issue of CPR on the right edge of terminal

commit ad11ea314838f576b26e5f459439a6a33d2f0126
Author: Hayaki Saito <user@zuse.jp>
Date:   Wed Jan 1 15:03:04 2014 +0900

    Fix off-by-one issue of CPR on the right edge of terminal

commit bec5f81360e77071e3d2dbc2860b7e7efa009cde
Merge: 0f9af37d f46bb9ca
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Dec 29 00:00:04 2013 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit f46bb9ca2f2ea76d16d0025d2a7ace137bda2f25
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Dec 28 00:40:43 2013 -0800

    Don't make window title change current directory if RemoteHost has ever been used

commit 0f9af37d63507868e0b7e28b2cdc8078a09cc8bf
Merge: ac4cd6da 2f70b721
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Dec 28 00:38:27 2013 -0800

    Resolve conflict

commit 2f70b721526570d6332b669bd396d4c783681e5e
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Dec 28 00:04:49 2013 -0800

    Fix order of values in AddNote with four parts

commit 5112dab3c6a3aa3b87fff054a3fedc232036bd93
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Dec 27 16:13:18 2013 -0800

    Split TaskNotifier into its own thread

commit c54b33d7e477eb45a25754b5208e99d669cbc3a7
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Dec 27 15:57:00 2013 -0800

    Sort header files in PTYTextView.h

commit 7cc50d246b6ed3e4523af6a33ca0c1d9d6583473
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Dec 27 15:55:19 2013 -0800

    Remove PTYTextView's dependency on PTYSession

commit de618d835130826b1e7793c739396dc77cbbe779
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Dec 27 14:35:50 2013 -0800

    Clean up popups. Make iTermWindowController be of type NSWindowController, not id.

commit 6737416cf15a8096751c6afa63cc9ec7592eb8f2
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Dec 27 13:55:06 2013 -0800

    Clean up Popup

commit f77880931dbf6ed6abc9ec39570f86e569435c35
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Dec 27 13:21:59 2013 -0800

    Remove SplitPanel's dependency on PseudoTerminal

commit a4ad850a5776f54fbe160805f04c9cbf7293250d
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Dec 27 13:19:57 2013 -0800

    Clean up SessionView.m

commit 24e6c52430fdeec3521130f638c669b71e1fa424
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Dec 27 13:17:30 2013 -0800

    Remove PTYTextView's dependency on PseudoTerminal

commit 3082f262fecbdf20d547e394edec26d8667681d1
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Dec 27 12:53:57 2013 -0800

    Remove future method for setPresentationOptions

commit d1f50fd88a09821163daafbafe0a1a9d1c6ae2a4
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Dec 27 12:48:38 2013 -0800

    Clean up direct references to PseudoTerminal, instead using the iTermWindowController protocol.

commit 852946cffd72cc97899f0b8db9542fc6d7846596
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Dec 26 22:57:58 2013 -0500

    Clean up PTYSession a little

commit f445df0ceaa292004ad451ddc896f47511a34e3f
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Dec 26 22:51:31 2013 -0500

    Clean up PTYSession a little

commit 3340ffc633cb12e84814ff34bec0ed6edb87a3a3
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Dec 26 22:40:01 2013 -0500

    Clean up PseudoTerminal a little and fix some warnings

commit 51ca7cd937ab6a6bc34e3ae43ec6dd289837467b
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Dec 26 22:39:35 2013 -0500

    Deal with question about how AXUIElementCopyAttributeValues values should be released

commit 4d8ad0ad541d58a1fed759936bd7c31bbdf4d66e
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Dec 26 22:27:04 2013 -0500

    Clean up PseudoTerminal some more

commit a5230a237649f5e29e21de8b0ca3280ef757ddf0
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Dec 26 22:00:24 2013 -0500

    Clean up PTYTextView some more

commit 8e1bd7a182f0f761b6f51023a01d8855ef4c3a37
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Dec 26 21:06:58 2013 -0500

    Clean up PTYTextView.m a little

commit 550130314ff9e7e42170f9c2fca080cc27f39780
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Dec 26 21:02:08 2013 -0500

    Fix bad merge that broke mark image and log drawing performance

commit 0288f532bd504a6ee6ab5cfe8c6dd06ca001c19c
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Dec 26 20:58:31 2013 -0500

    Fix project for file transfers

commit 6a12d06db282f77de39faeca155c67ad4a7f5a88
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Dec 26 20:47:08 2013 -0500

    Undo breakage of project file

commit df4685b12c234a11980c6e0e2490fc84acd0f6da
Merge: 9d9e806b 959adfd4
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Dec 26 20:45:26 2013 -0500

    Resolve merge conflicts

commit 9d9e806ba21c6adf468d1b86410a99c3b8c903d1
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Dec 26 20:41:38 2013 -0500

    Remove unused defines

commit 088cd451e2f9aaa3d5eb1326f756533d9d6e86f2
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Dec 26 20:40:36 2013 -0500

    Reorg project

commit 9d410307f9aeeb2807a44da33deffb8227b3d67b
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Dec 26 20:31:48 2013 -0500

    Move SmartMatch into its own file, from PTYTextView

commit e9055d3a7d7c53067cf82d6fc1f4ea85368d21b3
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Dec 26 20:27:45 2013 -0500

    Get rid of Coord class in PTYTextView

commit 238419420dcfa527655a74c35619dc9efcc5cf2e
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Dec 26 20:24:39 2013 -0500

    Move FindCursorView into its own file

commit 3832901f047e454706a0050c72b995a87d7ea251
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Dec 26 20:19:32 2013 -0500

    Fix erroneous merge

commit bc5284f49cf6f2f5f9eaf5dedd7c3c35a8180585
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Dec 15 17:35:25 2013 -0800

    Resolve merge conflicts in handling screens with separate spaces

commit 834d92b621d4fd8e7547cf1a26862c996a8984b6
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Dec 26 20:09:32 2013 -0500

    Fix undefined width var from previous cherrypick

commit c98b58d202d90fa7e8bd125927a716d5a3164c7a
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Dec 26 20:09:13 2013 -0500

    Use a delegate instead of calling loadCOlorTable directly

commit 99b8c2a747209317767afebba57cb2ed77f439cb
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Dec 26 20:08:21 2013 -0500

    Fix bug where CRun splits not at the 0th character can get an undefined advance

commit ca09b87e74c0b4ccca56c7df1d47b7a7faaf0e0b
Author: George Nachman <gln@google.com>
Date:   Mon Dec 9 15:45:28 2013 -0800

    Resolve merge conflicts (use attributed string's drawinrect for chars without combinig marks)

commit 1da67aa111e1764e4a7f588112fae84cebbb274e
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Dec 26 19:22:57 2013 -0500

    Remove line improperly added in previous merge

commit defd26dd02d2def21580c07ec791d9ef331f2f10
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Dec 8 21:40:20 2013 -0800

    Fix merge conflicts

commit ae854cf47663d19cf637fd85b75092104b6ad86b
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Dec 8 20:40:14 2013 -0800

    Try to fix bug 2593

commit 50535cf63c78c70d143c2651b56db87054e58e18
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Dec 26 19:08:02 2013 -0500

    Remove unnecessary assertion that dropped lines is 0 or 1

commit 1d69a41d80807f2e83e62cc2a1a382919d5c2011
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Dec 26 19:05:20 2013 -0500

    Remove dead GREED_KEYDOWN block, accidentally brought back in previous merge

commit 03cfc5f0a5e1f5ed0bdba84a83aa41d202f7ce51
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 24 08:53:50 2013 -0800

    Resolve merge conflict on e870cdd374e57aae4d71947d28410c352ea59e0f

commit 46f4a836484e167bd72c142222e785b871fd1faa
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Dec 26 18:59:34 2013 -0500

    Add allow app keypad switch

commit fd5b7d9666f7bf5095ef57a08ccbcc8ddf493bba
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Dec 25 23:10:46 2013 -0500

    Add edit>paste special>warn before multi-line paste (bug 594)

commit 666e5068b7669cc4cb16d62c8115139a42a2aa45
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Dec 25 22:41:24 2013 -0500

    Add a pref for whether to use non-ascii font and turn it off by default for new bookmarks (but leave on for compatibility with existing bookmarks)

commit 4377be44ffcad4e0e391abb295e78b4ade6d55e8
Merge: 82cff375 34203b72
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Dec 25 19:15:07 2013 -0500

    Merge in fix to issue 2798

commit 959adfd4f8e89e21bfb28d813908a98cbb3a9642
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Dec 24 23:20:02 2013 -0500

    remove current host restriction for uploads. post notifications on dl/ul completion. tweak alert box text

commit 30698c2c921ca2fd20ba22acd316a707b19970a1
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Dec 24 22:11:51 2013 -0500

    Implement successors to allow multiple uploads via drag-drop with a single session

commit 2041d0eea24a0685aa920896bc47b17d24ecbf51
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Dec 24 18:57:30 2013 -0500

    Reorg proj file

commit 90106d8d855ce9291de0011d4a14d8ec28c3cbd4
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Dec 24 18:48:30 2013 -0500

    Make uploads work

commit 44d2d12ee4844e91461877bbd3eb6112bc28ceb5
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Dec 24 12:14:37 2013 -0500

    Automatically clean up finished downloads in menu after 24 hours

commit 42ac7a47ffed1b5aa28a7177264e2ee68a53d3ab
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Dec 24 00:36:56 2013 -0500

    Improve context menu title

commit bc1797e884ba5957565abe5ea1380173f690acc6
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Dec 23 23:38:25 2013 -0500

    scp download is working pretty well!

commit aee842b9c4b931102ffc796a4ec99d2b7094b471
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Dec 23 18:00:26 2013 -0500

    Download is basically working

commit fae099352b084ed6fcb1a2b081b7bdd13406cf19
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Dec 22 17:33:39 2013 -0500

    It works!

commit 7e1defe830235df796f461b49decf4dccdb80d9b
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Dec 22 16:33:27 2013 -0500

    initial implementation of download/upload over scp, untested

commit d2051f09b70faeccf5a352cbea03cf18296b1ef3
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Dec 21 10:40:48 2013 -0800

    Add some plumbing.

commit 9c3e03b8a6224f36dcc6e5cf03a3d8d448adfcca
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Dec 21 10:34:47 2013 -0800

    Add NMSSH framework

commit ac4cd6da4ec9757eea10552f212e4154f74c1fe8
Merge: 427845c4 82cff375
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Dec 21 00:00:04 2013 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit bb89c89793863a99fcc203b15c05a5b8c893b0ca
Author: George Nachman <gln@google.com>
Date:   Fri Dec 20 16:49:29 2013 -0800

    Finish adding support for remote hosts, begin implementing download in PTYTextView

commit cd6a41f60dad1f34a6f8f3130169484f5a3d3f4f
Author: George Nachman <gln@google.com>
Date:   Fri Dec 20 14:25:44 2013 -0800

    Move working directory tracking into VT100Screen and out of PTYTextView

commit ee673576851a35866acf444daf3465628a85a38f
Author: George Nachman <gln@google.com>
Date:   Fri Dec 20 13:44:57 2013 -0800

    Rename marksAndNotes to intervalTree

commit 0e2ca60c226137a36ea371766b7ed9079eda8c1f
Author: George Nachman <gln@google.com>
Date:   Fri Dec 20 13:43:08 2013 -0800

    Prepare for interval tree containing lots of different things

commit 82cff3759688755fe6cf11a37ed6fb5a896116a4
Merge: c6408715 d668b677
Author: gnachman <gnachman+github@gmail.com>
Date:   Fri Dec 20 11:35:02 2013 -0800

    Merge pull request #154 from laurent22/patch-1
    
    Update README.md

commit d668b6778f7a70d4f8bed3929b4b696cf3812d31
Author: Laurent <laurent@pogopixels.com>
Date:   Sat Dec 21 03:26:41 2013 +0800

    Update README.md
    
    Typo

commit c64087151d26d207921a84e00e61cccb0bd8707b
Author: George Nachman <gln@google.com>
Date:   Fri Dec 20 10:36:18 2013 -0800

    Fix some warnings, minor code cleanup.

commit 66adce9dc5affdd7f4f52a077cce14561554cb1e
Merge: 439f87ae 3e7fa664
Author: George Nachman <gln@google.com>
Date:   Fri Dec 20 10:19:24 2013 -0800

    Merge remote-tracking branch 'origin/master'

commit 439f87ae38d04c4e26fd0c9bf9444965e38466af
Author: George Nachman <gln@google.com>
Date:   Fri Dec 20 10:18:22 2013 -0800

    Remove unused variables.

commit 427845c4019225d4b28159b0ae41eac8972ddb98
Merge: 9e035265 3e7fa664
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Dec 20 00:00:06 2013 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 3e7fa664e41f4ccea9aeaf55fef33194a0904924
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Dec 19 22:52:16 2013 -0800

    Add adhoc

commit 34203b72e9a80167db96379e9dba2b75eb677e8f
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Dec 19 22:50:37 2013 -0800

    Adhoc build 1.0.0.20131219_225024

commit 653946f641e726166acbfe37f360fbde23b449ca
Merge: d377d560 ef4589f0
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Dec 19 22:46:45 2013 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit d377d560164abba84b917f08f981bb494d114976
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Dec 19 22:46:34 2013 -0800

    Clear mach port when stopping event tap to fix crash on exit because of already released event tap

commit b1178c2c79c3c84601d31437d89e313cd101a89f
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Dec 19 22:45:24 2013 -0800

    Turn off event tap when changing workspaces

commit ef4589f02404075760e5bec44d0ffa8fb0639265
Author: George Nachman <gln@google.com>
Date:   Thu Dec 19 16:21:37 2013 -0800

    Increment badge on bell and on growl/NC notification

commit 9e0352659a4889afc74773086ed7f843965395c8
Merge: 8887dc9d 78c4c0d8
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Dec 18 00:00:07 2013 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 78c4c0d8cd294849438cbfe165efd213cda24088
Author: George Nachman <gln@google.com>
Date:   Tue Dec 17 14:33:11 2013 -0800

    Fix a bug where the mark cache wasn't using absolute line number

commit 6c6849106f22784aab308b358e6dbb15db022e37
Author: George Nachman <gln@google.com>
Date:   Tue Dec 17 14:28:21 2013 -0800

    Add gnarly band-aid over bug where divorced session somehow disappears from sessionsModel.

commit 3c0a25f2d0357e0850fcd47e7b171b49d60e282a
Author: George Nachman <gln@google.com>
Date:   Tue Dec 17 14:27:55 2013 -0800

    Log hidden and alphaValues in recursive description

commit 3834b2bf185afa2caa0c3ce3c5cdb68597a2f698
Author: George Nachman <gln@google.com>
Date:   Tue Dec 17 14:05:30 2013 -0800

    Add support for rendering box drawing characters with bezier paths so they connect properly

commit 06e8b569cbd48c67213385c9f87790fb2a8ee63e
Author: George Nachman <gln@google.com>
Date:   Tue Dec 17 10:28:40 2013 -0800

    Add dashes to hostname parts of smart selection http(s) URL regex

commit 28e6ae32c231ec739069f023b1063f545dc06745
Merge: c3a2bf05 98794acb
Author: George Nachman <gln@google.com>
Date:   Tue Dec 17 10:24:57 2013 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit c3a2bf05c810b97d614b1db30ee094d575097a24
Author: George Nachman <gln@google.com>
Date:   Tue Dec 17 10:24:43 2013 -0800

    Handle null return value from TISGetInputSourceProperty

commit 8887dc9d5177737bb2698adf7e773ba56efd01d9
Merge: 04fc1780 98794acb
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Dec 17 00:00:05 2013 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 98794acb71fcf8ed12bbb7e78c74e176f28679cb
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Dec 16 22:17:48 2013 -0800

    Make time between cursor blinks configurable

commit 9ca6944a2b9d36bc2ed27f9884e4a631bba08fa7
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Dec 16 22:00:32 2013 -0800

    Allow cmd-click to open links when mouse reporting is on.

commit f9fa1845d2e46ac880ef55e91a65806ef4c7732c
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Dec 16 22:00:01 2013 -0800

    Treat cmd-click when mouse reporting as alt-click for reproting purposes

commit ae403e0fd393b25728f7eaef7b9a17f68be9ee50
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Dec 16 20:21:41 2013 -0800

    Turn off notification sounds by default

commit 6c13a6c6a00c53cb82d0ee8dc0e62d18d20a4ae1
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Dec 16 19:28:01 2013 -0800

    Minor tweaks

commit c9ab566cbaf8f6cb5a127dc9957b5deabfbdefca
Author: Sam Doshi <sam@metal-fish.co.uk>
Date:   Sun Nov 24 11:38:10 2013 +0000

    Always return colors in NSCalibratedRGBColorSpace

commit 5748f187bb9436b7c907fefad444afb0ed375b84
Author: Sam Doshi <sam@metal-fish.co.uk>
Date:   Sun Nov 24 11:07:31 2013 +0000

    Make sure our fallback is an RGB color
    
    [NSColor blackColor] returns a color in NSGrayColorSpaceModel, which has
    no red, blue or green components, and will raise an exception if they
    are requested. Instead return black in NSRGBColorSpaceModel.

commit bc24b4596002a9f87c593493bcab56e911ffec6e
Author: Sam Doshi <sam@metal-fish.co.uk>
Date:   Sat Nov 23 20:42:30 2013 +0000

    allow the themes to specify if they want sRGB

commit 0296a3bd174ce4cbfbe72c95077c3bbc1bf2e440
Author: Sam Doshi <sam@metal-fish.co.uk>
Date:   Sat Nov 23 20:33:16 2013 +0000

    use decodeColor in _loadPresetColors

commit 1e3556366d207b374bef5c790a4b622145e20301
Author: Sam Doshi <sam@metal-fish.co.uk>
Date:   Mon Nov 18 09:08:03 2013 +0000

    use [ITAddressBookMgr encodeColor]
    
    Use [ITAddressBookMgr encodeColor] in _exportColorPresetToFile

commit b0ae0748d2cedce0b373d9c852630c0c4038d4e5
Merge: 686e883a 3146c283
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Dec 16 19:16:45 2013 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 686e883af61aa16d393f210c0d4e2afe3911bd00
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Dec 16 19:14:47 2013 -0800

    Turnon ThreeFingerTapGestureRecognizer by default, deprecrate ThreeFingerTapEmulatesThreeFingerClick hidden pref

commit 3146c28385481627c28578485f279f57303d8ab0
Author: George Nachman <gln@google.com>
Date:   Mon Dec 16 15:34:49 2013 -0800

    Remove hotkey window sliding animation because it's really unreliable on Mavericks

commit faf1aadaa99a9ae29d98dc2bd1bc3fb95dad0dad
Author: George Nachman <gln@google.com>
Date:   Mon Dec 16 15:30:04 2013 -0800

    Fix warnings

commit e375f0857bd17f197e39c12d075b90f7b338bc7d
Author: George Nachman <gln@google.com>
Date:   Mon Dec 16 15:09:37 2013 -0800

    Fix warnings

commit 2f0288e1cb35218327d9c8e6798f78aebd86ba7f
Author: George Nachman <gln@google.com>
Date:   Mon Dec 16 14:27:07 2013 -0800

    Fix compiler warnings

commit f1d5a22317550e07bd0f603a3d272e8ddadf6854
Author: George Nachman <gln@google.com>
Date:   Mon Dec 16 11:27:18 2013 -0800

    Show a watchful eye while 'alert on next mark' is active

commit 0b8f5f8dd957cae14ffd1d831de5a2925b7afbea
Author: George Nachman <gln@google.com>
Date:   Mon Dec 16 10:54:14 2013 -0800

    Add 'alert on next mark'

commit 04fc1780ed2af40572bb02ae3202f45a6600f159
Merge: 65a3b79b 984cef26
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Dec 16 00:00:09 2013 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 984cef2624c6c4745481133c3847e16c5755e899
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Dec 15 23:01:33 2013 -0800

    Fall back to notification center when Growl isn't available

commit fb845ffbc908ffbb3b7b57c35b881eab0f87a01e
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Dec 15 21:09:00 2013 -0800

    Fix broken applescript

commit 980d4522dc456c6e92331dd3c742e4c3d0573c82
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Dec 15 13:59:55 2013 -0800

    Save session bookmarkName in saved arrangement so that tab titles will be preserved

commit 65a3b79bcfdbc1f45b062b54075c7d46b360fcb4
Merge: 8e1a0f69 fcccd149
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Dec 15 00:00:06 2013 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit fcccd14938827ec64fd5846d6e989f6749d2e4e2
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Dec 14 23:26:29 2013 -0800

    Only highlight URLs in blue if the hostname is legit

commit 04be49e04b8c008904e9a567a46449232ad508bd
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Dec 14 19:02:32 2013 -0800

    Improve cmd-click to prioritize trouter files first, then smart selection actions, then URL-y things, requiring that they have a slash to be a URL

commit 8e1a0f6969c52655e88caa80ada35155af9e1394
Merge: 61dbe04f 897b2b91
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Dec 14 15:23:22 2013 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 897b2b91a9f028a23663a1822cef4f52f00721f3
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Dec 14 15:01:49 2013 -0800

    Add support for fake italics

commit 4193be28c517ce61dff222dfc2dd68514b6b5602
Author: George Nachman <gln@google.com>
Date:   Fri Dec 13 12:12:58 2013 -0800

    Handle backslashes and shifted keys correctly in DefaultKeyBindings

commit ef06add469973e3b267f45553c904dad0e073bd4
Author: George Nachman <gln@google.com>
Date:   Fri Dec 13 11:12:20 2013 -0800

    Add support for @ to mean command in key binding emulator

commit a0fa23a1025b6c3e2a4248c5bdcd3554446e34f4
Merge: e26e91da 20636cc0
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Dec 11 21:55:20 2013 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit e26e91daec665e012d76729b403b2c43106f8d09
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Dec 11 21:55:10 2013 -0800

    Move the drag threshold to the right a little. Issue 2663

commit 61dbe04f58d08bd68ab0a49c0889bc736f822205
Merge: 4fcb255f 20636cc0
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Dec 11 00:00:07 2013 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 20636cc0f5432b02d21a536e19132be110487636
Author: George Nachman <gln@google.com>
Date:   Tue Dec 10 14:01:36 2013 -0800

    Only underline and open URLs that are either valid Trouter paths or contain a slash and use URL characters. Fix bug where getWorkingDirectoryAtLine ignored the last entry in workingDirectoryAtLines. If trouter strips out everything in the path, leaving just the working directory, decline to open the working directory.

commit 8582314ef533a3acdfce041b9f04330321f774a0
Author: George Nachman <gln@google.com>
Date:   Tue Dec 10 13:10:36 2013 -0800

    Don't underline URLs when mouse reporting is on

commit 4fcb255f25b6ea109eb05f6789afb41936079223
Merge: 17efe3b2 faa4a27c
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Dec 10 00:00:09 2013 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit faa4a27c7f4191878f3d03ab0144541b3cea0103
Author: George Nachman <gln@google.com>
Date:   Mon Dec 9 11:57:43 2013 -0800

    Add NSSupportsAutomaticGraphicsSwitching to nightly plist

commit 17efe3b25e03bce8ec5db09d468cfb59afb7434f
Merge: 8638be44 b1776b27
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Dec 9 00:00:09 2013 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit b1776b27d436ed6122c0f10d3fa939db51e5982a
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Dec 8 22:41:00 2013 -0800

    Comment wrappedStringAtX:y:dir:respectHardNewlines:

commit f155a398d4ebe7e6f3103d9cc51a2011146de0ee
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Dec 8 22:37:33 2013 -0800

    Fix bug where we looked at the wrong line when looking for a wrapped string and wrapping around the right edge going forward

commit 773963cea8e9820498f1e78eabab25d3ebde33b9
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Dec 8 20:32:34 2013 -0800

    Change default to respect hard newlines in URLs and add hidden pref IgnoreHardNewlinesInURLs. Also fix bug where URLs starting on the first char of the line were highlighted wrong

commit 5da3dae27d71cb8a66c45f513936858ea55c8b63
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Dec 8 17:11:19 2013 -0800

    Add support for DefaultKeyBindings.dict, based on patch in issue 1630 by JTheAppleSeed

commit 00da0974b7f043a998ef252deca07f9036d5bb69
Merge: 51830df0 e68fee46
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Dec 8 13:19:51 2013 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 51830df054b005a199d1ad6af915a769ff30b5fe
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Dec 8 13:19:05 2013 -0800

    Add Copy with Styles, adapted from pull request 87 by dmayle@github

commit e68fee46269f42b234d57cbef0c2767ce0137dbd
Merge: 97893deb b7f10e08
Author: gnachman <gnachman+github@gmail.com>
Date:   Sun Dec 8 00:36:01 2013 -0800

    Merge pull request #151 from yusf/master
    
    Properly styled overlays

commit 8638be44206dc42b72f5c8ac53060478b51d7495
Merge: e6024004 97893deb
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Dec 7 16:06:56 2013 -0800

    Fix merge conflicts

commit e6024004d07a1938b9e47ef7988b649871eab86c
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Dec 7 15:30:43 2013 -0800

    Fix requestAccessibilityPermissionMavericks which got corrupted accidentally

commit 97893deb8fe2e12741f589f5daf6bff320ca4649
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Nov 27 19:01:05 2013 -0800

    Introduce annotations on selections (notes) and improve marks. See intervalTrees branch for the individual commits.

commit b7f10e08880a63a2a792acd7c60ba96c6a6d4114
Author: Josef Sahlberg <josefsahlberg@gmail.com>
Date:   Thu Dec 5 21:14:50 2013 +0100

    Properly styled overlays
    
    Made to look like the actual overlay styles such as OS X's native
    volume change alert.

commit d0d58f1367c26b0d3a56ab9adb2bb2c036ac3aac
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Nov 27 10:46:58 2013 -0800

    Guard against out of bounds access to lineData and lineInfo

commit 01e40466476cae1fa8d00481cbbfad694346afb7
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 24 21:15:06 2013 -0800

    Remove checks for Lion, Snow Leopard, and Leopard

commit e9b1ff010a00f0662b4a9785f876327eea6e16ce
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 24 21:07:47 2013 -0800

    Finish removing future methods

commit 38589d78dd4fe2f44980e19e60b7882fe7970c3b
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 24 20:59:13 2013 -0800

    Start getting rid of future methods

commit 66af2af4ea977ffec97bf56c4ab7254d9ba6d7ef
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 24 18:25:26 2013 -0800

    Remove BLOCKS_NOT_AVAILABLE

commit 89034f9f53ce9d7e4f424ff7e4af7f0465c3e852
Merge: 7d63850c a9ce5b20
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 24 18:23:27 2013 -0800

    Big merge

commit 7d63850c3e017a87aa5e30a8cfccbbda3552e3bb
Merge: 9d05f533 88f9bd79
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 24 18:13:29 2013 -0800

    Merge commit '88f9bd79712bfeb7638aaed558c2f09288c7d84a'

commit 9d05f5334bd47cdcf55a7e73c3122c0412555db5
Merge: 6e2f29d4 c399c880
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 24 18:13:01 2013 -0800

    Merge commit 'c399c8803a2504d710fa6e1e7dc34777d5a1e911'

commit 6e2f29d4f0cd91b4f5480db53ce218bc13ca137c
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 24 18:08:58 2013 -0800

    Set NSSupportsAutomaticGraphicsSwitching=true

commit ae902ae2b15f6566b7a4230c10bcec2189e82ab8
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 24 17:27:25 2013 -0800

    Reorganize PreferencePanel.m into some semblance of sanity

commit 360340aeca3fea78e00f2cdc54abb4701c185771
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 24 15:50:01 2013 -0800

    Clean up list of color keys in _exportColorPresetToFile

commit bb41cd04675d71175cc2fd6c9f28fe8e7da853e7
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 24 15:44:15 2013 -0800

    Reorg PrefPanel some more.

commit c519b5e70f56fdead74610b764aef53f5928a661
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 24 15:36:17 2013 -0800

    Remove incomplete and unneeded -[PreferencePanel dealloc]

commit 4b5f7600fe0de3bbab56eea13fe7e75af73fd6c8
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 24 15:34:20 2013 -0800

    Clean up PreferencePanel factories

commit 11d395f0a247f10f5897e59fd1526b834fa1c39a
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 24 15:25:04 2013 -0800

    Middle click on a tab closes it (bug 1909)

commit 29e1e2689053218475bc2e3d69992ae6df0007b4
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 24 12:36:24 2013 -0800

    Start cleaning up preference panel

commit f0cd232f955a26fd5be8ea8c0195181a8521164e
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 24 12:31:10 2013 -0800

    Move core files into Core group in project

commit 6ef55196b8953a0535480a6b409722e3d2b93764
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 24 12:26:44 2013 -0800

    Reoganize project file

commit 45920989571d1e5a51fe11c412dd06d6d2e3d00d
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 24 12:19:31 2013 -0800

    Fix analyzer warning about memory leak

commit 799c83da2da9faf5d9f8fcc5f251fb81b09c514e
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 24 12:18:12 2013 -0800

    Fix up analyzer warnings

commit 9112e94a635af63aac969eb568fe083a68847433
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 24 12:07:02 2013 -0800

    Remove unused variables

commit 7f2e6a62fe6b060f01c9176d4efe70b191619ff4
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 24 12:06:58 2013 -0800

    Work around OS bug where NSToolbarFullScreenWindow is key and PTYWindow is main by treating that case specially.

commit a9ce5b2087730d1014ab2d8e1fc7d746bd587700
Author: George Nachman <gln@google.com>
Date:   Fri Nov 22 15:21:24 2013 -0800

    Move hotkey window stuff into its own file

commit 88f9bd79712bfeb7638aaed558c2f09288c7d84a
Author: George Nachman <gln@google.com>
Date:   Fri Nov 22 11:36:47 2013 -0800

    Clean up the many versions of launchBookmark

commit c399c8803a2504d710fa6e1e7dc34777d5a1e911
Author: George Nachman <gln@google.com>
Date:   Fri Nov 22 10:46:55 2013 -0800

    Fix bug 1839

commit d14521b919db15e721907e9082743cb97d14431d
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Nov 21 23:25:20 2013 -0800

    Split LineBlock and helper classes out of LineBuffer

commit 4ac996656817670225e29c872f18bd2f952a86ae
Merge: 9169b19d ae3bb93b
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Nov 21 23:11:21 2013 -0800

    Merge branch 'note2'

commit ae3bb93b339c83762165422a21202bc6c7a12258
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Nov 21 23:11:10 2013 -0800

    Rename initFind, fix up files in project

commit 1536b6d9c5f0b2db25eda771809aa03dae2e26c4
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Nov 21 23:04:00 2013 -0800

    Clean up null trimming code in selection resizing

commit 14db07a37ef0696188748aa72c49dbe02929174b
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Nov 21 22:45:53 2013 -0800

    Fix bug where selections were messed up on resize

commit 8d2e08f415a27351f394de35a921746b064439ce
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Nov 21 22:26:38 2013 -0800

    continue modernizing line buffer position

commit 1da31f445e14423b6c43cea81702117233faf7f7
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Nov 21 21:33:22 2013 -0800

    Add sizeToFit to notes

commit d6a1ff1fdb548a122d7980b821f767585ab7bb87
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Nov 21 21:06:23 2013 -0800

    Don't auto hide terminal-created notes. Remove old code ref'ing absLine.

commit ec597488679c008b1aa394cba9abc03db28a57c6
Author: George Nachman <gln@google.com>
Date:   Thu Nov 21 17:42:04 2013 -0800

    Use TrackedObject protocol. Add LineBufferPosition. Fix tests.

commit 9169b19db56037609a5c63ebec3fe812af70a7da
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Nov 20 23:22:34 2013 -0800

    Fix some warnings by making xib's build on deployment target and later

commit 0e250b7ca0a44b6df850a6864d2803e41553838f
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Nov 20 23:21:38 2013 -0800

    Use build active architectures

commit 6e42444cba5603d622b65884debb3ad503c845e1
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Nov 20 23:20:37 2013 -0800

    Remove spurious error message when last tmux window detaches

commit 7039e4522f011742798a5c768146ac9252d7a949
Merge: 2899cdc5 c2f079d0
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Nov 20 23:18:03 2013 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 2899cdc5fe9a80db6aa7ee317fac184b2e4c89dd
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Nov 20 23:17:46 2013 -0800

    Fix assert in debug builds

commit 8133b94480b71e66fa3a5bf5f42b437cd56f32e1
Author: George Nachman <github.xyz@georgester.com>
Date:   Wed Nov 20 23:15:44 2013 -0800

    Print tmux errors on unexpected exits

commit c2f079d07330cfab454d9b60df34b1b04f2d3b1f
Author: George Nachman <gln@google.com>
Date:   Wed Nov 20 20:10:54 2013 -0800

    Start to deal with note positions changing when the window is resized. Not done, see todo in updateNoteViewFrames.

commit cf467ca0c9472b35dcb3446409c96c622ef35728
Merge: efe223ad 56aee60b
Author: George Nachman <gln@google.com>
Date:   Wed Nov 20 19:58:26 2013 -0800

    Merge it note branch

commit 56aee60bed408b5f7a465b34bce230d76ad596d0
Author: George Nachman <gln@google.com>
Date:   Wed Nov 20 19:56:27 2013 -0800

    Remove call to set NSApplicationPresentationFullScreen, which isn't needed (the OS sets that flag when you enter fullscreen)

commit d8d5dd1fdde86b471678c6f8123a5e6cc548583a
Author: George Nachman <gln@google.com>
Date:   Wed Nov 20 19:52:15 2013 -0800

    remove call to super loadview that logged an error

commit 095a629e242a44efa67270439411e42ad013740c
Author: George Nachman <gln@google.com>
Date:   Wed Nov 20 19:48:38 2013 -0800

    Fix a bunch of notes bugs, change how view controller is accessed from view

commit 05a105d2ea596d638d2eddbc1c47e19b0a4ed1d4
Author: George Nachman <gln@google.com>
Date:   Wed Nov 20 16:53:45 2013 -0800

    Fix up memory management of notes

commit 45404083e9e5b942fc0aa75ea5c9ba936bc78f3c
Author: George Nachman <gln@google.com>
Date:   Wed Nov 20 15:45:27 2013 -0800

    Make notes fade when toggled

commit 951e713b7c51f0a434d209a82bcdf46842596d74
Author: George Nachman <gln@google.com>
Date:   Wed Nov 20 15:32:35 2013 -0800

    Make notes hidable

commit 1f72116364da866b60427f54e5880e86c2e58feb
Author: George Nachman <gln@google.com>
Date:   Wed Nov 20 15:04:14 2013 -0800

    Make notes arrows moves when more space becomes available, set a minimum size on notes

commit ef3e884dae4b600f2ba8aff1ceb9b6c290cfcebf
Author: George Nachman <gln@google.com>
Date:   Wed Nov 20 14:48:14 2013 -0800

    Flexible anchor position

commit 0ff32d92bd03a4290f1b12d2c94486a229cc36dd
Author: George Nachman <gln@google.com>
Date:   Wed Nov 20 12:20:26 2013 -0800

    Fix dragging bottom and right

commit be9ab1b4ec0272f2ba1c514d68d9d65957e45117
Author: George Nachman <gln@google.com>
Date:   Wed Nov 20 11:56:30 2013 -0800

    Make bottom and right of notes draggable

commit b9024aa3e19324bb3deef5fd0f217bb3b7959f25
Author: George Nachman <gln@google.com>
Date:   Wed Nov 20 11:25:22 2013 -0800

    Use text view, add shadow

commit efe223ad68f43f5413f8fcbd293da62a6bd29bcd
Author: George Nachman <gln@google.com>
Date:   Tue Nov 19 17:01:47 2013 -0800

    Add hide menu bar in fullscreen option, which converts prefpanel.xib to xcode 5 format.

commit ae878553feadc0bf0168bdbd22dc131038d52c1c
Author: George Nachman <gln@google.com>
Date:   Tue Nov 19 16:49:11 2013 -0800

    Finish clean up

commit 1e9961264be953bf8317d123fbbb55c81d7350ef
Merge: 3c407774 ae70622d
Author: George Nachman <gln@google.com>
Date:   Tue Nov 19 16:23:18 2013 -0800

    Try to resolve merge conflicts

commit 12b5251a68411346cb60c8b5ae72831697ee6bbd
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Nov 18 23:19:01 2013 -0800

    Add rudimentary notes

commit 3c407774308ab3f1ad61976bb886c111493cfa98
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Nov 18 21:47:51 2013 -0800

    Get timestamps basically working

commit ae70622d37470ea9ac56c2192b8b329a4c60b93e
Author: George Nachman <gln@google.com>
Date:   Mon Nov 18 11:15:07 2013 -0800

    Add missing call to restore graphics state

commit 040a8dd2b7895b3c9d9309d8d32692a7645505f3
Author: George Nachman <gln@google.com>
Date:   Mon Nov 18 10:51:13 2013 -0800

    Improve debug logging to have header/footer, move recursive description into its own file

commit 1abd8542aefd778b53d427a5618b34294a0adbb6
Author: George Nachman <gln@google.com>
Date:   Mon Nov 18 10:24:48 2013 -0800

    Fix bug 2716 where users with dots in the thousands place would lose most of their lines of scrollback

commit 221c56867546ab58e4f6495879a2647b90a5a075
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 17 14:44:04 2013 -0800

    Record timestamps

commit 67a0c8339ac235aa921fd640ea9be8e3724ed65e
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 17 13:10:31 2013 -0800

    Move dirty tracking into a new VT100LineInfo class. Fix a few bugs discovered in the process

commit 6998e16c8695190c37a685934974a03855e3cbea
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Nov 16 13:55:53 2013 -0800

    Remove leopard support, fix signing, move to nightly build infrastructure

commit 68e4ca008647556a2f24669215940ec4b3f5e132
Merge: 01a8d650 0954293f
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Nov 16 12:50:30 2013 -0800

    Merge branch 'gridTry2' of https://github.com/gnachman/iTerm2 into gridTry2

commit 01a8d650feebcfe2e335103d77a4d1313c1ee23f
Author: George Nachman <github.xyz@georgester.com>
Date:   Sat Nov 16 12:50:21 2013 -0800

    Don't send reports when you're a tmux client because tmux already responds to DA, SDA, etc.

commit 0883c80760801fd3fb23c596c57ad46a5c2b0343
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Sat Nov 16 12:20:14 2013 -0800

    1.0.0.20131116-legacy

commit 1fdc644b8bb9e68472f541ba7bb5a932f6a71c17
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Sat Nov 16 12:17:33 2013 -0800

    Add missing declaration

commit 5eb1a122d2f469bfddee789b752618e5f8c4fe1d
Author: George Nachman <gln@google.com>
Date:   Wed Oct 30 22:50:36 2013 -0700

    Fix bug where commas in the number of scrollback lines confuses intValue

commit 8c8bd8c5886229de0a9bb534f016a18ca5b63c18
Author: George Nachman <gln@google.com>
Date:   Wed Nov 13 16:10:52 2013 -0800

    Add debug logging for font size change

commit a6c3d81387e5fb5681980a111db92b98bcca0b62
Author: George Nachman <gln@google.com>
Date:   Wed Nov 13 14:35:52 2013 -0800

    Roll hotkey window off entire screen, not just screen's visible frame. Fixes bug 2638

commit 6f8987fbb1b2cbc604a5e6878c82a206719f409f
Author: George Nachman <gln@google.com>
Date:   Wed Nov 13 14:10:55 2013 -0800

    Add some logging to debug 2666

commit 6a86a6c52850a81e680f91a14cffd7ec71bf233a
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Nov 12 22:41:55 2013 -0800

    Fix bug 2658 where making a window traditional fullscreen in mavericks would cause another iterm window to become key

commit b57293ca66571c14376bac3501a043b25dbfcf24
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Nov 12 21:52:10 2013 -0800

    Connect to hide menu bar pref

commit 73c778fa39ddd8429e9f45d3ec16194ebb9db36d
Author: George Nachman <github.xyz@georgester.com>
Date:   Tue Nov 12 20:38:28 2013 -0800

    Reset cursor when changing screen size

commit 95b213e1a3e59c50e2234818da2bd1bd53a36e92
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Tue Nov 12 20:37:44 2013 -0800

    Add hide menu bar option

commit 9d8e32802b234c833bd290b051a572d2c67cb0c2
Merge: 75f6d1e7 eee4f861
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Tue Nov 12 20:24:52 2013 -0800

    Merge branch 'v2' of https://github.com/gnachman/iTerm2 into v2

commit eee4f861c4dc7e44efe120921f440132f261aab6
Author: George Nachman <gln@google.com>
Date:   Tue Nov 12 12:42:30 2013 -0800

    Fix bug 2694, which crashes when a dimmed color happens to be the same as a previously used color, and didn't get retained by CRunStorage because it used value equality instead of pointer equality.

commit d8b5f5b2adff16212349d284b09d9b79f4896d46
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Nov 11 22:27:19 2013 -0800

    Fix move cursor left/right behavior to pass vttest 1.1, also fix redrawing cursor when it exits the right margin

commit f5bd2cb8cf6eeeafd31efad50258fb71153d5fc5
Merge: 0232fb1a 9e9adcf3
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Nov 11 21:24:20 2013 -0800

    Merge branch 'v2' of https://github.com/gnachman/iTerm2 into v2

commit 0232fb1aa0f76d6d96781e00706e2d37410b3623
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Nov 11 21:24:12 2013 -0800

    Enable applescript writing to tmux sessions

commit 0954293fc1cf435661b3e3a02c94090aa05af7b6
Merge: b845a2e6 52941309
Author: George Nachman <gln@google.com>
Date:   Mon Nov 11 17:19:00 2013 -0800

    Merge remote-tracking branch 'origin/gridTry2' into gridTry2

commit 9e9adcf3831629031903dca13c4990f9f8ef7444
Author: George Nachman <gln@google.com>
Date:   Mon Nov 11 13:26:36 2013 -0800

    Fix a bug where smart selection would include too much stuff before the text to select when there's a soft line break followed by a hard line break followed by the text that should be selected. Drop everything prior to the hard line break from consideration for smart selection.

commit a4125567a303e80b5cd4799d720f9807b2a9471b
Author: George Nachman <gln@google.com>
Date:   Mon Nov 11 13:18:45 2013 -0800

    Fix bug where end of smart selection was one place too early

commit d7499d6c6b81168d080d1ff600100c38e8a69f86
Merge: 920223f9 08eb6927
Author: George Nachman <gln@google.com>
Date:   Mon Nov 11 10:57:46 2013 -0800

    Merge branch 'v2' of https://github.com/gnachman/iTerm2 into v2

commit 920223f9ee537aa501f2e594bba7dc04dbcece23
Author: George Nachman <gln@google.com>
Date:   Mon Nov 11 10:57:38 2013 -0800

    Fix assert when right-clicking on a line with a lot of double width characters (or, presumably, certain kinds of combining marks) because we computed their screen positions incorrectly.

commit 5294130934c027257ce67502d8a6893c23134a6b
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 10 22:34:39 2013 -0800

    Add support for : as a subparameter delimiter in CSI for CSI 38 and 48. See bug 218 and ISO/IEC 8613-6 Section 13.1.8 (page 41 of the 1993 edition, available for free at http://tinyurl.com/lfhwgkb (itu.int)

commit 75f6d1e723b2998468c5f6acfb558d1ecd259c20
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Sun Nov 10 19:06:17 2013 -0800

    Fix legacy build

commit 4a3cb4e41be58b270c7365815d3efaa9a10b11dd
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Sun Nov 10 18:45:28 2013 -0800

    Avoid referencing 10.9 symbols in legacy builds

commit 08eb692720a083c021c9d7077f9e3e25dcec77e8
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Nov 10 18:13:13 2013 -0800

    x-with-two-combining-marks

commit f054a8aa199b664eb5f6f1e3cfaf9066d17d55d8
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 10 18:03:19 2013 -0800

    Use CTFontDrawGlyphs instead of -[NSAttributedString drawWithRect:options] for complex glyphs (bug 2639)

commit 29c482b3b15224d1448041b1be444699784b393f
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 10 17:39:46 2013 -0800

    Add missing quotes to test for private key

commit 6022d5fb9869e8404337c81145b3ae2fbbcb2ae2
Merge: 021a366c ee2d830e
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Nov 8 22:03:56 2013 -0800

    Merge branch 'v2' of https://github.com/gnachman/iTerm2 into v2

commit 021a366c140fdc308bf7a0a458d5b74a10cb2f4f
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Nov 8 22:03:41 2013 -0800

    Use older syntax for array derference

commit ba8cc34cecb952316d5606b1011b87f3f56dab0c
Author: George Nachman <github.xyz@georgester.com>
Date:   Fri Nov 8 22:01:26 2013 -0800

    Add a backup to Gestalt since it seems to be failing some times. Fix IsMavericksOrLater, which actually tested against 10.7. Add a delay before asking for permission to control your computer since it appears under the window

commit ee2d830e0759b06ee843466e4b98d7a82d525990
Author: George Nachman <gln@google.com>
Date:   Fri Nov 8 14:20:01 2013 -0800

    Add test for missing private key

commit b845a2e69ebfcb27f95e5b4c89476004d0a51542
Merge: 917589ca f1ba08dd
Author: George Nachman <gln@google.com>
Date:   Fri Nov 8 14:00:51 2013 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2 into gridTry2

commit 5df7162251f0bd3641e1baf5882af0146d63e897
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Fri Nov 8 10:41:39 2013 -0800

    Fix problems with code signing

commit 320bd366b1e97051ed29bd4232268a2f26d467ea
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Fri Nov 8 10:41:06 2013 -0800

    Fix warnings and errors for legacy build

commit 7278b006200b8e360262313ff911fd31a1cab6ac
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Nov 7 23:39:51 2013 -0800

    v1_0_0_20131106

commit ffa3270a89fef96900adf55f0df2fba1dd31d2f7
Merge: 29b78900 744ffe46
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Nov 6 09:55:37 2013 -0800

    Merge branch 'v2' of https://github.com/gnachman/iTerm2 into v2

commit 29b789007982173e92a157d0151601c71f3242bb
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Nov 6 09:55:31 2013 -0800

    Redraw immediately in instant replay

commit f1ba08dd5fb6ec5ec220d1f241b3f28cc3d1ddee
Merge: 922f450d 503b6dc7
Author: gnachman <gnachman+github@gmail.com>
Date:   Tue Nov 5 21:25:20 2013 -0800

    Merge pull request #146 from cgrushko/master
    
    Add "clear" command to iTerm's AppleScript dictionary.

commit 917589cac5de4be7d5ab049d3ccc8cc1d28a7835
Author: George Nachman <gln@google.com>
Date:   Tue Nov 5 00:08:44 2013 -0800

    Use latest SDK and set deployment target to 10.7

commit fd2cba80c979d831c747f01b2fc7133d0599917b
Author: George Nachman <gln@google.com>
Date:   Tue Nov 5 00:08:04 2013 -0800

    Clean up project file

commit 67746fc55c4e3167f771f29cefffde1e42ca2444
Author: George Nachman <gln@google.com>
Date:   Tue Nov 5 00:05:45 2013 -0800

    Add a few more test files

commit daac4954afdf8366c4ca14d4c4df4eab0b654fc0
Author: George Nachman <gln@google.com>
Date:   Tue Nov 5 00:05:04 2013 -0800

    Add files with escape codes to facilitate testing

commit f4e2f5423e67834e7375b3ce5de7dca357025adc
Author: George Nachman <gln@google.com>
Date:   Tue Nov 5 00:03:34 2013 -0800

    Add regression tests for the latest bugs fixed

commit baf325b00405c4addd4f3fb0a34edc50d850b849
Author: George Nachman <gln@google.com>
Date:   Mon Nov 4 23:41:11 2013 -0800

    screenShouldInitiateWindowResize was returning the opposite of the right answer. Take an empty directory to the CurrentDirectory command to mean the child job's pwd. Make screen coordinates relative to the visible frame. Fix bug where screenWindowName recursed forever. Fix bug where EndPaste did nothing. Delete dead terminalResetTopBottomScrollRegion. Make terminalBackTab take a numerical argument. Fix bug where cursor reporting was off by one in both x and y. Fix bug where reported window size swapped width and height. Add missing cases to switch statement. Fix tests that broke when showing alt screen began clearing the screen.

commit 744ffe4636440378679bed51cb8ee8d71f3c3d43
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 3 22:38:14 2013 -0800

    Use AXIsProcessTrustedWithOptions to get accessibility permissions

commit 9b0e3ef3cf2242e12190b8de75d3e1e4e25f931f
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 3 21:49:58 2013 -0800

    1.0.0.20131103

commit 922f450d7c2e0501da9cc8d36bcff648cc7a27bd
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 3 21:36:20 2013 -0800

    Change deployment target to 10.7

commit 9e198546880b5bf10c291f1d06a134b59943182f
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 3 21:34:08 2013 -0800

    Fix bug where we incorrectly call an array a dictionary, breaking the build

commit d509ba22b6a75b57c92d04edb1131675f1edffd5
Author: George Nachman <github.xyz@georgester.com>
Date:   Sun Nov 3 21:22:02 2013 -0800

    Change instructions for enabling access for assistive devices for 10.9 (and have it open the right part of prefs using scripting). Switch to 10.9 SDK.

commit 10f94145c974b9f2955839efe6747448aa3d4550
Author: George Nachman <github.xyz@georgester.com>
Date:   Thu Oct 31 19:04:26 2013 -0700

    Hide menu bar on all screens in Mavericks

commit f69a4a12e1dbcec2378fc271e7afe5cddeaf0615
Author: George Nachman <gln@google.com>
Date:   Wed Oct 30 23:19:44 2013 -0700

    Fix an edge case for tabs--when no tab stops are set, move to the first or last column, but ignore multiple consecutive tabs

commit 97f3125df8de51acf726a3e03b0adb25befa3f9a
Author: George Nachman <gln@google.com>
Date:   Wed Oct 30 22:50:36 2013 -0700

    Fix bug where commas in the number of scrollback lines confuses intValue

commit d6f3446f93456e87a82a4e9e25373d2daa3a55f7
Author: George Nachman <gln@google.com>
Date:   Wed Oct 30 22:40:27 2013 -0700

    Fix bug where DVR frames were encoded incorrectly. Work around bug where sometimes strings report a crazy (negative) length, causing search to go into an infinite loop in line buffer. Fix bug where divisionView was in the wrong place when a bottom bar is present.

commit c62fdf61bd35a08b292af3ec8205b43ba8009861
Author: George Nachman <gln@google.com>
Date:   Wed Oct 30 00:13:06 2013 -0700

    Fix tmux state restoration in general. Handle all values in tmux state dictionary. Don't keep a saved cursor position per grid, but only one global one for DECSC, and use the grid's cursor position to restore it from DECRST 1049 (like tmux). Fix bug where tmux screens were restored improperly (max lines to restore was wrong). Don't copy primary grid to alt grid when showing alt grid the first time. Fix DECRC/DECSC which didn't actually save/restore the cursor position, only textual attributes.

commit 2bec1a336d49021541257dc70f3e97cef15667fc
Author: George Nachman <gln@google.com>
Date:   Tue Oct 29 12:22:22 2013 -0700

    Add case for XTERMCC_SET_KVP to avoid logging bug?? message

commit 38a238af1d07a15c5b19c21750d1dbf3793d00f2
Author: George Nachman <gln@google.com>
Date:   Tue Oct 29 12:22:00 2013 -0700

    Remove screenWindowScreen

commit 81170ca1d53c852d37e5db7133ec9e6c9102df38
Author: George Nachman <gln@google.com>
Date:   Tue Oct 29 12:21:43 2013 -0700

    Fix bug where setAltScreen did nothing when the altGrid wasn't allocated. Add -resetCharset.

commit bc0477053fa7940d64849dc2df6f3593b19040f0
Author: George Nachman <gln@google.com>
Date:   Tue Oct 29 12:20:48 2013 -0700

    Remove bogus break statement in tmux history parser

commit 9c1a99f87a2bd9bce0db5126e1386d4e52fd4114
Author: George Nachman <gln@google.com>
Date:   Tue Oct 29 12:20:32 2013 -0700

    Draw an extra char left and right of the dirty region to account for unexpectedly wide chars

commit 730a235a68f43d3c12ee0f824907ad7e0d5ec2fd
Author: George Nachman <gln@google.com>
Date:   Tue Oct 29 12:20:12 2013 -0700

    Use screenWindowScreenFrame instead of no-long-existant screenWindowScreen.frame

commit 5831090f03b87909728c5ecd21e3e25998780aef
Author: George Nachman <gln@google.com>
Date:   Tue Oct 29 12:19:49 2013 -0700

    Fix bug in LineBuffer that released the find context's results incorrectly

commit 71651302a36893cb95724c013f53fcc70b8c20ab
Author: George Nachman <gln@google.com>
Date:   Tue Oct 29 12:19:30 2013 -0700

    Fix bug in expose where the findcontext was only allocated after setFindString: was called

commit aa676ec4d2cb9432ad66610f12e841cb1911ea98
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Oct 28 23:15:41 2013 -0700

    Add tests for terminalScrollUp

commit 3a256101d6679a5194efb6dad9f9d1072f0cd4e3
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Oct 28 23:09:25 2013 -0700

    Fix bugs in terminalSetPIxelWidth and write tests for it.

commit 99468f90ccf9d7516aa83603e7fbc5bac8a59144
Author: George Nachman <github.xyz@georgester.com>
Date:   Mon Oct 28 22:51:01 2013 -0700

    Fix bug where scrollRect:downBy: would wrap around and copy lines from the top of the buffer down to the middle/end. Fix bug where terminalDeleteLinesAtCursor did all kinds of things wrong. Write tests for it.

commit 06e4ec0a9e773e7e6e37c6af69ae0140f27b314e
Author: George Nachman <gln@google.com>
Date:   Mon Oct 28 13:11:58 2013 -0700

    Fix VT100Grid scrollRect:downBy: to clear up continuation marks. Modify insertBlankLinesAfterCursor to do nothing if the cursor is outside the scroll region (like xterm), and also to scroll only the region below the cursor. Remove duplicate screenShouldSyncTitle in delegate. Add continuation mark tests to VT100GridTests testScrollRectDownBy.  Add tests for terminalInsertBlankLinesAfterCursor.

commit 0b1ca198d467e764f72b2cca938adfa2a50891c8
Author: George Nachman <gln@google.com>
Date:   Mon Oct 28 11:12:01 2013 -0700

    Add tests for terminalInsertEmptyCharsAtCursor

commit c046f54f153cdde0d315384aa7a65289880e2f9a
Author: George Nachman <gln@google.com>
Date:   Mon Oct 28 10:56:21 2013 -0700

    Add tests for setting title/name

commit 92b29fcd8a47ac420f426e42e961744f5033f4c4
Author: George Nachman <gln@google.com>
Date:   Mon Oct 28 10:38:29 2013 -0700

    Add tests for terminalEraseCharactersAfterCursor

commit dd96606d89aab03631b1d53abd02f06f13be5fad
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Oct 27 22:49:42 2013 -0700

    Test set width

commit 15bdfdbdbbc188f7119110e0617812438a59c3a9
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Oct 27 22:36:59 2013 -0700

    Test soft reset

commit 25bc734b5566c78573d72dfc0af3e451a4a5eef1
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Oct 27 22:13:43 2013 -0700

    Add test for reset preserving prompt

commit b61c4365ee6e43f2e0096d0611b0f7d445c5b497
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Oct 27 22:02:09 2013 -0700

    Test index/reverse index

commit 6b37eb720022625359567a6d44e772d84237f933
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Oct 27 21:12:50 2013 -0700

    Add terminalEraseLineBeforeCursor

commit 2478deade768aa53eb38e58e86e16648f71e24ff
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Oct 27 21:06:03 2013 -0700

    Add tests for ED (erase in display) and fix bug where an extra char was erased in BEFORE mode

commit 669d5fc2a2c37da92c74c505057cd0cea575c7d4
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Oct 27 20:47:06 2013 -0700

    Add terminalSetScrollRegionTop

commit 503b6dc7b3fd486da438c4fe3d7b04ee26e1d6b3
Author: Carmi Grushko <carmi.grushko@gmail.com>
Date:   Sun Oct 27 23:00:04 2013 -0400

    Add "clear" command to iTerm's AppleScript dictionary.

commit 9e1b412c61b79e0cd0af10ca56b524239d32d87c
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Oct 27 19:20:09 2013 -0700

    Add testSaveAndRestoreCursorAndCharset

commit 13f3ab635c3c96ef4346aaf8099e094b1656df98
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Oct 27 18:39:56 2013 -0700

    Fix bug in VT100Grid that let you put the cursor too far down or right by using setCursorX/Y. Fix bug in VT100Screen that used the wrong limits for the cursor's y position in origni mode. Add tests for terminalMoveCursor.

commit 1a8be1a1dd992baa7121d472c34c4fb42ff35cb0
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Oct 27 18:29:48 2013 -0700

    Fix bug where backtab while on a tabstop did nothing. Add tests for tab stops.

commit 07a677a4c76ab30c4d1986ad1b16027855658b50
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Oct 27 18:07:46 2013 -0700

    Only set left/right margin if left/right margins are enabled. Add testBackspace.

commit 5ec3b77521748bd2f87b33254983e93687c14e26
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Oct 27 17:37:14 2013 -0700

    Break screen's dependence on PTYTask. Fix screenResizeToWidth, which conflated cells and pixels. Reduce screen's knowledge about how windows are lain out. Remove vt100screen's knowledge of NSScreen. Remove terminalIndex, which was doing the wrong thing I think. Don't set the window's width in fullscreen (but also don't have the side-effects of setting width). Don't print a screen dump when printing an empth buffer.  Remove not-too-useful kMaxLinesToScrollAtOneTime. Fix terminalScreenWidth/HeightInCells to be more accurate. Redraw screen when switching to alt grid. Fix bug where endExtends wasn't initialized. Move VT100TerminalDelegate into its own file. add testPrinting

commit 4ac5762294c7c9c500fd0670b7155be144bd69b1
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Oct 26 14:46:14 2013 -0700

    Add dvr test and should send contents change notification test

commit 3a6845719a316bdf05ff8e08ee6443b7495cfd08
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Oct 26 14:39:24 2013 -0700

    Add testIsDirtyAt

commit 2e03697d1aba0ee40dd509f13b24b2981cfb9a11
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Oct 26 14:24:20 2013 -0700

    Move -shell into PTYTextViewDelegate and out of PTYTextViewDataSource. Fix VT100Screen to respect saveToScrollbackInAlternateScreen and write a test to verify it.

commit b422865e13096469c09e7d2ccc9530b802ab5246
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Oct 26 13:34:51 2013 -0700

    Fix tests to more accurately test tail find.

commit 4d040ad241ac67177561b9a4309562c986fb3e7d
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Oct 26 13:08:34 2013 -0700

    Move max time to search into FindContext. Change GlobalSearch to use continueFindAllResults instead of continueFindResultAtStartX (TODO: test it well!) and remove that API.

commit b95dc19e86c8ff9ae573eaf55497192a8844f519
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Oct 26 12:48:06 2013 -0700

    Make FindContxt into a proper object

commit 8d9a419dc468637638287f479eac7cbc6e9e6fbe
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Oct 26 11:13:39 2013 -0700

    Fix busted project

commit c294cba80a98d27b565824159972066b7e4ea53b
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Oct 26 11:11:41 2013 -0700

    Add screenMaxTimeDurationToPerformFind to facilitate testing. Flesh out SearchResult a little. Fix a bug where starting a search beyond the last nonnull character failed. Add some tests for searching vt100screen.

commit 59563153a6254b968b8d16f535c0ea226baa2f22
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Oct 24 21:43:12 2013 -0700

    Add testScrollbackOverflow

commit 9b85bd3ca3e7436f2b60690f78fedc7567c2bacc
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Oct 24 21:39:31 2013 -0700

    Add tests: testNumberOfLines, testCursorXY, testGetLineAtIndex, testNumberOfScrollbackLines

commit f30bcae163dd296b4e7f5a19f1a08dc1ccb4f6b7
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Oct 24 20:50:05 2013 -0700

    Add tests for storeLastPositionInLineBufferAsFindContextSavedPosition and restoreSavedPositionToFindContext

commit daff103ac4c4895b9e5b17dfffe4485c9297b745
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Oct 23 23:52:26 2013 -0700

    Restore continuation marks when restoring DVR frame. Clean up VT100Screen.h, and remove some methods only used in one place. Add testSetHistory, testHighlightTextMatchingRegex, testSetFromFrame

commit 0766aaa6e26639dc13ee93b82d74dc6e8a396e12
Author: George Nachman <gln@google.com>
Date:   Mon Oct 21 22:55:10 2013 -0700

    add tests for linefeed

commit 66800fe55698a9a8c75fc55e1e97067d1bc753bd
Author: George Nachman <gln@google.com>
Date:   Sun Oct 20 22:51:25 2013 -0700

    Finish writing tests for appendStringAtCursor

commit b8cdb74f1ee0bb4be70ab2b1cb3551f1249df7cb
Author: George Nachman <gln@google.com>
Date:   Sun Oct 20 21:04:11 2013 -0700

    Add tests for clearBuffer

commit c1c98cdcccc630802a68b653b3b70bb64f94a35c
Author: George Nachman <gln@google.com>
Date:   Sun Oct 20 17:31:57 2013 -0700

    Clean up some of the reset methods

commit 426124b8b2e3781756f341b8e3388496d80bf56f
Author: George Nachman <gln@google.com>
Date:   Sun Oct 20 15:29:33 2013 -0700

    reenable grid tests

commit 58e9b2ea190e78f6f196228f267f0bd6fd302c96
Author: George Nachman <gln@google.com>
Date:   Sun Oct 20 15:22:18 2013 -0700

    Add tests for resizeWidth:height:

commit d71a7cf51bfbfe61f7afc4dd62b4f7703314b16f
Author: George Nachman <gln@google.com>
Date:   Sun Oct 20 00:34:48 2013 -0700

    Initial set of tests for resizeWidth

commit f2a9113dae94a2f92fdc80467589a053c2764c48
Author: George Nachman <gln@google.com>
Date:   Sat Oct 19 16:50:10 2013 -0700

    Small aesthetic improvements to VT100Terminal

commit 88c5b0e776881069dab582501a345915ab5c9e48
Author: George Nachman <gln@google.com>
Date:   Sat Oct 19 16:49:39 2013 -0700

    Aesthetic improvements to VT100Terminal

commit 6b3be25ea559294e2a59485f2c4cf6f78ffe8c19
Author: George Nachman <gln@google.com>
Date:   Sat Oct 19 16:15:57 2013 -0700

    Fix ivar names in VT100Terminal

commit 09e6313e2f43063f0dc0090a5e849247700f9859
Author: George Nachman <gln@google.com>
Date:   Sat Oct 19 15:57:59 2013 -0700

    Remove unused stuff from VT100Terminal.h

commit 9438aeccdd3decb5118c0eb02d9ff5e424102639
Author: George Nachman <gln@google.com>
Date:   Sat Oct 19 15:46:51 2013 -0700

    Hide VT100TCC

commit 7a9f20f41892b9c44678b9d349fef080660709c7
Author: George Nachman <gln@google.com>
Date:   Sat Oct 19 15:22:59 2013 -0700

    fix errors

commit 927c34304d34d4c3a91868322eea9552f8306d79
Author: George Nachman <gln@google.com>
Date:   Sat Oct 19 15:22:26 2013 -0700

    dvr to dvr_

commit 31123e23069006aceaf159801c457d8a527ffb92
Author: George Nachman <gln@google.com>
Date:   Sat Oct 19 15:22:00 2013 -0700

    tabStops to tabStops_

commit 570d00274139fb8bb1bf2a638ae0f606b418e1da
Author: George Nachman <gln@google.com>
Date:   Sat Oct 19 15:21:23 2013 -0700

    Well, iterm compiles again.

commit 3b4d8ee41251d1f03bd4fa5a922fde38e3cc671a
Author: George Nachman <gln@google.com>
Date:   Sat Oct 19 14:39:54 2013 -0700

    Make VT100Terminal use a delegate

commit 98e808423b6e2d55c0b077e25e5a183735ac7721
Author: George Nachman <gln@google.com>
Date:   Wed Oct 16 22:31:21 2013 -0700

    Add copy files build phase for frameworks

commit a16856a2f0e1817fe13f089f6333a0b8a4284572
Author: George Nachman <gln@google.com>
Date:   Wed Oct 16 22:17:29 2013 -0700

    Tests build but don't run because missing dylibs

commit d06641e335c3858c8e7971cad5b3af33fb8f180f
Author: George Nachman <gln@google.com>
Date:   Wed Oct 16 21:58:30 2013 -0700

    Remove bogus files from project

commit 1383bb0de39abc9574a43b4db4a8e226cb4b5527
Author: George Nachman <gln@google.com>
Date:   Wed Oct 16 21:55:36 2013 -0700

    Remove unneeded files

commit 16d94e8a2fb8e99671aceb438db7237629123b17
Author: George Nachman <gln@google.com>
Date:   Wed Oct 16 21:52:41 2013 -0700

    Remove iTermTestsTests

commit 40a2f4a3ced4d6edf08dad363ca620bc03e7e887
Author: George Nachman <gln@google.com>
Date:   Wed Oct 16 21:52:29 2013 -0700

    Add test harness

commit 3cdc537418a57a3b00d0b5a8844aaf7e1dd714f1
Author: George Nachman <gln@google.com>
Date:   Wed Oct 16 21:16:06 2013 -0700

    Remove includes

commit 02fa76e71997f5db48a69d7eb05676db441c2192
Author: George Nachman <gln@google.com>
Date:   Wed Oct 16 21:11:25 2013 -0700

    Clean up VT100Screen some more

commit bd6828b2034964860af375ec414eabc2e15a1367
Author: George Nachman <gln@google.com>
Date:   Wed Oct 16 19:06:54 2013 -0700

    Clean up VT100Screen

commit a85317b5cc947761fe6f2fe14ae2a0ac571cf665
Author: George Nachman <gln@google.com>
Date:   Wed Oct 16 15:11:03 2013 -0700

    Make VT100Screen not have a direct reference to PTYSession, use a protocol instead

commit 59306854217b7aafcb1c1ecb44c00f1aeeb9c7ea
Author: George Nachman <gln@google.com>
Date:   Wed Oct 16 11:59:52 2013 -0700

    Remove unused methods from VT100Screen.h

commit 7ac5cdc7039964575ecc87a134644426a4b0d1bf
Author: George Nachman <gln@google.com>
Date:   Tue Oct 15 17:26:02 2013 -0700

    Fix build

commit 559663a62de358da0d1102a82df54d0f675e93dd
Author: George Nachman <gln@google.com>
Date:   Tue Oct 15 17:22:26 2013 -0700

    Finish tests for grid, really

commit c605d283ecc3ef269fb18acd7b1af9498bd699ca
Author: George Nachman <gln@google.com>
Date:   Tue Oct 15 13:53:47 2013 -0700

    more tests

commit ddde2e36d57b2cd2c44bffca091f05650572880f
Author: George Nachman <gln@google.com>
Date:   Tue Oct 15 12:28:43 2013 -0700

    Add tests for appendCharsAtCursor

commit abcf30eecfd77a7e2b69cfbbe59dea753c816fbb
Author: George Nachman <gln@google.com>
Date:   Mon Oct 14 22:59:28 2013 -0700

    Yay, things compile

commit 199ba40ea2c14505f52c39c4a707889114980766
Author: George Nachman <gln@google.com>
Date:   Mon Oct 14 17:06:39 2013 -0700

    Finish tests for VT100Grid

commit e6abb934a0176b64b2c6be1a58dbd03042e42845
Author: George Nachman <gln@google.com>
Date:   Mon Oct 14 13:30:17 2013 -0700

    More tests

commit a0bc777ba79373f9f36c4393a2f5f63e75fef4b1
Author: George Nachman <gln@google.com>
Date:   Mon Oct 14 00:03:20 2013 -0700

    More tests

commit 06082270ca2cd43f23c989874cf7feef1fcddf81
Author: George Nachman <gln@google.com>
Date:   Sun Oct 13 23:01:57 2013 -0700

    Fix up warnings. Starting on tests for vt100grid

commit 32caaed39f3fa2dfd2b9105d110f11cd81d11876
Author: George Nachman <gln@google.com>
Date:   Sun Oct 13 18:31:05 2013 -0700

    Grid compiles

commit 4925da6114c3d8d59979cca3087fd5c8863c9eb7
Author: George Nachman <gln@google.com>
Date:   Sun Oct 13 17:39:14 2013 -0700

    More progress

commit 18809949313f4212da30ac349aa499215b94fdd7
Author: George Nachman <gln@google.com>
Date:   Sun Oct 13 17:15:45 2013 -0700

    More progress

commit 527bed44a3e64b5d8cebdaf24afe443688a97b41
Author: George Nachman <gln@google.com>
Date:   Sat Oct 12 15:34:42 2013 -0700

    More progress

commit 31b709a95df73454e458ff087f1047cb77931134
Author: George Nachman <gln@google.com>
Date:   Wed Oct 9 16:13:49 2013 -0700

    initial work

commit 1d799aaacaa943ffca8b7f6d9604e62014f30748
Author: George Nachman <gln@google.com>
Date:   Wed Oct 9 14:25:53 2013 -0700

    Immediately redraw when instant replay updates

commit 498ef6702191da212df98aff094d62a2fe275c9b
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Oct 8 22:51:26 2013 -0700

    Make the hotkey window go all the way off the screen. It was incorrectly using the screen's visible frame to compute its offscreen position. Fixes bug 2638

commit 8034708eb8ec7f6b9fd87c4d44954a223e6c832d
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Oct 6 15:03:18 2013 -0700

    Get it kind of working but it crashes in windowDidResignMain, not sure why that if statement is there
    
    Add comments, force hotkey window to enter traditional fullscreen
    
    Allow borderless windows glued to a screen edge to enter fullscreen mode. They can't enter Lion fullscreen mode because they're auxiliary windows (which allows them to appear over other fullscreen windows), but they cannot enter Lion fullscreen mode themselves. However, they're fine with traditional fullscreen, which I think is more useful for a hotkey window anyway since it won't change spaces on you.

commit 011af285c60e96a412cc56c3618d7e040f20e6e2
Author: George Nachman <gln@google.com>
Date:   Wed Oct 2 13:21:15 2013 -0700

    Make unblockPipeW nonblocking (pun not intended) to fix bug 2633. The PTYTask thread would get stuck in readTask waiting for the mainThread to complete -[PTYSession readTask:] while the main thread was stuck in -unblock waiting to write to unblockPipeW, which is only read by the PTYTask thread. Since unblockPipeW was blocking, it must have had a lot of pending writes that hadn't been read off, and dropping one on the floor won't matter because the thread will definitely get unblocked.

commit f194b84af87bbbbb1128c0944b62dd3723d0e1b5
Merge: 426a822e b53141c3
Author: George Nachman <gln@google.com>
Date:   Wed Oct 2 13:21:28 2013 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 426a822e2b0b835445dbc9caca5850aefddbf864
Author: George Nachman <gln@google.com>
Date:   Wed Oct 2 13:21:15 2013 -0700

    Make unblockPipeW nonblocking (pun not intended) to fix bug 2633. The PTYTask thread would get stuck in readTask waiting for the mainThread to complete -[PTYSession readTask:] while the main thread was stuck in -unblock waiting to write to unblockPipeW, which is only read by the PTYTask thread. Since unblockPipeW was blocking, it must have had a lot of pending writes that hadn't been read off, and dropping one on the floor won't matter because the thread will definitely get unblocked.

commit 652990ee81942319f56c631e1a03afdd0e26a1a1
Merge: 9968ca5f 113b3911
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Mon Sep 30 22:33:28 2013 -0700

    Merge branch 'v2' of https://github.com/gnachman/iTerm2 into v2

commit 9968ca5f7a0d56ddc404aa3eb72175d89828050f
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Mon Sep 30 22:33:20 2013 -0700

    Update release.sh to edit changelog, push to proper branch

commit 113b39115106b3d28e6686cb735ee58dbd424bb2
Merge: 5d94db21 b781f6cc
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Sep 30 21:37:55 2013 -0700

    Merge branch 'v2' of https://github.com/gnachman/iTerm2 into v2

commit 5d94db2105a10b64247d999d2f2072142a0b309e
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Sep 30 21:37:42 2013 -0700

    Round font width rather than using floor because with 11pt monaco, it was too tight (eg on O])

commit b53141c3a7fea1cdf90b6e6b8ea8ba2c7a0840e6
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Sep 30 21:34:47 2013 -0700

    Round font width rather than using floor because with 11pt monaco, it was too tight (eg on O])

commit c321f3fbc94733846523adf8d2dbcf4a3eae254f
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Sep 30 21:26:12 2013 -0700

    Make broadcast to all panes in current tab be a per-tab setting.

commit 951e018679e7de4bfed3d6c71804755d289c11f7
Author: George Nachman <gln@google.com>
Date:   Mon Sep 30 17:38:33 2013 -0700

    Fix analyzer warnings

commit 04bafaa39cf8084e63d6e7370fa9493ca7838a2e
Author: George Nachman <gln@google.com>
Date:   Mon Sep 30 17:21:20 2013 -0700

    Fix a bunch of analyzer warnings

commit b781f6ccc2e95377ee8a1573060c2bacc49f6438
Author: George Nachman <gln@google.com>
Date:   Mon Sep 30 15:57:00 2013 -0700

    Fix a bunch of warnings

commit 1ce1a8adfa074c2be85cb409ff6c983d10f8707d
Author: George Nachman <gln@google.com>
Date:   Mon Sep 30 15:47:42 2013 -0700

    Remove private category from PseudoTerminal, move comments into .m file

commit 5c5cfe1f9620cf7106b90f45dc626c618525e491
Author: George Nachman <gln@google.com>
Date:   Mon Sep 30 15:39:35 2013 -0700

    Replace to foo->isa with object_getClass(foo)

commit 2038f4775fcffb7d1c32aad65afe950e73bf90c9
Author: George Nachman <gln@google.com>
Date:   Mon Sep 30 15:37:36 2013 -0700

    Fix errors in merge

commit b3b48abc07b0144a8b56fc956698cba893b14dfe
Merge: 43e38416 0e11ea14
Author: George Nachman <gln@google.com>
Date:   Mon Sep 30 15:34:40 2013 -0700

    Fix merge conflicts

commit 0e11ea14ea3071fae77eea0008b22eac465a3fc1
Author: George Nachman <gln@google.com>
Date:   Mon Sep 30 15:29:01 2013 -0700

    Fix crasher where a CRun attribute's color could get dealloced when another NSColor was created with the same attributes. Not sure why autorelease semantics are violated this way by NSColor. The fix is to explicitly keep a reference to every color used in a run in the CRunStorage object.

commit b28ac21729a1421b93648c583be4a0f541a3a530
Author: George Nachman <gln@google.com>
Date:   Mon Sep 30 11:17:06 2013 -0700

    Refuse to connect to tmux in aggressive-resize mode

commit cf3eb678f53edeea87f6980a7338909b36746cc7
Author: George Nachman <gln@google.com>
Date:   Fri Sep 27 16:32:17 2013 -0700

    When changing an existing session's profile, also change its idea of what its original profile (originalAddressBookEntry) was so that when splitting it splits with the new profile instead of the old one. Fixes bug 2632.

commit 43e38416650af92dbc9725b50b898ebfa0d0310e
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Sep 26 22:17:25 2013 -0700

    remove files that should never have been added

commit 8d444b58e2f784cc065d290511a05f2142f261af
Merge: ea7db439 4382480d
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Sep 26 22:16:23 2013 -0700

    Merge v2

commit 4382480d2acd3f328fd5ea10b9963e7f44b96ffb
Merge: 490c5cd1 8864cc6e
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Sep 26 22:13:54 2013 -0700

    Merge branch 'v2' of https://github.com/gnachman/iTerm2 into v2

commit 490c5cd1ccd7577909e3a566ed6248c88af2f94b
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Sep 26 22:13:39 2013 -0700

    Fix double-free of colors in CRun's because they were being treated as weak refs by CRun and strong refs by PTYTextView.m

commit ea7db439f31f4237004808feaf9d29e7939b758f
Author: George Nachman <gln@google.com>
Date:   Tue Sep 24 11:14:45 2013 -0700

    Undo change to iTerm.plist's bundle id

commit 014cc47ce3d16dc17ea57353797fdd7b26da8501
Merge: 7edcec0f 3d020c75
Author: George Nachman <gln@google.com>
Date:   Tue Sep 24 11:13:42 2013 -0700

    Resolve merge conflicts

commit 3d020c75b41db919691ae86d5c332cfd10aeef13
Author: George Nachman <gln@google.com>
Date:   Tue Sep 24 11:11:36 2013 -0700

    Add solarized license to help

commit 7edcec0ffbc85c1b913fd4d19dafd01a116ab300
Author: George Nachman <gln@google.com>
Date:   Tue Sep 24 10:49:47 2013 -0700

    Add solarized to color presets

commit 8864cc6e638ccb0327465058bfa1bb14092c780a
Author: George Nachman <gln@google.com>
Date:   Mon Sep 23 14:32:25 2013 -0700

    Only call TranslateCharacterSet on ascii strings. Fixes bug 2630.

commit a6e547aedea2b7ddd95226ffe55fc770b2fb4131
Merge: ae9d0142 aa902b3d
Author: George Nachman <gln@google.com>
Date:   Mon Sep 23 14:32:31 2013 -0700

    Merge branch 'v2' of https://github.com/gnachman/iTerm2 into v2

commit d5bd1746ce51c7ac6421ecb8e71bcd7d9aae171c
Author: George Nachman <gln@google.com>
Date:   Mon Sep 23 14:32:25 2013 -0700

    Only call TranslateCharacterSet on ascii strings. Fixes bug 2630.

commit 02bffb5d91f93da9aae2537047a6fd6649801c13
Author: George Nachman <gln@google.com>
Date:   Mon Sep 23 14:28:37 2013 -0700

    Underline clickable URLs when cmd is held down

commit f47b1f815c54bb7d61adb3917a9a742c0e5cb703
Author: George Nachman <gln@google.com>
Date:   Fri Sep 20 14:49:07 2013 -0700

    Fix how replacement marks are printed in bogus utf-8 sequences. Fixes bug 2579

commit a9b3ecad06ee7ebc9231a8a9f6bdaa2c303c9214
Author: George Nachman <gln@google.com>
Date:   Fri Sep 20 13:42:10 2013 -0700

    Change verbiage in prefs

commit 6b60820462a2595794c5d89da80b98ca7ce4a916
Author: George Nachman <gln@google.com>
Date:   Fri Sep 20 13:40:38 2013 -0700

    Add preference to profiles>window to prevent a profile from opening into a tab

commit 4e8e85e9ed021f28a6d052bf2e34de015d4baf64
Merge: 18852c9c 2d5afec3
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Sep 19 21:40:29 2013 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 18852c9c86e18166bc6667bf8c7bc8afb42f3447
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Sep 19 21:40:19 2013 -0700

    Improve default smart selection regex for http(s) URLs to allow : in the path and - in the hostname.

commit 2d5afec3a331bc93f9937820c59b6a5f45edee3e
Author: George Nachman <gln@google.com>
Date:   Wed Sep 18 16:51:16 2013 -0700

    Always use CGFontGetGlyphAdvances to estimate font size

commit 6885365d8c7eae1960c4527099516ffaca7c844b
Merge: 46f5f6b8 4fb4c6d7
Author: George Nachman <gln@google.com>
Date:   Wed Sep 18 16:50:44 2013 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 46f5f6b85b53006fcf4cea642df5b97eb78a5885
Author: George Nachman <gln@google.com>
Date:   Wed Sep 18 16:50:40 2013 -0700

    Try to prevent x>=0 assert from firing

commit 4fb4c6d76e0ece5690e99395e8c480cf57e35233
Merge: c7f5f853 aa902b3d
Author: George Nachman <gln@google.com>
Date:   Wed Sep 18 16:43:34 2013 -0700

    Merge branch 'v2'

commit aa902b3d738a7e1128ba69fb312171e4156aa13e
Merge: 8c670fd9 a657c6a5
Author: George Nachman <gln@google.com>
Date:   Wed Sep 18 16:43:12 2013 -0700

    Merge branch 'v2' of https://github.com/gnachman/iTerm2 into v2

commit 8c670fd90c4fd4c86f3c54b9074d2c97e78c4e7e
Author: George Nachman <gln@google.com>
Date:   Wed Sep 18 16:43:07 2013 -0700

    Use CGFontGetGlyphAdvances instead of sizeWithAttributes in FontSizeEstimator.m to deal with change in later SDKs

commit c7f5f853a3a33e544d3f9d19cd3691b6387272ae
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Sep 17 23:47:14 2013 -0700

    Fix merge problems

commit e71beb5a538d8be8487661356b6f8715af2c9618
Merge: b7aa8b1e a657c6a5
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Sep 17 23:23:44 2013 -0700

    resolve merge conflicts

commit a657c6a559bb54c397f90f0ffcd5b924a7a11d84
Merge: 8f81bfdd 0b8bec8f
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Sep 17 23:21:21 2013 -0700

    Resolve merge

commit 8f81bfdd285a567f646c1552bb855a44cbfe509d
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Sep 17 23:16:26 2013 -0700

    Fix underlines

commit b7aa8b1e92fdd3595e0fb1ad411f2e3b000e3046
Author: George Nachman <gln@google.com>
Date:   Tue Sep 17 17:21:11 2013 -0700

    Remove duplicate var def from merge resolution

commit f92ce45ba23a5545cb1d63d124f38d283e161607
Merge: 886809b9 21f07540
Author: George Nachman <gln@google.com>
Date:   Tue Sep 17 17:20:38 2013 -0700

    Fix merge conflicts

commit 21f075400e50bb83997897d24026fafd9e7e2aec
Author: George Nachman <gln@google.com>
Date:   Tue Sep 17 15:32:43 2013 -0700

    merge pull 143: Clear broken double-width characters on ICH/ECH/DCH, with slight mods to -insertBlank

commit 1077e46c5aaf93abe4e06c41877ca22f073c9513
Author: Hayaki Saito <user@zuse.jp>
Date:   Sat Aug 24 00:09:39 2013 +0900

    Confirm that ECH parameter is a positive value

commit 82dc9da55048b0623eba10b5977f09d19c90a425
Author: Hayaki Saito <user@zuse.jp>
Date:   Sat Aug 24 00:02:18 2013 +0900

    Remove needless assignment statements added in ce03b8c

commit ff2ea5bb44b8ee6ffa49d698cb1ef914db856a31
Author: Hayaki Saito <user@zuse.jp>
Date:   Fri Aug 23 23:58:29 2013 +0900

    Check if deleteCharacters is called with a positive argument

commit 253b5910d7432aaebb4c0bc7430204a04d7075cf
Author: Hayaki Saito <user@zuse.jp>
Date:   Fri Aug 23 23:42:44 2013 +0900

    Prevent out of bounds array access

commit ec5257fcf6c7111f1aad2a602fc6c9bc3a1ca2cb
Author: Hayaki Saito <user@zuse.jp>
Date:   Fri Aug 16 01:21:35 2013 +0900

    Clear broken double-width characters on ICH/ECH/DCH

commit 886809b92f45aba15a5382272dc8ab86fc563bd0
Merge: 7645b918 9fd9674b
Author: gnachman <gnachman+github@gmail.com>
Date:   Tue Sep 17 14:47:03 2013 -0700

    Merge pull request #141 from saitoha/feature-left-right-margin
    
    Issue 2465: Add Left-Right Margin Mode (Vertical Split-Screen Mode)

commit 7645b9181e30ae1c431b82a920c21a0533aeef85
Author: George Nachman <gln@google.com>
Date:   Tue Sep 17 14:09:46 2013 -0700

    Escape shell characters in executable path to iterm

commit 14bd33351a5545559634a030728489885c43394d
Author: George Nachman <gln@google.com>
Date:   Mon Sep 16 16:27:03 2013 -0700

    Show a gray line below the title bar when there is no tab bar. Fixes bug 1964

commit 1b474e03c5d02d36cae8e9f70c92fd44de4213f6
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Sep 15 17:19:34 2013 -0700

    Update sparkle to log lots of stuff to debug occasional corruption

commit 5476288a7b251ae8511d4a3b2cc792fba5df31f2
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Sep 15 17:19:17 2013 -0700

    Fix bug where, when a new session is created with a custom starting directory, a login shell was not used. The fix is to run login -fpl $USER iTerm --launch_shell. We modify main() to see the --login-shell flag and exec the shell adding a - before its argv0.

commit 7ee2dbde9a6268334d151b8777225ceae61b9c6d
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Sep 14 23:34:54 2013 -0700

    Add shell launcher

commit 983a01bf1357b6e91bf0cd544504832e76ef4586
Author: George Nachman <gln@google.com>
Date:   Fri Sep 13 14:56:45 2013 -0700

    Fix bug where we didn't run login -fpl when reusing a directory or setting a custom directory, but instead ran the shell directly. Fixes bug 2610

commit ae9d014207f89ffa792c292733fb162148d92450
Author: George Nachman <gln@google.com>
Date:   Fri Sep 13 14:32:02 2013 -0700

    Fix whitespace

commit 0b8bec8f20f3feabadc585d52e3d9281a759230f
Author: George Nachman <gln@google.com>
Date:   Fri Sep 13 13:34:28 2013 -0700

    Fix warnings

commit fe740af0494bd6c88e88d10ed7908232a5f2ea8e
Author: George Nachman <gln@google.com>
Date:   Fri Sep 13 13:21:41 2013 -0700

    Use default compiler and SDK for developement builds

commit 0c3f0b5339a8584178b599eaa0b6dbc7f27fa30c
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Sep 8 23:40:04 2013 -0700

    Resolve merge conflicts from cherry-pick of d148ad8be9cb3cf5ebbb8f3783b17ebf2a6d0e50 (Fix memory corruption bug. Realloc'ed codes, glyphs, and advances in CRunStorage were not having their pointers updated in CRun)

commit d148ad8be9cb3cf5ebbb8f3783b17ebf2a6d0e50
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Sep 8 23:40:04 2013 -0700

    Fix memory corruption bug. Realloc'ed codes, glyphs, and advances in CRunStorage were not having their pointers updated in CRun.

commit ca859a4326742145115095a4a2b749103bb2976b
Merge: d1bab69c f960b362
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Sep 8 18:46:55 2013 -0700

    Merge branch 'v2' of https://github.com/gnachman/iTerm2 into v2

commit a40d7facd7459e4202a50092f4409dc15d96dd6f
Merge: ac05c88c bfa1f92f
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Sep 8 18:46:38 2013 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit d1bab69cc36d9dc30f17e2bc0ec5533c9bcbdc6d
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Sep 8 18:46:14 2013 -0700

    Fix bug where cursor blinked while moving

commit ac05c88c333a63c474875143b1d4e2cc88477a1c
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Sep 8 18:44:02 2013 -0700

    Fix bug where the cursor would keep blinking while moving

commit 9fd9674b935c7a575a53d2d84faaaa75d5dfac82
Author: Hayaki Saito <user@zuse.jp>
Date:   Thu Sep 5 21:58:22 2013 +0900

    Remove an unused method definition

commit a8d01eccd6f316658ca0300fbd2710fa9dacbe5e
Author: Hayaki Saito <user@zuse.jp>
Date:   Thu Sep 5 21:12:38 2013 +0900

    DECCOLM should reset left/right margins and vsplit mode

commit 4af5701612952912ade7797949b3e21d35b57def
Author: Hayaki Saito <user@zuse.jp>
Date:   Fri Aug 30 10:10:52 2013 +0900

    Add missing declaration of cursorToY

commit a08d7b620f47e31797e788f9b8793b55094a94a2
Author: Hayaki Saito <user@zuse.jp>
Date:   Wed Aug 28 01:23:08 2013 +0900

    Clear broken double-width characters on DCH

commit 5bbab1f978d42dba5c981c3424ba8d2d8bf64138
Author: Hayaki Saito <user@zuse.jp>
Date:   Tue Aug 27 00:57:29 2013 +0900

    Clear broken double-width characters on ICH

commit 5634e92662e62ebe37c33ccb22a1ea631eb8c363
Author: Hayaki Saito <user@zuse.jp>
Date:   Sun Aug 25 15:52:00 2013 +0900

    Clear broken double-width characters at SCROLL_BOTTOM on scrollUp and SCROLL_TOP on scrollDown

commit 11f7012161f7f7f5541d6f505c374a3514460c40
Author: Hayaki Saito <user@zuse.jp>
Date:   Sun Aug 25 11:40:35 2013 +0900

    Add some check to prevent accessing out-of-bound data

commit b3efdc157de5f112f0ece93e893c7a0f851c2cc8
Author: Hayaki Saito <user@zuse.jp>
Date:   Sun Aug 25 11:19:48 2013 +0900

    Add braces for some if statements

commit a3877b50f368cf62b4f50f117ae584a30ac12fb4
Author: Hayaki Saito <user@zuse.jp>
Date:   Sun Aug 25 11:04:34 2013 +0900

    Remove a redundant pre-condition checking for addLineToScrollback

commit e754b3981166c2b70893174e1d5f15355c05ea48
Author: Hayaki Saito <user@zuse.jp>
Date:   Sun Aug 25 10:54:18 2013 +0900

    Make a statement more clearly

commit 91894de5127d05bfe784d3d560245aece5e21d9b
Author: Hayaki Saito <user@zuse.jp>
Date:   Sat Aug 24 01:28:35 2013 +0900

    Add some comments about wrapping behavior and left/right margins

commit f2779dadad9b9b3b2b16c4db30b925ea911b686b
Author: Hayaki Saito <user@zuse.jp>
Date:   Sat Aug 24 00:38:19 2013 +0900

    Fix a typo

commit 03a4f9e7b94b79735abaad16261279c05d1112e1
Author: Hayaki Saito <user@zuse.jp>
Date:   Fri Aug 16 21:11:38 2013 +0900

    CHA should respect right margin when origin mode is set

commit 0a4a2d35de8cdcaa18fb3fb1a2727276ab7bf776
Author: Hayaki Saito <user@zuse.jp>
Date:   Fri Aug 16 19:41:20 2013 +0900

    Clear broken double-width characters on vsplit scrolling

commit e2d5ca626cea4ba062bfba5d61a526b582c512c3
Author: Hayaki Saito <user@zuse.jp>
Date:   Fri Aug 16 18:31:22 2013 +0900

    Move some assignment statements for readability

commit 2977a5f4b40f9e56ad2dfd8afa3998d7669fe9ef
Author: Hayaki Saito <user@zuse.jp>
Date:   Thu Aug 15 23:57:29 2013 +0900

    Break the long condition up into multiple lines

commit 89fd152fbc48f65154879f75080944e1c2c79198
Author: Hayaki Saito <user@zuse.jp>
Date:   Thu Aug 15 23:54:49 2013 +0900

    Strip an extra space after colon

commit e6e38141d1c0bc42006a69f7f69864a6d4e93b08
Author: Hayaki Saito <user@zuse.jp>
Date:   Wed Aug 14 11:44:28 2013 +0900

    Do'nt set continuation markers when left-right margin is set

commit 32dfcaf8fea12c4bcea55dfb223319772c7d84cf
Author: Hayaki Saito <user@zuse.jp>
Date:   Mon Aug 12 23:53:33 2013 +0900

    Add some TODOs

commit 35c51e65d75030e46986e6faa140bc5261344654
Author: Hayaki Saito <user@zuse.jp>
Date:   Mon Aug 12 21:49:44 2013 +0900

    Check for negative values of the first parameter of DECSLRM

commit fbcd61be36937804b11cdf4efbe943a10d2dd0c0
Author: Hayaki Saito <user@zuse.jp>
Date:   Mon Aug 12 21:36:49 2013 +0900

    If origin mode is set, the cursor should be constrained between SCROLL_TOP and SCROLL_BOTTOM

commit 6ba32315113dbbbea4db77f3923713f0bef05145
Author: Hayaki Saito <user@zuse.jp>
Date:   Mon Aug 12 10:54:42 2013 +0900

    Note that -crlf is ignore vsplit mode in a comment

commit d264d1729503f7cebfc306fda463747df8f84d43
Author: Hayaki Saito <user@zuse.jp>
Date:   Sun Aug 11 21:44:35 2013 +0900

    Do'nt try to reverse wrap with BS at the left margin cell

commit 743887804c848834f04444e4e1086ea26f7ce018
Author: Hayaki Saito <user@zuse.jp>
Date:   Sun Aug 11 21:19:00 2013 +0900

    NEL respects left margin

commit 0feaad42f674115792ebd203cb503186968b101e
Author: Hayaki Saito <user@zuse.jp>
Date:   Sun Aug 11 20:24:14 2013 +0900

    The cursor position was within bounds only if both of origin mode and vsplit mode are on

commit 170627769444c0fdc3947f70965f11e834a479af
Author: Hayaki Saito <user@zuse.jp>
Date:   Sun Aug 11 15:53:22 2013 +0900

    Confirm cursorX is less than WIDTH, but not rightMargin

commit 9657b6807945477a74b97298a0d6b06ca5600373
Author: Hayaki Saito <user@zuse.jp>
Date:   Sun Aug 11 15:22:00 2013 +0900

    EOL_* codes should only be set on the last cell in a line

commit a804e571aaf9136b4a61df99153550a6685356d4
Author: Hayaki Saito <user@zuse.jp>
Date:   Sun Aug 11 15:17:18 2013 +0900

    Break the long condition up into multiple lines

commit cc9c0f02def25d4f0a61738590f9d6933c9fb5f3
Author: Hayaki Saito <user@zuse.jp>
Date:   Sun Aug 11 14:58:27 2013 +0900

    Remove extra call to setCharAtCursorDirty

commit 4db4a178501fffc1426c3be79a98a624fcfad3df
Author: Hayaki Saito <user@zuse.jp>
Date:   Sun Aug 11 01:35:09 2013 +0900

    addLineToScrollback should be called only if left/right margins are not set

commit f1abbeae12f296f032bf040af8667bed62118bcb
Author: Hayaki Saito <user@zuse.jp>
Date:   Sun Aug 11 01:24:42 2013 +0900

    Make a complicated expression more readable

commit 1aa145626cd13b47244b3dcf214dcd6f54edbf92
Author: Hayaki Saito <user@zuse.jp>
Date:   Sun Aug 11 20:54:56 2013 +0900

    Add a function which sets rectangular area dirty and use it

commit 79993dd8d761545cc9660324f79ca42172e023d6
Author: Hayaki Saito <user@zuse.jp>
Date:   Sun Aug 11 01:16:56 2013 +0900

    Enable DECSLRM with non-canonical parser

commit c34b7c68e4a22fb621df568a6d6f5548d4b9408f
Author: Hayaki Saito <user@zuse.jp>
Date:   Sat Aug 10 23:07:52 2013 +0900

    DECSLRM moves the cursor to (1, 1) of the page

commit fe08ec66adfc0cd375d48a2d589e5612b3121210
Author: Hayaki Saito <user@zuse.jp>
Date:   Sat Aug 10 22:40:24 2013 +0900

    Add a comment for vsplit mode

commit ecb1e318cd4f82f5e086c61eba730254becb693a
Author: Hayaki Saito <user@zuse.jp>
Date:   Sat Aug 10 22:23:03 2013 +0900

    Fix an indent issue

commit 09092093951f5aea45ef97b2167d9a3d2eed101a
Author: Hayaki Saito <user@zuse.jp>
Date:   Sat Aug 10 01:21:31 2013 +0900

    Fix wrong method call for VPR: cursorRight -> cursorDown

commit 5a5c934fb34fe3b6c9273df587139840309e2127
Author: Hayaki Saito <user@zuse.jp>
Date:   Sat Aug 10 01:15:06 2013 +0900

    Add missing clearTriggerLine at VPA

commit 93761ef49cded3a966b1d5e197c0031ebe166b63
Author: Hayaki Saito <user@zuse.jp>
Date:   Sat Aug 10 01:13:39 2013 +0900

    Remove extra spaces before colon

commit 21c7637e60a4483fdf24c55d260035c2fe1097cb
Author: Hayaki Saito <user@zuse.jp>
Date:   Sat Aug 3 11:21:13 2013 +0900

    Remove trailing spaces

commit b9960492269a14ecd846a206e3f3c9a698559476
Author: IWAMOTO Kouichi <sue-github@iwmt.org>
Date:   Mon Jun 17 10:24:54 2013 -0700

    Add DECSLRM test written by IWAMOTO Kouichi <sue-github@iwmt.org>
    https://gist.github.com/ttdoda/5798565
    He declared this test file is in the public domain.

commit f24f703e98afdf52642c111eff28e31052f722bb
Author: Hayaki Saito <user@zuse.jp>
Date:   Sat Aug 3 01:12:17 2013 +0900

    Prevent crash when the right margin value is greater than column width

commit d217ec91ca9fcc4e402b87960d9464a8423ac34f
Author: Hayaki Saito <user@zuse.jp>
Date:   Sat Aug 3 00:28:25 2013 +0900

    Reset left-right margins when DECALN is called

commit 96cb5bb173936e22aa882727af2d5bd54522e7b0
Author: Hayaki Saito <user@zuse.jp>
Date:   Sun Jul 28 14:30:19 2013 +0900

    Don't reset left-right margin when DECLRMM is set

commit afebe099a11f4a51d1f36963bc85ac9e99e36392
Author: Hayaki Saito <user@zuse.jp>
Date:   Sun Jul 28 14:25:21 2013 +0900

    Check wrong parameters when DECSLRM is invoked

commit a13f30c7bea631f653cc8c4bf5ab717220222507
Author: Hayaki Saito <user@zuse.jp>
Date:   Sun Jul 14 15:41:53 2013 +0900

    Fix CUP/BS/setString behavior

commit 9120817d8039b609e8bbdd92c68abb5538d02194
Author: Hayaki Saito <user@zuse.jp>
Date:   Thu Jul 4 23:17:38 2013 +0900

    VPA should respect margins and origin mode

commit c35a211426a4cf4fdd325c1bf064a67a06b1c0f4
Author: Hayaki Saito <user@zuse.jp>
Date:   Thu Jul 4 00:35:49 2013 +0900

    DCH respects left/right margins

commit ecc634acfc1ef7c6156664f03b17731c75c06d51
Author: Hayaki Saito <user@zuse.jp>
Date:   Thu Jul 4 00:30:22 2013 +0900

    ICH respects left/right margins

commit 50f5cd5115cd5e56ad13e7da41a3ec95db85d852
Author: Hayaki Saito <user@zuse.jp>
Date:   Thu Jul 4 00:19:16 2013 +0900

    Ignore right margin if cursor is outside L/R margins

commit af9b22a4f0908c48d0d72f156a55d1d918a8af9a
Author: Hayaki Saito <user@zuse.jp>
Date:   Sat Jun 29 22:48:08 2013 +0900

    Respect DECOM and L/R margins when CHA is invoked

commit 172d949922449464c5a35fd8d4e8722af1eb2b8b
Author: Hayaki Saito <user@zuse.jp>
Date:   Sat Jun 29 22:22:22 2013 +0900

    The default value of DECSCRM is (1, width)

commit b254c8bd92e56cb58409ffdbe9a25b4c2a1394c4
Author: Hayaki Saito <user@zuse.jp>
Date:   Sat Jun 29 22:17:59 2013 +0900

    CUB/CUF should respect L/R margins

commit 480a61e0efe4a0bdfeed1bb361560cdf5c0b92c8
Author: Hayaki Saito <user@zuse.jp>
Date:   Thu Jun 27 00:03:51 2013 +0900

    Respect left-right margin when BS is invoked

commit 42ffb76d3ab422f257a3f21e81b6b75bfe1203c9
Author: Hayaki Saito <user@zuse.jp>
Date:   Sun Jun 23 13:03:58 2013 +0900

    setString(+autowrap mode/insert mode) respects left-right margin

commit af4f8800d072e017c6f93636c5645900546c878f
Author: Hayaki Saito <user@zuse.jp>
Date:   Sun Jun 23 12:25:18 2013 +0900

    fix-for new line

commit 6c6d8d695c82782e21c885ce24fc44bbba21646a
Author: Hayaki Saito <user@zuse.jp>
Date:   Sun Jun 23 12:04:44 2013 +0900

    Respect left margin on carriage return

commit d5d2ce59f0749d8a6ad4ba9db0342f9dd14fb907
Author: Hayaki Saito <user@zuse.jp>
Date:   Sun Jun 16 00:30:03 2013 +0900

    Allocate appropriate amount of cells when scrolling

commit 557cd764e5f7388b488e235027a4e1a766ce5c28
Author: Hayaki Saito <user@zuse.jp>
Date:   Sun Jun 16 00:21:10 2013 +0900

    Apply L/R margin to HUP/HVP

commit 53625626d4d0638938e35d057db1ab7faf1dcc59
Author: Hayaki Saito <user@zuse.jp>
Date:   Fri Jun 14 10:55:28 2013 +0900

    Treat vscroll mode as screen property

commit 9ffe5f65fb51028ba9c4fccde408d3148945d6d1
Author: Hayaki Saito <user@zuse.jp>
Date:   Thu Jun 13 02:04:57 2013 +0900

    Apply L/R margin only when DECSCLM is enabled

commit 0f19570bf759f710e384803b808deb06a232e262
Author: Hayaki Saito <user@zuse.jp>
Date:   Wed Jun 12 02:56:04 2013 +0900

    Reset vertical screen split mode with RIS

commit ebc9b50afec5d30ff41fbce65b1a64df8e04a726
Author: Hayaki Saito <user@zuse.jp>
Date:   Wed Jun 12 01:01:20 2013 +0900

    Reset left-right scroll margin when reset/resized

commit 0d631a73efb62433b461e782c7cbe1b938b91bd5
Author: Hayaki Saito <user@zuse.jp>
Date:   Tue Jun 11 02:53:15 2013 +0900

    Apply left/right margin with IL/DL

commit a4016c1b0ff2f7cadb0a925babd131b5453ca885
Author: Hayaki Saito <user@zuse.jp>
Date:   Sat Jul 27 00:11:14 2013 +0900

    Apply left/right margin with NL/SU/SD/IND/RI
    
    Conflicts:
            VT100Screen.m

commit 8ddfdfc617997c335cee0d369e48d59db3f4ca6c
Author: Hayaki Saito <user@zuse.jp>
Date:   Tue Jun 11 02:34:15 2013 +0900

    Add left/right margin

commit 21f6e6d10530b363859e93f5e8ad54de7be52363
Author: Hayaki Saito <user@zuse.jp>
Date:   Tue Jun 11 02:32:09 2013 +0900

    Add DECLRMM(DECVSSM; vertical split-screen mode)

commit f960b3629bf2b739df7e8c4841182d5ab11fea18
Author: George Nachman <gln@google.com>
Date:   Fri Sep 6 09:03:24 2013 -0700

    Fix bug where the char under the cursor wasn't drawn

commit bfa1f92f35f2d9501b3deb41ae855c9b1b281784
Author: George Nachman <gln@google.com>
Date:   Fri Sep 6 09:03:01 2013 -0700

    Fix bug where the char under the cursor wasn't drawn

commit be42b41df4c7f7d91b2f2a5bbc62085ef47022cb
Author: George Nachman <gln@google.com>
Date:   Thu Sep 5 22:14:26 2013 -0700

    Fix bug where default line's size isn't properly ensured before it's used. Not a problem in pracgtice until patch 141 (vsplits) is pulled

commit a8b62bfb8df6c4652ad11d3e0b07801b7372a83b
Author: George Nachman <gln@google.com>
Date:   Wed Sep 4 12:57:19 2013 -0700

    Don't free null run

commit dfa3c83b708f7268c82b91481a0504aa7d88007a
Author: George Nachman <gln@google.com>
Date:   Wed Sep 4 12:56:47 2013 -0700

    Don't try to free a null CRun

commit 5f9e0b52f5679ff3944c91900c7ef451d609e6b0
Author: George Nachman <gln@google.com>
Date:   Tue Sep 3 11:23:23 2013 -0700

    Fix bug where cursor was not redrawn when it changes from hidden to shown. Add some cursor related logging.

commit 3af52c1520c435d5d852cb145daae9e2ca3a5a8c
Author: George Nachman <gln@google.com>
Date:   Tue Sep 3 11:07:48 2013 -0700

    Fix horrific merge conflict

commit bb76748f8b7fea99f22b84143621f1846579c6bd
Author: George Nachman <gln@google.com>
Date:   Tue Sep 3 10:58:15 2013 -0700

    Add some cursor-related logging

commit 033a1792ad546b841b4a039c0a056ce610cac836
Merge: 477604f4 b123cd7f
Author: George Nachman <gln@google.com>
Date:   Tue Sep 3 10:50:27 2013 -0700

    Fix merge conflicts

commit b123cd7fa3bf7409020e172dec39850392eac370
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Sep 2 18:44:10 2013 -0700

    Make ctrl+zoom let window take full screen

commit 6cf4645ec5e3d20123eb4416419f8cc873b36e95
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Sep 2 18:33:52 2013 -0700

    Use different selection color (grayer version of selectionColor) for non-key textviews

commit 383a559a7b2927b98a427e5c8e9eabe258dc0b53
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Sep 2 17:45:00 2013 -0700

    Fix merge conflicts

commit b51ac14d5b9f88d20e0b5add866b7c6873708508
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Sep 2 17:35:02 2013 -0700

    Fix param order

commit 525636cd30fed79e7e64ed00bc613c75b761fc5d
Merge: 99168d1d 534057b7
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Sep 2 17:32:12 2013 -0700

    Merge v2 in

commit 99168d1dcc636309162042d0560981ae16789734
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Sep 2 16:07:17 2013 -0700

    Add debug logging for scroll wheel, fix typo in debug logging in PTYSession

commit 487e14720ba87985deecb56d8b1f82038b27fbd3
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Sep 2 15:30:50 2013 -0700

    Debug logging improvements for cursor and full text of bytes read

commit 534057b7936f8654740401ad629c78ebaebf26e6
Merge: 5e6994ed 24db1d6b
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Sep 2 14:57:18 2013 -0700

    Merge branch 'v2' of https://github.com/gnachman/iTerm2 into v2

commit 5e6994edc8e9d14fa6c52a786826f98790aa2017
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Sep 2 14:56:50 2013 -0700

    Clean up

commit e1278fc5af2428c3acd7e7eeade418179698ebee
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Aug 25 16:10:58 2013 -0700

    Revert to old text drawing methos

commit e6484c51a2adbcb0322b17757b8c937c599ba177
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Aug 22 21:37:11 2013 -0700

    Use 'fast' path for ascii drawing but benchmarks with spam show it has no improvement on os 10.8

commit d5345f09393a1df864e86b9348c86e946bbc0e29
Merge: 1b70f1bd 0969286a
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Aug 19 00:05:33 2013 -0700

    Merge branch 'undoProfileOrderChanges'

commit 0969286ace67ff51804f7c060729f9be16cb66f6
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Aug 19 00:04:41 2013 -0700

    Fix some warnings

commit dffe33d229d31bb912d4df4d2680d02414922f74
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Aug 18 22:18:18 2013 -0700

    Fix bug where dragging profiles when there is a sort descriptor ignores the first drag

commit 1b70f1bd1d036b0cafbb7aa9d1a65567329eb664
Merge: 41c418aa c48da2ef
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Aug 18 19:10:46 2013 -0700

    Merge branch 'undoProfileOrderChanges'

commit c48da2ef80bc0e3d0c3850b877822357cb6b7c2a
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Aug 18 19:09:10 2013 -0700

    Support undo when reordering profiles

commit 24db1d6b4cfc5903aac6a221a83170db179368e0
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Aug 18 16:04:58 2013 -0700

    Set coprocess file descriptors nonblocking to avoid deadlock in bug 2576

commit 41c418aa328f2292569b42084d9dcc022105903f
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Aug 18 16:04:58 2013 -0700

    Set coprocess file descriptors nonblocking to avoid deadlock in bug 2576

commit 0a3377c71609ce9834891c00f050d73dc2c50bcd
Merge: a050dcb7 4d5c7a10
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Aug 18 15:23:16 2013 -0700

    merge changes from v2

commit 4d5c7a10a8c489c0b222ae8ab08ed296bf10f4c7
Merge: 9f9048a4 5894ffa5
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Aug 18 15:21:05 2013 -0700

    Merge branch 'v2' of https://github.com/gnachman/iTerm2 into v2

commit 9f9048a43371666d5df25ba7039cb4440a9e1cb6
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Aug 18 15:20:58 2013 -0700

    fix bug where arrange horizontally computed the wrapping position incorrecly if the screen's visible frame wasn't 0

commit a050dcb7f709d079b44d4b6e1aef2bcd10656517
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Aug 12 23:11:10 2013 -0700

    Add stack logging to writeTaskImpl

commit 7a7d032837b0550cc74e1f30791ba258e4a9c4ca
Merge: 4c76e200 07567aab
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Aug 12 22:16:24 2013 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 4c76e2005ab9cbd66f0fc907a97609eb77a0c239
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Aug 12 22:15:57 2013 -0700

    Add pref under pointer for option-click moves cursor for bug 2586

commit 07567aab786f2472f60479af3ddef85f1a11c18a
Merge: bc09166d 1e70edc8
Author: gnachman <gnachman+github@gmail.com>
Date:   Mon Aug 12 21:43:55 2013 -0700

    Merge pull request #142 from saitoha/read-multiple-modes
    
    Read multiple parameters on SM/RM/DECSET/DECRST

commit bc09166d0d523772e2e8b4963bbf0fa274d79b4b
Merge: 44ccd995 977831df
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Aug 12 21:40:58 2013 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 44ccd995d576b732f228e79e28f16c78664297f2
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Aug 12 20:49:10 2013 -0700

    Fix crash in _refreshProcessCache where we set a nil value in a dictionary on a race condition

commit 03b17ce4086e6ac5e0c9f60916bb6c1680725cf8
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Aug 12 20:35:30 2013 -0700

    resize toolbelt in fullscreen window when screen resolution changes

commit 977831df8943dba819d2852e205a87968ad250a2
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Mon Aug 12 20:29:48 2013 -0700

    Fix silly mistakes

commit 124f26459c196c0b5d1a13095d4bca5d896fe256
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Mon Aug 12 20:29:26 2013 -0700

    Add delegate_ to Trouter.h.

commit 7c94e3ebe07cd1d5c3cf6664c63de6a4e34043b3
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Aug 12 20:18:23 2013 -0700

    Make PTYTextView a TrouterDelegate

commit e6a535c2c8f030155b667dcce13c205ab333eec6
Merge: 826f69e9 013373af
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Aug 12 20:15:42 2013 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 93c55ad0f01d80b124acf4cea821347b5e974611
Author: George Nachman <gln@google.com>
Date:   Sun Aug 11 21:09:46 2013 -0700

    Add assert to try to find crash

commit 5894ffa55e93d9ab36c67f0b5d2b481a48121f74
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Sun Aug 11 16:14:47 2013 -0700

    1.0.0.20130811

commit 1e70edc8eedada1465360fe71b93f3d3aead465e
Author: Hayaki Saito <user@zuse.jp>
Date:   Sat Aug 10 23:23:27 2013 +0900

    Read multiple SM/RM parameters

commit df3610f9d598e04edd37e200ef972ec67ca93d78
Author: Hayaki Saito <user@zuse.jp>
Date:   Sat Aug 10 23:21:36 2013 +0900

    Read multiple DECSET/DECRST parameters

commit 477604f416341a57ea29c0810dfda15d29342471
Author: George Nachman <gln@google.com>
Date:   Fri Aug 9 16:31:44 2013 -0700

    Get rid of PseudoTerminal's Private category

commit ee893e97d63077ffdec2f2afea3144ad9eea6a8a
Author: George Nachman <gln@google.com>
Date:   Fri Aug 9 16:14:42 2013 -0700

    Continue refactoring, getting rid of Private categories, fixing warnings, improve warning flags.

commit 26e6267db0e6a0a9255c86f08cbfa0c903d07024
Author: George Nachman <gln@google.com>
Date:   Fri Aug 9 15:27:55 2013 -0700

    Refactor PTYTextView's delegate (PTYSession) into a protocol

commit 6d06acb4b9294f7758f3b7df9d2185346a7c2e89
Author: George Nachman <gln@google.com>
Date:   Fri Aug 9 15:18:52 2013 -0700

    Refactor PTYTextView's data source (VT100Screen) to use a protocol. Also change builds to use latest SDK and compiler (this probably breaks Legacy, but that will go away soon)

commit 07cf7d73b105e98b3e24ba5e69a83dba4c632d61
Author: George Nachman <gln@google.com>
Date:   Thu Aug 8 19:49:25 2013 -0700

    Show overlay scrollbars in fullscreen. The build is officially 10.7+ now

commit 013373afaa07d26ecf3e31dd74d5985e1a41435b
Author: George Nachman <gln@google.com>
Date:   Wed Aug 7 21:05:45 2013 -0700

    Fix bug with cursor drawing and double width chars. Not enough cells were marked dirty, and when drawing a single cell in _drawLine and that cell was a DWC nothing got drawn because of the ugly hackery in _drawLine.

commit 041e54e5b692066369466634f61f145c96538975
Merge: 075807b9 a53642ba
Author: George Nachman <gln@google.com>
Date:   Wed Aug 7 15:02:14 2013 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 075807b90b717976c2b305575ce09fd7026caf33
Author: George Nachman <gln@google.com>
Date:   Wed Aug 7 15:02:01 2013 -0700

    Add debug logging to event monitor view and pointer prefs controller

commit a53642bab8c74f036a8f5182c8bc1af9e8f405b8
Merge: 7f450afe ba69d8fe
Author: gnachman <gnachman+github@gmail.com>
Date:   Wed Aug 7 13:58:56 2013 -0700

    Merge pull request #140 from saitoha/fix-origin-mode-behavior
    
    Move the cursor to the home position when DECOM is set or reset

commit dc53efe6ce206d8d8bf5e6da0bbf5e0347f2704a
Author: George Nachman <gln@google.com>
Date:   Wed Aug 7 13:29:08 2013 -0700

    Fix ipv6 support

commit 259dbc4a26bb64519c3dde1c05f5acb7067f57b6
Author: George Nachman <gln@google.com>
Date:   Wed Aug 7 13:29:08 2013 -0700

    Fix ipv6 support

commit 7f450afe0b3f75898f0cc540b12ad366e5fe7234
Author: George Nachman <gln@google.com>
Date:   Tue Aug 6 19:27:04 2013 -0700

    Fix warnings

commit c8364a43354dda601dd820379bd4a553ee61437d
Author: George Nachman <gln@google.com>
Date:   Tue Aug 6 18:56:42 2013 -0700

    Add ability to draw parts of lines. Make each char's dirty flag be just a bit and not a bitmask.

commit 988a8c1c29aa1df08c292e6474910c3c84834baa
Merge: 38d10166 e0fd484c
Author: George Nachman <gln@google.com>
Date:   Tue Aug 6 14:53:59 2013 -0700

    Fix merge conflicts

commit ba69d8fe366db3b426eb0b23a92b0fc389cd0f80
Author: Hayaki Saito <user@zuse.jp>
Date:   Thu Aug 1 23:34:13 2013 +0900

    Move the cursor to the home position when DECOM is set or reset

commit 826f69e9cebb49729bf216a35895f146931b6d4e
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jul 30 22:49:59 2013 -0700

    Add run coprocess as trouter action

commit e0fd484c6dfec767ec6d4921b4994d899a949a20
Merge: c3246068 0e4d104e
Author: gnachman <gnachman+github@gmail.com>
Date:   Tue Jul 30 22:12:52 2013 -0700

    Merge pull request #138 from GRMrGecko/patch-1
    
    Changed pasting of files to be joined by a space rather than new line.

commit c3246068a952e7efa3aad5eaf60bbbc87bcca3e0
Merge: 8b50ab8e bc897953
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jul 30 21:59:44 2013 -0700

    Resolve merges

commit bc897953a27db89cdd8f1dc7e2132c0b0c197f1f
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jul 30 21:55:02 2013 -0700

    Add bonjour verbose logging

commit 9ffa9d741ba75b1dcff1d946d41166662a8afb70
Merge: c3c356f7 f2d66fb5
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jul 30 21:38:20 2013 -0700

    Merge branch 'v2' of https://github.com/gnachman/iTerm2 into v2

commit c3c356f786729a8599eefe2ddc45a9a421192fc3
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jul 30 21:38:06 2013 -0700

    When a preset is added or removed, make sure it affect all preference panels

commit 0e4d104ea27befb3ddaabe7c03589456b4d57724
Author: Mr. Gecko <GRMrGecko@gmail.com>
Date:   Tue Jul 30 11:43:34 2013 -0500

    Changed pasting of files to be joined by a space rather than new line.
    
    The functionality of Mac OS X's default terminal is to paste files joined by a space. This is for a very good reason.
    
    Main uses include:
    1. Pasting multiple files as arguments to rm to remove each file.
    2. Pasting multiple files as arguments to other commands.
    
    The only thing I can think of it being useful to paste with new lines are...
    1. If you have a bunch of scripts which you want to run, you copy them and paste.
    
    There is an easy workaround for this though. You can open a text editor, paste the files in there, copy and paste back into iTerm.

commit 8b50ab8e19619a73eeca2bf90e34d5b89138925c
Merge: accc26f7 489fe395
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Sun Jul 28 21:34:04 2013 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit accc26f7906db78723dbe85a5928f15f9f016236
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Sun Jul 28 21:33:22 2013 -0700

    Add files that should have been in the last commit

commit b7302efec632100706443b357c1b3c73994ef808
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Sun Jul 28 21:33:07 2013 -0700

    Get ready for nightly auto updates to test new sparkle

commit 489fe395cf527abe9f841fad95d0e1264a42a8a2
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jul 28 21:19:40 2013 -0700

    Update sparkle to latest from Andy's repo as of today

commit e04ad20667324a76677a2bc596b895ebe773e9b2
Merge: de61a929 385cc429
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jul 28 15:29:24 2013 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit de61a9290cfe53213b1acb67c339ce56a7eeacad
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jul 28 15:28:58 2013 -0700

    Add drawing performance logging

commit 385cc4290475941e54cd35bdc15fd94fec05e860
Merge: 75aa0f3d 4c3d005d
Author: gnachman <gnachman+github@gmail.com>
Date:   Sun Jul 28 14:41:03 2013 -0700

    Merge pull request #136 from saitoha/reset-margins-on-decaln
    
    Fix DECALN behavior

commit 4c3d005d4c547100431c7ba87c0f35f9a7e93b9b
Author: Hayaki Saito <user@zuse.jp>
Date:   Sun Jul 28 18:04:25 2013 +0900

    Reset scroll margins and move cursor to (1, 1) when the terminal receives DECALN

commit 38d101663410214f6ba53a0a742b4897081f8fb2
Author: George Nachman <gln@google.com>
Date:   Fri Jul 26 17:53:27 2013 -0700

    Add option to log drawing performance

commit 75aa0f3dd485d96a0281f91e04e77b5b68ce6c18
Author: George Nachman <gln@google.com>
Date:   Fri Jul 26 17:16:04 2013 -0700

    Fix a typo where the bg color mode was not initialized and the fg color mode was set twice when resetting

commit f2d66fb5b7d1f73d2416238668738798ffe34e01
Author: George Nachman <gln@google.com>
Date:   Fri Jul 26 16:35:30 2013 -0700

    Fix merge conflicts

commit feca1a5109c82cba340a94d5a3401cc83b4d9c88
Author: George Nachman <gln@google.com>
Date:   Fri Jul 26 16:35:30 2013 -0700

    When the screen changes, sometimes desiredRows/Columns is -1 because it's from an old saved arrangement before that key was created. Don't resize windows to be tiny in that case

commit a292744d23f4f224d37e73acfc0037c0d44433a3
Merge: 3857473e 02769916
Author: George Nachman <gln@google.com>
Date:   Thu Jul 25 23:09:11 2013 -0700

    Merge branch 'v2'

commit 027699165df862be475ad1add6805fe2689c0c20
Author: George Nachman <gln@google.com>
Date:   Thu Jul 25 23:08:54 2013 -0700

    Add experimental optimization to avoid dirtying single-char changes that do nothing and cursor movements that don't need to be drawn. Turn it on by setting the ExperimentalOptimizationsEnabled user default. Also draw each dirty rect rather than the bounding rect of all dirty rects

commit 3857473ef842cf1f9385a0e85d7c7f77abafdf92
Merge: d4298283 5eed11c2
Author: George Nachman <gln@google.com>
Date:   Wed Jul 24 21:30:14 2013 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 5eed11c27b01d063f5d77909d272928cd7fb08af
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Wed Jul 24 21:29:54 2013 -0700

    Fix problem where merged code from v2 used alternateBackgroundSemantics

commit d42982830036f3b1b8e2b073b258cd332179010f
Merge: 4c3909f7 213f8c4e
Author: George Nachman <gln@google.com>
Date:   Wed Jul 24 21:28:13 2013 -0700

    Merge branch 'v2'

commit 213f8c4e81195948ca514a0e8b2150b2f3af5e59
Author: George Nachman <gln@google.com>
Date:   Wed Jul 24 21:17:50 2013 -0700

    Do not call -refrsh every time a key is pressed because it makes scrolling in vim painfully slow (unless the input method editor is open)

commit 4918e7e4481eed9084653375a844bd9a4fb66646
Author: George Nachman <gln@google.com>
Date:   Wed Jul 24 20:32:14 2013 -0700

    Fix a bug where cmd-alt-click would move the cursor via placeCursorOnCurrentLineWithEvent:. Change it to not move the cursor if cmd is down

commit 4c3909f7a7c6839251a61ad26469c8941525b0af
Merge: 7ee70f3c 14e19f59
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jul 22 21:46:44 2013 -0700

    Fix merge conflicts

commit 14e19f5910fc1a9404c9b9db24c9535dda7d5540
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jul 22 21:44:09 2013 -0700

    Strip trailing spaces from tmux history

commit 7ee70f3c239218edb331c610b9834399a58ce4a3
Merge: 38bfc3d1 bedb493e
Author: gnachman <gnachman+github@gmail.com>
Date:   Wed Jul 17 22:20:51 2013 -0700

    Merge pull request #134 from jordanlewis/master
    
    Scrollback buffer performance improvment: Keep LineBlock's cached_numlines up to date

commit bedb493ee1f89c0a4e560decc4331783f919ea53
Author: Jordan Lewis <jordan@knewton.com>
Date:   Tue Jul 16 18:08:23 2013 -0400

    dropLines updates the line buffer cache correctly.
    
    It doesn't make sense to call NumberOfFullLines on a range of
    characters that spans a raw line. We already have the precise number of
    wrapped lines to drop, orig_n, so use it to update the cache instead.

commit 65f84cd031ab09970fbe27e009a21da47481abee
Author: Jordan Lewis <jordan@knewton.com>
Date:   Tue Jul 16 16:24:23 2013 -0400

    Invalidate cache if new width != old width
    
    Also, improve the debug log so that it doesn't complain about an invalid
    cache not being equal to the correct value, and pull the debug logger
    into a function.

commit a67dc87454360e40d10770770cf77f56505a0a2b
Merge: d9f75f0f 38bfc3d1
Author: Jordan Lewis <jordan@knewton.com>
Date:   Tue Jul 16 16:53:57 2013 -0400

    Merge remote-tracking branch 'upstream/master'

commit 38bfc3d17ad04713d4707aa0f3b40740c9721eff
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jul 15 22:50:23 2013 -0700

    Add linebuffer stress test

commit 3f53a6f5a6427010a3a814711dca9d9241a725df
Author: George Nachman <gln@google.com>
Date:   Mon Jul 15 15:24:10 2013 -0700

    Fix up switch statement over alt-semantics colors

commit d9f75f0fb5ebfec407f1fb92c9ea60f2b561ef38
Author: Jordan Lewis <jordan@knewton.com>
Date:   Sun Jul 14 21:45:28 2013 -0400

    Add tests for ensuring cached_numlines sanity
    
    If TEST_LINEBUFFER_SANITY is defined, each time we would update the
    cached_numlines value outside of the complete refresh case, we would
    also calculate the normal refreshed value and log to the console if the
    updated value differs from the correct, refreshed value.

commit b24faa6d527af51626bd12012280e17aa59e17eb
Author: Jordan Lewis <jordan@knewton.com>
Date:   Sun Jul 14 18:49:58 2013 -0400

    Keep LineBlock's cached_numlines up to date.
    
    Previously, LineBlock's appendLine and dropLines methods would
    invalidate its cache of the number of full lines that were in the block,
    causing an expensive iteration through the entire block the next time
    that information was necessary. This is unnecessary - instead, we can
    update the cached_numlines value by examining the line that was just
    added or dropped.
    
    This improves the performance of `cat /usr/share/dict/words' on my
    machine by about a quarter.

commit c9349b33f28678562dbb2caaf4714eb0c1f7d380
Author: tclamb <tclamb@ufl.edu>
Date:   Thu Jul 11 17:52:28 2013 -0400

    reworded description of tests/24-bit-color.sh

commit 3b5ac369499f5f65cc1dd9071d613ae9560477ac
Author: Thomas Lamb <tclamb@ufl.edu>
Date:   Thu Jul 11 12:58:23 2013 -0400

    added display test for 24-bit color

commit a7d40db176b240eb52c4b1acdd7f0c7e4bd244fe
Author: Thomas Lamb <tclamb@ufl.edu>
Date:   Thu Jul 11 08:53:44 2013 -0400

    minor cleanup for style and safety

commit 9871c21d9f40eb7ef6e1f5e1bc4eb91786eecd53
Author: Thomas Lamb <tclamb@ufl.edu>
Date:   Thu Jul 11 08:49:49 2013 -0400

    PTYTextView:colorFromRGB -> PTYTextView:colorFromRed

commit 0dafbcf32b29a534178059b9948ff0c9cc072566
Author: Thomas Lamb <tclamb@ufl.edu>
Date:   Thu Jul 11 08:47:40 2013 -0400

    _colorForCode: added switch statement over enum ColorMode

commit 08ee5ac83c85073fa859e3cf8bcaa576cc1f58c1
Author: Thomas Lamb <tclamb@ufl.edu>
Date:   Wed Jul 10 12:33:08 2013 -0400

    tracked down bug introduced in cf2fbc2f2ac0bd5c0ee5e020e4ca89130f9d7cc7

commit c9b99d877ac01a4eadbffc7c4431e3b0038ebd46
Author: Thomas Lamb <tclamb@ufl.edu>
Date:   Wed Jul 10 12:09:42 2013 -0400

    possible bugfix with cached dim colors being used instead of 24-bit colors

commit cc526bd5fc71d7ec66db69709e4a8f38c4d12fb3
Author: Thomas Lamb <tclamb@ufl.edu>
Date:   Wed Jul 10 02:12:53 2013 -0400

    extra credit :)

commit d362fffc4df80a4a4acdba91e065bce326c28e9f
Author: Thomas Lamb <tclamb@ufl.edu>
Date:   Wed Jul 10 02:10:44 2013 -0400

    added 24-bit color support to _drawCharacter

commit 806bc1a73f7295275e86192ae07437234d4859be
Author: Thomas Lamb <tclamb@ufl.edu>
Date:   Wed Jul 10 01:55:07 2013 -0400

    *colorForCode now handle 24-bit case

commit f31f128257ee12155970a255b9d4ce385627848a
Author: Thomas Lamb <tclamb@ufl.edu>
Date:   Wed Jul 10 01:19:14 2013 -0400

    touch up comments

commit 17580a81829684fc8476ec853a3fdded764bd93c
Author: Thomas Lamb <tclamb@ufl.edu>
Date:   Wed Jul 10 01:17:12 2013 -0400

    readded attribute tests to ForegroundColorsEqual

commit 1531e95d53c33fb1429b36667aee1cc4af42213c
Author: Thomas Lamb <tclamb@ufl.edu>
Date:   Wed Jul 10 01:12:37 2013 -0400

    _drawCharacter:alternateSemantics -> _drawCharacter:fgColorMode

commit 65ee7c1ecb2374515ebfd20e96b4b1cf0fe62efb
Author: Thomas Lamb <tclamb@ufl.edu>
Date:   Wed Jul 10 01:03:51 2013 -0400

    type changes

commit 04f3b5d8ac3b3d967231f4c285ad082074fafa4f
Author: Thomas Lamb <tclamb@ufl.edu>
Date:   Wed Jul 10 01:01:50 2013 -0400

    style fixes

commit cecc384c7f1e2d53eeba8c9e0d7c0723172dc3a4
Author: Thomas Lamb <tclamb@ufl.edu>
Date:   Wed Jul 10 00:44:23 2013 -0400

    added 24-bit color to underline

commit dbb95b58edaf3b7c711ef7384db01d9437ab49dd
Author: Thomas Lamb <tclamb@ufl.edu>
Date:   Wed Jul 10 00:41:01 2013 -0400

    logic fix

commit 0b348f322014436fbc2c6611447a5fb5999d9d5e
Author: Thomas Lamb <tclamb@ufl.edu>
Date:   Wed Jul 10 00:39:55 2013 -0400

    removed 24-bit color from CURSOR_BOX

commit 4bfd456b17c6a46176b5534c1f30d897045d35c7
Author: Thomas Lamb <tclamb@ufl.edu>
Date:   Tue Jul 9 09:35:35 2013 -0400

    combined {fg,bg}Is24bit and alternate{Fore,Back}groundSemantics into {fore,back}groundColorMode

commit 8cd62e34038df49c2f5023118bb02d52ceae8e84
Author: Thomas Lamb <tclamb@ufl.edu>
Date:   Tue Jul 9 03:34:19 2013 -0400

    logic and style fixes

commit cacc408c51e1cd0a6fe45f9ee6f986ac0d87b208
Author: Thomas Lamb <tclamb@ufl.edu>
Date:   Tue Jul 9 02:56:40 2013 -0400

    corrected a few typos

commit 1cc71086f0cf3d5327203136b88c3712f0a74a4e
Author: Thomas Lamb <tclamb@ufl.edu>
Date:   Tue Jul 9 02:38:15 2013 -0400

    further style fixes

commit 24800d9d8ea649ff0e9dab8b650c08097d32c657
Author: Thomas Lamb <tclamb@ufl.edu>
Date:   Tue Jul 9 02:23:15 2013 -0400

    added - (NSColor*)foogroundColorForChar:(screen_char_t)

commit 715f6d3b57c0057e9ccecc32ce30a990d7d238fe
Author: Thomas Lamb <tclamb@ufl.edu>
Date:   Tue Jul 9 02:13:42 2013 -0400

    style fixes

commit 13f68a9b0214dc182b06c8f00c0fe61108528483
Author: Thomas Lamb <tclamb@ufl.edu>
Date:   Mon Jul 8 20:26:39 2013 -0400

    reordered ScreenChar elements for byte alignment

commit b2ba9d101225fc6836b9bd82514a72fe5fadcde0
Author: Thomas Lamb <tclamb@ufl.edu>
Date:   Mon Jul 8 19:50:36 2013 -0400

    use foogroundColor to store fooRed in 24-bit mode

commit 3a6e6a9de4b755b1819e84a22c8c87581f788be3
Author: Thomas Lamb <tclamb@ufl.edu>
Date:   Sun Jul 7 18:16:59 2013 -0400

    added Konsole-like 24-bit color control sequences

commit 8e5006ce15087103bf2e83c94791f548eaa2cb26
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Jul 11 00:01:35 2013 -0700

    Add test_pull.sh

commit 8de571f3580a2c7029dc50a1b759b127ee3cddab
Merge: 38a54810 d0c2452d
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Jul 11 00:01:18 2013 -0700

    Merge branch 'v2'

commit d0c2452d84c4b324529de7022bf4bd6f2335bb3a
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Jul 10 23:58:58 2013 -0700

    Remove bogus return statement

commit 38a54810f9366ec772d764ea5e120ce7600355dd
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Jul 10 23:29:05 2013 -0700

    Style fies

commit a4be50f5e2b1d19b5c0ea8af4d0e3ad25fae000f
Merge: 7d15c1f5 5e0eb0bc
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Jul 10 23:19:40 2013 -0700

    Merge https://github.com/jonathanrosenfeld/iTerm2 into pull132

commit 48aa41e95723e859a8eb8f718b17a03465bb1827
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jul 7 17:14:49 2013 -0700

    Make cmd-0 not leave the session's bookmark in an inconsistent state (bug 2546)

commit 7d15c1f52276bf8dc1b4e692fc528783ff4d374e
Merge: f9564287 5c5279de
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jul 7 17:15:07 2013 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit f9564287b8247de12f733eaea881bef875a79595
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jul 7 17:14:49 2013 -0700

    Make cmd-0 not leave the session's bookmark in an inconsistent state (bug 2546)

commit 5e0eb0bca446b01965b7c4a8e05024477f4f296a
Merge: 03c4f1b1 5c5279de
Author: Jonathan Rosenfeld <mail@jonathanrosenfeld.com>
Date:   Sat Jul 6 18:46:51 2013 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 5c5279de7fb22b05bd7e7170dd8602c6aa046dc0
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Jul 6 14:47:40 2013 -0700

    Remove some duplicated code

commit b137820bc845c40e075978c4ec230c611e267610
Author: Roland Walker <walker@pobox.com>
Date:   Sat Jun 29 16:26:29 2013 -0400

    doc/comment

commit f903550033e8ea50ef4de489d89a77ab262ef2b6
Author: Roland Walker <walker@pobox.com>
Date:   Sat Jun 29 16:51:36 2013 -0400

    wipe the alt screen if the primary screen resizes

commit ce4bfc17ea1f1554c6ae3aff9936c1d93a6a2f4f
Author: Roland Walker <walker@pobox.com>
Date:   Sat Jun 29 16:26:14 2013 -0400

    respect boolean showingAltScreen throughout instead of checking saved_primary_buffer for content

commit a8674e7c755294692af6b87158eedff63e955ebc
Author: Roland Walker <walker@pobox.com>
Date:   Sat Jun 29 16:23:31 2013 -0400

    refactor saveBuffer to savePrimaryBuffer

commit bcdf46c8fd985439a465b1242493b0607b2c8173
Author: Roland Walker <walker@pobox.com>
Date:   Sat Jun 29 16:21:43 2013 -0400

    add showAltBuffer and showingAltScreen showAltBuffer replaces saveBuffer for showing the alt term screen showAltBuffer saves a copy of the alt screen for later display showPrimaryBuffer sets and respects boolean showingAltScreen

commit 6da54198af76d0e138e18f391f5983c08150e528
Author: Roland Walker <walker@pobox.com>
Date:   Sat Jun 29 15:58:00 2013 -0400

    refactor restoreBuffer to showPrimaryBuffer

commit 768b3618753c9cbd54f069f527263d2c616f5462
Author: Roland Walker <walker@pobox.com>
Date:   Sat Jun 29 15:53:12 2013 -0400

    save the Alt buffer when restoring primary buffer

commit 01b6746cb3e490be3ebfe59dc00ea8baa7fb9dce
Author: Roland Walker <walker@pobox.com>
Date:   Sat Jun 29 15:37:48 2013 -0400

    refactor temp_default_char to primary_default_char

commit 98961094af5495f3a2d123e11f10e0ccd6b6763d
Author: Roland Walker <walker@pobox.com>
Date:   Sat Jun 29 15:34:02 2013 -0400

    refactor temp_buffer to saved_primary_buffer

commit b10c17e3f4222b8be81286ef06872bcc8aeb8859
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jul 2 23:06:44 2013 -0700

    When dragging a single tab, move the source window out of the way so it doesn't block drop targets under it

commit 03c4f1b17f89655f9952b5e0e4825968d4c66e57
Merge: c0307026 af3e87ee
Author: Jonathan Rosenfeld <mail@jonathanrosenfeld.com>
Date:   Sun Jun 30 18:10:55 2013 -0700

    Merge branch 'master' of github.com:jonathanrosenfeld/iTerm2

commit c030702655d14bb86ed77976fa0aa69f528fe9cb
Author: Jonathan Rosenfeld <mail@jonathanrosenfeld.com>
Date:   Sun Jun 30 18:06:31 2013 -0700

    add 'Right of Screen' option to window styles
    
    Much of this copies the existing functionality for the
    top, bottom and left window styles.

commit af3e87ee6969403660dbac0c2d1594ecbc9d954f
Author: Jonathan Rosenfeld <mail@jonathanrosenfeld.com>
Date:   Sun Jun 30 18:06:31 2013 -0700

    add 'Right of Screen' option to window styles
    
    Much of this copies the existing functionality for the
    top, bottom and left window styles.

commit 9e6beddffd8aecb2bf01812cf684d76604754127
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Jun 29 17:28:56 2013 -0700

    Fix how points are interpreted for accessibility w/r/t NSAccessibilityRangeForPositionParameterizedAttribute (they are in the screen coordinate space,not view coords). This broke three-finger-tap for dictionary lookup. Also don't output private-range chars to acccessibility

commit 153815c7afa95b9b353acc0f8a95f4878e2653c1
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Jun 29 16:23:11 2013 -0700

    Change Edit>Reset to preserve prompt (assuming you run it at the shell), broken by change to fix RIS. Fixes bug 2528

commit 8b528e7aea084abd0bf1c8a1437da8cf83d00710
Merge: 6c8c30c4 e5e1f7b1
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jun 24 22:38:20 2013 -0700

    Merge branch 'v2' of https://github.com/gnachman/iTerm2 into v2

commit 6c8c30c42b58854dc4578954b33820d9f58d3467
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jun 24 22:02:24 2013 -0700

    Remove old tiff icons for prefs

commit e5e1f7b1aa6f8416368aca25327a822b3d518797
Merge: bd2a3112 3a010451
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Mon Jun 24 21:02:58 2013 -0700

    Merge branch 'v2' of https://github.com/gnachman/iTerm2 into v2

commit bd2a3112d765bce273aaf514129e016df3f15e54
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Mon Jun 24 21:02:36 2013 -0700

    Fix bug where CTFontDrawGlyphs wasn't found on 10.7 (bug 2516)

commit eed9c1169410f35ad93fbf1652d5ba32003f1c4e
Merge: 4b420fc1 a54b37ac
Author: gnachman <gnachman+github@gmail.com>
Date:   Mon Jun 24 18:12:33 2013 -0700

    Merge pull request #130 from saitoha/feature-auto-repeat-mode
    
    Add support for DECARM (auto-repeat mode)

commit a54b37ace271a29f03e531d38522c5eedf7bd52c
Author: Hayaki Saito <user@zuse.jp>
Date:   Tue Jun 25 00:17:40 2013 +0900

    Discard repeated key events if the auto repeat mode is disabled

commit 6843ee56acf5abe17243abffa1adc178e599f40d
Author: Hayaki Saito <user@zuse.jp>
Date:   Tue Jun 25 00:10:54 2013 +0900

    Set auto repeat mode YES by default

commit 3a0104518179c0eb89035f8fa993a565114a83f1
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jun 23 22:42:48 2013 -0700

    Prevent assert in _findEntryBeforeOffset from firing; this seems to comport with the expected behavior documented by its caller. Fixes crashes like 1368452337.628220834

commit ed16b4559b306b5f62f8c00b525cf3e281322414
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jun 23 22:24:39 2013 -0700

    Prevent an assert from firing in accessibility code; just return NSNotFound instead (crash 1365066932.1521046750)

commit 7c9d85bf026378895ed9136cb84dad338e2ef28f
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jun 23 22:19:03 2013 -0700

    Prevent crash when window closes while modal shell log panel is up (crash 1364371976.1378167291)

commit a8b7cc73a51928f31fe622ad3cc4cc220d72e862
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jun 23 22:10:20 2013 -0700

    Fix crash when a window closes while waiting for confirmation about whether it can close (crash 1364036786.2098935319)

commit 03a0d51796f91829f5c8122f0044e7cfcad9e87b
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jun 23 22:04:02 2013 -0700

    Try to prevent assertion like in crash 1363915050.359567678.txt

commit bef937a6a41d952dce7aa12a666f2f8414f67545
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jun 23 22:03:41 2013 -0700

    Use git commit id instead of bogus svn number

commit 88937a99f9092d242b835f68d1d19e6f8d3ee25d
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jun 23 20:58:12 2013 -0700

    Fix logging with tmux (bug 2482)

commit a23d1cc486a0df6705b37e6dee193a4d00fa9091
Author: gnachman <gnachman+github@gmail.com>
Date:   Sun Jun 23 14:36:44 2013 -0700

    Merge pull request #127 from saitoha/fix-ris-behavior
    
    Fix RIS behavior

commit 90010418832f554d58e1e9c647ce13eb0f9c8b8d
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jun 23 14:49:57 2013 -0700

    Build legacy_testing.xml properly

commit ee2f69f88dad72afabf989dfcce76cbe192ce41b
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jun 23 14:49:37 2013 -0700

    Don't call CTFontDrawGlyphs directly

commit 9fe173575749d70dec16ba20c305ea588ca9f7dd
Merge: a955504f 8af11251
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Sun Jun 23 14:37:21 2013 -0700

    Merge branch 'v2' of https://github.com/gnachman/iTerm2 into v2

commit 4b420fc14fdc81c2847c7f75ce7db671e010444c
Merge: 8af11251 061f74ed
Author: gnachman <gnachman+github@gmail.com>
Date:   Sun Jun 23 14:36:44 2013 -0700

    Merge pull request #127 from saitoha/fix-ris-behavior
    
    Fix RIS behavior

commit 8af11251e58c323a99a12f4454ac5283325a1b99
Merge: 11f9089e 7bd18b7e
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jun 23 13:32:11 2013 -0700

    Merge branch 'v2' of https://github.com/gnachman/iTerm2 into v2

commit 11f9089e291807e2629f1a258ceb987ba059997c
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jun 23 13:31:28 2013 -0700

    Change threshold for doing slow updates to 1024 bytes (see bug 2512)

commit a955504f6017df60ca12cb734841770c178f5bda
Merge: d7ccf777 7bd18b7e
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Sat Jun 22 09:00:08 2013 -0700

    Merge branch 'v2' of https://github.com/gnachman/iTerm2 into v2

commit d7ccf777a490f26f0c92dd4a9343d1f051a08c38
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Sat Jun 22 08:58:32 2013 -0700

    Copy zipfile to beta directory

commit 7bd18b7e93a737662095084a9f80b6c46301f3e4
Author: George Nachman <gln@google.com>
Date:   Fri Jun 21 14:19:46 2013 -0700

    Make some changes to try to fix a common crash in setFastTimer when it's called from a notification when we become key

commit 2a9e1e4808b9f7504fe20d7f2166a9b8d7f87448
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Jun 21 09:33:49 2013 -0700

    Tolerate hotkey code of 0 and hotkey char of 0, as long as they're not simultaneous.

commit 44147e09c9529d8f86023f00eefb5682b1173007
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Jun 21 08:55:09 2013 -0700

    Fix emoji

commit ce625fc270ece02ab3da318e3e1e880567d038f9
Merge: 511a8442 b396b884
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Jun 21 07:49:51 2013 -0700

    Merge branch 'v2' of https://github.com/gnachman/iTerm2 into v2

commit 511a8442d77e60797ac4bc2d5aaa94a6fa48a0a2
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Jun 21 07:49:10 2013 -0700

    Turn off ligatures. Fixes bug 2498

commit b396b884c43b4450377af1f7ec51d15fa8757b69
Author: George Nachman <gln@google.com>
Date:   Thu Jun 20 16:37:03 2013 -0700

    Show window number even if it's 9 or greater

commit 10dcd202224a966674f672d2671f5cc2a3ef95e0
Author: George Nachman <gln@google.com>
Date:   Thu Jun 20 16:34:48 2013 -0700

    Check range before calling highlightWithColors:fromPoint:toPoint to fix crasher in bug 2490

commit 9e2907385b3dbe9ab9b9b6366530135ba867c391
Author: George Nachman <gln@google.com>
Date:   Tue Jun 18 11:13:33 2013 -0700

    Updated prefs icons from Reda Lemeden

commit 41ea5d61fd22432323bd0495234c56f6a23616d2
Merge: 8933b1a7 1e32e57e
Author: George Nachman <gln@google.com>
Date:   Tue Jun 18 11:03:30 2013 -0700

    Merge branch 'master' of https://github.com/kaishin/iTerm2 into pull128

commit 1e32e57ec9ab82a5c500a809631ce709f432faad
Author: Reda Lemeden <reda@thoughtbot.com>
Date:   Tue Jun 18 10:07:54 2013 +0200

    Add custom tab icons in the Preferences panel

commit 8933b1a704b4bfa3f5bbddcd5ebec31319bd0f46
Merge: fd09dc55 828ca2a7
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Jun 13 23:26:34 2013 -0700

    Fix conflict

commit fd09dc55a6acef7a0faf68d98864f00fd5042aef
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Jun 13 23:25:30 2013 -0700

    Fix bug where basePosition was not properly updated when updating a character run's positions

commit 828ca2a7302c8e0692e389c00d2acc4710bed8c6
Merge: e61b15c8 1f7f3491
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Wed Jun 12 23:09:14 2013 -0700

    Merge

commit 061f74ed0dc9f0c3870eea838e02044eb2deb6c1
Author: Hayaki Saito <user@zuse.jp>
Date:   Wed Jun 12 01:46:56 2013 +0900

    Reset bracketed paste mode with RIS

commit a2500876b1adb8734ea4108c13a13e6a6cd83662
Author: Hayaki Saito <user@zuse.jp>
Date:   Wed Jun 12 01:12:33 2013 +0900

    Reset column position to 0 with RIS

commit c20385eead3fc7ae064b545f626919df107375b2
Author: Hayaki Saito <user@zuse.jp>
Date:   Wed Jun 12 01:10:27 2013 +0900

    Strip unnecessary cursor moving

commit 1f7f3491493e73f368f5fa3b63219200bc692751
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jun 10 23:12:21 2013 -0700

    Fit tabs to window when toggling the fullscreen tab bar.

commit 97fce0de28a2fc4c75ca0bd2cde869b3996c53fe
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jun 10 22:03:12 2013 -0700

    Fix bug where non-tmux tabs sometimes lost their autoresizing of subviews of SessionView (e.g., when there is a tmux tab around and you toggle the per-pane title)

commit af4f7a48b73aae97da6dd82fc83f60d0d354ac3d
Merge: 7405ac5e cd4a63c3
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jun 9 21:56:23 2013 -0700

    Merge branch 'v2'

commit cd4a63c359acae43e685aac486cac12839af1917
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jun 9 21:55:48 2013 -0700

    Fix leaks

commit c76addf43eb4f8bdd2743d24556a153763e9359c
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jun 9 17:13:13 2013 -0700

    Fix up bugs

commit 4e109c09d69ee64ad0a9a1f3bf142591add1248f
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jun 9 16:24:03 2013 -0700

    Try to fix rendering but it doesn't really work with thai sara i

commit 7405ac5e64839d0d32d53f2d4e60e5ec3cbc2825
Merge: 3da63382 fea242f7
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jun 9 21:08:07 2013 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 3da63382085be68c55c09139d52d1e7b2321a589
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jun 9 17:13:13 2013 -0700

    Fix up bugs

commit 6b36de9daff22fba4a7de8fb0405a3c369d1f439
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jun 9 16:24:03 2013 -0700

    Try to fix rendering but it doesn't really work with thai sara i

commit e61b15c89f6b8299f607d428382e9416368ce783
Merge: da3f242f cc889e3a
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Sun Jun 2 23:25:26 2013 -0700

    Merge branch 'v2' of https://github.com/gnachman/iTerm2 into v2

commit da3f242fb006b438f2504f5a21081ada214c1ae8
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Sun Jun 2 23:25:21 2013 -0700

    Use NSSize instead of CGSize

commit cc889e3a725602f586d7c279ed1ea608d7ffdf86
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Jun 1 17:10:19 2013 -0700

    Expand the criteria for character runs to be compatible, most notably including color (whose presence in the NSAttributedString is not carried through to drawing).

commit e52b340563e0ac134b1ba65de69bbbfcf087ee36
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Sun Jun 2 22:12:11 2013 -0700

    Remove bogus make statement

commit 4ca28950ad4cf3ca124990aba3563da530de82e2
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Sun Jun 2 21:36:23 2013 -0700

    Update appcasts dir

commit fea242f7bf808da578e4ccd7cb9b66957c0fa32d
Merge: 70a99a50 6e3aaf10
Author: gnachman <gnachman+github@gmail.com>
Date:   Sun Jun 2 16:47:47 2013 -0700

    Merge pull request #126 from saitoha/fix-issue-2479
    
    Fix issue 2479

commit 70a99a50255ff2f76b2efa5bf1fb0718df71cf47
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jun 2 16:26:36 2013 -0700

    Restore previous semantics of -setDirty that causes the whole screen to redraw

commit 90c9f39367ed94e4a0b4bba8d0e9efc02d6f2061
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jun 2 16:03:28 2013 -0700

    Major performance improvement - don't call setNeedsDisplay from setDirty

commit cc10079c1b006ec6ea44edae4ded57133b07f9b4
Merge: b1794f83 e15f763f
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jun 2 14:51:39 2013 -0700

    Merge branch 'v2'

commit e15f763f9396b9e989eeb1d553769de09c8b0abb
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jun 2 14:51:14 2013 -0700

    Support an optional flag at the end of %begin and %end to fix post-tmux 1.8 bug

commit 0d397f6acd0a3d4d7948a6005e537368b4038655
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jun 2 13:12:08 2013 -0700

    Move to self-hosting

commit 6e3aaf10f3a210b161107fa9a0882f18a30be45b
Author: Hayaki Saito <user@zuse.jp>
Date:   Sun Jun 2 10:38:05 2013 +0900

    Don't ignore long param CSI in normal parser

commit 2e6e97be3f72452636853d6108710f0f5e9d172f
Author: Hayaki Saito <user@zuse.jp>
Date:   Sun Jun 2 10:29:50 2013 +0900

    Don't ignore long param CSI in canonical parser

commit b1794f83ed8979ed36aadf0b4c66a2dff19beec8
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Jun 1 17:10:19 2013 -0700

    Expand the criteria for character runs to be compatible, most notably including color (whose presence in the NSAttributedString is not carried through to drawing).

commit e7cfdaa82769187cc0d848f18cc9cbc0aa4278a8
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed May 29 14:19:45 2013 -0700

    Add a bit of debugging to the copy-text flow

commit 1e0142622fe152186f5e8c968fa2ae285fed2cd2
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun May 26 15:15:54 2013 -0700

    Fix bug where new tmux windows would open in a tab

commit 6f5df8daa6f5698be3bf6ff941423e891e89e3c9
Merge: df88565e 2805b4aa
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed May 22 11:11:28 2013 -0700

    Fix merge

commit df88565ed972a2b7109895bd0e84f35d85d9afc3
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed May 22 11:10:44 2013 -0700

    Remove some extraneous logging

commit 0900a4540fc2fcae8d97873130b0adb6287f8924
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed May 22 11:10:37 2013 -0700

    Fix bug where alt-click didn't use the right condition to determine whether to move the cursor

commit 2805b4aa898d7253c2f9ff8eb7091bc073b8b8b0
Merge: 3b3fc643 d761093f
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue May 21 23:33:31 2013 -0700

    Merge branch 'v2' of https://github.com/gnachman/iTerm2 into v2

commit d761093fd17bb8a0d93fc8b829f6d5bda502f3bc
Merge: ab3849ab dd5dabfb
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue May 21 23:32:51 2013 -0700

    Merge branch 'v2' of https://github.com/gnachman/iTerm2 into v2

commit ab3849abdbbe546bf538b2690820bbe898e6a8b8
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue May 21 23:32:37 2013 -0700

    Fix problem where you can't open a tmux tab/window while not in a tmux window.

commit 3b3fc643e88e661f38501f9f80bdff26a33a2571
Merge: 2ee0eb52 dd5dabfb
Author: George Nachman <gln@google.com>
Date:   Mon May 20 10:40:28 2013 -0700

    Merge branch 'v2'

commit dd5dabfbf96a474353655ed0eaaba44550946adb
Author: George Nachman <gln@google.com>
Date:   Mon May 20 10:39:03 2013 -0700

    Fix bug where XTERMCC_WINDOWPOS swapped its x and y args and make XTERMCC_REPORT_WIN_POS report the Y coordinate in a more traditional way (distance from top of screen to top of window)

commit 605a8a29d3ba8133f5e88905a8c3b33932924031
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon May 20 07:53:43 2013 -0700

    Don't lock auto scrolling on a first-mouse mouseDown event

commit 2ee0eb52ab0df044505ef0c390743bb5185e6a04
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon May 20 07:53:43 2013 -0700

    Don't lock auto scrolling on a first-mouse mouseDown event

commit 5c007786a616c5c67863ed3dde2cfe7c9c71c736
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon May 20 07:44:18 2013 -0700

    When erasing a line, replace soft newlines with hard newlines

commit a4ad76873999a3d9f21e8e4ca4fd545549675a99
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun May 19 22:28:37 2013 -0700

    Add edit>reset character set to fix what happens when line drawing escape codes go awry

commit df2cc794bf75c83fe2dad09bca3e2346fb3bafaf
Merge: 10a4a0bb 63fd75d8
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun May 19 22:02:34 2013 -0700

    Merge branch 'v2'

commit 63fd75d81bdae3cf91279aa253dc0d775606eb76
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun May 19 22:01:43 2013 -0700

    Restore support for G1..G3

commit 9a2e486a6d62618fc16a7019d0cad156c8a0a259
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun May 19 21:59:44 2013 -0700

    Fix busted comment

commit f802d1241fef6fb147c4903bfc3e260bbb94e537
Author: George Nachman <gln@google.com>
Date:   Thu May 16 10:19:15 2013 -0700

    Fix bug that broke pasting of chars > 127

commit 60f168d5fa71ccc6e1f5c7f780d300a9f00509f7
Merge: 25552835 f55e2278
Author: George Nachman <gln@google.com>
Date:   Thu May 16 10:19:45 2013 -0700

    Merge branch 'v2' of https://github.com/gnachman/iTerm2 into v2

commit 10a4a0bbdfae3ce3025b324de8229b45291fbdc9
Author: George Nachman <gln@google.com>
Date:   Thu May 16 10:19:15 2013 -0700

    Fix bug that broke pasting of chars > 127

commit b26b1bcb7b136524a85b1adf46ab42df6ba683c0
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun May 12 22:27:22 2013 -0700

    Use core text to compute runs. Speeds up non-ascii code path

commit b3242cc249448401327da8f406925c0aa5e3a4de
Merge: c6ed14ae f55e2278
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat May 11 20:02:35 2013 -0700

    Merge branch 'v2'

commit f55e2278eb6a604c2354ed69072c6cb55a763f3f
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat May 11 20:01:19 2013 -0700

    Don't filter out tabs or form feeds when pasting

commit c6ed14ae6478d7165a6cc686ccdee51e5a073d12
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat May 11 19:28:15 2013 -0700

    Improve logging when canonicalizing window frame

commit 635aa49a5df32f5cf3993e93130f8e2dd3eff062
Merge: 611b9734 4b41d5d0
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri May 10 18:01:50 2013 -0700

    Merge branch 'v2'

commit 4b41d5d0ecff77e42e7615bc0013c6101863edff
Merge: 69c1b8f1 66665ab8
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri May 10 18:01:16 2013 -0700

    Merge branch 'v2' of https://github.com/gnachman/iTerm2 into v2

commit 69c1b8f10b2d893aea0f6be5fd371a12357caf80
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri May 10 18:01:08 2013 -0700

    Don't strip newlines when pasting

commit 611b9734b5df6d13ed239897f660c674b86b4dcf
Merge: 76076692 25552835
Author: George Nachman <gln@google.com>
Date:   Wed May 8 13:46:37 2013 -0700

    Merge branch 'v2'

commit 25552835e3e391678a0ec5deaacff0c7447b5d89
Merge: 18f46842 66665ab8
Author: George Nachman <gln@google.com>
Date:   Wed May 8 13:46:24 2013 -0700

    Merge branch 'v2' of https://github.com/gnachman/iTerm2 into v2

commit 18f46842e625baf70830e13cfe0b1652d9062d6a
Author: George Nachman <gln@google.com>
Date:   Wed May 8 13:46:16 2013 -0700

    Fix bug where an unassigned hotkey maps to 'a' with no modifier

commit 66665ab8e7c1135e7f210b2492ed2780e6389b7e
Merge: 8b0b4f8c dcc988ff
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon May 6 22:26:31 2013 -0700

    Merge branch 'v2' of https://github.com/gnachman/iTerm2 into v2

commit 8b0b4f8cbb717d7b28b80ae54bbb32a89588dc2d
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon May 6 22:25:32 2013 -0700

    Save tab colors in arrangements

commit 76076692f48d968ffc4636bd51db8e6b11dca96e
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon May 6 22:25:32 2013 -0700

    Save tab colors in arrangements

commit 4fb7576758c8308c1b788b46f66d08f0b57dcd38
Merge: 094bdea7 b2cd7e21
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon May 6 09:16:40 2013 -0700

    merge v2

commit 094bdea7cbb24cd8745e6b551190e78eb05bed5a
Merge: 47d3a880 dcc988ff
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon May 6 09:13:38 2013 -0700

    Merge v2 in

commit b2cd7e219dd1e443b7d6ec769176d2f157949320
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon May 6 09:10:44 2013 -0700

    Fx bug where complexChar was not reset when clearing code

commit dcc988ff026d7dd97680425accb5be21cf5068d5
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon May 6 08:57:36 2013 -0700

    Reset complexChar in ANSICSI_ECH

commit bfc07f8a39136f0e1aaac6b729e6a166bfdd2bac
Merge: 2dc5e030 00908835
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun May 5 12:22:35 2013 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 2dc5e03050ce0801dcc73155c4bc77868e68274f
Merge: fe076f83 f0b572e3
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun May 5 12:22:18 2013 -0700

    Merge v2

commit fc5372bfd1f0797469033ffb0e05d6ab9051d2d9
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun May 5 12:21:09 2013 -0700

    Avoid hitting expose code when expose isn't visible.

commit 292b0efae317ca5b405844848913bf3b0da0123e
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun May 5 12:11:33 2013 -0700

    Add sanity check

commit 239e50b74e7b39d061603a068ecaeebcc9e6f765
Merge: 7697d785 5090fe30
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat May 4 19:02:44 2013 -0700

    Merge branch 'v2' of https://github.com/gnachman/iTerm2 into v2

commit 009088357f30532491a6608cdaeda67520ed8a94
Merge: 3ac8cee6 4b9f53be
Author: George Nachman <gln@google.com>
Date:   Tue Apr 30 11:41:27 2013 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 5090fe30604726c92ec3153cce189d367576391f
Author: George Nachman <gln@google.com>
Date:   Tue Apr 30 11:41:04 2013 -0700

    Split long send-keys commands into sub-1024-byte chunks to avoid crashing tmux 1.8

commit 3ac8cee6ce5477db76be5b9ae041576f2be04570
Author: George Nachman <gln@google.com>
Date:   Tue Apr 30 11:41:04 2013 -0700

    Split long send-keys commands into sub-1024-byte chunks to avoid crashing tmux 1.8

commit 4b9f53be9dc33632936a446d517ee4f1a14b7704
Merge: fe076f83 5a16766f
Author: gnachman <gnachman+github@gmail.com>
Date:   Mon Apr 29 16:24:39 2013 -0700

    Merge pull request #125 from asmeurer/1491-nonascii
    
    Always use the Unicode font for non-ASCII

commit 5a16766f967ac1bb72be5ee8caa6982dd23b8136
Author: Aaron Meurer <asmeurer@gmail.com>
Date:   Mon Apr 29 15:46:46 2013 -0600

    Remove hasGlyphForCharacter, as it is no longer used

commit ca1c4bbc333defac5a0fa93a4ad74ce643d5bef5
Author: Aaron Meurer <asmeurer@gmail.com>
Date:   Sat Apr 27 14:16:03 2013 -0600

    Always use the Unicode font for non-ASCII
    
    Previously it would still use the ASCII font if the font contained the
    character. But this is confusing, and seems to contradict what the option says
    it will do. Furthermore, it is more useful this way, as users may prefer the
    ASCII characters of one font but the Unicode characters of another font, even
    if their ASCII font has those Unicode characters.
    
    This fixes https://code.google.com/p/iterm2/issues/detail?id=1491.

commit 7697d785c8ae763f3c26ed6d147f6744de77d07a
Merge: 0ed600a5 1204bc9c
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Apr 21 20:55:14 2013 -0700

    Merge branch 'v2' of https://github.com/gnachman/iTerm2 into v2

commit fe076f83966266f4c5f349e2078ce578cbdd2c6e
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Apr 21 20:54:47 2013 -0700

    Fix bug where first tab was always made first responder when becoming key

commit 661fb142d60797eea0856900b251c2b7d7965076
Merge: 8fb3e7de 756fa632
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Apr 21 14:52:28 2013 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 756fa632cc3e81776256aa3d495dbf5e80afa33f
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Sun Apr 21 14:57:12 2013 -0700

    Make nightly build not upload a bogus zip if make fails

commit 8fb3e7de915d943191d512eebc25dab4963e44d2
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Apr 21 14:46:38 2013 -0700

    Fix bug where menu/dock showed when the number of tabs changed in fullscreen

commit 96859458d36f97b6c359796477bc51b53ce4407e
Merge: b69f9060 d377f887
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Apr 20 14:41:18 2013 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit b69f906063aad6b85fc20e7c65b0d70e7d6cb283
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Apr 20 14:40:40 2013 -0700

    Explicitly set the first responder when a window becomes key

commit 1204bc9c0dbe07adca052e345aa8da727d42fe94
Author: George Nachman <gln@google.com>
Date:   Fri Apr 19 16:13:29 2013 -0700

    add kTmuxGatewayCommandHasEndGuardBug to kill-window

commit 4ede4a9f39884ff4a653fb1b70a1f17c3125d286
Author: George Nachman <gln@google.com>
Date:   Fri Apr 19 16:14:04 2013 -0700

    Handle %begin auto guard from tmux for non-client-initiated commands

commit d377f8878a99592187d3ef902b465db19aa15304
Author: George Nachman <gln@google.com>
Date:   Fri Apr 19 16:14:04 2013 -0700

    Handle %begin auto guard from tmux for non-client-initiated commands

commit 120dfcd546767b24f63e67a483b66e62b11ef2e1
Author: George Nachman <gln@google.com>
Date:   Fri Apr 19 16:13:29 2013 -0700

    add kTmuxGatewayCommandHasEndGuardBug to kill-window

commit f0b572e3942d4e07f1fb6719f8fdbef82bffa3af
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Apr 18 23:16:02 2013 -0700

    Remove control chars before pasting out of paranoia

commit d297e8ed2a8b5664868a7c39ca8b07ce4b7b4ce4
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Apr 18 22:44:19 2013 -0700

    Fix bug where adding a tab when there are no tab stops causes a hang. Fixes bug 2437

commit be94e7fca37f47092c3f557a17869c1cebedcbf3
Merge: 21bdd605 d5ce6511
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Apr 18 22:44:40 2013 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 21bdd60524d053ab1205ff273f0577972e9a717b
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Apr 18 22:44:19 2013 -0700

    Fix bug where adding a tab when there are no tab stops causes a hang. Fixes bug 2437

commit d5ce651176a03526c1b9af374725b58c88319978
Author: George Nachman <gln@google.com>
Date:   Wed Apr 17 10:29:40 2013 -0700

    Fix broken nightly build

commit a2a7a8bfe050b03f288b5e4f20da3b9cf1940c18
Merge: 20384960 cdc648d7
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Apr 16 22:53:53 2013 -0700

    Merge italic change from v3 branch

commit 0ed600a554cec4d8843c835b74343294562872be
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Apr 16 21:38:30 2013 -0700

    Fix breakage of deployment build

commit 20384960eb8c79dbae7bc01d2192f7c47711209c
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Apr 16 21:26:48 2013 -0700

    Indentation/grammar fixes

commit 1855623d56c8c1f0bcd59f6129fba28d3b9f172a
Merge: f488fed3 b97a20af
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Apr 16 21:22:06 2013 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit b97a20af2ad9ac53b6a9dc4d945fe6b4140fa994
Merge: 9441ac28 192f20a6
Author: George Nachman <gln@google.com>
Date:   Tue Apr 16 14:53:08 2013 -0700

    Merge branch 'v2'

commit 192f20a6b8de51cd78db2edb9ffa3d1a10b04eee
Author: George Nachman <gln@google.com>
Date:   Tue Apr 16 14:52:57 2013 -0700

    Make the hotkey field refuse first responder

commit 6e77a756af43050571a0bdea86158cfd414de806
Author: Carter McKendry <carter.mckendry@gmail.com>
Date:   Thu Apr 11 23:25:42 2013 -0300

    Change "Bookmark" to "Profile" in context menu
    
    Right clicking a profile in the "Profiles" dialog offers the option to "Edit Bookmark..." which is outdated and confusing terminology. Just a string change.

commit 9441ac285b8f5513b28dbdbdf214e8420577420b
Merge: 0c72a474 7369e836
Author: gnachman <gnachman+github@gmail.com>
Date:   Tue Apr 16 14:12:33 2013 -0700

    Merge pull request #124 from cmckendry/patch-1
    
    Change "Bookmark" to "Profile" in context menu

commit c18104ff20cd4868d8da8ade4d22cf0f5523f279
Author: George Nachman <gln@google.com>
Date:   Tue Apr 16 13:00:29 2013 -0700

    Remove calls to deprecated convertPointFromBase:

commit f488fed3c9b143edd7ce50e266ca3b63c2551491
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Apr 15 22:38:11 2013 -0700

    Prevent close button in session title from becoming first responder in an attempt to fix bug 1924

commit 6b23f104573e2b8afc175ea347689bb1b3efb4ce
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Apr 15 22:31:58 2013 -0700

    Pull 122

commit 979f17851c1f50f1389d9b031f809ae150052176
Author: Boris Dušek <dusek@brailcom.org>
Date:   Sun Mar 31 22:42:22 2013 +0200

    Fix numberOfVisibleTabs
    
    This returned one more in case an overflow menu is shown.

commit 57f8c111021182a42a89b02c749198ddf4c6b729
Author: Boris Dušek <dusek@brailcom.org>
Date:   Sun Mar 31 22:47:34 2013 +0200

    Fix accessibility of PSMTabBarCell
    
    * being AXRadioButton, VoiceOver indicates there is exclusive
      choice (i.e. only one button can be selected at a time, just like a
      radio button), also in conjunction with AXTabs of its parent reports
      proper position
    * implemented visual bounds - yields proper VoiceOver cursor bounds
      and also enables touch exploration
    * implemented AXTitle - so that the proper name is read when
      navigating the buttons
    * implemented AXValue - so that the selected tab can announce itself
      as such (AXFocused is for elements having keyboard focus, i.e. being
      first responder, which is something quite different than being
      selected from a list of other options)

commit 376b32778288f22f37d79978da85f3a0537f4af1
Author: Boris Dušek <dusek@brailcom.org>
Date:   Sun Mar 31 22:43:04 2013 +0200

    Add accessibility description to the overflow tab bar button

commit a0530a930f94cf4fbc4da4c223bac6bb7f61eb29
Author: Boris Dušek <dusek@brailcom.org>
Date:   Sun Mar 31 22:35:55 2013 +0200

    Fix accessibility of PSMTabBarControl
    
    * it's now an AXTabGroup - thanks to AXTabs the position of the tab
      and total tab count are announced
    * AXChildren shows only visible tabs, and all buttons (like overflow)
    * AXValue + AXValueChanged notification enable announcing new tab name
      when switching between them with Cmd-Shift-[] (for unknown reason
      does not do that quite yet)

commit 346a3ead92bdde5c39f6a5967eae4074a8102b54
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Apr 15 22:22:05 2013 -0700

    Merge pull request 123

commit 14a4daf580a75f456ef79698dcb0948ce3ef3dc2
Author: Boris Dušek <dusek@brailcom.org>
Date:   Sun Apr 7 14:30:08 2013 +0200

    Add more compact accessibility logging to PTYTextView

commit 0509f0601b87a27ef09a3a77c4ba03a8413ee943
Author: Boris Dušek <dusek@brailcom.org>
Date:   Sun Apr 7 14:28:39 2013 +0200

    Fix AXRoleDescription

commit eba8dedf442f587ad5fdc9fd5cb7e86d11fc3696
Author: Boris Dušek <dusek@brailcom.org>
Date:   Sun Apr 7 14:20:49 2013 +0200

    Quick fix for ZoomText for Mac

commit 952da2cb57abf0240e523616045cf5b0fbd2b7df
Author: Boris Dušek <dusek@brailcom.org>
Date:   Sun Apr 7 14:12:23 2013 +0200

    Support the "Zoom" accessibility feature
    
    Now Zoom users (System Preferences > Accessibility > Zoom) enjoy Zoom
    following the iTerm2 cursor so that it always stays in the magnified
    portion of the screen.
    
    Unfortunately this does not work with ZoomText for Mac as it uses the
    accessibility methods (accessibilityAttributeValue*) which seem to not
    provide accurate information (more specifically,
    lineBreak{Char,Index}Offsets_ are nil - when VoiceOver is running,
    they are not and ZoomText for Mac works fine).

commit abac249d2a205f42e2d38bc5b029ddf25f7a6fbc
Author: Boris Dušek <dusek@brailcom.org>
Date:   Sun Apr 7 00:39:27 2013 +0200

    Fix slightly offset AXBoundsForRange
    
    Now when moving through characters/words with VoiceOver, the visual
    bounds of VoiceOver cursor match exactly

commit 0c6b1a75479561afc98f78c712d7a2116b7b96a2
Author: Boris Dušek <dusek@brailcom.org>
Date:   Sat Apr 6 23:04:50 2013 +0200

    Fix one-character lines missing in _allText

commit f4c84036d605295a187590e43b1eb14795b811a6
Author: Boris Dušek <dusek@brailcom.org>
Date:   Mon Apr 1 17:37:08 2013 +0200

    Implement AXSelectedTextRanges using AXSelectedTextRange (DRY)

commit 2c8f396a149806052c43694b1d0d999d7c9e24d0
Author: Boris Dušek <dusek@brailcom.org>
Date:   Mon Apr 1 01:44:22 2013 +0200

    Fix AXBoundsForRange in PTYTextView
    
    * the bounds must be returned in screen coordinates
    * lines, as seen by VoiceOver, are visual lines,
      i.e. softlines. Adjust _allText to respect that when computing the
      linebreak offsets, which also fixes the visual bounds for cases
      where softlines occur

commit da22b4794fde6cf0a96240ebfd3fb65fa9d334ec
Author: George Nachman <gln@google.com>
Date:   Mon Apr 15 15:26:14 2013 -0700

    Make setting highlight colors that affect only fg/bg actually affect only fg/bg. Fixes bug 2429

commit 0c72a474f0db0aca7d043a890bc417025e865b66
Author: George Nachman <gln@google.com>
Date:   Mon Apr 15 15:26:14 2013 -0700

    Make setting highlight colors that affect only fg/bg actually affect only fg/bg. Fixes bug 2429

commit 84ad3dc85c17b5130f9241183753611a293918fb
Author: George Nachman <gln@google.com>
Date:   Mon Apr 15 14:56:49 2013 -0700

    Do not allow PSMTabBarCell to accept first responder in attempt to fix bug 1753

commit 7369e8368cd8df25fc3f8e098a45ecaeacaf404e
Author: Carter McKendry <carter.mckendry@gmail.com>
Date:   Thu Apr 11 23:25:42 2013 -0300

    Change "Bookmark" to "Profile" in context menu
    
    Right clicking a profile in the "Profiles" dialog offers the option to "Edit Bookmark..." which is outdated and confusing terminology. Just a string change.

commit 76b1b92c4ba18fa76d42ef0cc13ed5fa185b4cec
Author: George Nachman <gln@google.com>
Date:   Wed Apr 10 14:48:23 2013 -0700

    Fix crash when trying to find a filename in an empty string; Remove unused variable; Fix bug where tmux window jumps to its previous coordinate when layout changes.

commit 86e7afec090239bcde452548c9fc06f508eea9b9
Author: George Nachman <gln@google.com>
Date:   Wed Apr 10 14:48:23 2013 -0700

    Fix crash when trying to find a filename in an empty string

commit 107f507d935957e605a29a5b5749a6d68e50ec75
Author: George Nachman <gln@google.com>
Date:   Wed Apr 10 12:13:10 2013 -0700

    Add some logging for bug 1714 (windows move on tmux split)

commit 55041d0764d4121828fdd06d7d7cf9bd444a9edf
Merge: fecfd9de 92bee552
Author: George Nachman <gln@google.com>
Date:   Wed Apr 10 12:07:57 2013 -0700

    Merge branch 'v2'

commit 92bee5520fec02b79291502f0e6ccfe4ac399ca5
Author: George Nachman <gln@google.com>
Date:   Wed Apr 10 12:07:47 2013 -0700

    Indentation fix

commit 10eaa193d0a3ebfaa243ab0bcae2a2afd9abb5c4
Merge: 80854deb 4979029e
Author: George Nachman <gln@google.com>
Date:   Wed Apr 10 11:45:23 2013 -0700

    Merge branch 'v2' of https://github.com/gnachman/iTerm2 into v2

commit 80854debddbf25b331bd7aebd12a25a7531e2be6
Author: George Nachman <gln@google.com>
Date:   Wed Apr 10 11:45:13 2013 -0700

    Fix bug where we can't get a process's ppid if it's setuid (e.g., top). The fix only works on 10.7 and up; 10.6 doesn't provide a mechanism that I can find.

commit 4979029ede478e7365f1e0dba30b5d1750fed961
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Apr 9 22:02:08 2013 -0700

    Fix a bug in expose where the expose window was in the wrong place;also hide the dock and menu bar in expose

commit 54a480750495193da2a80b6d3b55517102c42fd9
Merge: 2557eea8 1f97f29a
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Apr 9 21:05:37 2013 -0700

    Merge branch 'v2' of https://github.com/gnachman/iTerm2 into v2

commit 2557eea806f82a5659f27704f37e2230f2726849
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Apr 9 21:05:13 2013 -0700

    Fix a bug where PTYSession's weren't -terminate'd when a PseudoTerminal closes if they'd already had a brokenPipe causing EXIT to be set

commit 1f97f29a1568d122fb5b36bd59e9496a95a6c55d
Author: George Nachman <gln@google.com>
Date:   Mon Apr 8 16:52:07 2013 -0700

    Fix bug where dragging a tmux split vertically computes the wrong splitter index and wrong distance moved, probably beacuse convertPointFromBase: does crazy things on retina

commit fecfd9ded35dd588c4f06f90c4f05eb34c073c53
Author: George Nachman <gln@google.com>
Date:   Mon Apr 8 16:52:07 2013 -0700

    Fix bug where dragging a tmux split vertically computes the wrong splitter index and wrong distance moved, probably beacuse convertPointFromBase: does crazy things on retina

commit 65be83bca6e00b3392a223cb08ab8680a5abf9de
Merge: c3fc81d0 9da97dd3
Author: George Nachman <gln@google.com>
Date:   Mon Apr 8 16:09:01 2013 -0700

    Merge pull 121 to add sublime text 3 support

commit c3fc81d02e4adfe1226bd9053c3dcc725d31a734
Merge: 7d3834a5 826ce5cb
Author: George Nachman <gln@google.com>
Date:   Mon Apr 8 16:07:46 2013 -0700

    Merge in v2 changes

commit 9da97dd3bf3b918e2c5cec6c961a3f857bfaea62
Author: George Nachman <gln@google.com>
Date:   Mon Apr 8 16:04:47 2013 -0700

    Add support for sublime text 3, from pull request 121 (tinystatemachine)

commit 826ce5cb86ed8197e2ac4661ccde25bd81bf5282
Merge: 37d6871f 3f784f13
Author: George Nachman <gln@google.com>
Date:   Mon Apr 8 15:36:04 2013 -0700

    Change cmd-t to open new tmux tab if the current tab is tmux, same with cmd-w. Work around bug in tmux not outputing %end for unlink-window.

commit 7d3834a5f207aa3923eb3095e8ddcc683244a8b5
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Apr 6 20:58:55 2013 +0200

    Fix bug where global prefs were considered when diffing prefs vs remote to see if anything changed

commit 3f784f13d6ad42033b510d0a12f26b540c649d8f
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Apr 6 19:48:24 2013 +0200

    Turn off tmux verbose logging

commit 032a12bb5ba4272aedab4ef2a0d156cd35cd4686
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Apr 6 19:36:20 2013 +0200

    Work around bug in tmux 1.8 where unlink-window will print %exit without %end

commit 5cca00ffbd5d837f0c767f9e2e20b915b44ecda6
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Apr 6 17:34:51 2013 +0200

    Make cmd-t and cmd-w open a tmux window/tab if the current session is tmux

commit a45c6aeb2ad586f8dc5fb107a3e6057bc513dd35
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Apr 6 17:01:42 2013 +0200

    Rename MOUSE_BUTTON_RELEASE to MOUSE_BUTTON_NONE

commit d2d0c2e0a19c8dfefb0446c081b4c8073fe46e2b
Author: saitoha <user@zuse.jp>
Date:   Sun Feb 3 15:34:56 2013 +0900

    Replace some unsafe assertions with if-statements

commit 2109ef9b796e54dbbc061df60da1f5799ce0ef32
Author: saitoha <user@zuse.jp>
Date:   Sun Feb 3 13:52:42 2013 +0900

    Revive viewDidMoveToWindow for avoiding problems when adding the view to a new view hierarchy

commit 643b58088e164a0c10ac782f7444ad2be79cd5bc
Author: saitoha <user@zuse.jp>
Date:   Tue Jan 29 14:39:01 2013 +0900

    Add any event mouse tracking (DECSET 1003)

commit 9cb1269c61d9a7b1f6027be014855554df2734bb
Merge: 4e0a1a6f b5f3a3ba
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Apr 1 16:32:59 2013 +0200

    Merge branch 'master' of github.com:gnachman/iTerm2

commit 4e0a1a6f9ef19ac302cabc045bb2d9a111570369
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Apr 1 16:32:36 2013 +0200

    Add tiled background images (see pull 106 for the basis of this change)

commit 406c1f332151db303c9fd748bc8364984993a964
Author: Foy Savas <foy@sav.as>
Date:   Mon Jan 21 18:12:56 2013 -0500

    Behold: background image tiling.

commit 37d6871ffcc35b2c3cc09ad05139dce560a41162
Author: George Nachman <gln@google.com>
Date:   Thu Mar 28 16:38:40 2013 -0700

    Revert aa7797145a9ba0340e6dde2a6504cbeadc8294b7 (Hide toolbar in fullscreen windows. Save toolbar setting in user prefs. Make sure it is consistent across all windows.)

commit cd6a343a49736641a8bbb14de8d936bf39d51cc1
Author: George Nachman <gln@google.com>
Date:   Thu Mar 28 16:36:44 2013 -0700

    revert 1895c60dd29b897a78837a6155ba08577e670581 (Fix bug where toolbar becomes visible after exiting lion fullscreen)

commit b5f3a3ba0a4a4a91eae0beacf7c0f3e0fbac09bc
Merge: c20e4a97 f37377f8
Author: George Nachman <gln@google.com>
Date:   Thu Mar 28 16:07:40 2013 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit c20e4a97970fb2f956c13eed7acc992d7b24ff87
Author: George Nachman <gln@google.com>
Date:   Thu Mar 28 16:07:28 2013 -0700

    Detect textmate 2 as textmate

commit f37377f80920ed6e2fdf03dd82bff03c99570e53
Merge: 56dd8360 9edcfcbb
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Mar 24 23:13:48 2013 -0700

    Merge remote branch 'origin/v2'

commit d7d17110543c9d29aaec6e556b7dafe86233e187
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Mar 24 23:13:18 2013 -0700

    Fix bug where dragging a split pane to the left in tmux doesn't resize anything

commit 010eae5082c9f122d8791339f4d6568cca9f6d63
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Sun Mar 24 22:36:37 2013 -0700

    Improve release process for legacy build

commit 56dd8360afdc46302940045bf1db8f4ab1def7a5
Merge: 6bd69d33 888eb54f
Author: gnachman <gnachman+github@gmail.com>
Date:   Sun Mar 24 16:23:56 2013 -0700

    Merge pull request #120 from saitoha/disallow-column-mode-by-default
    
    Disallow column mode (DECSET/DECRST 3) by default

commit 6bd69d33fb43080e0556ddbd0eb750cdd412a647
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Mar 24 13:35:42 2013 -0700

    Move cursor back into last column (out of virtual last+1 column) when moving cursor up or down. Fixes bug 2405

commit 68fd0c8a18a41407b2a0b3f8d18c04bc3e14a6d5
Merge: ae73cc1c 3c34924a
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Mar 24 13:42:26 2013 -0700

    Merge branch 'master' of github.com:gnachman/iTerm2

commit ae73cc1c579918a457ad12ec6d4010bb50ddf433
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Mar 24 13:40:08 2013 -0700

    Remove my email address from nightly.sh

commit 9edcfcbbe7a91d0e5b932ad299d613342d6346ad
Merge: 74b3e4de 0b0aefeb
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Mar 24 13:40:42 2013 -0700

    Merge branch 'v2' of github.com:gnachman/iTerm2 into v2

commit 74b3e4de0ebbbaf9da73de8c695802ff586c8fac
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Mar 24 13:40:08 2013 -0700

    Remove my email address from nightly.sh

commit 0b0aefeb0ee4e749518ffeaf06d8ff281ac8f5b3
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Mar 24 13:35:42 2013 -0700

    Move cursor back into last column (out of virtual last+1 column) when moving cursor up or down. Fixes bug 2405

commit 3c34924a6662b6507482cf05a274941f704f8959
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Sun Mar 24 12:01:03 2013 -0700

    Use 10.6 sdk for nightly builds

commit 888eb54f518536892e18719f0e55130458b09d15
Author: saitoha <user@zuse.jp>
Date:   Sun Mar 24 16:09:49 2013 +0900

    Disallow column mode (DECSET/DECRST 3) by default

commit 47d3a8804822263fa1dae33d8eaefc6eb435b831
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Mar 23 19:12:34 2013 -0700

    Fix bug where window decoration size wasn't initialized for bottom of screen windows when canonicalizing the window frame

commit cf396bc7be17d0cb6711f16f688b5bee39bda29d
Merge: 96a888eb 80be2c43
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Mar 23 19:12:56 2013 -0700

    Merge branch 'v2' of https://github.com/gnachman/iTerm2 into v2

commit 96a888eb07cacde4bc88dfebc6c7038cba53febc
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Mar 23 19:12:34 2013 -0700

    Fix bug where window decoration size wasn't initialized for bottom of screen windows when canonicalizing the window frame

commit 571c751bf28e781885a3c46f17dfce192064a1f0
Merge: 8a79520b 80be2c43
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Tue Mar 19 22:10:11 2013 -0700

    Merge v2

commit 80be2c43d062250cfb8d15886a2934725452a184
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Tue Mar 19 22:04:45 2013 -0700

    Clean up plists

commit ce9f7c49e7c5bb3a276bf6e74c85e9b48909504f
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Tue Mar 19 22:04:26 2013 -0700

    Add fixes for old xcodes

commit a01dcb15877ce233aa3585f02b5b5c219525e3e2
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Mar 19 21:15:34 2013 -0700

    remove assertion when ComplexCharToStr fails

commit 7fa1dabd726978b42004856e2d21ba9c5a256141
Merge: f2dc3ba9 b15fbbd9
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Mar 19 20:23:49 2013 -0700

    Merge branch 'v2' of github.com:gnachman/iTerm2 into v2

commit f2dc3ba97e9f9ba8cf4f316842c20b04e1ff0b95
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Mar 19 20:23:37 2013 -0700

    Fix bug where tmux wasn't notified of window resize after exiting lion fullscreen

commit b15fbbd9481da706521128db55882fc3915c55e7
Merge: 103bb155 31f3872b
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Tue Mar 19 20:10:40 2013 -0700

    Merge branch 'v2' of https://github.com/gnachman/iTerm2 into v2

commit 103bb1554f46037792773a0caf67f1a30c3b7df7
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Tue Mar 19 20:10:26 2013 -0700

    Change tmux to use the master branch because it pulls from sourceforge now

commit fedfbb88d9091e611aee1928e0ac3d732374d539
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Tue Mar 19 20:04:21 2013 -0700

    Change tmux branch

commit 31f3872b913e4526308a6061985a35dc6c62e1a9
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Mar 18 23:01:29 2013 -0700

    Add support for pending output with capture-pane

commit bda9e12ec84728457098c08ec1b01033c24703f0
Author: George Nachman <gln@google.com>
Date:   Wed Mar 13 20:07:29 2013 -0700

    Fix bug where tmux windows resize wrong with multiple tabs

commit 8a79520b393e4c983694ed5f5e18c8aee5b64fa4
Merge: bc3b16d4 9bdd5b0f
Author: George Nachman <gln@google.com>
Date:   Wed Mar 13 20:07:50 2013 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit bc3b16d4586fcbfa2b45364f7b19fd20e0777b36
Author: George Nachman <gln@google.com>
Date:   Wed Mar 13 20:07:29 2013 -0700

    Fix bug where tmux windows resize wrong with multiple tabs

commit 9bdd5b0f3c2b5eef40a418cf3db36ba69b23409f
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Wed Mar 13 18:00:49 2013 -0700

    Fix broken build

commit 263dfe78b7581ac938b77503def10846f6fa9001
Author: George Nachman <gln@google.com>
Date:   Wed Mar 13 16:58:53 2013 -0700

    Add -y to zip

commit dada095fb35b6e8668db31c4ede6e35bf3f4d0b0
Author: George Nachman <gln@google.com>
Date:   Wed Mar 13 16:58:53 2013 -0700

    Add -y to zip

commit b3db142953131ba1d1e3a5f14eddb56e9e7cc689
Author: George Nachman <gln@google.com>
Date:   Wed Mar 13 16:28:38 2013 -0700

    Fix warning

commit 088781a389cf2339d5f92af9c368139b3ef216ef
Merge: 7b8fae77 507e084d
Author: George Nachman <gln@google.com>
Date:   Wed Mar 13 16:26:11 2013 -0700

    Add progress bar for big pastes, menu items to change paste speed.

commit 507e084d53aad61b1c78929eca562a22c99504ba
Author: George Nachman <gln@google.com>
Date:   Wed Mar 13 15:09:37 2013 -0700

    Add paste view and menu items to control paste speed

commit 3b353131012e21b945ff08f2e5b2bd275d17d86d
Author: George Nachman <gln@google.com>
Date:   Tue Mar 12 20:05:18 2013 -0700

    Handle updated tmux notifications

commit 7b8fae775adf74b36e5e4636da8f80c7ece0b5f6
Author: George Nachman <gln@google.com>
Date:   Tue Mar 12 16:16:57 2013 -0700

    Put back canonical parser, title stacking, and a few other things that got stomped on by a bad merge

commit 320a34f1090403c6f020452e85b7d4aa88ee0c28
Merge: 096ef102 727a749c
Author: George Nachman <gln@google.com>
Date:   Tue Mar 12 15:47:35 2013 -0700

    Merge branch 'v2'

commit 727a749c88b51f8146889f03f2107a9b54d1ce05
Author: George Nachman <gln@google.com>
Date:   Tue Mar 12 15:46:33 2013 -0700

    Silently swallow CSI > m and CSI > n codes.

commit b5d82d0f497eedeb8dcb2a3348641dac1240b9c4
Author: George Nachman <gln@google.com>
Date:   Tue Mar 12 15:07:15 2013 -0700

    Expect begin, end, and error to have a command ID. Support %output having truncated UTF-8

commit 096ef1023d21928a60f4f9bf4bf74a25b2571d8b
Author: George Nachman <gln@google.com>
Date:   Mon Mar 11 23:01:59 2013 -0700

    Add hidden pref, OpenFileInNewWindows, to use a new window when opening a file.

commit bda9ec08e9225cc8529fb6b394efe2e3bd73e35b
Author: George Nachman <gln@google.com>
Date:   Mon Mar 11 23:01:59 2013 -0700

    Add hidden pref, OpenFileInNewWindows, to use a new window when opening a file.

commit 50530b8ea5f4cbb560cf523f93aec4ab24268eee
Author: George Nachman <gln@google.com>
Date:   Mon Mar 11 22:39:30 2013 -0700

    Wait 1.5 seconds before sending list-windows or-list-sessions in response to a window-closed or sessions-changed notification to avoid writing to the command line after an %exit notification

commit 069791c8d768b128cdc3479b34f4fd3536560303
Author: George Nachman <gln@google.com>
Date:   Mon Mar 11 21:39:02 2013 -0700

    Make TmuxWindowOpener release its target instead of leaking it

commit 5e33e9fc4d93f4b0bb4d45a08d2a0e409dc9a0e6
Author: George Nachman <gln@google.com>
Date:   Mon Mar 11 17:54:21 2013 -0700

    Don't call profileTable:menuForEvent: if it's not implemented. Fixes bug 2363

commit e6c82502c416c76e9032a7624ccc2bf1beae3038
Author: George Nachman <gln@google.com>
Date:   Mon Mar 11 17:54:21 2013 -0700

    Don't call profileTable:menuForEvent: if it's not implemented. Fixes bug 2363

commit ad3bbfa95924031d12a73998ff73e0edc3c7175d
Author: George Nachman <gln@google.com>
Date:   Mon Mar 11 17:45:34 2013 -0700

    Revert previous change; I don't think it makes sense

commit b719bece010a60c8ef82d02ba02f386cb0432dc6
Author: George Nachman <gln@google.com>
Date:   Mon Mar 11 17:41:06 2013 -0700

    Use language from preferredLanguages instead of from the locale. Maybe this will work?

commit 76055a89dee8497b39d58740a4b6449dce27ec2e
Author: George Nachman <gln@google.com>
Date:   Mon Mar 11 17:28:16 2013 -0700

    Fix bug where each time you cmd-click a file it opens a new instance of sublimetext

commit b632eda536ae6a69360f59bb3721720cf168d498
Author: George Nachman <gln@google.com>
Date:   Mon Mar 11 17:28:16 2013 -0700

    Fix bug where each time you cmd-click a file it opens a new instance of sublimetext

commit 5ef2685be5d87d2deedcf7e975a6d90f2d05ae82
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Mar 10 15:41:14 2013 -0700

    Don't expect command id after begin/end/error, but keep the old code around with ifdef

commit ac8c0f2514c7300ddfdcbff7489b25a4d21371f3
Merge: 99221ccc b3d4acf9
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Mar 10 14:23:44 2013 -0700

    Merge in changes for tmux 1.8

commit b3d4acf9723cec600a604bf1b943907dd5fadc72
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Mar 9 23:43:08 2013 -0800

    Fix bug where broken UTF-8 codes in tmux history threw an error. Now we just replace them with combining marks

commit 8817f3fa6d64546b4621bb7877ee4b1226206c5b
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Mar 9 18:49:37 2013 -0800

    Display tmux window name in tab and window title bar

commit af8e0dde609c5ca4c91dd7bdb32af724bad8fe36
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Sat Mar 9 14:58:13 2013 -0800

    Remove duplicate ToolbeltSplitView

commit 07d1370559bc59518d35ef8b6a0be7592d4e5f04
Merge: 11906c52 99221ccc
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Mar 9 12:43:31 2013 -0800

    merge v2

commit 99221ccc34327d50f01655e397fcfa0d02d3342a
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Mar 9 12:32:46 2013 -0800

    Fix bug where keypad mode was always set to yes

commit a4d046e48c615ad3638a73903eff808994fa77e4
Merge: dfba83eb cd1cb0cc
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Mar 9 11:59:50 2013 -0800

    Merge branch 'v2' of https://github.com/gnachman/iTerm2 into v2

commit dfba83eb00dc3022c5dbb147a2edc32710af46d7
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Mar 9 11:59:47 2013 -0800

    Fix a bug where restoring a left-of-screen window caused it to be 0px wide. (bug 2376)

commit cd1cb0cca6cf4ea4b36e9b796513675dadc55f54
Merge: 09dbbf7d 097a86dd
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Sat Mar 9 11:58:33 2013 -0800

    Merge branch 'v2' of https://github.com/gnachman/iTerm2 into v2

commit 09dbbf7d3251f7e89fb8fa15d4a9a95a80fa4683
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Sat Mar 9 11:36:21 2013 -0800

    Restore 10.5 compatibility

commit 3dacc71cb6eaf5974fd2224825ef9e59d370256a
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Mar 8 02:03:44 2013 -0800

    Fix bug where list-panes returns all panes in the window but we assumed it was only the one we asked for

commit 5b67a9d0652e507ce5c084530a256162cd5917b5
Merge: 63b7c58a 06712c85
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Mar 8 01:17:43 2013 -0800

    Use refresh-client instead of control-helper to set client size. Add -q to show commands. Handle empty response from show commands. Expect command id after %begin, %end, %error. Expect tab-delimited values in tmux state output. Add -q to capture-pane -a.

commit 63b7c58a5cf6ed0971c8ae36cd978bf787a8b07d
Merge: 07ac5dd7 11906c52
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Mar 8 01:11:04 2013 -0800

    Use refresh-client instead of control-helper to set client size. Add -q to show commands. Handle empty response from show commands. Expect command id after %begin, %end, %error. Expect tab-delimited values in tmux state output. Add -q to capture-pane -a.

commit 097a86dda4cc4c40710c7d4279d9576e2742a7d2
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Mar 6 19:34:19 2013 -0800

    Make toolbelt dividers visible in lion fullscreen, where the window background color is darker

commit 11906c52b83f83d8ac372ace0b56b65f57a77eb2
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Mar 6 19:34:19 2013 -0800

    Make toolbelt dividers visible in lion fullscreen, where the window background color is darker

commit 24bc5a25dc1b57940f1e92851189558166723b78
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Wed Mar 6 17:27:16 2013 -0800

    Fix up Leopard Deployment to build in xcode 3.2.6 and target ppc

commit 1d83b262f3ac547f6e722f4851def171bc575cf0
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Sat Mar 2 14:42:09 2013 -0800

    Fix a bug where we get drag events outside the window, causing us to try to look up a line with a bogus index

commit 1895c60dd29b897a78837a6155ba08577e670581
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Sat Mar 2 13:58:59 2013 -0800

    Fix bug where toolbar becomes visible after exiting lion fullscreen

commit 05dabfe3cdede26199d7041eefc6c3478adc7599
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Feb 28 19:15:11 2013 -0800

    Add semicolon to stripped url suffixes

commit 388417e3890c4402b0820dbc5259bddc685de5c9
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Feb 28 19:13:57 2013 -0800

    Strip trailing punctuation (. and ,) from URLs

commit 07ac5dd7c860fa5729ab688cc783c46a57e8e10e
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Feb 28 19:13:57 2013 -0800

    Strip trailing punctuation (. and ,) from URLs

commit 06712c850a036b4bc96039512c14107d6b1c638d
Author: George Nachman <gln@google.com>
Date:   Wed Feb 27 17:11:03 2013 -0800

    Tmux fixes for protocol changes: Don't ask to resize a pane by 0 because tmux considers that an error. Add DumpScreenCharArray to work around gdb bugs. Use new $number session index syntax. Handle empty-string responses to show-options correctly. Don't change fullscreen window's origin, even if tmux has one saved. Handle %error, %stop in lieu of %end. Fix memory overflow bug in history parser. Use correct encoding in tmux history parser. Fix crazy way line buffer was appended to in -setHistory:.

commit c95a2121d60f4267b764495c76315d4e2a1ce638
Author: George Nachman <gln@google.com>
Date:   Wed Feb 27 15:39:41 2013 -0800

    Add DWC test

commit 15471921a0ed5f422e14281c1b16bfb902f38646
Author: George Nachman <gln@google.com>
Date:   Tue Feb 26 15:11:37 2013 -0800

    Fix bug where increasing font size on fullscreen window that is also a tmux client doesn't resize the tmux window

commit ed5dbfdb46d11246659a183aed05d6423a100896
Author: George Nachman <gln@google.com>
Date:   Mon Feb 25 17:09:48 2013 -0800

    Various changes for new tmux commands and flags

commit ec5a9f423d44eda04c99df5ec9fa19b947757748
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Feb 25 09:44:47 2013 -0800

    Initial attempt

commit 35ac7ae6c587bdc74ba60f2e537d6253a0e9d583
Merge: 01854c23 709473eb
Author: gnachman <gnachman+github@gmail.com>
Date:   Fri Feb 22 16:42:54 2013 -0800

    Merge pull request #116 from baskerville/ff-equals-255
    
    Fix off-by-one denominator in color conversion

commit 01854c237819aa527b4ed1b8993b966013d395bc
Merge: d1f5ed9b 415fcdfc
Author: George Nachman <gln@google.com>
Date:   Fri Feb 22 16:34:05 2013 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit d1f5ed9bf6c5982181f062202eea4fd33c7ed9fa
Author: George Nachman <gln@google.com>
Date:   Fri Feb 22 16:33:07 2013 -0800

    Fix a bug where sometimes a character's code is set to 0 but its complexChar flag is left as YES, leading to an assertion because there is no UTF-8 string with that code

commit b0d14d8cfa10d03d7ec51b9b7c3c13cf32c2fc66
Author: George Nachman <gln@google.com>
Date:   Fri Feb 22 16:33:07 2013 -0800

    Fix a bug where sometimes a character's code is set to 0 but its complexChar flag is left as YES, leading to an assertion because there is no UTF-8 string with that code

commit 709473eb933647b379240e8b5198cc0d5f480f2d
Author: Bastien Dejean <nihilhill@gmail.com>
Date:   Wed Feb 20 13:44:36 2013 +0100

    Fix off-by-one denominator in color conversion
    
    Color conversion from 00-ff to [0, 1.0] shall use 255.0 as denominator.

commit 415fcdfcebc8551801d0ac7cee249d2cd396664b
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Feb 17 22:53:38 2013 -0800

    Handle touchesCancelledWithEvent event

commit 8f22de8e7512568a923ad61b1045858102706fa1
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Feb 17 22:53:38 2013 -0800

    Handle touchesCancelledWithEvent event

commit 56ce418f6e874a825bced50b534afe6c734f7215
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Feb 17 18:15:30 2013 -0800

    Fix bugs in release.sh

commit aa7797145a9ba0340e6dde2a6504cbeadc8294b7
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Feb 3 23:29:14 2013 -0800

    Hide toolbar in fullscreen windows. Save toolbar setting in user prefs. Make sure it is consistent across all windows.

commit 33f002a2114cd704949b8d53f26b34ea0d926f5d
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Sun Feb 3 19:12:41 2013 -0800

    Uncomment line in continuous build script

commit 3841e74af513c66c39d429a9b63d70e936cf2352
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Sun Feb 3 19:12:22 2013 -0800

    Add nightly and continuous build improvements

commit e5c373430a603f24c8ade846830d2959b0e88611
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Feb 3 19:01:43 2013 -0800

    Add debugging to locale setting code

commit d5b84174f319e7e5c2fe6d1d6be57beaf057306d
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Feb 3 18:49:06 2013 -0800

    Handle unparseable tmux history more gracefully

commit 29d98496057cfce129d65874791bc88d112e54ab
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Feb 2 22:05:56 2013 -0800

    Add better tmux history line error checking

commit 9c99e7f2f4ee67caf3f5ec2162c654fb25d4ffaf
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Feb 2 21:48:24 2013 -0800

    Handle tmux errors more aggressively, and handle non-utf8 commands fro mtmux

commit 501506147c39e1402c92d7b40a8d9ca76ada7da0
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Feb 2 18:03:47 2013 -0800

    Fix some silly bugs

commit 4e059996d80696061f34e3811285efe5e82a2d83
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Jan 31 22:58:24 2013 -0800

    Fix bug where window background color changes on a session-initiated resize

commit 92d5176dcc213e29083bde79834fc13f07ff7d89
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Jan 31 20:49:22 2013 -0800

    Add some debugging for updating when screen params change

commit bf45f698dd72d4ce3533bd95a3f89abaa2aaad7c
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Jan 31 20:22:21 2013 -0800

    Revert SetCtype, restore DoNotSetCtype hidden pref

commit 2e81e4eca119ef677a508ef810f96a0e95760a5e
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jan 29 22:32:56 2013 -0800

    Turn off TMUX_VERBOSE_LOGGING

commit db5ba1799f8ca9076f578b9b42164d54f44194e8
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Jan 26 16:45:44 2013 -0800

    When a top/left/bottom window specifies more rows/cols than fit, try to resize it when the window grows. Remember the 'desired' size of such a window when it is created. Also add a delay before canonicalizing windows after the screen parameters change to work around a bug in osx

commit 571caa9340b9598ab542b5083c8119a1804a0c24
Merge: 3e034653 a7efbdbb
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Feb 3 23:29:28 2013 -0800

    Merge branch 'master' of github.com:gnachman/iTerm2

commit 3e034653a24f79415abb8eed16d89a47ab2b6608
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Feb 3 23:29:14 2013 -0800

    Hide toolbar in fullscreen windows. Save toolbar setting in user prefs. Make sure it is consistent across all windows.

commit a7efbdbb7026a66e6d3ab943e55be8abca032135
Merge: 74eb66bf f6b68d30
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Sun Feb 3 19:13:00 2013 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 74eb66bf42e3fa2e09e469dd8e08a051eb42b1f3
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Sun Feb 3 19:12:41 2013 -0800

    Uncomment line in continuous build script

commit 1c26f29487287b574571a6376e8bd635c1130d57
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Sun Feb 3 19:12:22 2013 -0800

    Add nightly and continuous build improvements

commit f6b68d30c3c61f884fb7f393b964141a42896be7
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Feb 3 19:01:43 2013 -0800

    Add debugging to locale setting code

commit 0c5027707ccec58f7a666c40ff8e1f225a0adb27
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Feb 3 18:49:06 2013 -0800

    Handle unparseable tmux history more gracefully

commit 540958cf0c4372e18672e145782258a67073782d
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Feb 2 22:05:56 2013 -0800

    Add better tmux history line error checking

commit 198b114192cffac840f5b3a34231c82486d2010e
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Feb 2 21:48:24 2013 -0800

    Handle tmux errors more aggressively, and handle non-utf8 commands fro mtmux

commit 3c6a64b5eedcf6db1d24d291bae07827a44daa35
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Feb 2 21:03:28 2013 -0800

    Fix bug introduced when the canonical vs non-canonical CSI parser was added; the test for DA vs DA2 (report [secondary] device attributes) was lost

commit f66d920fcc19250f6d9d1043e366495701d4f6be
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Feb 2 18:03:47 2013 -0800

    Fix some silly bugs

commit 05a024a5da0d66ed9295ff34b1242e2bd93013e0
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Jan 31 22:58:24 2013 -0800

    Fix bug where window background color changes on a session-initiated resize

commit 607deb7dbd1bec693cd3a982a1967e8a21b4cbc1
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Jan 31 20:49:22 2013 -0800

    Add some debugging for updating when screen params change

commit 052dbab937bcc389e7c32b86bbb9730d1ef5a5bf
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Jan 31 20:22:21 2013 -0800

    Revert SetCtype, restore DoNotSetCtype hidden pref

commit 6d0bb5f1b826f8e111ae0cf1efd149db16eeacc3
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jan 29 23:08:31 2013 -0800

    Style improvements

commit f5557fea773d932983c62c9266916c420581ce47
Author: saitoha <user@zuse.jp>
Date:   Sun Jan 27 17:38:39 2013 +0900

    Fix conditions for recognizing recursive OSC and ST

commit dc25700147269290c9ea9bdc71f80713f8103a8b
Author: saitoha <user@zuse.jp>
Date:   Sun Jan 27 17:31:12 2013 +0900

    Add ADVANCE macro to encapsulate some iterative operations

commit 828354de74e530508b9321fba404b9a6966d39a1
Author: saitoha <user@zuse.jp>
Date:   Thu Jan 24 18:03:00 2013 +0900

    Add a test script for OSC sequence

commit 25069610ad448896ea3066774489d5bae806e2e6
Author: saitoha <user@zuse.jp>
Date:   Wed Jan 23 20:17:11 2013 +0900

    Sanitize C0 character in OSC, and fix BROKEN_OSC/BROKEN_ST behavior

commit e2cd9010142736e88749edaf34fee5b9c0cbb8d5
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jan 29 22:47:49 2013 -0800

    Style improvements

commit 168043f3f0d8b84db6d60c3e9f0f1a45e5fcb220
Author: saitoha <user@zuse.jp>
Date:   Tue Jan 29 23:56:10 2013 +0900

    Fix hanging problem around window resize sequences ex. printf "\x1b[4;2147483630;2147483630t"

commit 02fb594639411d9a784bf272dc1309a1a94e5b6c
Author: saitoha <user@zuse.jp>
Date:   Tue Jan 29 23:34:14 2013 +0900

    Backporting of 65619df, for old parser Fix a problem when parameter length exceeds VT100CSIPARAM_MAX ex. echo -en '\033[;;;;;;;;;;;;;;;;'

commit caace48c89965ec5889c724bf22da1dd4bb1f022
Author: saitoha <user@zuse.jp>
Date:   Tue Jan 29 23:29:19 2013 +0900

    Prevent CSI parameter overflow

commit c3fea9683389815cdf72bb17f357d243ed94e4c0
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jan 29 22:32:56 2013 -0800

    Turn off TMUX_VERBOSE_LOGGING

commit 33b32a05656cad88667c3b361a71946c6a087232
Merge: d651ce05 49d349a7
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jan 28 20:59:39 2013 -0800

    Merge branch 'master' of github.com:gnachman/iTerm2

commit d651ce050192fbfe7307329f55ba341cea81610f
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jan 28 20:54:46 2013 -0800

    Change wording in prefs from canonical to modern/experimental

commit 20488c49f8f355f54500a47d73240e1852fbbc4c
Author: saitoha <user@zuse.jp>
Date:   Fri Jan 25 22:36:20 2013 +0900

    Add "Use canonical parser" option into preference panel

commit 270991cca39f45cf25fd411955114dd3bbbf8d58
Author: saitoha <user@zuse.jp>
Date:   Fri Jan 25 22:35:11 2013 +0900

    Keep the old version of CSI parser

commit 2810886fc7e97d8d4eb5ea2b0aea5f1467be81d6
Author: saitoha <user@zuse.jp>
Date:   Fri Jan 25 22:01:15 2013 +0900

    Add new option "useCanonicalParser"

commit babe8907e3ca5d8de1508545f6bdd8857cfd271c
Author: saitoha <user@zuse.jp>
Date:   Fri Jan 25 22:00:09 2013 +0900

    Add tests for continuous parsing and long parameter

commit fcbf9c2f7aafee83523756714c0f3c6da4b77585
Author: saitoha <user@zuse.jp>
Date:   Fri Jan 25 21:57:36 2013 +0900

    Do continuous parsing

commit d65bd43aaeb68dae437b0635c80bb14cd85e56a9
Author: saitoha <user@zuse.jp>
Date:   Fri Jan 25 21:55:45 2013 +0900

    Fix a problem when parameter length exceeds VT100CSIPARAM_MAX ex. echo -en '\033[;;;;;;;;;;;;;;;;'

commit c5b5ea5475b9a576537971f2240b7884663b0107
Author: saitoha <user@zuse.jp>
Date:   Fri Jan 25 21:47:57 2013 +0900

    Do ISO-6429(ECMA-48) compatible control function parsing and add a test script Squashed commit of the following:
    
    commit 242238263bd5d0a577e19038cb444b2f8a335ae5
    Author: saitoha <user@zuse.jp>
    Date:   Thu Jan 10 22:03:44 2013 +0900
    
        Check datalen before parsing final byte
    
    commit 5d3b757ea3b7fa04cb81f2627c50c9db48491f28
    Author: saitoha <user@zuse.jp>
    Date:   Thu Jan 10 22:02:04 2013 +0900
    
        Fix typo and some bad style, such as blank spaces at end of line
    
    commit 6222217bc71ec3aadc302e6f777da974c6bbdb79
    Author: saitoha <user@zuse.jp>
    Date:   Wed Jan 9 00:56:09 2013 +0900
    
        Fix debug code, and add some comments
    
    commit 0e742a6ce554639578e227e4a43954d94aeacd2b
    Author: saitoha <user@zuse.jp>
    Date:   Wed Jan 9 00:55:40 2013 +0900
    
        Drop VT100TCC.u.csi.{modifier,question} parameters
    
    commit c70c5ad016f4ae84313a7cd86e09d1c600dca010
    Author: saitoha <user@zuse.jp>
    Date:   Tue Jan 8 23:52:27 2013 +0900
    
        Improve control function's dispatching system
    
    commit 4bb29d918a8f83855b93aa021c8ad2aca9dd91f1
    Author: saitoha <user@zuse.jp>
    Date:   Tue Jan 8 22:40:59 2013 +0900
    
        Add a test script for ISO-6429 control function parsing
    
    commit 41daa5c7d4d54abb4ae158320b771cd7a9314be6
    Author: saitoha <user@zuse.jp>
    Date:   Tue Jan 8 21:54:25 2013 +0900
    
        Do ISO-6429(ECMA-48) compatible control function parsing
    
    commit ff239e4da9988a8f2e5aa44b151bb6fd4d6ae0fd
    Author: Ivan Enderlin <ivan.enderlin@hoa-project.net>
    Date:   Wed Jan 23 10:03:15 2013 +0100
    
        Fix a typo in README.md.
    
    commit 4244cc0b22b1c4117ffd6d7addb0bc9ea2d84ca8
    Author: George Nachman <git.xyz@georgester.com>
    Date:   Wed Jan 23 22:31:30 2013 -0800
    
        Add pref to enable title reporting
    
    commit 3098f0c66591bf2553c689f0b2a86624c3309892
    Author: George Nachman <git.xyz@georgester.com>
    Date:   Wed Jan 23 21:29:22 2013 -0800
    
        Performance improvement--do not allocate a new CharacterRun for each character. Also cache colors in constructRuns.
    
    commit d969af95b51d5c29b84dc3051fa94bed90bedb7d
    Author: George Nachman <iterm2.xyz@georgester.com>
    Date:   Wed Jan 23 20:18:06 2013 -0800
    
        Remove object files from tmux, add tmux/.deps, use SparkleSigningTools directory
    
    commit f944f21c08e4c22ff864a9e337524d2ae69acf9d
    Author: George Nachman <iterm2.xyz@georgester.com>
    Date:   Wed Jan 23 20:17:15 2013 -0800
    
        Use NSMakeRect, not CGRectMake. Too much iOS coding for me.
    
    commit e74ab0951815acb2b9af2c81d45f57071e410923
    Author: George Nachman <git.xyz@georgester.com>
    Date:   Mon Jan 21 21:33:23 2013 -0800
    
        Add Sparkle signing tools
    
    commit c3fc6a4a09313d7072babaad1ac3f13b24290c65
    Author: George Nachman <git.xyz@georgester.com>
    Date:   Mon Jan 21 12:45:51 2013 -0800
    
        Add closing a session with cmd-w as an interaction that turns off the 'don't quit when the last window is closed' safety valve
    
    commit ab17b30db0a52d3812fbe51f602a67b071b14d64
    Author: George Nachman <git.xyz@georgester.com>
    Date:   Mon Jan 21 12:42:13 2013 -0800
    
        In issue 999, a problem was raised that iTerm2 won't quit when the last window is closed if it's been running for less than 10 seconds. The 10-second safety valve was added to allow you to fix a busted profile which could cause the last window to close immediately when the app starts. The problem is that you might want a short session. This change disables the safety valve if you type in a session or intentionally close the window.
    
    commit 09c165372fc7a83ff2c9513323d5afb6e654f945
    Author: George Nachman <git.xyz@georgester.com>
    Date:   Sun Jan 20 09:58:56 2013 -0800
    
        Fix up drawing of star in ProfileListView (it clipped sometimes)
    
    commit c0ea5d0bb769b17b7879cf6373f31aa6f6d5d60b
    Author: George Nachman <git.xyz@georgester.com>
    Date:   Fri Jan 18 18:58:14 2013 -0800
    
        Only ask about saving prefs to custom folder when feature is enabled and no folder is already specifie
    
    commit a74a20fc367802ed64f18d06bb137ccf901cc1c0
    Author: George Nachman <git.xyz@georgester.com>
    Date:   Wed Jan 9 23:35:31 2013 -0800
    
        Add gesture recognizer for three finger taps to act like three finger clicks, gated by ThreeFingerTapEmulatesThreeFingerClick pref
    
    commit be5e48d875d129a64db58c40a23dd24d4f4f6c58
    Author: George Nachman <git.xyz@georgester.com>
    Date:   Wed Jan 9 21:45:11 2013 -0800
    
        When opening a URL with no associated profile to handle it, use the default profile
    
    commit 1efe0e7f811f4b9165cecba4ae46c8182a463e61
    Author: George Nachman <git.xyz@georgester.com>
    Date:   Wed Jan 9 21:23:29 2013 -0800
    
        If the tmux profile specifies a nonpostive value for rows or columns, use 1 instead to prevent an assertion
    
    commit 8d5c272461c2dab5ee3a14d68e1a5985deee296a
    Author: George Nachman <git.xyz@georgester.com>
    Date:   Wed Jan 9 21:17:13 2013 -0800
    
        Allow clicks on ipv6 urls to open in browser
    
    commit e93df787d5eebb2c2c29028d3eb65524bf2935a0
    Author: George Nachman <git.xyz@georgester.com>
    Date:   Wed Jan 9 21:08:22 2013 -0800
    
        Render private-use range unicode chars (except the four reserved by iterm). Some fonts use them for fancy special characters and it's nice to support that. The down side is that for normal fonts they'll render a bit uglier as a double-width character, but you shouldn't get them often anyway
    
    commit 2ee0d311a629e04acd072cd6754098b87535e575
    Author: George Nachman <git.xyz@georgester.com>
    Date:   Sun Jan 6 13:17:16 2013 -0800
    
        Support bonjour hosts with nonstandard ssh ports
    
    commit 34fbcf35f153e2eadeff9e449456c9899b1f19e1
    Author: George Nachman <git.xyz@georgester.com>
    Date:   Sun Jan 6 13:06:56 2013 -0800
    
        When the cursor shape is changed immediately redraw it
    
    commit 49cf6165ffb55aac82ab262d3794cbace807aaad
    Author: George Nachman <git.xyz@georgester.com>
    Date:   Wed Jan 2 21:58:11 2013 -0800
    
        Fix DECSTR to set wraparound mode to YES
    
    commit 5204386ce7117ae95f696e34e4a574ccbe4bb9cf
    Author: George Nachman <git.xyz@georgester.com>
    Date:   Wed Jan 2 21:44:53 2013 -0800
    
        Limit the max length of selection that's passed to services to 100k lines to avoid huge slowdowns
    
    commit 1d4a3a78bb8216826b77b2248aaaffb75fd8c7cf
    Author: George Nachman <gln@google.com>
    Date:   Wed Jan 2 08:46:57 2013 -0800
    
        Fix warning in PTYSession about format specifier for size_T
    
    commit 232615896480b13de394b7d533ae021a3aa287cf
    Author: George Nachman <git.xyz@georgester.com>
    Date:   Tue Jan 1 22:24:35 2013 -0800
    
        Fix a bunch of analyzer warnings, including a memory leak of ToolWrapper
    
    commit a59966080037ab5610325f134ebd69f6d44dbe0b
    Author: George Nachman <git.xyz@georgester.com>
    Date:   Tue Jan 1 21:15:59 2013 -0800
    
        Fix a bunch of analyzer warnings, including several memory leaks
    
    commit 00cfd6933937faa17c1df63cfd95fa623f713c39
    Author: George Nachman <git.xyz@georgester.com>
    Date:   Tue Jan 1 15:45:27 2013 -0800
    
        Fix analyzer warnings in PTYTextView.m
    
    commit f6c573d0885606fc718d84e22a494bc0b5a68197
    Author: George Nachman <git.xyz@georgester.com>
    Date:   Mon Dec 31 20:36:38 2012 -0500
    
        Fix warnings and analyzer issues
    
    commit 36378e822a0800e185b9d96e1784a703bdc8cb45
    Author: George Nachman <git.xyz@georgester.com>
    Date:   Mon Dec 31 19:57:27 2012 -0500
    
        Fix warning in PTYScrollView.m
    
    commit 4288b03218053bbe6887fa9466e9db4b98763655
    Author: George Nachman <gln@google.com>
    Date:   Wed Jan 2 08:38:36 2013 -0800
    
        Add todo about syncing access to fd
    
    commit c854497bcc05204d034bca9d956e74bc0d32956e
    Author: George Nachman <gln@google.com>
    Date:   Mon Dec 31 15:36:30 2012 -0800
    
        Fix warnings in PseudoTerminal.m
    
    commit 7b934a672c89e78f99cebc23cb1a0db99e22ef8d
    Author: George Nachman <gln@google.com>
    Date:   Mon Dec 31 15:20:14 2012 -0800
    
        Fix warnings in VT100Screen.m
    
    commit 5f9798d51f5d3ef58bd1cc6aeab37699a1a734af
    Author: George Nachman <gln@google.com>
    Date:   Mon Dec 31 15:13:21 2012 -0800
    
        Fix warnings in VT100Terminal.m
    
    commit f7407309bd5d1c3ad27b5ccf4075af4e1660f066
    Author: George Nachman <gln@google.com>
    Date:   Mon Dec 31 14:25:38 2012 -0800
    
        Rename clearAllocation to clearRange
    
    commit 030b5acab86c9b84d26a2e3c384e4f42b9755628
    Author: George Nachman <gln@google.com>
    Date:   Mon Dec 31 14:24:31 2012 -0800
    
        Fix crashing bug when printing binary files. Not sure of the exact cause, but the code is much cleaner and full of asserts now.

commit 49d349a7d6e01fb5d11b34f646ce17cab6cdd2c8
Merge: 199023bb 2351315c
Author: gnachman <gnachman+github@gmail.com>
Date:   Mon Jan 28 20:04:20 2013 -0800

    Merge pull request #102 from saitoha/feature_title_stacking
    
    Support Title Stacking (CSI 22 t / CSI 23 t)

commit 199023bb1939479233c80776ddf5dd240475965c
Merge: df7ea018 2a093f48
Author: gnachman <gnachman+github@gmail.com>
Date:   Sat Jan 26 17:10:25 2013 -0800

    Merge pull request #109 from saitoha/fix-motionevent-behavior
    
    Fix motion event behavior

commit df7ea0188a7fab712581509abc76a73212bf947f
Merge: a6037822 cdf7517e
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Jan 26 16:46:02 2013 -0800

    Merge branch 'master' of github.com:gnachman/iTerm2

commit a603782258747393ef67276a4321caccbd4cf1f6
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Jan 26 16:45:44 2013 -0800

    When a top/left/bottom window specifies more rows/cols than fit, try to resize it when the window grows. Remember the 'desired' size of such a window when it is created. Also add a delay before canonicalizing windows after the screen parameters change to work around a bug in osx

commit 2a093f4865fa06f66edbcc114331330ed32e94bf
Author: saitoha <user@zuse.jp>
Date:   Sat Jan 26 19:54:59 2013 +0900

    Fix motion event behavior(fired only if the mouse pointer has moved to a different character
    cell)

commit cdf7517e11a9018893980e2983eb9441fd71c8aa
Merge: 80ee6f4c f7ede50f
Author: gnachman <gnachman+github@gmail.com>
Date:   Wed Jan 23 22:32:26 2013 -0800

    Merge pull request #107 from Hywan/README
    
    Fix a typo in README.md.

commit 80ee6f4c3f021b0b1a7c6282b7661d1c10d57014
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Jan 23 22:31:30 2013 -0800

    Add pref to enable title reporting

commit 37d2fc56a246057700dd6a1e00cf81c1c6295fa1
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Jan 23 21:29:22 2013 -0800

    Performance improvement--do not allocate a new CharacterRun for each character. Also cache colors in constructRuns.

commit 3d3eb96f00ce1c18560add570abcd0349dfdb07e
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Wed Jan 23 20:18:06 2013 -0800

    Remove object files from tmux, add tmux/.deps, use SparkleSigningTools directory

commit 571065c977d74761625b093963832410b9aaebed
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Wed Jan 23 20:17:15 2013 -0800

    Use NSMakeRect, not CGRectMake. Too much iOS coding for me.

commit f7ede50f9375c496e0785f808517e76ceb2b8ffe
Author: Ivan Enderlin <ivan.enderlin@hoa-project.net>
Date:   Wed Jan 23 10:03:15 2013 +0100

    Fix a typo in README.md.

commit 409286c9b3ed487f13db4d0242cba22be6d0d096
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jan 21 21:33:23 2013 -0800

    Add Sparkle signing tools

commit 5ab883a9f4f74e1f804dc357214d861fa510cb82
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jan 21 12:45:51 2013 -0800

    Add closing a session with cmd-w as an interaction that turns off the 'don't quit when the last window is closed' safety valve

commit 03e459c920b8b5f8b0a6e19de18914619118941a
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jan 21 12:42:13 2013 -0800

    In issue 999, a problem was raised that iTerm2 won't quit when the last window is closed if it's been running for less than 10 seconds. The 10-second safety valve was added to allow you to fix a busted profile which could cause the last window to close immediately when the app starts. The problem is that you might want a short session. This change disables the safety valve if you type in a session or intentionally close the window.

commit dae16da79416ec604c56f02f189beec3d98de0ba
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jan 20 09:58:56 2013 -0800

    Fix up drawing of star in ProfileListView (it clipped sometimes)

commit 8a9a2b987c2845366f5fe5997fe716f808d8ee5d
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Jan 18 18:58:14 2013 -0800

    Only ask about saving prefs to custom folder when feature is enabled and no folder is already specifie

commit 2351315c5c7a36e3a96d71ca5da55ddfbf85f514
Author: saitoha <user@zuse.jp>
Date:   Fri Jan 11 01:18:51 2013 +0900

    Remove some redundant nil checking

commit e2fc3ddfe2a187332763ee2a073a06d61700c00c
Author: saitoha <user@zuse.jp>
Date:   Fri Jan 11 01:18:16 2013 +0900

    Add test script for title stacking

commit 54f313ef541998746cfdedd821aa0c31d5e842ae
Author: saitoha <user@zuse.jp>
Date:   Fri Jan 11 01:17:23 2013 +0900

    Fix stupid messaging errors

commit 0c87f4c1e3acc78c5f4051b96a153f824f6a9082
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Jan 9 23:35:31 2013 -0800

    Add gesture recognizer for three finger taps to act like three finger clicks, gated by ThreeFingerTapEmulatesThreeFingerClick pref

commit e070786cb0b93e3517e7f14307ec02f939bd9099
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Jan 9 21:45:11 2013 -0800

    When opening a URL with no associated profile to handle it, use the default profile

commit ceb891464734e8ceff647662c4ac76af429a07af
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Jan 9 21:23:29 2013 -0800

    If the tmux profile specifies a nonpostive value for rows or columns, use 1 instead to prevent an assertion

commit e8dd60dedca3ce942024acd73538563d54e7177d
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Jan 9 21:17:13 2013 -0800

    Allow clicks on ipv6 urls to open in browser

commit 0094e24c14a35cae246b4d5f0d8be17894413fd9
Merge: 8e3ad6da 2658c3c3
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Jan 9 21:08:39 2013 -0800

    Merge branch 'master' of github.com:gnachman/iTerm2

commit 8e3ad6dabf83c60b8cf4a3e3327c596401744af6
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Jan 9 21:08:22 2013 -0800

    Render private-use range unicode chars (except the four reserved by iterm). Some fonts use them for fancy special characters and it's nice to support that. The down side is that for normal fonts they'll render a bit uglier as a double-width character, but you shouldn't get them often anyway

commit 2658c3c3da687ad9c50c5f3d262b3dd867faacd2
Merge: 2528ccca 5246c22b
Author: gnachman <gnachman+github@gmail.com>
Date:   Sun Jan 6 13:20:37 2013 -0800

    Merge pull request #104 from saitoha/reset-focus-mode
    
    Reset focus mode with RIS

commit 2528ccca71937fa9d906c0968943d3c895acf3db
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jan 6 13:17:16 2013 -0800

    Support bonjour hosts with nonstandard ssh ports

commit 04b11d38496fb786b6e081745a482a3ac8773bf3
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jan 6 13:06:56 2013 -0800

    When the cursor shape is changed immediately redraw it

commit 5246c22b31afedae2e2303f02a5fa910fe991b0d
Author: saitoha <user@zuse.jp>
Date:   Sun Jan 6 20:49:30 2013 +0900

    Reset focus mode with RIS

commit 26bba9d2001cc4fbfce3d54231ae2de711f8d19e
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Jan 2 21:58:11 2013 -0800

    Fix DECSTR to set wraparound mode to YES

commit 75deef3a447b28e90c4e66754e660397a6432dc7
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Jan 2 21:44:53 2013 -0800

    Limit the max length of selection that's passed to services to 100k lines to avoid huge slowdowns

commit e3693a285d37ad633c5294f9351963fbf3b9a787
Author: George Nachman <gln@google.com>
Date:   Wed Jan 2 08:46:57 2013 -0800

    Fix warning in PTYSession about format specifier for size_T

commit 3cc7c6a3eacd7da4c37dd381c80c6ffc458c4ef2
Merge: 606249ba 04d4df59
Author: George Nachman <gln@google.com>
Date:   Wed Jan 2 08:39:08 2013 -0800

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 606249ba3dedc06a0739965815e2bae62bcf7ef3
Author: George Nachman <gln@google.com>
Date:   Wed Jan 2 08:38:36 2013 -0800

    Add todo about syncing access to fd

commit 04d4df5988c110b1b705e7df40e571e2e1e7def5
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jan 1 22:24:35 2013 -0800

    Fix a bunch of analyzer warnings, including a memory leak of ToolWrapper

commit 11c599e28a9c2201f937a1a14f174525460967d3
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jan 1 21:15:59 2013 -0800

    Fix a bunch of analyzer warnings, including several memory leaks

commit 88817265f2d2e5621b4d6d4f25686bc2aab76ddd
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jan 1 15:45:27 2013 -0800

    Fix analyzer warnings in PTYTextView.m

commit c0e30d10687f580083cc6155e324c5f35ac7aca3
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Dec 31 20:36:38 2012 -0500

    Fix warnings and analyzer issues

commit 1a1149960b98e92ee21e797e512c50a3e298e11e
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Dec 31 19:57:27 2012 -0500

    Fix warning in PTYScrollView.m

commit ae57cf89f54e955fa80f5df3183c01d09dfa1420
Author: George Nachman <gln@google.com>
Date:   Mon Dec 31 15:36:30 2012 -0800

    Fix warnings in PseudoTerminal.m

commit 5ff3a3a6e918dbda65cf1200a3ea030de05f0320
Author: George Nachman <gln@google.com>
Date:   Mon Dec 31 15:20:14 2012 -0800

    Fix warnings in VT100Screen.m

commit fed483c366987dcbd07f42b827856004c333975e
Author: George Nachman <gln@google.com>
Date:   Mon Dec 31 15:13:21 2012 -0800

    Fix warnings in VT100Terminal.m

commit 4ae24d7a4f13ec8ab621b7bd0d01364d9f192c76
Author: George Nachman <gln@google.com>
Date:   Mon Dec 31 14:25:38 2012 -0800

    Rename clearAllocation to clearRange

commit 616f7e59bc589e13c3e0f5eb45e1d9b6af755ab8
Author: George Nachman <gln@google.com>
Date:   Mon Dec 31 14:24:31 2012 -0800

    Fix crashing bug when printing binary files. Not sure of the exact cause, but the code is much cleaner and full of asserts now.

commit 7018796384b61f6248401f9509f9e8024eea33ec
Merge: 95585bf2 837f1da8
Author: saitoha <user@zuse.jp>
Date:   Tue Jan 1 00:01:21 2013 +0900

    Merge github.com:gnachman/iTerm2 into feature_title_stacking

commit 95585bf2d30497cef3c43fdd12a837503d965d50
Author: saitoha <user@zuse.jp>
Date:   Mon Dec 31 23:58:07 2012 +0900

    Support title stacking (CSI 22 t/CSI 23 t)

commit 837f1da8fa60fe845ccf451aa778692f3b112cd7
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Dec 27 00:20:15 2012 -0500

    Remove unlinked-window-close, which wasn't really necessary

commit ac88020f088765dbecdbd1a99084752a9a829190
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Dec 27 00:19:36 2012 -0500

    Fix bug where partial csi ! codes caused a bogus memory reference; streamOffset became a huge number

commit 40c562d8494fa8d31e873d64a2000bba7450b5de
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Dec 24 18:17:15 2012 -0500

    Add tmux to release.sh

commit f2019da75c849d6c851891234dbce25f3524c737
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Dec 24 17:27:27 2012 -0500

    Add file to help test for copy to clipboard

commit 5865d9a02cb6cc00defa7e0e5f937abd2b353c16
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Dec 24 17:26:47 2012 -0500

    Fix up some bugs in OSC 52 (clipboard integration) - the preference panel change somehow went missing. Also, when stripping control codes, also reduce the overall length of the string to copy

commit 08c61596b0a0706ed1fa012684b57c95855530b9
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Dec 24 17:26:07 2012 -0500

    Whenr receving a tmux response, log the command that generated it

commit b0b909f5c097189df4688e515337a6586837cb69
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Dec 24 17:25:44 2012 -0500

    Add Leopard Deployment target, using 10.6 sdk and turning off blocks

commit 120b3ed6cc3c94b5d0a09a66ef484d8068a07a0a
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Dec 24 15:48:20 2012 -0500

    Add debugging for problems with three finger tap emulates middle button

commit 5c2b1d79551b97b8837dbbd79c36de50b1e40444
Merge: ee3af07d 5bc30498
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Dec 24 14:34:35 2012 -0500

    Merge branch 'master' of github.com:gnachman/iTerm2

commit 5bc30498a48f60c1d2662993c582dbac21cf6c41
Merge: 9c43d53c d23148c3
Author: gnachman <gnachman+github@gmail.com>
Date:   Mon Dec 24 11:34:15 2012 -0800

    Merge pull request #95 from jamesstout/d23148c3efaada67c5031b2e89f82187872cbb33
    
    Fix warnings when launching new iTerm session via AppleScript

commit ee3af07d9e4ce60dd68733b2719de64b74f1a8f1
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Dec 24 14:29:16 2012 -0500

    Make setting of LC_CTYPE off by default. Turn on SetCtype bool to revert behavior

commit 33dc04873e8aaabd3c1fa1478ab1feaac5ad538e
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Dec 24 14:23:54 2012 -0500

    Preserve symlinks in install target

commit 9c43d53c8c6147e669631fd3e90615b769a83b4b
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Dec 23 19:56:51 2012 -0800

    Fix bug where three-finger tap emulates middle button didn't work

commit 2e08f1890e7aec94434bf004fa149f5d6e7a6c6d
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Dec 22 18:32:42 2012 -0800

    Confirm profile deletion

commit 26bb837d1c672836025a07b7d403520301258753
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Dec 22 15:56:29 2012 -0800

    Add support for NSAccessibilityAttributedStringForRangeParameterizedAttribute

commit 2896c3123d742bffa41f8046041ea9da6ecd5d30
Merge: 851dae04 29e9f692
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Dec 22 15:29:26 2012 -0800

    Merge branch 'master' of github.com:gnachman/iTerm2

commit 851dae04e0ff601fa00dc40292df32d68794ef6f
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Dec 22 15:29:11 2012 -0800

    Fix bug where anti-aliasing was broken

commit 29e9f692e139107db244c2e4b141e67b896c049c
Merge: ceb9e35f 0b04d8ff
Author: gnachman <gnachman+github@gmail.com>
Date:   Mon Dec 17 22:49:00 2012 -0800

    Merge pull request #98 from kvs/master
    
    Fix redraw-bug in split-panes on Retina displays.

commit ceb9e35fc988715e2616c47f10366b237e502de4
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Dec 17 22:47:14 2012 -0800

    Support non-modern runtime for latest changes. Fix a bug where there are no glyphs.

commit c0681c2b71937e78c5faa1a40acfa11f9d57b621
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Dec 17 21:43:04 2012 -0800

    Rework how character runs are done. Big clean up.

commit 0b04d8ffcf967614cce9fa4750e420651d980292
Author: Kenneth Vestergaard <kvs@binarysolutions.dk>
Date:   Fri Dec 14 23:33:01 2012 +0100

    Fix redraw-bug in split-panes on Retina displays.
    
    The check for resized frame sometimes failed when a horisontal split
    -pane is in use, since it might have non-integer height due to
    fractional pixels - possibly only in scaled resolutions.

commit d23148c3efaada67c5031b2e89f82187872cbb33
Author: James <stoutyhk@gmail.com>
Date:   Sat Dec 8 18:10:38 2012 +0800

    Add ResultAppleEventCode to launch session
    
    Fixes these console warnings:
    
    scriptSuite warning for result type of command 'launch' in suite
    'iTerm': the type PTYSession ('Pssn') doesn't match the result Apple
    event code ('').
    
    Cocoa scripting error for '(null)': four character codes must be four
    characters long.

commit 5afd40951fd7fd421885dc1a26886908c970c06f
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Dec 7 23:39:53 2012 -0800

    Remove 'fix' that actually made things worse wrt to mysterious crashes on autoreleasing a color. Don't know why it was happening originally, but the fix was broken because it released more than it retained when _truncateRun:beforeIndex was called (since it didn't itself retain)

commit 7ca2b6dd741c1a273c02998be7c3f409b8392893
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Dec 6 20:41:47 2012 -0800

    Merge pull request 94

commit 2b3ff34691a090afe6f84d2a844377d66139ada7
Merge: 567442e0 83672eab
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Dec 6 20:38:56 2012 -0800

    Merge branch 'preference-adjustWindowForFontSizeChange' of https://github.com/keeyipchan/iTerm2 into pull94

commit 567442e0883d668c84b9053259f9a02c35221bf7
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Dec 6 20:30:27 2012 -0800

    Use a documented api to tell if a window is on the active space

commit 9af0d953b0411b94942f6d583086b670db8886bf
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Dec 6 20:22:48 2012 -0800

    Move call to CGSGetWindowWorkspace into else clause so it's not called on 10.8

commit 7a00dd96e9f701034da069e561997b134f98f10c
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Dec 6 20:15:07 2012 -0800

    Try to fix smart selection for 10.8. Yay more undocumented apis.

commit 4bce0994ccbb109c061a803887117d584959a71a
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Dec 5 23:19:18 2012 -0800

    Add feature for debugging: press cmd-shift-opt-ctrl-left click while debug logging is on to dump the view hierarchy

commit 83672eab70ed337b2696035d6b5073222f6e6ddc
Merge: 08ccd5c0 05ea4ede
Author: keeyipchan <keeyip@huddler-inc.com>
Date:   Wed Dec 5 20:26:26 2012 -0800

    Merge from gnachman/master into this branch

commit 05ea4ede3365f33976f1db7c8c797c23b10d007b
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Dec 4 23:52:37 2012 -0800

    Add debug logging for smart window layout

commit 011eeb0986558e5f6dee353cfafaaf13d3691d62
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Dec 4 23:14:43 2012 -0800

    Add support for DECSTR (esc [!p)

commit ecb99998ef835512a03f70844d5b107ec40a40f4
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Dec 4 23:12:05 2012 -0800

    Add extra debug logging for keystrokes

commit 8322b30a34394a3b5d8ea814e49e58e40da11034
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Dec 1 15:09:03 2012 -0800

    Add hidden preference PinchToChangeFontSizeDisabled to turn off pinch to change font size

commit 5279a8d549a746cb411817e22f6724e4a4a7967a
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Dec 1 14:58:06 2012 -0800

    Add timestamps to debuglog

commit a33abb4b39e9dc4969ef822512a40b1a0623d73f
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Nov 29 22:04:53 2012 -0800

    Test

commit 2b36dc2e5009f6aff0314f3509dc1b90f4c98d68
Author: George Nachman <iterm2.xyz@georgester.com>
Date:   Thu Nov 29 21:59:50 2012 -0800

    Introduce nightly build configuration, fix bug preventing i386 from building, deprecate ppc

commit ea7575a0e88f34418ecac743039518005dcbbb2e
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Nov 27 21:02:35 2012 -0800

    Add some logging

commit e44d0bae2f351746d62cfccdecaec6e86c72a8d9
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Nov 27 21:02:09 2012 -0800

    Fix crash when receiving incomplete escape code

commit e0ad3c2082d9a74590358d86da69db1daa994976
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Nov 22 22:04:08 2012 -0800

    Fix awful hack for scrollback color against dark background

commit 830214045660035e22f6dc9e35e4db86e5d57db3
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Nov 22 21:50:21 2012 -0800

    Update star image and add retina version

commit 44dc1c3df6b4ed9e76ce080ae1064220cae93056
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Nov 22 21:29:21 2012 -0800

    Update the bell graphic to be less cheesy and add a retina version

commit f0404be59edacd84a26cb9c1f545a8b078d9ab93
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Nov 22 20:46:41 2012 -0800

    Add retina images for tab close buttons (from https://github.com/dorianj/PSMTabBarControl)

commit e89f16f5246f61d0aa5f9a2f0cb2f3a231cd4b72
Merge: c21f1fd8 de27d9a6
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Nov 22 20:07:15 2012 -0800

    Merge branch 'master' of github.com:gnachman/iTerm2

commit c21f1fd85b804dd1967f1967b052896c5adea949
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Nov 22 20:04:15 2012 -0800

    Add retina images for mouse cursor. Also fix a mysterious crash with released colors that shouldn't be released

commit de27d9a610477ea6ea892e8deee75b596c69a106
Author: George Nachman <gln@google.com>
Date:   Wed Nov 21 17:16:03 2012 -0800

    Remove control set-ready command, which wasn't necessary; instead make it so that when the last response is received for a command in a command list we begin listening for notifications

commit b09de9a03b603eda06e5e54ae83908a8789caecc
Author: George Nachman <gln@google.com>
Date:   Wed Nov 21 16:37:02 2012 -0800

    Support cleaned up tmux protocol

commit 01e95ffba9eb720ee396ec439dc46e7e79e9672e
Merge: a1228575 31b422ee
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Nov 14 21:40:10 2012 -0800

    Merge branch 'master' of github.com:gnachman/iTerm2

commit a12285750adeb1591791b6c47f2f026f3c059d88
Merge: e6331b18 a8d89b7e
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Nov 14 21:39:41 2012 -0800

    Pull saitoha's osc 52 change

commit 08ccd5c02f9fd91ff0743fe5957307ceb1810e30
Author: keeyipchan <keeyip@huddler-inc.com>
Date:   Wed Nov 7 16:25:52 2012 -0800

    Add General preference to adjustWindowForFontSizeChange

commit 31b422eec147caf68ba47409211614e793541da7
Author: George Nachman <gln@google.com>
Date:   Tue Nov 6 15:55:26 2012 -0800

    Style fixes

commit 87e344b427b9ddf82ebce3aa9fcfb1f0d8e915ec
Author: George Nachman <gln@google.com>
Date:   Tue Nov 6 15:53:11 2012 -0800

    Group items in highlight popup by fgbg/fg/bg

commit 7a0ed615baf404580ca73c6b3c75075e5263801b
Merge: 3626b83a 67a95973
Author: George Nachman <georgen@dhcp-172-19-10-213.mtv.corp.google.com>
Date:   Tue Nov 6 15:21:18 2012 -0800

    Merge https://github.com/ssbarnea/iTerm2 into ssbarnea

commit 3626b83a9fa58dedacb536d17cbdab31d9c5907a
Merge: 25c84801 e6331b18
Author: George Nachman <georgen@dhcp-172-19-10-213.mtv.corp.google.com>
Date:   Tue Nov 6 15:17:22 2012 -0800

    Resolve merge conflict in VT100Screen.m

commit 67a959735aa8c679d40c54908360bff3ffbee940
Author: ssbarnea <sorin.sbarnea@gmail.com>
Date:   Mon Nov 5 12:05:39 2012 +0000

    Fixing bug #2020 by adding all default color configs for background and foreground.

commit 3a94040798d4efca142fae7fb862dcd4fd358158
Author: ssbarnea <sorin.sbarnea@gmail.com>
Date:   Mon Nov 5 12:02:42 2012 +0000

    Upgraded project file to Xcode 3.2 format and removed few compilation warnings.

commit e6331b18814b2fecfe808cf5d37634d8bc77534f
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Nov 4 22:33:04 2012 -0800

    Add DoNotSetCtype hidden pref to disable setting LC_CTYPE

commit 50b5be7f5b6b1fbd6aace36b1cf85139569f5888
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Nov 4 21:38:58 2012 -0800

    Add 'toggle broadcasting to current session' menu item

commit 96d5cdedbae8d24150ab2b928de958b000c631ec
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Nov 4 15:13:54 2012 -0800

    URL or shell-escape replacements for context menu actions

commit f490b2da5bf8388126fdc5c370e42767df45a9c7
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Nov 4 14:51:21 2012 -0800

    Shell-escape filenames on paste

commit 9896a2d1ce6c0bae7ea8b3f9c31573ff831a6396
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Nov 4 14:41:20 2012 -0800

    Trim trailing whitespace on copy, by default. Use hidden setting TrimWhitespaceOnCopy to disable

commit ab43d6087db4b2c9f3820dd300de5ca60be48240
Merge: ca6d486b ef523c6e
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Oct 27 19:15:53 2012 -0700

    Merge branch 'master' of github.com:gnachman/iTerm2

commit ca6d486ba3fb7f049eca9493941d861c3b99cce0
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Oct 27 19:15:21 2012 -0700

    Fix preserving selections in alternate screen mode when resizing session

commit 8b4f521e1e169735613ea5b8713c2516947eb115
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Oct 17 20:43:42 2012 -0700

    Halfway done here

commit 25c848015c65dacc2078c1a7114b1dc4e89df97e
Merge: a7081f0e ef523c6e
Author: George Nachman <georgen@dhcp-172-19-10-213.mtv.corp.google.com>
Date:   Mon Oct 15 14:56:19 2012 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit d412a3e06d1fbef8403222b340ab6fb8e2e6afa1
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Oct 6 11:01:16 2012 -0700

    Clean up resizeWidth:height:

commit ef523c6e2c34c299e280cab395dc8ae0b1e5a6e1
Merge: 6ecfd617 890fd54d
Author: gnachman <gnachman+github@gmail.com>
Date:   Fri Oct 5 17:20:09 2012 -0700

    Merge pull request #92 from saitoha/support_decscusr
    
    Support DECSCUSR (Issue 2165)

commit 6ecfd617c92462651fe5e96186b5e026c16af01c
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Oct 5 17:06:10 2012 -0700

    If Library/App Support/iTerm/quiet exists and can be deleted, then run without opening any windows

commit 686aaab7d5c7aa10c4b96a5d0e8db0386ac5bf0b
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Oct 5 16:01:30 2012 -0700

    Disable scroll animations. Fixes bug where page up bindings fail to stay scrolled, and misc. smooth scrolling weirdness.

commit 7a7ba1a306f884de57b1cd5dd6c5e08d6d130846
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Oct 5 15:42:36 2012 -0700

    When clearing the scrollback buffer, erase found results

commit 890fd54d6d4d5bd9506988f41098e956198bf2fc
Author: saitoha <user@zuse.jp>
Date:   Fri Oct 5 17:52:31 2012 +0900

    Change macro name, MAKE_COMMAND to MAKE_CSI_COMMAND

commit 1c541eb1689b9e8d832dc24a11f7b96ef6e5d580
Author: saitoha <user@zuse.jp>
Date:   Fri Oct 5 17:00:45 2012 +0900

    Support DECSCUSR

commit a7081f0e26835133b62bfadcfd0ef032e4ba1845
Merge: c12852ea 1f392cb6
Author: George Nachman <georgen@google.com>
Date:   Thu Sep 20 21:06:14 2012 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit c12852ea85d87f2fb95ea17775a60231c2fe1097
Author: George Nachman <georgen@google.com>
Date:   Thu Sep 20 17:55:29 2012 -0700

    Fix bug where resizing a window while a full line selection exists caused the selection to change crazily

commit 1f392cb64d75179c35ae19c30df377bb635827d0
Merge: 526843f1 ca1578b6
Author: George Nachman <georgen@google.com>
Date:   Thu Sep 20 17:55:49 2012 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 526843f1b81916c3c8beb039535dc7ce8aa8bc01
Author: George Nachman <georgen@google.com>
Date:   Thu Sep 20 17:55:29 2012 -0700

    Fix bug where resizing a window while a full line selection exists caused the selection to change crazily

commit ca1578b6d3897ce1b984f92f467fdd7129935366
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Sep 13 21:36:04 2012 -0700

    Fix bug 2142 where the send text action doesn't handle double-backslashes correctly

commit bf8807c92e97a4fdee1578e32d16de4850977dac
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Sep 8 22:59:47 2012 -0700

    Be clever about getting path to sublime text

commit bf2235a34919d17173d6863134aa89489d7c1315
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Sep 8 21:33:31 2012 -0700

    Allow toggling of broadcasting input to a single session if you toggle the current session to enable the feature for focus follows mouse users (they can't bring up the context menu in an inactive pane)

commit 677cfef4680333c338218605a8f1fe0c1811cb38
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Sep 8 18:40:47 2012 -0700

    Performance improvement for drawing dimmed panes. Cache various colors and ensure the same colors are comparable by pointer when dimming is on

commit a8d89b7e223583114e0693b1032bd47dd090826f
Author: saitoha <user@zuse.jp>
Date:   Sat Sep 8 01:15:31 2012 +0900

    Change the label "from" -> "by"

commit 88e1bfe92d4a430f2a3a2092c1cb072775b8d9ad
Author: saitoha <user@zuse.jp>
Date:   Sat Sep 8 01:01:47 2012 +0900

    Change prefernce's label "terminal application" -> "terminal applications"

commit 3ae2e0218dbb27d20367da9286cd45d17f24b24e
Author: saitoha <user@zuse.jp>
Date:   Sat Sep 8 00:55:28 2012 +0900

    Restore DefaultBookmark.plist before re-saving with Xcode 4.4

commit fe10f94f77d6415c01b676fbce503b4ab9060d8e
Author: saitoha <user@zuse.jp>
Date:   Sat Sep 8 00:55:08 2012 +0900

    Add a logging statement

commit e87eb0b0b5b57a0cea24585be632a9c63e3bfb8e
Author: saitoha <user@zuse.jp>
Date:   Sat Sep 8 00:47:21 2012 +0900

    Remove an extra space after ":"

commit b0837bb461824fecc96b7ee4191514c3a9568c5e
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Sep 7 11:44:35 2012 -0400

    Fix hotkey window scrolling in from left

commit 8adaa68a6a0c419357e6eb7ba21bacfcc62424b0
Author: saitoha <user@zuse.jp>
Date:   Sat Sep 8 00:44:17 2012 +0900

    Strip extra blank lines

commit 04cd1cdd6f03e41d4c4b4751d4001f552698b568
Author: saitoha <user@zuse.jp>
Date:   Sat Sep 8 00:38:30 2012 +0900

    Strip extra ";"

commit a68c68e7631d39895a38cc082362c35ed699452c
Merge: 0c4fdba6 b03e4bc1
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Sep 7 11:36:58 2012 -0400

    Merge branch 'mike/left-side-visor' of https://github.com/Sep102/iTerm2 into mike_left-side-visor

commit 00d452b1ee1d93e826ac52534d7c125b1623830b
Author: saitoha <user@zuse.jp>
Date:   Fri Sep 7 22:28:23 2012 +0900

    Fix comment style

commit aa0c2212a554c490ca5a2255fe9fad49843fe69c
Merge: 48f721e4 0c4fdba6
Author: saitoha <user@zuse.jp>
Date:   Fri Sep 7 22:14:50 2012 +0900

    Merge branch 'master' into feature-osc52

commit 48f721e45090d9935b811e760ee6c08fc2ead5fd
Author: saitoha <user@zuse.jp>
Date:   Fri Sep 7 22:09:53 2012 +0900

    Treat the clipboard security option as a global preference

commit 0c4fdba6f092cdaedac4cf620606c8d4fbd8a304
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Sep 7 00:14:09 2012 -0400

    Allow keys bound to actions to run in a session that's a tmux gateway

commit e0db618d717bc9eb5d7a534ed1d1b0bde45d54a7
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Sep 3 19:36:18 2012 -0400

    Disable title reporting unless hidden pref AllowInsecureTitleReporting is set to yes

commit b03e4bc194b1a84b6dd0901a9c95270758b5c0d8
Author: Mike Lapinsky <mike.lapinsky@synapse.com>
Date:   Thu Aug 23 23:02:02 2012 -0700

    Added window decoration size to left-side visor calculations

commit 72f487e7a4ab6da0de8dad914f141f1dd6dc2116
Author: Mike Lapinsky <mike.lapinsky@synapse.com>
Date:   Tue Aug 14 22:51:43 2012 -0700

    Width calculation for left-side visor now uses profile column value
    
    - Profile column value times character size is used as the full width
      of the window (i.e. operations like splits don't change the size)

commit c41d4d1cd2a273a5240dcbaba3338740ccf8a6a9
Author: Mike Lapinsky <mike.lapinsky@synapse.com>
Date:   Tue Aug 7 12:44:23 2012 -0700

    Fixed left-side visor opening when screen dimensions change
    
    - The iTerm window rectangle wasn't being properly updated to reflect
      the screen rectangle changing (e.g. when a second monitor is connected)

commit e9b7c668fa6b8830c620be523f1b9cf5d530d653
Author: Mike Lapinsky <mike.lapinsky@synapse.com>
Date:   Mon Jul 2 14:00:54 2012 -0700

    Fixed left-side visor frame size calculations
    
    - Currently fixed to a little under half the width of the screen

commit 03838771e3657fc7ce8e9b51223725f416c1b104
Author: Mike Lapinsky <mike.lapinsky@synapse.com>
Date:   Thu Jun 21 16:07:19 2012 -0700

    Added left-side visor option

commit cf73b593b4b551ef59388a77a201c3865a4ded4f
Author: saitoha <user@zuse.jp>
Date:   Fri Aug 31 11:51:56 2012 +0900

    Fix a signed char comparison Bug

commit 07c85a22f197ecbfa841ee2b6f50191a89a58921
Merge: ca6604c1 52727302
Author: saitoha <user@zuse.jp>
Date:   Fri Aug 31 10:25:04 2012 +0900

    Merge github.com:gnachman/iTerm2 into preference-for-osc52

commit ca6604c1fc142c5f395fe763c48cce342d1b4fa9
Author: saitoha <user@zuse.jp>
Date:   Fri Aug 31 05:31:48 2012 +0900

    Correct some bad manners and make them safe

commit 004831cf9e4d2d6f833a015e65509bf0e1c9e76e
Merge: 63eb8a6e 710d95e5
Author: saitoha <user@zuse.jp>
Date:   Fri Aug 31 04:49:35 2012 +0900

    Merge branch 'preference-integration-for-osc52' into preference-for-osc52
    
    Conflicts:
            DefaultBookmark.plist
            ITAddressBookMgr.h
            PTYSession.h
            PTYSession.m

commit 63eb8a6e6a6fb714614a1fdfa3cd6aefda5b01c8
Author: saitoha <user@zuse.jp>
Date:   Fri Aug 31 04:36:02 2012 +0900

    Rename identifier names: xtermAllowClipboardAccess -> AllowClipboardAccess

commit 3ecfeb9e1b797a150c29db6518aa410600ce4728
Author: saitoha <user@zuse.jp>
Date:   Fri Aug 31 04:29:58 2012 +0900

    Now the "Allow Clipboard Access" option affects CopyToClipboard operation

commit 018b970ad16aa4d20538bfbe69e8cf5eaf404551
Author: saitoha <user@zuse.jp>
Date:   Fri Aug 31 04:11:24 2012 +0900

    Rename some identifiers concerned with xterm's paste64 feature. make them more clearly.

commit 58018b00da530c03e9a2b1dfc53c0306fd40412d
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Aug 28 14:56:29 2012 -0700

    Fix bug 2116 where triple-click with wrapped line selection enabled followed by drag does crazy things

commit 52727302da15fc6e3d92b39c62f373afa98f4a8d
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Aug 23 22:46:11 2012 -0700

    Fix cmd-9 to go to last tab. Don't show cmd-n for n > 9 for any tab.

commit 7e5dff5a699728d39d462605b6d7ce89a44a0709
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Aug 21 08:58:06 2012 -0700

    Use [NSUserDefaults dictionaryRepresentation] instead of reading plist from disk, which isn't synchroniezd often enough to work at least on mountain lion.

commit 127a578f588b29db40d2d36e3aca7822289a68d5
Author: saitoha <user@zuse.jp>
Date:   Tue Aug 14 20:41:04 2012 +0900

    Add preference panel integration

commit a53bedbd29005d6db565ebaf8ba59d3f01f96e45
Author: saitoha <user@zuse.jp>
Date:   Tue Aug 14 20:31:15 2012 +0900

    re-save PreferencePanel.xib with Xcode 4.4,
    InterfaceBuilderVersion:1938->2549

commit 5de86367371c01857beaaf0e492e30f8649937c7
Author: saitoha <user@zuse.jp>
Date:   Tue Aug 14 20:27:04 2012 +0900

    Add profile integration for OSC 52

commit 710d95e5a84ec1be88aa1c4396562eb6051172b4
Author: saitoha <user@zuse.jp>
Date:   Tue Aug 14 20:04:41 2012 +0900

    add Profile integration for OSC 52

commit 8fa2189f2f7ffa4848bfae6dd4fea11d26505e9f
Author: saitoha <user@zuse.jp>
Date:   Mon Aug 13 13:29:00 2012 +0900

    prevent overrun, and fix condition's bug.

commit a615f5ffadd1da0269f4afb93f3b6eab1225e9ad
Author: saitoha <user@zuse.jp>
Date:   Mon Aug 13 13:05:04 2012 +0900

    sanitize incoming control characters except TAB/LF/CR in OSC 52 set access

commit 8b6384877f1933968cb1551999d5246b1304e1cb
Author: saitoha <user@zuse.jp>
Date:   Mon Aug 13 03:01:40 2012 +0900

    add xterm's OSC 52 set access support

commit ac2a0b01efac5289ed96c9cf81debe0acbe982dd
Merge: c860c4af c2640b26
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Aug 9 21:54:36 2012 -0700

    Merge branch 'master' of github.com:gnachman/iTerm2

commit c860c4afbc3a0d9631ceaa9752b9af9abe67637b
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Aug 9 21:54:06 2012 -0700

    Fix some accessibility breakage for 10.8

commit c2640b264e9a1fae4510d48135fda9dd0d1d45b7
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Aug 9 21:52:37 2012 -0700

    Fix some accessibility exceptions and brokenness in 10.8.

commit f67bed74e119e723e12247cdf437961d7fbb18f2
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Aug 9 20:53:35 2012 -0700

    Set compositing mode to sourceover when doing advanced char drawing so emoji's don't draw transparent backgrounds through the window

commit 479a0a91c5187a8c6646534fb4a490d03e2212c8
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Aug 9 20:46:11 2012 -0700

    Fix bug where esc-k esck-backslash was not handled properly (one extra char was counted); now it should be ignored

commit e49c468288ffbc2e22a9812837b09455bd2edc67
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Aug 9 20:31:39 2012 -0700

    Allow top and bottom of screen windows to have borders

commit 6bc86bf8d280e9f11043cf23e6408335746df2f2
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Aug 9 18:58:16 2012 -0700

    Move development sdk to 10.7 so I can use xcode 4.3.

commit d31c04304a3c1a9ec8389fbf38936f06ac07e1c5
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Aug 9 18:53:56 2012 -0700

    Allow exiting of fullscreen after changing fullscreen mode in prefs

commit 5cf93ba2aa8ff0a9722b092549ae200cd0b8b616
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Aug 3 19:19:20 2012 -0700

    Add tmux secure logging to avoid writing sensitive data to console

commit 028b863c9bdc7501b4b9b6ab5a6c5df47793d496
Merge: 8f20376c 8aaf495d
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Aug 3 19:04:39 2012 -0700

    Merge branch 'master' of github.com:gnachman/iTerm2

commit 8f20376c9e67c1ad00dba65d2de08cd8bdde1853
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Aug 3 19:04:35 2012 -0700

    Signing stuff

commit 8aaf495d69414127a81b7bde3d93d2966d00e876
Author: George Nachman <georgen@google.com>
Date:   Fri Aug 3 15:29:43 2012 -0700

    Fix bug where find on page matches aren't highlighted when there is a background image

commit 1b7834c61f987923c19467076ba8b5e5b8114e17
Author: George Nachman <georgen@google.com>
Date:   Wed Aug 1 16:18:55 2012 -0700

    Disable alt+click moving cursor when mouse reporting is on because it makes text selection difficult/impossible

commit cdc648d7083183f430156da372b61ee6f68c124d
Author: George Nachman <georgen@google.com>
Date:   Wed Aug 1 15:30:21 2012 -0700

    Remove extra bit in screen_char_t

commit b5e3ca4192aa0843c216e4e5f6fe983ed2cb0ec7
Merge: 1769ae2a e8cea2ea
Author: George Nachman <georgen@dhcp-172-19-8-110.mtv.corp.google.com>
Date:   Wed Aug 1 15:15:06 2012 -0700

    Merge branch 'feature/italic' of https://github.com/sos4nt/iTerm2 into v3

commit 1769ae2a4cb1c8e4faedd599ed85fc13ccf68458
Author: George Nachman <georgen@dhcp-172-19-8-110.mtv.corp.google.com>
Date:   Mon Jul 30 17:11:38 2012 -0700

    If secure input isn't desired but it's still on for some reason, show the desired status in the menu check

commit e8cea2eac2905a319d5d77531621d609de8b1a93
Author: Stefan Schüßler <mail@stefanschuessler.de>
Date:   Wed Jul 18 18:14:16 2012 +0200

    Support for italic fonts

commit c6678d8bc8d497c654f06e5f4aaabc46d031b5f1
Merge: 7487e299 61fa1e2f
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jul 15 14:18:48 2012 -0700

    Merge branch 'master' of github.com:gnachman/iTerm2

commit 7487e299bb6d875f314133835363668d37da24e8
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jul 15 14:18:35 2012 -0700

    Change tmux version to 0.5 for mountainlion release

commit 61fa1e2f016f1dc207cc37eb3046eda1f7a7baad
Merge: 9c1fcf9c 04a32f55
Author: gnachman <gnachman+github@gmail.com>
Date:   Thu Jul 12 15:58:48 2012 -0700

    Merge pull request #84 from msabramo/fix-typos-in-help
    
    Fix a typo and add a period to the help text.

commit 04a32f556cb64a3cd52a79b1166894aad69aad42
Author: Marc Abramowitz <marc@marc-abramowitz.com>
Date:   Wed Jul 11 21:56:45 2012 -0700

    Fix a typo and add a period to the help text.

commit 9c1fcf9c69761098786c213d27ce2c81f9325d34
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jul 8 18:52:48 2012 -0700

    Allow OSC 4 to set color of first 16 palette entries

commit 39f528d87baf639b7bfec366cfe673d81d10d687
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jul 8 18:30:41 2012 -0700

    Consume up to terminator on bogus codes like 'esc]123^G'

commit fb5794d9fae0d3d94e462283063abf9c55d05fd3
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Jun 30 15:20:49 2012 -0700

    Fix bug in retina displays with switching panes with keyboard in issue 2042.

commit 3927964aa5b0199b484de27a0877bf0716de881d
Merge: 31f27e54 b5099b3e
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jun 18 22:34:37 2012 -0700

    Merge branch 'master' of github.com:gnachman/iTerm2

commit 31f27e54789901979df79d6b6dbdd3a1a8ed53fc
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jun 18 22:34:24 2012 -0700

    Fix bug with parsing xcode esc codes described in pull req 83

commit b5099b3eb50c056d229b31be2209fb2d9d056abc
Merge: 2625e701 6f819b98
Author: gnachman <gnachman+github@gmail.com>
Date:   Mon Jun 11 21:44:54 2012 -0700

    Merge pull request #82 from saitoha/SGR-style-mouse-reporting
    
    SGR (1006) style mouse reporting support

commit 6f819b9894509f610de312c26c84bf07f3a37cad
Author: saitoha <user@zuse.jp>
Date:   Thu Jun 7 20:06:39 2012 +0900

    increase the readability of the code that processes scroll button number

commit 2701038070607dcfd33563ff7d8b88dfecf8a3ab
Author: saitoha <user@zuse.jp>
Date:   Wed Jun 6 21:12:31 2012 +0900

    change names of some enum values appropriately, and replace some magic
    number with them

commit b76a1b9184cabe250086813e47643f65f90feec3
Author: saitoha <user@zuse.jp>
Date:   Sun Jun 3 18:28:30 2012 +0900

    correct some comments

commit ebadd265df2c646be75e23e30d73467e1833c2ed
Author: saitoha <user@zuse.jp>
Date:   Sun Jun 3 18:11:03 2012 +0900

    change cb's type char -> int, to prevent overflow.

commit 7312c8d2d43693ae0c5715d5aa7c8fa536ba042a
Author: saitoha <user@zuse.jp>
Date:   Sun Jun 3 16:34:07 2012 +0900

    fix the collision between SGR-style's RELEASE mask and and keyboard SHIFT modifier

commit 2625e701051204a286b31bf8a65583d518891c4a
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Jun 2 17:11:21 2012 -0700

    Fix style issues with last patch

commit c3f83c942bdddaeb23bf495e820704762a79576f
Merge: ce511e4e 817beaf8
Author: gnachman <gnachman+github@gmail.com>
Date:   Sat Jun 2 17:03:40 2012 -0700

    Merge pull request #81 from saitoha/prevent-DoS
    
    prevent DoS with SU/SD's large parameter

commit 52cf99148527cf411c34593f6f2624e22b5fc6ea
Author: saitoha <user@zuse.jp>
Date:   Sat Jun 2 19:51:45 2012 +0900

    support SGR (1006) style mouse reporting

commit 817beaf8a1217d6fd3b8a19c542c94a9a5a0fdd5
Author: saitoha <user@zuse.jp>
Date:   Sat Jun 2 18:57:08 2012 +0900

    prevent DoS with SU/SD's large repeat counts.

commit ce511e4ecf2af66a345c0f360958b3272dd2f976
Author: George Nachman <georgen@georgen-macbookpro.local>
Date:   Thu May 17 11:21:28 2012 -0700

    Re-enable SCS0 for UTF8

commit ee0faefd63806d4c49e69918080c0cea14940290
Author: George Nachman <georgen@google.com>
Date:   Fri May 11 13:55:32 2012 -0700

    initialize tabs tops in tmux mode from the last one out to 1000 on divisible-by-8 boundaries. This isn't really the right thing to do, but tmux's handling of tab stops is very complex because they change them in so many different places.

commit 128b71be58914078d2bea97cb0dd2020d0136276
Author: George Nachman <georgen@google.com>
Date:   Fri May 11 13:52:53 2012 -0700

    Send lf, not crlf for tmux command terminators

commit bde3656225c4b41293fe0fe87262c493e240148c
Author: George Nachman <georgen@google.com>
Date:   Fri May 11 13:14:58 2012 -0700

    Ignore the first of two consecutive ESC chars

commit cf44ffc357af38491b45f792fdbb48283773f549
Author: George Nachman <georgen@google.com>
Date:   Fri May 11 12:11:38 2012 -0700

    In smart selection action panel and trigger action panel, take focus off an edited field just before window is closed so the prefs are updated if the window is closed with a field focused.

commit aa226c9d4f42074c9e3e7a862a5c0205a4751f08
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Apr 25 20:56:14 2012 -0700

    Always use lineHeight for cursorHeight. Using the max(lineHeight, charHeightWithoutSpacing) causes part of the cursor not to be erased when the spacing is less than 1.

commit f1ba51e97d325cd5b500661003ec880f06099eec
Merge: 55d7395e 7cce5008
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Apr 25 20:48:32 2012 -0700

    Merge branch 'master' of github.com:gnachman/iTerm2

commit 55d7395e960793913cb7613c40924cc14eee0d4f
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Apr 25 20:48:06 2012 -0700

    Disable view->toggle toolbar in lion fullscreen because it doesn't work anyway, plus it has a bug that shows linen on the bottom. Fixes the rest of bug 1962

commit fea8160b9b3112077a08a5505408ed7aec75bf1e
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Apr 25 20:29:22 2012 -0700

    Restore UIBezierPath's defaultLineWidth. Fixes part of bug 1962

commit 7cce5008fbc46d6d37077e3dbe1b0d9278376c8f
Merge: af950fc9 33274a2c
Author: George Nachman <georgen@google.com>
Date:   Wed Apr 25 13:53:36 2012 -0700

    Merge branch 'master' of github.com:gnachman/iTerm2

commit af950fc90f2b1883484b89e873bf62da3fbb7188
Author: George Nachman <georgen@google.com>
Date:   Wed Apr 25 13:53:22 2012 -0700

    Use blank line to acknowledge tmux exit

commit 33274a2c573b1f7b5c35b375ddb01dd0a9a637a6
Merge: 3ea44097 269dc545
Author: gnachman <gnachman+github@gmail.com>
Date:   Tue Apr 24 20:46:21 2012 -0700

    Merge pull request #79 from DHowett/master
    
    Use lineHeight instead of the character height as the cursor height.

commit 269dc54537e1b7575c7ecec5f7d61cfcbd9fc614
Author: Dustin L. Howett <dustin@howett.net>
Date:   Wed Apr 18 17:49:13 2012 -0700

    Use lineHeight instead of the character height as the cursor height.
    
    This resolves a visual difference between reverse-text mode (which
    reverses entire lines at full height) and the block/bar cursors when
    there's line spacing on the main terminal font.

commit 3ea44097b8f2e83c96ecff8661822e4ad7c1c2a8
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Apr 16 07:54:40 2012 -0700

    Fix unicode handling problems pointed out at http://mosh.mit.edu

commit 95912e2a0ec7cfb2d3b522ac50d9d04ae8283103
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Apr 14 21:53:18 2012 -0700

    Rename b64 to hex in tmux gateway. Handle odd-numbered length hex strings better in parseOutputCommand

commit 8378a64f703f9f6685310ab144612b7e958c041f
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Apr 10 22:44:20 2012 -0700

    Fix cycle tabs to work with any modifiers

commit 2263f0bf20e6c8d316cc82fc91213cd6ace5e8f1
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Apr 10 21:47:46 2012 -0700

    Avoid saving broken windows to arrangements. Tolerate not having an active session during Lion restore

commit 0905807273a0552e45ab0a448bf282e2ff3b79ad
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Apr 3 18:46:15 2012 -0700

    Add tilde to http URL pattern

commit d0fd0fd051a28c7fdddb6d25bf867b0b9ceb5ba4
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Apr 3 18:08:01 2012 -0700

    Increase space for font names in prefs

commit 99f8b557939ea7021b761f3e746dde35c9ad2b9a
Merge: b2794f89 e4ae130f
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Mar 26 23:34:55 2012 -0700

    Merge branch 'master' of github.com:gnachman/iTerm2

commit b2794f890536e03f72cd954dfbffe5b0876dbe1f
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Mar 26 23:34:40 2012 -0700

    Silently swallow unsupported xterm escape codes of the form esc]...^G

commit e4ae130f0f19b3e86d67d6e8c19430184f46dfbe
Author: George Nachman <georgen@google.com>
Date:   Mon Mar 26 14:59:30 2012 -0700

    Bring back debug logging

commit 7025e2b28144afc4530776d7ad5d0f1e27f29a98
Author: George Nachman <georgen@google.com>
Date:   Wed Mar 21 17:13:37 2012 -0700

    Send acknowledgment of exit to tmux

commit 64766947d0fff7b839b68ba64094a1eea6cc5223
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Mar 19 20:10:29 2012 -0700

    Wait until after the app has launched to lion-restore term windows. Fixes a bug where fullscreen windows wouldn't hide the menu on 10.7

commit dd9b8ed425e2dfb30e7b7767d24a8ec8a5f4f693
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Mar 18 22:24:18 2012 -0700

    Close find cursor window when a session ends or the current tab switches

commit 239dc7604b16d35919090aee6c17ad61ff4f3d37
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Mar 18 21:49:31 2012 -0700

    Set tmux version to 1.0, accept semicolong followed by optional args

commit 64d9967aff3ed84708f61a36994e8d957c8aea6c
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Mar 18 21:49:05 2012 -0700

    Ignore rows with too few fields to avoid violating callers' assumptions later on

commit dd595a6afe6a244de20f36b384604e1cefd29702
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Mar 18 21:48:32 2012 -0700

    Don't break smart window placement when the windows are as tall or wide as the screen

commit 3fef9171c30a0c90d69db6c215c2364833d57ead
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Mar 18 18:18:27 2012 -0700

    Remove useless things from font panel

commit 90483fa2598f3add2de3777e212bcddb92b2fd97
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Mar 17 16:55:11 2012 -0700

    Reduce max blur in prefs panel to 15 to mitigate performance problems

commit 67d06dfe604edc89fdae85ffd73c3377e11bec5e
Merge: 6a6927b1 6c57a289
Author: gnachman <gnachman+github@gmail.com>
Date:   Sat Mar 17 15:39:34 2012 -0700

    Merge pull request #77 from boretom/option-click-hardcoded
    
    Add placing cursor on current line using the mouse (hardcoded)

commit 6c57a289e9fc035fd8e5ada0da23f79ba6f9e703
Author: Thomas Kupper <thomas.kupper@gmail.com>
Date:   Thu Mar 15 09:57:20 2012 +0100

    Fix cursor positioning while dragging the mouse
    
    The cursor is only moved if it is not a dragging operation. To make that
    possible the code was moved from mouseDownImpl to mouseUp. Thanks to
    darthAndrus on the google code issue tracker for this suggestion.

commit 6a6927b1fdd20a5eeb99d44459a08a329e8e976e
Merge: 194678de 74b38cf6
Author: gnachman <gnachman+github@gmail.com>
Date:   Wed Mar 14 13:48:52 2012 -0700

    Merge pull request #78 from Sidnicious/patch-open-directories-escaped
    
    Fix directories with escapable characters not detected as directories

commit 74b38cf611fc604daf48a47fc2a25141015b1c4f
Author: Sidney San Martín <sidney@deeptechinc.com>
Date:   Wed Mar 14 13:00:14 2012 -0400

    Fix directories with escapable characters treated as files when dropped on iTerm
    
    Escape filename after passing it to -[NSFileManager fileExistsAtPath:isDirectory:]

commit b919985b6bbbbd1224d2f4958011842f44dd0d7f
Author: Thomas Kupper <thomas.kupper@gmail.com>
Date:   Mon Mar 12 23:11:26 2012 +0100

    Fix positioning by mouse and code indents
    
    The earlier solution worked only with shells but not with editors, fixed
    that.
    Converted some accidentally inserted tabs to space and deleting some
    trailing spaces.

commit 194678de81100cb17dad422efcb65400e23910a6
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Mar 11 18:45:07 2012 -0700

    Change how resizing works. Try to keep the same number of lines of text on the screen, if possible. Also fixes a bug where increasing the font size in fullscreen with only a few lines in the buffer made lines at the top scroll off. Also fix a bug where resizing in alternate screen mode made a mess of the base screen

commit 085ec22c38af75df29f1c1047379f3c1ee614b78
Author: Thomas Kupper <thomas.kupper@gmail.com>
Date:   Sun Mar 11 23:19:12 2012 +0100

    Fix an compile error I got when compiling 'Deployment'
    
    replace inproper NSRect and CGRect calls with NSRectToCGRect and
    CGRectToNSRect

commit 9ae900c0d4f954da6e1bed8ee57cb1d77a2382fe
Author: Thomas Kupper <thomas.kupper@gmail.com>
Date:   Sun Mar 11 23:14:28 2012 +0100

    Enable position of cursor using mouse on multi-line prompts

commit df04a44437bd27f391fe134afed9282834f6bab3
Author: Thomas Kupper <thomas.kupper@gmail.com>
Date:   Sun Mar 11 19:55:30 2012 +0100

    Add placing cursor on current line using the mouse (hardcoded)

commit 5e18930b3e2d6adc994b709cfe1d79a618fe0327
Merge: c2343df4 01266ee5
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Mar 9 09:42:53 2012 -0800

    Merge branch 'master' of github.com:gnachman/iTerm2

commit c2343df46ea0ad13746d0045df7ec21c5e9d40c4
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Mar 9 09:42:08 2012 -0800

    Fix bug where splitting a tmux pane created a gray contentless window

commit be4c20f68cefd56879a38ae117c2777127c101ec
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Mar 9 09:41:44 2012 -0800

    Issue list-windows after resize-pane. Pass -PF format to break-pane.

commit 01266ee5e2b6bee89b114ae950fa506595c6b789
Author: George Nachman <georgen@google.com>
Date:   Thu Mar 8 17:01:28 2012 -0800

    Make adium tab colors look better

commit f33dc8a8b93d25770cf00af86b136eb6b43317d6
Author: George Nachman <georgen@google.com>
Date:   Thu Mar 8 16:52:44 2012 -0800

    Make tab colors look better with unified tab scheme

commit d9028b84cd8a9659658ddc7083bf618bfd9059f9
Author: George Nachman <georgen@google.com>
Date:   Thu Mar 8 16:23:39 2012 -0800

    Improve appearance of tab colors on the aqua tab style

commit 2244035caafdf9ab3ba797c6c5ec040c8a3fccbd
Author: George Nachman <georgen@google.com>
Date:   Wed Mar 7 11:38:04 2012 -0800

    Fix bug in BackgroundThread that made it use ALL the cpu and memory

commit b1ebc1a04cf6a635ddd540ce5c5a75a3893863d3
Author: George Nachman <georgen@google.com>
Date:   Tue Mar 6 17:32:43 2012 -0800

    Make metal tabs look nicer when colored. Don't color title bar, tabbar background unless there's only one tab. Also adds some ptylog statements to debug multimonitor setups

commit 5e349d1b3ff872665332af3dea78293af9682551
Author: George Nachman <georgen@google.com>
Date:   Tue Mar 6 15:54:46 2012 -0800

    Make input field of save arrangement dialog key by default

commit 2f2480ac741333208c398481b3013d01f86f9129
Merge: 64407cca afa3e88e
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Mar 4 11:56:06 2012 -0800

    Merge branch 'master' of github.com:gnachman/iTerm2

commit 64407cca793aafa62104247192d17785c9678eba
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Mar 4 11:55:49 2012 -0800

    Use 0xhex values in send-key rather than my added -h argument

commit 6d232cddb3f2e818fc3042fe84d4bd960bbf0ab3
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Mar 4 11:55:40 2012 -0800

    Use -PF arg to new-window to get window_id out. Expect window_id to be prefixed with @ in the response.

commit afa3e88e9a4135cf713f03cc587c1063c88e27a0
Author: George Nachman <georgen@google.com>
Date:   Thu Mar 1 23:49:11 2012 -0800

    Release linebuffer blocks in a background thread to avoid hanging the main thread while freeing them.

commit 99cd4ce924182d66bbc7fb61a05d8d13f604f797
Author: George Nachman <georgen@google.com>
Date:   Thu Mar 1 15:48:16 2012 -0800

    Bump gear icon in session title view up one pixel to account for black line below

commit 126aa210314ea5f55328e3a05b0cb0d2d2af63c5
Author: George Nachman <georgen@google.com>
Date:   Thu Mar 1 15:42:12 2012 -0800

    Blur a window if any session in the current tab has blur. Do not blur if transparency is disabled.

commit 7f181720cf1ecdd9e1ca9e2b09079d123a6e07b2
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Feb 29 22:21:11 2012 -0800

    Fix bug in parsing commands where two spaces in a row became an empty argument

commit 418625a4827dd1d829f22bfff8ee379fd183da8b
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Feb 29 08:05:28 2012 -0800

    Restore mode flags from tmux

commit e47d343f7b344c0799a83673be2a93e5fdb62b70
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Feb 27 08:37:51 2012 -0800

    When you drag a file or folder to the iterm2 icon, open the file or folder in a new tab in the current window rather than in a new window

commit a34cdad51b00deaf7c9398b3483849333f5be3af
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Feb 26 10:06:05 2012 -0800

    If the title is set with esc-k esc-backslash and it's the empty string, do nothing to work around a screen hack

commit 23367f2900ac16d6c0d89446857c6949967f1033
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Feb 21 21:24:24 2012 -0800

    Check value for encoding name before setting LC_CTYPE, lest it crash. This happens with certain encodings such as Non-lossy ASCII

commit ab4bba87dc8bffbc7508330078bd535926b835bf
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Feb 21 21:16:22 2012 -0800

    Guard against importing broken net.sourceforge.iterm.plist

commit c3f80cc371d9fb9e09119bc4e904d7fc6acc1b2b
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Feb 21 21:16:06 2012 -0800

    Make wrapping backspace check for eol_soft and eol_dwc

commit 35435d48c074c75ff82f599efe3b59e09308095c
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Feb 20 15:55:00 2012 -0800

    Handle esc_....esc\\ correctly when it's not a tmux version

commit cbc3bb90da2c30c1ea7c63ef0244b41f9669dc28
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Feb 20 15:41:56 2012 -0800

    Handle moving a split pane into its own window correctly for top and bottom of screen style windows

commit d38c4e3bed4172bd2974d7fe9fb859927006f11b
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Feb 20 15:28:34 2012 -0800

    Disable adding a profile when there is a search filter

commit 3811c97fad8d644981df2e1c8cfff787054ebde3
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Feb 20 15:20:42 2012 -0800

    Make fullscreen arrow in toolbar respect lion fullscreen preference

commit 7a587026fa89834685158ba9824442a15a174d2c
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Feb 20 15:00:40 2012 -0800

    Now that xcode 4.3 doesn't use /Developer and doesn't come with xcodebuild, remove the sudo ln -s /DeveloperX /Developer statements from the Makefile

commit df32e2ece7d35f8a5d47c98d415e3d6713ca4be7
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Feb 20 14:02:02 2012 -0800

    Make backspace wrap to the previous line

commit 1143ec314cab467ce7a48159bf478ebff1283229
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Feb 20 13:51:36 2012 -0800

    Fix cmd-opt-ctrl-number to open a profile in a new window (was trying to switch windows with cmd-opt-n, ignoring ctrl)

commit 6c4938457e904754a9741fd708aed2c677858323
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Feb 20 13:47:36 2012 -0800

    Canonicalize window frames for non-(lion fullscreen, normal) windows on restore in case the resolution has changed

commit f8cc1336b2cedff9bde804d6a529edc43cc027fb
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Feb 20 12:27:12 2012 -0800

    When in alternate screen mode and resized, also resize the main buffer. Use the correct default bg/fg color for the main buffer (not the current value, but what was in use at the time of the swap).

commit cd19b9c674553fe4db50faba6e8fe8dd7a698f2c
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Feb 13 20:14:20 2012 -0800

    Fix handling of set-client-size response to expect @ before window id

commit 7086dee634fd3e16a275b29e8b5370bd615e2a35
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Feb 13 20:14:06 2012 -0800

    Increment tmux version to 0.4

commit 3a1e2b2f8c46b8c6816e79ece98d36bd7f033512
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Feb 7 22:25:09 2012 -0800

    Fix bug where the default window is opened on <10.7 or 10.7+lion restore set to off, even if a default window arrangement is loaded

commit a8735efe90271b3e22dbcf54a968b6fd0d77037d
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Feb 7 22:00:14 2012 -0800

    If an esc-k title isn't read all at once, return the VT100_WAIT status instead of retuning XTERMCC_WINICON_TITLE with a bogus string value and crashing

commit c8ffc8b9ceb6a7f5382db2e2c912ecb0efe2f4f5
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Feb 7 21:45:32 2012 -0800

    Turn on the remove profile button in prefs when only one profile is visible because the search query has hidden all but one. Don't rename a profile as soon as you type in the name field because that can make the profile fail to match the current query and thus disappear. When you click the (x) in the bookmarks list view, update the search filter

commit 6e920168a6eb1aebfa56545d4454fc4aed5b0cd5
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Feb 6 08:40:47 2012 -0800

    Use display -p instead of list-windows to get a single window described by tmux

commit ca25525e35c911db79e6bf1c1da6ab1efbd95460
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Feb 6 08:40:25 2012 -0800

    Set trigger parameter when the action is changed, causing the default parameter to be used

commit 173e20e9fb66e523724421224b231ec71ff67eaf
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Feb 5 10:51:53 2012 -0800

    Add iTerm.plist to gitignore because canary- and release-iTerm.plist are where the action's at

commit 16c9a9f1409c3fe4f7faa0e34fde1fd8d38d9ca6
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Feb 5 10:51:33 2012 -0800

    Use selection color for selected text unconditionally (bug 1812)

commit 43594c1f03af45642720c3b8a45f06478e4be5ff
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Feb 3 00:08:14 2012 -0800

    For a reason I haven't figured out yet, broken pipe notifications often crash because the sessionview appears to be bogus or freed. To stem the bleeding, make those not clickable

commit 08d82ed6476ca55f59d0b1946ce77d147503537d
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Feb 2 23:46:36 2012 -0800

    Shut down toolbelt tools when they're removed from the view; otherwise the timers can fire after the window is closed

commit 33fa72b33474040bce6e18c7d9e5ff88c90c8e23
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Feb 2 23:13:09 2012 -0800

    Fix bug where drawer was created tiny because makekeyandorderfront was called too soon

commit 21f45db21ac7155e17a241f027f7de95d256a111
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Feb 2 23:12:55 2012 -0800

    Make sure we don't try to change the mouse cursor after shutdown

commit 930a6c12fb5e688f855751bc1438c7555e229914
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Feb 1 23:11:26 2012 -0800

    Don't select white space on right click on nothing

commit 1222397e9c27bcc8cbde86c6d89deeaec685c4f3
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Feb 1 22:42:29 2012 -0800

    Fix restoring lion fullscreen windows. Don't update restorable state after window is in dealloc because it's a mess. Set the frame when restoring fullscreen windows to the screen's frame

commit 12ea2a6690d0460562e760503fdf7608bc6ef657
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Feb 1 21:56:41 2012 -0800

    Make all tabs share the same find text

commit 9811da2adec9730f985310a94a32672257b0fdf1
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Feb 1 09:33:02 2012 -0800

    Add support for the screen terminal's way of setting the title (esc k title nl/esc) to better support tmux

commit b5dfb01c566eccf536db0c1fe28ec54e322bcaf3
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Feb 1 09:13:37 2012 -0800

    Fix broadcast input for tmux sessions. Also, don't save tmux windows for lion's resume

commit ab0f3ce54b7c3ed6711b84c090d7c993134e1bcc
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jan 31 22:58:17 2012 -0800

    Fix a bug where ProcessCache getNameOfPid:isForeground: returns null and ToolJobs tries to add it to an array

commit 9512eb3b85fdb4bec032527871a4bf2d63fe7b40
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jan 31 22:52:05 2012 -0800

    Don't use [NSData rangeOfData:options:range:] because it's not supported in 10.5

commit 4d8ccf483c3a3f6026ed25bc1212bcfd0044dac1
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jan 31 22:45:59 2012 -0800

    Make new windows created from the dock, alfred, or most other causes front and key, and activate the app

commit 21684331f2b66f3e32f184eb01fe24478586bd56
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jan 31 22:33:50 2012 -0800

    If no windows are open at startup (and nothing special is configured to happen) just open one. Always open a window in applicationOpenUntitledFile.

commit 194e8d075da3eeb98f17fcdf2997fa12c2516723
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jan 31 22:33:10 2012 -0800

    Fix lion restore

commit b3d1ec9d45c96059e54bf731848a723a785f6703
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jan 31 22:32:27 2012 -0800

    Add Dep target to use when xcode 4 is current

commit 627ef8480db0aaf13233df869c525705d0e6be11
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jan 31 21:29:21 2012 -0800

    Add 'move session to window' context menu item

commit 7dc1104277b2462cc20e627e8769ddeb3983cf0e
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jan 31 21:15:16 2012 -0800

    Initialize session's bookmark name when restoring from arrangement so that it shows the right title (see bug 1754)

commit 6b41a081e0ab86ec140de27fb1d1db15f1326b1a
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jan 31 21:14:53 2012 -0800

    Don't call tmuxBookmark unless there is a tmux sesssion in updateFlexibleViewColors

commit a0ad22c7c75560ffe25d704fa3ec5924195f625a
Merge: 8a3f3ad2 4cc98b7e
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jan 31 20:56:44 2012 -0800

    Merge branch 'master' of github.com:gnachman/iTerm2

commit 8a3f3ad2b122158ec01d758c23aa03d081c2bd12
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jan 31 20:56:04 2012 -0800

    Explicitly set focus on textview after showing hotkey window

commit 4cc98b7e8c74cd6941177afede607c0005ffceac
Merge: 34e896ce 9c025412
Author: gnachman <gnachman+github@gmail.com>
Date:   Tue Jan 31 20:49:12 2012 -0800

    Merge pull request #74 from mdaniel/ptysession-h-case-fix
    
    Use the correct case for PTYSession.h include

commit 34e896ce21bc7c5511248af7b57905c1a9b788b1
Merge: 6b6fae1f 7850ab1a
Author: gnachman <gnachman+github@gmail.com>
Date:   Tue Jan 31 20:48:22 2012 -0800

    Merge pull request #73 from chendo/master
    
    For trouter: expand tildes in \1 expansion

commit 6b6fae1f17570964131762257b5749790c3455d5
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jan 31 20:39:37 2012 -0800

    Define VLNEXT and VDISCARD in the term by default

commit f573f951438af3b2ae012d4ca86470a957b815c0
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jan 31 20:33:01 2012 -0800

    Window IDs from tmux have a @ prefix. No filler window pane id is sent for splitter layout cells

commit e6fbc87817ec188b54e3207f53822420bb112798
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Jan 28 13:43:18 2012 -0800

    Change join-pane -m to move-pane

commit 6c380a3086bd3107689bd76f35bd63c11a70035a
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Jan 27 19:58:10 2012 -0800

    Change window_layout_ex to window_layout

commit 708ee801924c93d35627a688f3f6382f7c68f8dc
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Jan 27 19:51:30 2012 -0800

    Replace list-windows -I windowid with list-windows -t session:windowid

commit 3d6e2e96d1a1c9d7192d90f0ad15824b8b52eca2
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Jan 27 19:51:21 2012 -0800

    Fix bug where dragging a tmux tab into a split opened a bogus window without content.

commit 05fbb9ed5cc9326e5e21f5e09dd4d706d1a14ed4
Merge: 2874b429 a24cd39d
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Jan 27 09:50:00 2012 -0800

    Merge branch 'master' of github.com:gnachman/iTerm2

commit 2874b42981cdba5fc5cda13249221615cdf069fa
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Jan 27 09:41:10 2012 -0800

    Change move-pane to join-pane -m

commit 8650951f35e731b830b7e744e31e01166b410cf4
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Jan 27 09:33:39 2012 -0800

    Use subcommand syntax for control command

commit 2bb082effb274f28eb86d46964e0f5a1f0444032
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Jan 27 09:01:52 2012 -0800

    Don't fit layout to windows if there are outstanding window resizes because we need fitWindowToTabs to be called before testing if the layout is too large.

commit eca576099c38315fe7a67948b344a67fa256bc93
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Jan 27 09:01:38 2012 -0800

    Send CRLF newlines to tmux to be compatible with changes to how tmux's terminal is configured

commit bed3c5ae527e2cbd3de47330e577b51f8452b2e7
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Jan 27 09:01:24 2012 -0800

    Handle dragging a tmux split pane into a tab in an existing window.

commit a24cd39d544d7c3826e925ad52dded3c12aac025
Merge: d718e5ca a5b9ef00
Author: George Nachman <georgen@google.com>
Date:   Wed Jan 25 11:32:47 2012 -0800

    Add option to set tab colors in tab context menu and also in view menu

commit a5b9ef00c115f9bc031fabfd1c2f3c9a1feb0531
Author: Andrea Bonomi <andrea.bonomi@gmail.com>
Date:   Wed Jan 25 15:52:01 2012 +0100

    Colors changed

commit b3828e050e8f577f061a44309b3a937b87cb4e2d
Author: Andrea Bonomi <andrea.bonomi@gmail.com>
Date:   Wed Jan 25 15:20:43 2012 +0100

    Added a button to reset the tab color to default

commit c664b682d706758cb45ae24e2f286b953b71dd59
Author: Andrea Bonomi <andrea.bonomi@gmail.com>
Date:   Wed Jan 25 08:43:23 2012 +0100

    description fix

commit d6556e4e6a8f017767bc309f0b3911c6aed0a0a6
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jan 24 23:41:21 2012 -0800

    Update tmux client size when a tab closes or moves. Also, never fit layout to windows if there are no windows, which caused us to use infinity for the size.

commit 1fb865f3298bedfbec8213aaede48534bebb85e6
Author: Andrea Bonomi <andrea.bonomi@gmail.com>
Date:   Wed Jan 25 08:41:05 2012 +0100

    indentation fix

commit dea7fb2082bfe4d0788b7f2ca5cc773be3fb7b82
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jan 24 23:40:46 2012 -0800

    Update plist files to allow iterm to be the default handler for unix commands

commit d718e5ca80aebacf226a3a90f838c7d0886eae86
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jan 24 23:24:12 2012 -0800

    Add option to make iTerm2 the default terminal for when you double-click on a unix executable

commit 6210ba9ff0233f0288c073df7bfc3f0e47ba0c53
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jan 24 22:54:47 2012 -0800

    Remove beep from maximize

commit 52593f3f1ca11fd80ca62d935fd4f827a86fe999
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jan 24 22:43:39 2012 -0800

    Fix assertion when these things happen in this order in Autocomplete: populateTimer is set, reload is called, more_ becomes false and findResults_ becomes empty, and then the populateTimer fires. Fix it by invalidating the timer when these conditions are met

commit eaa81ba22cad244e6b7bcacaefb6286ffd8003c2
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jan 24 22:00:51 2012 -0800

    Disable maximizing tmux panes because tmux has no equivalent

commit 9c025412c64932b13268e4fe8ddbb14b8d3caa2f
Author: Matthew L Daniel <mdaniel@gmail.com>
Date:   Tue Jan 24 09:47:07 2012 +0100

    Use the correct case for PTYSession.h
    
    Otherwise iTerm2 does not build on a case-sensitive filesystem.

commit 7850ab1a5753770055498fb441b4857854120fde
Author: Jack Chen (chendo) <me@chen.do>
Date:   Tue Jan 24 19:34:13 2012 +1100

    Escape the file path as well when passing to external scripts

commit 1e06661b5e9ddd711e751abf684df703bde00807
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jan 23 23:11:30 2012 -0800

    Mitigate broken tmux layouts where a split has a child split of the same orientation by hoisting the grandchildren up to children and removing the useless intermediate split

commit c0ba707f8cf66c843dde659e8c4feaf71452b84c
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jan 23 22:20:38 2012 -0800

    Handle layouts that are too large for a window (e.g., a fullscreen window). Fixes bug 1719

commit b4e299af96916bf025a1ce6642e8e15a04011801
Merge: d4a05010 2d81d968
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jan 23 20:46:20 2012 -0800

    Merge branch '20120108-bugfix' of github.com:gnachman/iTerm2

commit 2d81d968af425d7324eb38f48ac717f264adc716
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jan 23 19:55:39 2012 -0800

    Fix bug with entering nonascii characters

commit d4aca5912ac5e664cc67d9cab5e7c032b075777a
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jan 23 09:37:26 2012 -0800

    Don't run timers after shutdown is called--crashes when a window is closd or fullscreen toggled

commit 151007800ee993ae43525568b8dda0073a4fd6f1
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jan 23 09:37:05 2012 -0800

    Don't do smart selection context menu actions if the selection is too big because it's very slow (bug 1741)

commit d4a0501068281c84952462786593cc7b66234da8
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Jan 21 18:05:35 2012 -0800

    Change all tmux commands dump-state and set-control-client-attr to control and control -s

commit 633cf01029127391b4acd599349342e33f5e926f
Author: Andrea Bonomi <andrea.bonomi@gmail.com>
Date:   Thu Jan 19 10:12:41 2012 +0100

    Code cleanup

commit 57d58b10d2b068096cf62633b62bea8e0fb3509e
Merge: f955797e f38cd7f6
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Jan 18 23:16:41 2012 -0800

    Merge branch 'master' of github.com:gnachman/iTerm2

commit f955797ee3dac10673981e1fa88e203b943c5f49
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Jan 18 23:16:27 2012 -0800

    Fix bug where VT100Screen would respond to escape codes directly through PTYTask instead of through PTYSession, which bypassed tmux routing

commit 784e215416ea3843a0d59eecf8f62934fc800937
Author: Andrea Bonomi <andrea.bonomi@gmail.com>
Date:   Wed Jan 18 23:41:34 2012 +0100

    Tab colors
    
    Adds colors to the tabs making them easy to distinguish.

commit f38cd7f6623d67a742c6e8da79c800a18ed24e9a
Author: George Nachman <georgen@google.com>
Date:   Tue Jan 17 11:52:01 2012 -0800

    Fix smart selection pointer command to also copy to pasteboard

commit d8c30e75e3ad2766688fdde28c6fa42eb7dbf45f
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jan 16 22:08:53 2012 -0800

    Fix bugs relating to moving the tmux gateway session to another window. Add option to hide tmux gateway upon connecting.

commit 17a82678131172052ef4d0ddb2d4871184792f01
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jan 16 14:55:48 2012 -0800

    Fix bug where reordering tabs causes the moved tab to ignore window resize notifications

commit 85474905ccd2c86ac44b3c9783b9cd304c90e756
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jan 16 14:55:25 2012 -0800

    Add devzip target

commit c499b3e5e449d1f6a7063178c9ed055dbac681a5
Merge: acc6ed0f 6c87a7d1
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jan 16 13:42:41 2012 -0800

    Merge branch 'master' of github.com:gnachman/iTerm2

commit acc6ed0fab9759b0a34d6b4e1491ed911b375fab
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jan 16 13:42:11 2012 -0800

    Add pointer action: smart select ignoring hard newlines

commit 334bda1f73a4fe14849d4e1e5aaea28ff7a968eb
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jan 16 13:21:08 2012 -0800

    Fix bug where right click didn't take if you do it too fast after a double click.

commit 2a8210b17eb50c071b02e147d578b8ce87f381de
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jan 16 10:32:37 2012 -0800

    Fix bug where paste slowly didn't work as a 'select menu item' keybinding. Improve UI for Select Menu Item by giving a popup button instead of a freeform text field.

commit 6c87a7d13363a5ff8e0892e8a332d780efc89f27
Author: George Nachman <georgen@google.com>
Date:   Wed Jan 11 13:17:17 2012 -0800

    Improve find cursor apperance by adding a gradient

commit d64daf562327946be58a2cdefd67fb32290eba88
Merge: ae4203ca b3384be3
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jan 10 21:41:46 2012 -0800

    Merge branch 'master' of github.com:gnachman/iTerm2

commit ae4203ca57120d3b6fa3d8ec4cebcc159f07f891
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jan 10 21:41:35 2012 -0800

    Refactor bookmarks model

commit b3384be30d1c6da464ebae9733522c0a5b5cf876
Author: George Nachman <georgen@google.com>
Date:   Tue Jan 10 12:07:51 2012 -0800

    Fix cursor rect for find window

commit b754dc50eb1c4682267bfce4e1605147028bd8c5
Merge: 5dd50eb5 e28530c1
Author: George Nachman <georgen@google.com>
Date:   Tue Jan 10 11:58:56 2012 -0800

    Merge branch 'master' of https://github.com/JohnSpeno/iTerm2

commit 5dd50eb5e3e72fd8a5c4935b636f834e172a8dda
Author: George Nachman <georgen@google.com>
Date:   Tue Jan 10 11:38:56 2012 -0800

    Change bitwise and to logical and

commit d7faa71dfa9cc71985bf528c5de0559eb89a2cf5
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jan 9 22:00:55 2012 -0800

    Refactor bookmarks window

commit fc20252ff5643616e58801db3b7a76423d1edfbd
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jan 9 21:26:38 2012 -0800

    Remove FindCommandHandler, move its logic into FindViewController.

commit ea80b26acfc04461bed3b573180e0389721edd3e
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jan 8 22:56:53 2012 -0800

    Move header files out of headers/iterm

commit 3e84a85520866166a7be2e5a9a9de31a1eb33d98
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jan 8 22:16:57 2012 -0800

    Remove unused fonts and xcode4.diff

commit 39730334961f30c27dcd6dad6d5d9025cf63f792
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jan 8 22:13:49 2012 -0800

    Remove some old unused stuff from the original iterm

commit 945062f4298d28d067fdb527c4e2fe42fb5d0f0e
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jan 8 22:00:48 2012 -0800

    Change makefile to build development by default

commit 7ac3247a623c7487fda52d09c42628beb3f072df
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jan 8 21:25:02 2012 -0800

    Remove appcasts from github

commit 8196109009ee2aaccc3860995d9d257529d0407a
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jan 8 21:23:53 2012 -0800

    Don't draw bold text as bright when it's color inverted in a cursor

commit 0ce5c0ca4cc235837a7e79bc326d92372fea7983
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jan 8 21:23:19 2012 -0800

    Set deployment compiler to gcc 4.2

commit 74fdeb5b466b75c297fa7caf2a5d91b81c72a002
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jan 8 21:22:40 2012 -0800

    Modify canary.xml when you run canary.sh

commit e042ac8de9a8b810d697a34027554f40ddc3742a
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Jan 7 18:54:03 2012 -0800

    Break canary builds out into a separate update URL. Use make canary to build

commit 481d5c95e04a215cc434251a88d78968eccaa085
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Jan 7 18:01:20 2012 -0800

    Log a message and return when a click in a splitview was not on a divider. Not sure why it would happen but there was an assertion in the field.

commit 04f44b9946df6fd3c4df8831adce1a04647a9317
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Jan 7 17:56:24 2012 -0800

    Fix crash when a trigger highlights the last char on the screen

commit 8829e53d1d0671b22cf5eb481a3a1b530c6c4b3b
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Jan 7 17:13:09 2012 -0800

    Free gateway when a tmux gateway session ends. Don't handle tmux keypresses when EXIT is true. Fix references to the late notifyFullscreenToggled function.

commit 1e5544bc4fe8c2e097e01bf9db23de6485a2860b
Merge: 7f9a487a 18311076
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Jan 7 16:44:49 2012 -0800

    Merge branch 'master' of github.com:gnachman/iTerm2

commit e28530c14a30bacbc8071df49f8e47284e97cbb2
Author: John P. Speno <speno@macspeno.com>
Date:   Fri Jan 6 17:41:29 2012 -0500

    Enable split buttons when a window already exists.

commit eb9dcd89da26a1d53f9f9969650e6cbe483e053c
Author: John P. Speno <speno@macspeno.com>
Date:   Fri Jan 6 17:31:05 2012 -0500

    Split the first window if it exists instead of starting a new window.

commit 7f9a487aa3c707dd8164c5685a3338fca3d159ba
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Jan 6 09:08:14 2012 -0800

    Change tmux messages to use default bg/fg colors

commit dcfc035a02ff576962e1a38fb9157650ee146d22
Author: John P. Speno <speno@macspeno.com>
Date:   Fri Jan 6 11:46:55 2012 -0500

    Always allow horiztonal and vertical splits from Profile window.
    
    This is a fix for Issue 1056. iTerm will allow a split window if multiple bookmarks are selected in the Profile list even if there is no existing terminal.

commit 18311076df77eb33342aa637d3bb93004e7e66c1
Author: George Nachman <georgen@google.com>
Date:   Thu Jan 5 17:44:00 2012 -0800

    Fix bug: when closing the gateway session, also close all tmux window panes. Fix bugs where dragging a tmux tab into a non-tmux window would cause it to resize, put the tmux session in the bottom corner, and other brokenness. Fix bug pointer prefs default actions were not retained. Do not include tmux tabs in saved arrangements: it's silly. Fix a bug where we assumed where we assumed that window IDs in tmuxwindowstable were numbers, but they're strings. Fix path to growl to not be absolute.

commit 2e506c0d467c67484abb26ed16346a467f7c0dfa
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Jan 5 10:59:02 2012 -0800

    Change flexible view to background color when the window is resized if it's not too big.

commit 547a1852a2f624020d2471b58341da067c16f5a6
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Jan 5 09:37:12 2012 -0800

    Fix exiting fullscreen with tmux tabs.

commit 67c1a420294b7d8e69ba82578ecf8a4c8ba76749
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Jan 5 00:01:27 2012 -0800

    Respect line number setting in tmux bookmark

commit 3355ff5b20007092fcbaab38845b4cf03ea96c1b
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Jan 4 10:12:21 2012 -0800

    Save tmux window origins on drag, and don't save it while there are pending window open commands. Don't send the same save window origins command twice in a row.

commit 890023bb7e26f16240fd0b563f13895913e16b8b
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Jan 4 09:48:21 2012 -0800

    Reset bell and scroll position when you press a key in a tmux tab

commit 7f3182931d8e9249e4a13f770074ee765ab11b5f
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Jan 4 09:36:35 2012 -0800

    Notify tmux of window resize when toggling fullscreen toolbelt

commit 26a36a1681f85ddcf07de42790ea7b5a052519dc
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Jan 4 09:31:33 2012 -0800

    Use bookmark size instead of gateway size for initial tmux windows

commit 44bd61a16359c0919f68587b45c191086fa13417
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jan 3 22:51:02 2012 -0800

    Add pending_output to dump-state -e.

commit b75e232e1a200fe3c95c0c121aa0a3079c2182dc
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jan 3 18:33:26 2012 -0800

    Adjust foreground smart cursor threshold up to 0.75. Make cursor thresholds configurable with hidden settings SmartCursorColorFgThreshold and SmartCursorColorBgThreshold. Fix bug where bold version of color was used for smart cursor's foreground although the boldness should apply to its background only (when the view is focused)

commit d59dc7f1eab2e78ca0f47c8d63edbd5bcac89bf7
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jan 3 18:07:01 2012 -0800

    Fix dangling terminalGuid pointer

commit 4f1f4616b52430555fabd4552f34914e9e1e81d2
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jan 2 15:48:38 2012 -0800

    Fix toggling pane title bars in tmux windows.

commit f0d8369ffe717ca534dba5ca5c7886d9fb886a00
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jan 2 13:03:27 2012 -0800

    Gid rid of gray border in tmux fullscreen. Remove scrollbars from tmux fullscreen

commit 0e81d7c8566d74e018fe2255ef573cf4f4e1aefd
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jan 2 13:02:54 2012 -0800

    Fix up zip target in makefile

commit faf4349afd216e1625cf8d4fa4014b65a839504a
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jan 2 11:56:07 2012 -0800

    Fix bug where the 'home dir' setting for an advanced directory option never ran login, but your shell instead.

commit ec0879b56ac9ef2125f4587b395cb9b88fd01d21
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jan 1 16:12:38 2012 -0800

    Add hide-after-opening option to window prefs.

commit 5e87741e60045515ba016576b98e2b602252d99f
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jan 1 14:00:27 2012 -0800

    Send client size upon connecting based on tmux bookmark's configured size. Fix bug where the registered tab in the tmux controller wasn't updated when a tmux tab was dragged into a different window.

commit b0a6289bc00835e1356b626b76f6ffba4a4c8097
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jan 1 13:25:28 2012 -0800

    unblock SIGPIPE before calling exec (sigprocmask was needed, not just signal).

commit 68cd34aa5655ff14d3a77e5136e2d05f4bd4f133
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jan 1 13:06:23 2012 -0800

    Remember which non-tmux window a tab with a tmux window was in.

commit 107d123185a69c6d0378cb3e802ecb262364f22c
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Dec 31 17:17:55 2011 -0800

    Detect unsupported tmux versions. Print an error and write detach.

commit 9201ec13bec71fa9c945235f8700f73a2592eebd
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Dec 31 14:16:52 2011 -0800

    Add tmux prefs to general prefs pane: open initial unknown windows in windows/tabs, and open dashboard if there are more than N windows.

commit af39c277167dcd14e978364b3a60f96a5b152fdb
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Dec 30 15:13:42 2011 -0800

    Make coprocess dialog a combo box that remembers last 20 commands. Add key action for running a coprocess.

commit 24375c7b6cbf3a8e913c1437aef07e3702a9ca8f
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Dec 30 14:48:46 2011 -0800

    Get rid of linen background for tmux windows. Fix bug where a tmux split pane would show more than it ought to if there was extra space. Now, instead show the window's bg color in that space. Make session views not autoresize their subviews in TmuxMode so that a scrollview can be smaller than its container, allowing it to be the size that tmux dictates.

commit 87fa9e85c4ad9e309566ed51e1f9b04f0a5d37d8
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Dec 30 10:24:41 2011 -0800

    Fix various dimming bugs (bug 1664). Now if any session that's broadcasting input is active all sessions broadcasting input are undimmed.

commit 9ca5132c7946aa9368a77013d4b783cd085773ad
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Dec 30 09:43:05 2011 -0800

    The CGSSetWindowBackgroundBlurRadius seems to cause the window server to crash on 10.6 so only use it on 10.7 and up

commit 10f0e0a8a10b0f9ef5820aab40e83bf853553964
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Dec 29 23:24:24 2011 -0800

    Call wrapper.tool.shutdown when toolbelt view shuts down.

commit eaefcb93984964de12ce6ec1fc372a38788cd9a1
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Dec 29 22:59:26 2011 -0800

    Change cmd-opt-R to cmd-0, which doesn't change session size, and move Restore Window item to View menu and make it Make Text Normal Size. Also change titles of cmd-+ and cmd-- to Make Text Bigger/Smaller. Add an alternate item, cmd-opt-0, to also restore size.

commit 0b37c808f8e6c588b15091881f105c34ba3334dc
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Dec 29 22:33:58 2011 -0800

    Remove most disallowed stuff between fork and exec. Continue to do setenv and chdir, but lots of other code does the same (ksh, tmux) so I don't think it's a problem.

commit 17ec34b0b7b473b29aaa7e90bec789917440b710
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Dec 29 20:11:38 2011 -0800

    Resize lion fullscreen correctly when screen parameters change

commit 1f25bd807e37b8259037c20d2ac8b40f579322e6
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Dec 29 19:50:08 2011 -0800

    Keep the close button visible on the last toolbar item but make it hide the toolbar

commit 7bf117bd96ccb98353cc0bdda578090251303de5
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Dec 29 15:58:40 2011 -0800

    Fix mouse cursor craziness. Don't use cursor rects. Instead use the scrollbar's document-cursor

commit 0ab27192399a86525f3572f206aa6626bf94131a
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Dec 29 14:25:14 2011 -0800

    Add blend option to allow variable blending of default bg color over background image (it used to use the transparency value when transparency was disabled, which if 0 would make lion fullscreen not have a bg image at all)

commit a1f3235eb9d9610550d27ae9a9a3f7086b86b7c2
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Dec 28 23:23:53 2011 -0500

    Expand tildes in custom prefs folder

commit d26269be7ff6fde3e9bfc4436a6667d59d1a31b0
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Dec 28 23:00:57 2011 -0500

    only set LC_CTYPE if the encoding is supported by setlocale

commit 8b7edb12437a560ec0f3c42120efdb43ab159371
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Dec 28 22:50:43 2011 -0500

    Remove double linking of growl

commit 4e4ddb87328fc455fb8cd9fe7babede527c09c89
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Dec 28 22:49:41 2011 -0500

    Remove visor logging

commit 98613382f40f79a833a614c6955c4bc762bbdac1
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Dec 28 21:36:37 2011 -0500

    Track hidden windows with hidden<sessionid> key. Don't open them by default. If any windows are hidden, open the dashboard on initial attachement to the session. Save window origins in origins<sessionid>. Update windows table in dashboard when windows are opened. Allow dashboard to be closed with cmd-w. Improve aesthetics of dashboard.

commit 8cc80d5d13d6b795a317085d1d55001152c7da50
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Dec 28 21:33:28 2011 -0500

    Add dev target to makefile. Remove duplciate run target.

commit ba3db55770be050bc1b649a74853aa4acfedb2ce
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Dec 28 19:04:37 2011 -0500

    Add EquivalenceClassSet. Simplify how tmux affinity works by using an equivalence class. Make window affinities go by window id instead of pane id. Add some rules to the makefile to facilitate avoiding xcode. Add session ID and expect it in %session-changed. Save window affinities when a tab is added or removed. Preserve affinities when attaching to a new session. Fix a bug where dragging a tab to make a split didn't work (safety valve triggered improperly).

commit d566049cab8ae941b1f589729d9292919ee530ca
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Dec 27 22:47:19 2011 -0500

    Change hidden windows in tmux dashboard to gray

commit fea60c39d15f69b335d2a600ff4691adb03dbd7e
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Dec 27 22:33:05 2011 -0500

    Update tmux dashboard on session-changed message. Link windows to sessions on drag. Hook up close button in tmux dashboard. Fix tmux dashboard's detach button.

commit 094e6c0f20dff199194844d8f6b7c4f4e1211d6e
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Dec 27 22:28:10 2011 -0500

    Defend against corrupt arrangement

commit cbd91ebf7b29fb11bfce6ed02d9ebb8f8a6af0ba
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Dec 27 00:04:04 2011 -0500

    Fix renaming windows bugs.

commit e6c8f1d3ea226c96a9ac096ba8b5df0aa40cc164
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Dec 26 23:53:35 2011 -0500

    Support window rename notifications. Mobe dashboard ownership to  a new registry class. Publish notifications when windows are renamed, opened, or closed. Fix opening/unlinking windows in other sessions. Make the windows table in the tmux dashboard work. Show attached session with checkmark. Fix up highlighting status of various buttons in tmux dashboard.

commit d3cb7d006ba73bed25764ae6bd19972d9fec2dc3
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Dec 25 15:07:04 2011 -0500

    Add tmux dashboard. Add support for switching tmux sessions. Add support for new tmux messages: unlinked-window-add, unlinked-window-close, session-changed, session-renamed, sessions-changed. Support tmux protocol 0.2.

commit 604007a6af96afcc72a27c92d0add1d36f123628
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Dec 19 22:37:43 2011 -0800

    Add 386 and ppc back to deployment

commit 04b8ebf6e1fb24b042754f87a19c1536c0c3da54
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Dec 19 21:50:31 2011 -0800

    Use set-control-client-attr ready instead of start-control. Use dump-state for history. Remove -C arg from list-windows and use -F format instead

commit 3aab4e859e4afbffc8bb273170b8643e9cb2cf0b
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Dec 18 17:51:16 2011 -0800

    Add three finger emulates middle checkbox as condition for enabling touch tracking

commit f96e3a0d821f46b1b783f8114fca6a8aea9e287a
Merge: dc707373 3ced0678
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Dec 18 17:39:13 2011 -0800

    Merge branch 'tmux'

commit 3ced06783af667943851b6d02874d2f4f7dd7904
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Dec 18 17:04:17 2011 -0800

    Don't accept touch events if they're not needed

commit d8141ee79723935a7cafcb1147504c67965f2ea9
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Dec 18 17:04:09 2011 -0800

    Remove tmux logging

commit 7db23554e1bde06232c89ccf0b71ba56846beaca
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Dec 18 14:45:24 2011 -0800

    Fix how the detach menu item works to use the existing gateway detach method. Keep gateway from writing after %exit. Notify controller of window size after creating a window in case it couldn't be created full-size.

commit e00c18d7faa40babd892d3cb12c0f85306965a8e
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Dec 18 14:33:02 2011 -0800

    Fix tmux detach menu command. Change tmux shortcuts to cmd-shift-ctrl

commit 57456273fa4e82b4c2023e5c798b92aa9f815e98
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Dec 18 14:18:11 2011 -0800

    Fix TmuxHistoryParser's utf-8 support. Add run-length encoding to it.

commit d9a1e5fd2a696e0fec356c3d1dbe110dd6400b31
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Dec 18 01:05:49 2011 -0800

    Synchronize fonts in tmux sessions. Fix bogus return value in fitSessionToCurrentViewSize. Add a tmux bookmark the first time you use the feature and keep the font in it current. Fix bug where splitterless parse trees didn't have a de minimis root splitter which caused various calculations to be wrong (e.g. view hierarchies were always replaced, not resized). Exclude gateways from uniqueTmuxControllers. Add refreshTmuxLayoutsAndWIndow to make window fit tmux tabs. Change tmux version to 0.1.

commit 227f6fa0620728db71ed02d822390a5361fb51e7
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Dec 17 16:40:08 2011 -0800

    Notify tmux of window resize after repositioning widgets subsequent to a window resize. Reload tmux layout when scrollbar style changes

commit be01a498a550f088b2f80a3926e7e8555fa87cd2
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Dec 17 16:39:44 2011 -0800

    Restore parse tree whens scrollbar style changes. Don't fitSessionToCurrentViewSize for tmux clients. Fix calculation of session size in addSplitter:toIntervalMap:forHeight:origin:

commit 5a3e6c463a4534106335b707e9c38e51866b9165
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Dec 17 16:39:31 2011 -0800

    Don't write to tmux gateway screen after its session has shut down

commit e62296681775db0491a1b9b2f78992bd1af3402b
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Dec 14 22:05:29 2011 -0800

    When closing a tmux tab or a window with tabs, kill the tmux windows.

commit dc70737336ba658717b3a0e1273c9d36771f54ee
Author: Bernhard Bauer <bauerb@google.com>
Date:   Wed Dec 14 20:28:49 2011 -0800

    Make customized Growl messages clickable.

commit 271f392f890ce14b5693bde5aab3911ceac6ec6e
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Dec 13 23:54:39 2011 -0800

    Fix up first responder after replacing view hierarchy

commit 19aac0f09b4c5f86d33dcf2628465ad6712941b8
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Dec 13 23:49:46 2011 -0800

    Don't allow two tmux sessions at once because things like affinity are ambiguous

commit 0ad632effcb34556b7affe538c7110fcddc8fe05
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Dec 13 23:44:18 2011 -0800

    Abort on layout parser error

commit 7d7655bf69179aab6d225f2cafb58e4bed6a5dbc
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Dec 13 23:32:23 2011 -0800

    Support lion fullscreen in tmux

commit 4021279178ac865dacf66f1db858d16d0949e745
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Dec 13 23:30:32 2011 -0800

    Support traditional fullscreen mode with tmux

commit 67059a5a8a0b41fd7b55798f723120ac810bd233
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Dec 13 23:15:47 2011 -0800

    Close windows when detaching

commit 30605ff2de89b0e86c3bce84f5100e5a3a02df1b
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Dec 13 23:01:56 2011 -0800

    Kill panes when you close them but don't kill windows when you close them

commit 0404ffe8ce48a6e9f39d0844ba68dd8b1755d2f1
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Dec 13 23:01:41 2011 -0800

    Don't tell temux the window resized if nothing happened. Caused an infinite loop of resize-layout change-resize-layoutchange-etc

commit 8ff9feb5da16b646a5ea3d99f503c2473aaaf569
Merge: 67dc0aaa 471a2dc6
Author: George Nachman <georgen@google.com>
Date:   Tue Dec 13 11:53:48 2011 -0800

    Merge branch 'master' of github.com:gnachman/iTerm2

commit 67dc0aaaaa56aaf1a0092e153591824116fc9632
Author: George Nachman <georgen@google.com>
Date:   Tue Dec 13 11:53:23 2011 -0800

    Relax rule for http regex to not require multiple host parts

commit e0309614c4d7dc979de07b098c0b2f82d4dea438
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Dec 13 10:11:50 2011 -0800

    For tmux sessions, restore rows/cols from arrangement instead of containing view size. Gatway won't write commands after sending detach.

commit 5fded44d992128c0f8cd61e400529a9a4c106454
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Dec 13 09:50:52 2011 -0800

    Improve window resizing behavior in IR, including when layouts change nontrivially while in IR. Disable IR-originated resizing in tmux windows

commit 5f197bcb4fbd1f4985afdc0df657399ab69e110b
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Dec 13 09:11:08 2011 -0800

    Disable resizing by IR in tmux windows

commit 02c99b2c2741b009b17adc605d99390906ccfa1a
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Dec 13 08:58:52 2011 -0800

    Handle toggling pane titles in tmux tabs

commit d6f45723e320f62d56db509ce65d04c136130410
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Dec 12 21:07:50 2011 -0800

    Remove tmuxWindow concept from PseudoTerminal. Add support for dragging tmux sessions.

commit 9baee28c02832c5b75dcaf0e0dea3147b3c0b02a
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Dec 11 15:52:08 2011 -0800

    Add New tmux window/tab and detach menu items. Respond to window-add and window-close messages.

commit fac79464d2d8ccb5bcbd28c8e342e579e840e49f
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Dec 11 11:12:57 2011 -0800

    Make splitVertically work with tmux.

commit c619866e1d3688bc2d9cc96d8e98a7f8fd170909
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Dec 11 11:12:43 2011 -0800

    Fix crash when a session ends when there are many split panes. Fix uninitialized vars in _recursiveSetSizesInTmuxParseTree and addSplitter:toIntervalMap:forHeight:origin:

commit ba706bac90500765739b000cafd9ea01341aeef9
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Dec 11 11:11:51 2011 -0800

    Fix bug in parsing tmux layouts with arrays

commit 1dee5148525947fbe4cafec30e6e27d1920605c8
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Dec 10 17:17:41 2011 -0800

    Refactor MySplitView into PTYSplitView. Get window_id from list-windows instead of window_index

commit d8e7d0217239f5fe527e774a5f951a8e6fdcb73c
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Dec 10 00:05:17 2011 -0800

    Set session rows/cols after a nontrivial layout change. Use window pane IDs instead of indices, so remove window params from various places and change command syntax.

commit 6ceec8fc089cae5324df07af389d41e727fa5369
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Dec 9 23:00:15 2011 -0800

    Disable dragging of tmux windows. Remove tmux selection code that didn't work.

commit cafe49a674b08724510f99b0817ea1814e642cbf
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Dec 9 19:20:47 2011 -0800

    Support tmux-set tab title. Show arrow on tmux sessions titles always.

commit bd2349007e30a9bcca290ca24e6f84185909063d
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Dec 9 09:08:29 2011 -0800

    Fix algorithm for computing tmux size of a tab. Add IntervalMap class.

commit 0f8506171e89911a3bc9732f39835b9695ae221d
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Dec 8 20:46:31 2011 -0800

    Make resizing panes work with tmux mode

commit b139fdf3fa4f430e75d88c46b1bc1ef5b3da716a
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Dec 8 09:06:33 2011 -0800

    Fix resizing and adding/removing panes. Move SolidColorView into its own file. Fix resizing tmux windows (both live resizes and tmux-driven resizes) by interposing a SolidColorView above the root_ int PTYTab only for tmux windows that displays a linen background. Add response handler for set-control-client-attr client-size. Add support to WindowOpener for sending commands when an updated layout includes added panes.

commit 6fd3c8070a6d9cc2b22cb00c57494df622d08bbb
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Dec 4 14:44:05 2011 -0800

    Add support for layout changes from tmux that remove a pane

commit af24a3e754e59ac7e4260ca55cb378d5605a5762
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Dec 4 09:24:32 2011 -0800

    Add dev menu and commands for tmux mode

commit 841c98cb997ba113f5ba7501c3abc55d2ebbf628
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Dec 4 07:05:39 2011 -0800

    Remove unneeded window size from %layout-change tmux spont message

commit d4f6f95526ec3f952862213b7aebe866aa73398b
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Dec 4 06:56:40 2011 -0800

    Remove check for tmux resize in splitView:resizeSubviewWithOldSize: to avoid a warning. Doesn't seem to hurt.

commit 24d1d709127c99a8647a686ee1d183f143d56ede
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Dec 4 06:41:12 2011 -0800

    Add support for resizing windows and panes via %layout-changed. Move tmuxWindow number into PTYTab from PseudoTerminal. Support parse trees without history or state for the purpose of resizing. Update gateway to parse new syntax for %layout-change. Change TmuxGateway to forgive stray linefeeds after newlines. Fix bug in layout parser that it didn't properly match parent layout cells, and would also computed nextItemOffset wrong.

commit 93186769837c5a954689a85ffa0b7b7fe33d1841
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Dec 3 14:10:55 2011 -0200

    Send command to resize tmux window when an iterm2 window is resized by the user. Fix tmuxcontroller for the case where we close multiple panes in a tab. Detach properly on a protocol error. Handle %error command. Fix k[HV]SplitLayoutNode to correspond with iTerm2's definition of horizontal and vertical. Fix some bugs in TmuxLayoutParser when there are child panes.

commit cd5872684e976dd0665359422daf89a368d2f5aa
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Nov 30 20:12:07 2011 -0200

    Get state from tmux and save in screen, textview. Use command lists in TmuxWindowOpener to avoid race conditions while doing round trips. Add TmuxStateParser.

commit b79f3fb2653eb0a038bf1db4f7552fcd121d0056
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Nov 30 09:36:55 2011 -0200

    Add support for getting alternate screen contents from tmux. Refactor parsing dump-history output into TmuxHistoryParser.

commit cde7ef7712c7dcd99cdcc186ec5bc6087fc7be00
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Nov 29 20:58:21 2011 -0200

    Add restore from history using the dump-history tmux command. Direct keyboard input properly for tmux clients and gateway. Allow esc in gateway to detach. Handle disconnects properly. Refactor how tmux window opening is performed to use TmuxWindowOpener. Don't save tmux windows for lion save/restore. Improve logging in TmuxGateway. Handle empty response lines correctly in TmuxGateway. Implement sending send-keys command for writing to tmux client. Refactor restoreScreenFromScrollback in VT100Screen.

commit 375c4d7344631b4a2f9f1fb7cecdecd4ef63cec9
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Nov 28 22:56:41 2011 -0200

    Don't run a command in tmux PTYSessions. Set tmux session titles. Set the first session in a tmux window as active (not right, but the best we can do at the moment). Fit window size to tab size for tmux tabs. Change %output to use hex-encoded data (terminal driver was converting \n to \r\n, which confounded the count). Fix various bugs in TmuxGateway.

commit c22b5dc928204a0293cd1c52457d23421bb93c26
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Nov 28 16:31:00 2011 -0200

    Add TmuxGateway, a module that communicates the tmux protocol. Add TmuxController, a module that coordinates high-level administration of a tmux connection. Add support for Tmux escape code in VT100Terminal. Modify PTYSession to switch into gateway mode when the tmux escape code is received. Add code for reconstructing a window and split panes from a tmux layout. Add code to parse layout strings from tmux's new list-windows -C command. Add TSVParser to simplify tab-separated value documents.

commit 471a2dc63d25008927723cebb8d29091346ad0f7
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Nov 24 22:52:15 2011 -0200

    Make URL chars configurable with hidden var URLCharacterSet for bug 1597

commit e26a1140a663be0ab95b6602add0195a9a51dbf0
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Nov 24 22:27:58 2011 -0200

    integrate patch from  soul.cake.tuesday.duck to make growl alerts clickable

commit ab50d2231fab96ea644f774261aa97663dcd241c
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Nov 24 21:19:56 2011 -0200

    Reset temporarilyShowingTabs state when exiting lion fullscreen

commit 078031887fd0768e80b2158cb372c986496995fb
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Nov 23 18:27:11 2011 -0200

    Fix typo

commit d03018499e9e6a1bf3599ecb5b852a6e29349aac
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Nov 23 10:13:58 2011 -0800

    Respect dim inactive split panes setting when restoring arrangemnets and broadcasting.

commit 663a019ce85d39258fb26883b7c5a753c833c1e4
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Nov 23 09:35:13 2011 -0800

    Preserve window number when toggling traditional fullscreen

commit f695b91f952cc6dced14dc10e83bcf8b365695d9
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Nov 23 09:31:25 2011 -0800

    Fix bug where move tab to new window command in tab's context menu creates a session with all black

commit 27212b59d2d66abf00b9595d9dae23b51c53d91a
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Nov 23 09:01:30 2011 -0800

    Add blackslash-5 in trouter commands to pass pwd

commit 2c002f6f95f8d95f725240e7cdc31881a5692edc
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Nov 23 08:53:30 2011 -0800

    remove trailing spaces

commit d9b568523b79854a9adddcff2b5285763fde5821
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Nov 23 08:52:55 2011 -0800

    Add ContextMenuActionPrefsController.?, which was forgotten previously

commit ee339eabde6fb044815e1cb6a3ceaeeb99689bdb
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Nov 23 08:52:22 2011 -0800

    Add pointer action to extend selection

commit e4feef2b0978ce0333b355da827cd482e7784058
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Nov 18 17:28:22 2011 -0800

    Add silent coprocess triggers

commit 120b2f839b451f6dad267540bd9cdd987fc20250
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Nov 18 17:15:09 2011 -0800

    Add hidden option to change number of patse history entries: PasteHistoryMaxOptions

commit c2f7956878556d8d2198ea8c934b5026bea7d77a
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Nov 18 17:12:14 2011 -0800

    Make number of autocomplete entries configurable with AutocompleteMaxOptions hidden pref

commit 49827b499d5292efd3faa660b41d9c280995bca1
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Nov 18 17:02:37 2011 -0800

    Tweak wording in context menu dialog. Add double-click on smart selection item to edit actions

commit ca842c156969661faf3911a6cf089becf5fc6116
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Nov 18 16:58:01 2011 -0800

    Fix display of newly highlighted text when opening context menu

commit 59bfa942bfcb3a0a38b3b9aa5a98b97ed1f340da
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Nov 18 16:57:06 2011 -0800

    Add configurable context menu

commit ef59e5745ae1ecf91e2d665d16d47fd43189299f
Author: George Nachman <georgen@google.com>
Date:   Thu Nov 17 15:38:08 2011 -0800

    Add highlight action to triggers.

commit 5a9cb8f18c9893e41d7dc8917234f71724d1bbec
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Nov 14 22:54:39 2011 -0800

    Don't resize window when no monitors are attached

commit 2d37562d0372fd9a56ad2350b4edb33ca685101d
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Nov 14 22:01:00 2011 -0800

    Fix mutate while enumerating bug when opening pointer prefs panel

commit 0961a92c4f270c46432b1f0e08bae7a222c4c6ec
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Nov 14 21:51:25 2011 -0800

    Fix bug where toggling scrollbars in the presence of a horizontal split with titles caused the sessions to shrink every time. Try a new robin hood scheme that rebalances extra/missing pixels in all-leaf-node splits.

commit 2aa4bcbd4caee270037f39b7737e3cad078c8f54
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Nov 14 08:17:46 2011 -0800

    Set base SDK for xcode 3. Fix up warnings

commit 7cc3e7f6e445c7d9b7042e29d9d6392bf5b6bfed
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Nov 13 22:40:21 2011 -0800

    Update find dialog's button to fix warning. Change schemes to have dev and deployment. Deployment only builds with Xcode 3, though!

commit 7e518269870ef062ccf5bac6552a8c7ad783bc1f
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Nov 13 22:27:00 2011 -0800

    Fix remaining warnings (except for MainMenu.xib)

commit 55abe1d97b49727d59d0acc65dcf289d8534a6cb
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Nov 13 21:16:41 2011 -0800

    Remove linker warning about multiple rules to bulid growl

commit 8423443fcedad4f45146805ea44f3c8e64dfb676
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Nov 13 21:15:15 2011 -0800

    Fix various warnings, mostly stemming from change to 10.6 sdk

commit ff4b42a0279e92be27d719f8a326e17bf527fcb9
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Nov 13 12:59:58 2011 -0800

    Add 'New Window (Default Profile)' to dock menu

commit 71b2dfda23a81b1c974e9b0c547a83d70e2d9129
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Nov 13 09:37:23 2011 -0800

    Add description to EventMonitorView

commit dfc7fce7d6abe7843472f0cdd91a45079c815992
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Nov 13 09:36:31 2011 -0800

    Fix up copyright messages

commit 46053aad40479303e989236bc08a171fd2eb5c13
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Nov 12 19:00:04 2011 -0800

    Fix set selection time for selecting whole lines

commit 694ce36b3837fc3084209adb124948ad597f32e3
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Nov 12 18:57:53 2011 -0800

    Make right mouse button configurable.

commit 5cac76b9d099e7df41d13c42ada80dc847af432a
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Nov 12 09:19:34 2011 -0800

    Add option for triple click selects whole line

commit af6e4f3466d45b7d1bc88cff8808c4f715611faa
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Nov 11 10:42:26 2011 -0800

    Fix label of profile field in edit pointer pane

commit 7399ee30224ab4ccc3375273a81d31cfaa65bd68
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Nov 11 10:37:17 2011 -0800

    Fix swipe up and down pointer actions

commit 1145ebab4debc19b0ccb636e04b9c8e575e526a3
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Nov 11 10:13:16 2011 -0800

    Fix autoresizing mask for SessionTitleView's label

commit 810371ef5701a76cd438f2b5760f4398473b9e31
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Nov 10 23:51:30 2011 -0800

    Hook up set defaults button in pointer prefs. Add support for tapping on event monitor

commit 32480280bfeb900def03571d3ce966ecb397a42f
Author: George Nachman <georgen@google.com>
Date:   Thu Nov 10 15:43:30 2011 -0800

    Add new actions. Add support for actions that take arguments.

commit afbb961f46ca7362325ce7a0ac6dbb5ce8ad8a85
Author: George Nachman <georgen@google.com>
Date:   Wed Nov 9 17:05:54 2011 -0800

    Add event monitor, fix some bugs.

commit 2c930a4768983e9e2df3e6b24d4db7effa355899
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Nov 9 09:43:37 2011 -0800

    Scale back scope of pointer configurability. Implement. Remains to test existing refactored features, multibutton mice, three fingers emulates middle click mouse reporting, and each feature as a pointer action.

commit 5ecd146c1411c66bc25a3c86b7db5de42afa3b24
Author: George Nachman <georgen@google.com>
Date:   Tue Nov 8 16:34:42 2011 -0800

    Add pointer controller to textview. Sort by action.

commit 1188aef130af3fdcdb87ef393c393b598b86483c
Author: George Nachman <georgen@google.com>
Date:   Tue Nov 8 11:19:40 2011 -0800

    Make panel work

commit dfc9decfe7ef83a190437135581ef0e05c21671d
Author: George Nachman <georgen@google.com>
Date:   Tue Nov 8 08:56:37 2011 -0800

    Add panel for setting a pointer pref

commit 9ab67c8135961b47ea743aa651b2a4f9abba1de0
Author: George Nachman <georgen@google.com>
Date:   Mon Nov 7 17:04:27 2011 -0800

    Start filling things out for pointer prefs

commit 3d0f9758757c12d1a75fdc8c6b68c22513210017
Author: George Nachman <georgen@google.com>
Date:   Fri Nov 4 16:35:24 2011 -0700

    Add mouse configurability panel and break lots of things.

commit 2e80d874ad593040b444913983895e6f85f3c58c
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Nov 2 23:00:51 2011 -0700

    Fix bug where you can't select-scroll down in fullscreen because mouse coordinates are fractional!

commit d5cec72f27ac45b250d29f3d552ad449ded0d119
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Nov 2 22:48:31 2011 -0700

    Make sure a split pane has the proper dimming setting

commit f29e2665bfd2186c1477c3785aeb6b0b7edd92a6
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Nov 2 21:45:27 2011 -0700

    Remove extraneous log statements

commit 23363965ddb98ed9f090967e087f81fe001c4ba0
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Nov 2 21:43:38 2011 -0700

    Work around NSNumberFormatter bug for scrollback lines field.

commit 1db411bbf424bcc28105de499c26f8ccf88e43fc
Merge: ba527922 f9c833ca
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Nov 2 21:21:05 2011 -0700

    Merge branch 'master' of github.com:gnachman/iTerm2

commit ba527922869d465982cefe35751b4dcc46932797
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Nov 2 21:20:58 2011 -0700

    Change sdk to 10.6

commit f9c833cae827525b3936706dffe75d96b83ae525
Author: George Nachman <georgen@google.com>
Date:   Wed Nov 2 15:33:53 2011 -0700

    Add raw command to semantic history

commit 6b0b60a1a4cdaf98b2cbcfd2ee5cf69364f41cd5
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Nov 1 22:03:21 2011 -0700

    Perorm tail find from the old end of the scrollback buffer on rather than from the point of the initial find on.

commit e93d7624128c23ab09f4c358a11812a9c7b95047
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Oct 31 23:21:40 2011 -0700

    Remove number formatter from scrollback lines - wouldn't allow values greater than 1k on Lion. Introduce abs position to line buffer. Have screen save abs position of search start to do tail searching from.  Only do tail searches in current tab. Only start tail search for the modified session.

commit 6f90adcc44c09fd5ba43bb68d53098bd518f9c00
Merge: 694f4806 f37ebb5a
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Oct 31 21:21:05 2011 -0700

    Merge branch 'tail_find' of github.com:gnachman/iTerm2 into tail_find

commit 694f48064c3a0c5766264e67b9d7bacad8314ef3
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Oct 31 21:03:27 2011 -0700

    Show all tabs in window->select tab.

commit 5dd280f3c825cb0ef1fbb9c25122560d2680c94b
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Oct 31 20:55:55 2011 -0700

    Add option to always copy custom folder prefs

commit bb591945973c7977237cb91706ac2fabde00e8ee
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Oct 31 20:09:50 2011 -0700

    Keep hotkey window from being Lion-restored

commit 474cd19a972cea6a0d34f552a8a7ecaec514f3f9
Author: George Nachman <georgen@google.com>
Date:   Mon Oct 31 15:51:42 2011 -0700

    Ignore sigpipe which coprocesses may generate

commit fe72b326431b546fc3c02c10811541dbffde3fd3
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Oct 27 22:00:13 2011 -0700

    Fix toolbelt support in lion fullscreen

commit 01faec18b0e27889780dff66032d6bd479e3ad85
Merge: 8960f510 4e8ad88a
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Oct 27 21:18:37 2011 -0700

    Merge branch 'master' of github.com:gnachman/iTerm2

commit 8960f510e9a423f27df4645eaaec86a143977c44
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Oct 27 21:18:21 2011 -0700

    appcasts for 2011/10/20

commit 4e8ad88a3361ef87167a8ca2fb1a4ee7f209af4a
Author: George Nachman <georgen@google.com>
Date:   Wed Oct 26 14:50:02 2011 -0700

    Call clearTriggerLine on CR

commit 5a688d708580f3f2be1b1d82298531d854c07f33
Merge: f2040c26 20ab2caf
Author: George Nachman <georgen@google.com>
Date:   Wed Oct 26 14:47:21 2011 -0700

    Merge branch 'master' of github.com:gnachman/iTerm2

commit f2040c260efa1488a313cad0c1876a38ca592bb4
Author: George Nachman <georgen@google.com>
Date:   Wed Oct 26 13:44:09 2011 -0700

    Add | to legal URL chars for bug 1489

commit 10ff6bbee65357c7ac37e831fdc8591128c41f3d
Author: George Nachman <georgen@google.com>
Date:   Wed Oct 26 13:43:36 2011 -0700

    Fix bugs that happen on oses before 10.7

commit 20ab2caf447ac685632f795347489ac9f32f4b0b
Merge: 34bf9b45 b348bcd2
Author: gnachman <gnachman+github@gmail.com>
Date:   Wed Oct 26 12:49:55 2011 -0700

    Merge pull request #67 from 0xae/master
    
    Fixed an issue displaying two screens of different size in the arrangement preference pane.

commit b348bcd2a8005f4e643edcc0cebf264134466f5a
Author: Alex Ernst <ae@softcrumbs.com>
Date:   Wed Oct 26 12:55:48 2011 +0200

    Fixed an issue displaying two screens of different size in the arrangement preference pane.

commit f37ebb5a089a4353ebaf486148d5280fecc78134
Author: George Nachman <georgen@google.com>
Date:   Tue Oct 25 15:07:58 2011 -0700

    Implement tail find

commit 34bf9b45b240895b5ec0a62e8216c6d042140720
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Oct 24 22:56:06 2011 -0700

    Don't do Lion restore if open window arrangement at startup is on

commit e90012c5cf8a6a0be60427dfe84977f02cffc636
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Oct 24 22:49:28 2011 -0700

    Preserve term frame when doing restore.

commit 0cea5bfb9a8857497080d9f843180ed47619e95f
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Oct 24 22:49:10 2011 -0700

    Make all growl notifications on by default

commit c4c668da9e6ceb3449b74951a4340fbce4676a17
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Oct 24 22:10:30 2011 -0700

    Fix up missing files, move to 10.6 SDK

commit 29789408ac8a08e6735a93bb13aea47aff847570
Merge: 2f6f0cfe 659943aa
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Oct 24 21:22:44 2011 -0700

    Merge branch 'lion_restore' of github.com:gnachman/iTerm2 into lion_restore

commit 2f6f0cfed273fc81b0e7f4521404a0e37540bd66
Merge: 4f33cd70 37a729ef
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Oct 24 21:19:00 2011 -0700

    Merge

commit 4f33cd700b1c9f2003089df04655de72045f631e
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Oct 24 21:17:41 2011 -0700

    20111020

commit 659943aa64f02e586fd551c3158056640cb1add2
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Oct 23 22:36:29 2011 -0700

    Initial attempt at lion restore functionality. Also upgrade sdk to 10.7 and fix a bunch of warnings.

commit 37a729ef65c45476a8ba932030eb148b4f908e2f
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Oct 22 13:10:18 2011 -0700

    Add support for dragging panes by their title bar

commit d10f6026f0ed92ced1c7934ed555ca4d40c9f6b8
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Oct 22 12:40:42 2011 -0700

    Add preference to toggle split pane title bars

commit c72d84c6d2898c532ad521df82f206fc6eac3276
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Oct 22 11:54:57 2011 -0700

    Dim pane titles along with textview

commit 0b321e0af9f52e965ea8d31a0e21f8cc3398b8ec
Merge: 56ad4d86 013f2532
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Oct 22 11:35:44 2011 -0700

    Merge branch 'master' of github.com:gnachman/iTerm2

commit 013f253233ea1eae83eaaa6e166d2c2a982552c1
Author: George Nachman <georgen@google.com>
Date:   Fri Oct 21 18:52:11 2011 -0700

    Add terminator-style titles to split panes (currently not optional)

commit 56ad4d862fd6670a5ca218941709a7461aafed79
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Oct 20 23:46:36 2011 -0700

    Remove hardcoded version in release.sh

commit 81fa1e0859e869ea5b966963988369881973fb4c
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Oct 20 23:26:08 2011 -0700

    Re-add sparkle to copy files phase

commit 2295c1117a7f51b7b4517ef3b7b7b2fbe41e0921
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Oct 20 23:11:15 2011 -0700

    Add files missing from last checkin

commit fd541749b1d3af9598e28bd42ab9441354c958f9
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Oct 20 23:10:45 2011 -0700

    Try to go to Growl 1.2.2 SDK

commit ee4a40d5ed7390d5d8e9e7950ddff918d269a548
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Oct 20 21:45:24 2011 -0700

    Add pref for setting local vars

commit 00261f7a1d2aa0aa917aed027e9e63b8d6ee4756
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Oct 20 19:45:36 2011 -0700

    Replace tracking rects with trackign areas to hope to fix bugs 1051 and 1530.

commit 310beb1eda707e88603c1100bd3a1ce3bfffcab5
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Oct 20 19:45:12 2011 -0700

    Fix memory leak of last update time

commit 10aec0bc01744845b0d452a885c2c6a383916d96
Author: George Nachman <georgen@google.com>
Date:   Thu Oct 20 17:04:30 2011 -0700

    Add 'advanced' setting to profile's directory. Fix bogus NSLog statement in NSBitmapImageRep+CoreImage.m.

commit b2f1be72f02a00a233436c019be0d3f420357807
Author: George Nachman <georgen@google.com>
Date:   Wed Oct 19 15:30:49 2011 -0700

    Rename Send Input To... to Broadcast Input. Add Use Background Pattern Indicator menu toggle. Fix bug where dimming with broadcast input would behave inconsistently (by allowing broadcasting sessions to be dimmed).

commit fed421dbd360c4c9573d7ec21f6ed7992c20905b
Author: George Nachman <georgen@google.com>
Date:   Wed Oct 19 11:38:49 2011 -0700

    Add a bit more safety to TextViewWrapper to handle the case where the child is removed.

commit 6bbca88b21880817a0d1d46a0b241f0921c65436
Author: George Nachman <georgen@google.com>
Date:   Wed Oct 19 11:23:16 2011 -0700

    Add sanity check so that TextViewWrapper doesn't treat any subview except a text view as its 'child'

commit 5199ea754bb8da76e3365dc7f4b2563780713493
Author: George Nachman <georgen@google.com>
Date:   Wed Oct 19 11:16:47 2011 -0700

    Fix crash on closing a session where a task is freed before routing coprocess I/O. Retain the task in the I/O loop and make sure it hasn't died before trying to do routing. This means that a task's last output may not make it to the coprocess, though.

commit ec5a100e119805352f5d806dbacb6d8f07112f13
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Oct 17 20:08:52 2011 -0700

    Change how NSAccessibilitySelectedTextAttribute is handled to fix broken 'speak selection on hot key' in Lion as reported in mailing list on 10/3

commit ff26275e86fddc7d06c4632b7dbb4130c6f012af
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Oct 17 19:56:18 2011 -0700

    Resize windows to ideal size when scrollbar changes to preseve session dimensions

commit 05da8b5942b12e7a600c14e311c223cdfe39038c
Merge: 6f0b12e3 eacaba1a
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Oct 16 18:13:20 2011 -0700

    Merge branch 'master' of github.com:gnachman/iTerm2

commit 6f0b12e37f0ec8d600a46c126fd1fa6b0ceea4bd
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Oct 16 18:12:15 2011 -0700

    When duplicating a profile, keep the shortcut on the original

commit eacaba1accdf4c11b7c58e35472464961ce69a59
Author: George Nachman <georgen@google.com>
Date:   Thu Oct 13 11:36:21 2011 -0700

    Fix smart selection and trigger editing for a sessions bookmark

commit 7e875b7391e5c2185803b19d2faed3912f5561b3
Author: George Nachman <georgen@google.com>
Date:   Wed Oct 12 15:27:16 2011 -0700

    Fix 'pate escaping special characters' to include the full range of special characters defined by stringWithEscapedShellCharacters

commit 87ad9cf845f7191ea123b9a0abb0b45dc4e47fc2
Author: George Nachman <georgen@google.com>
Date:   Wed Oct 12 15:17:02 2011 -0700

    Change default global key bindings to cmd-shift-arrows to move tab left/right. Add menu item to move tab left/right. Add key action to move tab left/right. Add moveTabAtIndex:toIndex to PSMTabBarControl.

commit 4e646ba83cacd8afc89c41e78ec6be970b1e5919
Author: George Nachman <georgen@google.com>
Date:   Wed Oct 12 13:29:31 2011 -0700

    Set selection time when dragging to change selection. Make paste selection ignore background tabs

commit e8ac7b3ad804b92a274d1882e86f84335bb7dd14
Author: George Nachman <georgen@google.com>
Date:   Tue Oct 11 15:12:06 2011 -0700

    Remove hardcoded version number

commit e5865f0b47b38524da4c9bcbf199ecf630b976cf
Author: George Nachman <georgen@google.com>
Date:   Tue Oct 11 12:07:32 2011 -0700

    Add support for reporting focus lost/gained (esc[?1004h enables, esc[I is sent by term when focus gained, esc[O when lost, esc[?1004l disables)

commit b7a7900d8e2c8785e761252a577ff0ac761207ec
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Oct 10 23:20:59 2011 -0700

    Don't crash when removing a row while editing it

commit aa32fab02f691694e7417a6820693e20596da627
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Oct 10 23:09:20 2011 -0700

    Add bell support to triggers

commit 2175c0ce8859c822d12e6ef2815bab2a5068968e
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Oct 10 22:42:14 2011 -0700

    Make scrollbars show/hide when exiting/entering lion fullscreen. Also fix bug where tab bar disappeared when exiting lion fullscreen

commit 31ea2b0eab3acd19dfae31c8a16c123f1a79fc92
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Oct 10 22:21:45 2011 -0700

    Make bottom tabs work right with IR in fullscreen

commit c9de7d849894f4aba9e541f84ce8f3eb297f6df7
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Oct 10 22:19:13 2011 -0700

    Make toolbelt behave better in fullscreen

commit c156ef32c5f486b7ed29eb71dbb27a45fc6de449
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Oct 10 21:39:29 2011 -0700

    Fix bug where expose opens on main screen always

commit af273a8895182e2a154d4f48d57d2256d69055f8
Merge: edad5798 3b41a2dd
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Oct 9 21:43:46 2011 -0700

    Merge branch 'master' of github.com:gnachman/iTerm2

commit edad579844fdda32ba6874bc43d431b17848fbaa
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Oct 9 21:43:28 2011 -0700

    Fix crash on no smart selection rules in profile

commit 3b41a2dd230d6ebfffd145afb32c57bc9b450d2d
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Oct 2 14:06:17 2011 -0700

    Fix bug 1490, where the findbar would become the first responder for fullscreen hotkey windows, even when hidden! Also fix a bug where the first time you open a fullscreen hotkey window it immediately closes itself because it was first opened as a normal window and then toggled, but the toggling caused the previous app to  be restored because it looked like the window was closing.

commit ca166db2a3500e7ea16cd61c5e1da729a0e6a8e1
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Oct 2 13:40:45 2011 -0700

    Set autoresizingmask correctly for bottom tabs so fullscreen lion works right. Fixes bug 1479

commit c1833babbd28eed7f1a7b2f9d8804d1bc9be63fa
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Oct 1 16:49:03 2011 -0700

    Add option to log debug info to console for smart selection

commit b306cbd65728e9ca4ab8d186156bc20313970337
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Sep 29 01:42:04 2011 -0700

    Add trouter prefs. Clean up trouter logic. Remove some dead code.

commit a782904370fdcdb235435c3731dbf889d801554b
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Sep 27 00:38:25 2011 -0700

    Move triggers and smart selection editing into sheets

commit a20c811e9856a0427da9fa8dfd8db7338c3d619f
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Sep 26 23:48:08 2011 -0700

    Support more escape chars for trigger params. Refactor smart selection implementation details out of ptytextview and into smartselectioncontroller. Add a notes column to the smart selection tableview. Add placeholders, change truncation in smart selection controller.

commit 25684a2222ca728c602ae8b4c307fa60e59decfb
Merge: a1496da7 a721f6c7
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Sep 26 22:52:14 2011 -0700

    Merge branch 'master' of github.com:gnachman/iTerm2

commit a1496da7e08c5b2d10b689ff0ed269e6b7b563d7
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Sep 26 22:52:08 2011 -0700

    Add configurabile smart selection rules. Add help link for triggers.

commit a721f6c7e586e343c940b22e7b2181531ed04a57
Author: George Nachman <georgen@google.com>
Date:   Mon Sep 26 11:49:55 2011 -0700

    Fix some warnings and an error

commit a8fc827c141e5cfa1a94c61600e558cdc78fbf3c
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Sep 25 22:01:56 2011 -0700

    Add support for editing smart selection regexes

commit e85ce98be8140ceb6173c997a54c60aa807cd8ae
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Sep 24 22:53:43 2011 -0700

    Improve actions menu in triggers. Escape backreferences, newlines properly in trigger params. Add support for advanced tab in bulk copy. Rename advance dto triggers temporarily. Add send text trigger.

commit 6e69be96271db224b5d77be12324108ce157b7a1
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Sep 24 22:26:17 2011 -0700

    Fix cut and undo in notes tool

commit 5cf96effbc76884823246822a336285b36158d3d
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Sep 24 22:03:25 2011 -0700

    Fix bug where you couldn't edit text in the middle of a note without the cursor jumping to the end.

commit b3145b3d44daed8b57e1c0b0101a261ebaf8d79b
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Sep 24 22:01:17 2011 -0700

    Rename vars in coprocess to make more sense. Get rid of NSTask. Only allow one coprocess. Allow it to be stopped. Rename interactivescripttrigger. Make PTYTask route coprocess io and waitpid on coprocess jobs. Show icon when coprocess is rurnning.

commit bf9dc01591c370b34958d35f9c0f5448272b9a28
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Sep 24 17:13:13 2011 -0700

    Rework Coprocess to not use NSTask (kept getting SIGPIPEs for no discernable reason).  Add Run Coprocess to Shell menu. Have PTYTask do routing of coprocess I/O. Rename InteractiveScriptTrigger to CoprocessTrigger. Add visual indicator of coprocess.

commit 9697580462f600c61038342044d9527516c99f19
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Sep 24 13:16:01 2011 -0700

    Add interactive scripts

commit 2c0959bb6df5d34a8b647866b7438d149b095497
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Sep 24 09:17:53 2011 -0700

    Refactor -[PseudoTerminal breakdown:cmdArgs]. Add triggers to sessions. Add calls to perform triggers. Clean up TriggerController to be much more generic. Add various trigger implementations.

commit b6bf17a3435020829a39177727bb022b04961a7f
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Sep 23 19:31:19 2011 -0700

    Clean up triggers code

commit b25407125ef7d709a5786dcdd9fc6bf907caaefc
Author: George Nachman <georgen@google.com>
Date:   Fri Sep 23 18:03:51 2011 -0700

    Add prefs UI for triggers

commit aac987f68a1932d13fb957dfce8e8442f5f21dbf
Author: George Nachman <georgen@google.com>
Date:   Fri Sep 23 10:57:32 2011 -0700

    Fix bug where we almost always selected to the end of the line

commit 5e9da10ee0b5ca0a2ea4b4ca63f05168aa10fa3e
Author: George Nachman <georgen@google.com>
Date:   Thu Sep 22 14:51:11 2011 -0700

    Fix rounding errors in arranging windows horizontally (e.g., width a screen width of 1676 and 3 windows). Also fix behavior on two monitors (keep windows on their own monitors)

commit 5482a3b3d5fa26bd3716df058ba5a06efd376e5b
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Sep 21 23:13:39 2011 -0700

    Tolerate trailing colons for trouter filenames

commit 3ff38314c33b3c31b094474f0b9b9f9cff6eb68c
Merge: fd424029 b08a711a
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Sep 21 23:13:29 2011 -0700

    Merge branch 'master' of github.com:gnachman/iTerm2

commit b08a711a086a2c87f49841a4803f667b3e29a721
Merge: 983fd8f8 a5585f06
Author: gnachman <gnachman+github@gmail.com>
Date:   Wed Sep 21 22:58:09 2011 -0700

    Merge pull request #65 from shabble/notify-icon-pullreq
    
    Add RequestAttention proprietary escape code to master branch.

commit fd42402922c7a990da7182b8c41ed6b4002e427c
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Sep 21 22:48:58 2011 -0700

    Added logging for bug 1466

commit 983fd8f8e07094572798a5f1a14386933c8aa155
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Sep 21 22:05:23 2011 -0700

    Make middle click paste the most recent selection, even if it's from another session

commit a5585f068a7c03ed97061d24d1c409106bce20f3
Author: Tom Feist <shabble@metavore.org>
Date:   Tue Sep 20 15:56:14 2011 +0100

    Added details of dock icon bounce escape sequence to the help file.

commit 3fc87305ca911e55a0072217f9a7a36aaf353423
Author: Tom Feist <shabble@metavore.org>
Date:   Wed Sep 14 03:15:07 2011 +0100

    Rewrote original dock-icon bounce code for custom KVP OSC sequence with param RequestAttention=1

commit b266d8af689ec8ba9d56289d4b69fb12482341b4
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Sep 19 23:17:56 2011 -0700

    Ignore hard newlines when finding URLs on cmd-click

commit 090805cc26dc7b34dddafa6f70cf81797f3740aa
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Sep 19 23:11:21 2011 -0700

    Add readme

commit c8a0b488e5c92ab62348c7e1a76d675562cecbe8
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Sep 19 23:06:49 2011 -0700

    Fix bug where tools would become broken after becoming too short. Add Notes tool. Alphabetize tools. Add NSFileManager+DirectoryLocations.

commit d635e9c2f6e13799488e03f2a704bb008aaf55f2
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Sep 19 21:19:09 2011 -0700

    Change shortcut for open tab with current profile to avoid conflicting with view fullscreen tabs

commit d79360a18c07b0433c0e4ae70f1090d6dd29b3fb
Author: George Nachman <georgen@google.com>
Date:   Mon Sep 19 20:24:56 2011 -0700

    Make toolbelt work in fullscreen mode. Fix bug where a tool title became selected on entering fullscreen.

commit 48587465bc0942933f7d3de959eb15cb654bc8f8
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Sep 18 16:52:02 2011 -0700

    Add open tab with current profile menu item

commit 3ff6da5214d8e3a5b13bd6937f01797d33273683
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Sep 18 16:33:58 2011 -0700

    Set environment var ITERM_PROFILE to name of profile that creates a session

commit 4e1ac468e8e99d08c89cfcbe009b5e7ff3ab3274
Merge: f7c11493 570660fc
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Sep 18 16:25:53 2011 -0700

    Integrate flaub's ctrl-tab for MRU change with various minor fixes and refactorings, plus add bindable action for cycling tabs, and make that the new default global keymap, and remove the old profile keymap for ctrl tab.

commit f7c11493061840de7eb7dd7c53d1386bfb5016f4
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Sep 18 15:23:27 2011 -0700

    Restore previous app when hotkey window closes

commit ce64ea25a2225dc5bf29b28a5dcf48fc242ce2b8
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Sep 18 15:02:05 2011 -0700

    When screen params change, don't update window frame if screen width is 0.

commit c3d523c25cc213da09dc563d73ae3fa164d984bd
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Sep 16 18:45:04 2011 -0700

    Save lion fullscreen in arrangements

commit fc24e3ae8cc09e4796247c6b3640f1faca6b4e11
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Sep 13 21:00:21 2011 -0700

    When a selection is moved past the last char in a line, extend it to the end.

commit 48299b2ab239d3417d969bd247c1e47311d0df9f
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Sep 13 18:02:09 2011 -0700

    Ignore splitview changes that go to 0 width.

commit e3cb1654944d6390d61340c1cd73ad599adf263f
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Sep 8 21:55:13 2011 -0700

    1.0.0.20110909

commit 7cefff56b3679d0e63102a2cb7f58e3a96fa604a
Author: George Nachman <georgen@google.com>
Date:   Thu Sep 8 15:02:26 2011 -0700

    Fix bug where window turns gray when entering IR on monitor other than the first

commit fec4fa8821a8a668a6d045930134a4eb837dde30
Author: George Nachman <georgen@google.com>
Date:   Thu Sep 8 11:38:21 2011 -0700

    Make terminal compatibility preset more like terminal

commit 8ceb32d710b21a20fc21133553f1d5e398726450
Author: George Nachman <georgen@google.com>
Date:   Thu Sep 8 10:54:47 2011 -0700

    Add option to not be reminded about prefs changes

commit 2f5752706d11824edc2f18be9fde0f2e5b84eb06
Merge: aca919f9 7c2960d8
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Sep 8 00:21:36 2011 -0700

    Integrate pull request from Chendo, also refactor getUrl code.

commit aca919f9e0555e4445228c6c794f2df30f5e85a3
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Sep 7 21:51:42 2011 -0700

    1.0.0.2010908b

commit 4b2d0fa76a96d1a43cf1cb402d2f6c6905037844
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Sep 7 21:51:00 2011 -0700

    Don't set the cursor when it's outside the window bounds. Fixes bug 1413.

commit 3c8b6ddcc69b13b2cf0cf1a54f77bd50d5b47d15
Merge: 5b9208fb fbd606ef
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Sep 7 20:42:49 2011 -0700

    Merge branch 'master' of github.com:gnachman/iTerm2

commit fbd606efd940b150809baa9c5fdfbc402a633a90
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Sep 7 20:35:54 2011 -0700

    Make sure tab bar is visible after exiting lion fullscreen. Fixes bug 1423

commit 07f1cf854aff9ada6267448b8e562657c5607fcf
Author: George Nachman <georgen@google.com>
Date:   Wed Sep 7 16:07:50 2011 -0700

    Bring back improperly deleted log line

commit faae2894baa5b58e4cdda52f82ae4f0365ecea94
Merge: 371d8b01 f6d5a7d9
Author: George Nachman <georgen@google.com>
Date:   Wed Sep 7 16:06:37 2011 -0700

    Merge branch 'frank_wtf'

commit f6d5a7d92f0ede536fd77bb7c7d0d57cf3473774
Author: George Nachman <georgen@google.com>
Date:   Wed Sep 7 16:06:20 2011 -0700

    Fix dragging and alt key in Synergy

commit 371d8b0159398c9ce25740e18fc0cc38ff0f64b8
Author: George Nachman <georgen@google.com>
Date:   Wed Sep 7 11:13:56 2011 -0700

    Fix crash when closing a window because some toolbelt tools had a notification that fired after the pseudoterminal dies but after shutdown

commit 5b9208fb7f2390f9ea8c247990f7bdf9c0809854
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Sep 7 01:32:59 2011 -0700

    Fix bug where tool titles were editable

commit a124b1a5b80055bedcc52a948e2b9cb19615f5ab
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Sep 7 00:56:37 2011 -0700

    1.0.0.20110907b

commit 89a6dd19aaa044d47eea8492ec7ee6d7faab2a59
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Sep 7 00:52:08 2011 -0700

    Fix up and down arrows

commit a4a3c3002157dff5db43f2edf14c7cf535536d44
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Sep 7 00:51:50 2011 -0700

    20110907

commit 0e3edbf65abd73c74fcf34959a57e0a16f6e8c87
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Sep 7 00:16:35 2011 -0700

    Remove oberserver from jobs tool to avoid a crash

commit 72404b8b80a8051ae0e207da2cc7fe998b315499
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Sep 7 00:14:27 2011 -0700

    slow down jobs timer when not key window. optimize jobs timer if no changes. fix cursor after reloading a table view in toolbelt.

commit a906350550ac50803c3d5e986dc9f33447e596fe
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Sep 6 23:57:32 2011 -0700

    Undo bogus change to mouse cursor

commit fc2f4268ccd959187d4cf6ab70c5e594b0ea13b7
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Sep 6 23:56:03 2011 -0700

    Remove iterm2 URL registration

commit 731efc2a1892c8a9f3d387669898e36dc32a054f
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Sep 6 23:36:16 2011 -0700

    Cleanup, fix support for legacy runtime.

commit 4dbcf2485408533762a87b230e7c47224c44e256
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Sep 6 23:31:40 2011 -0700

    Clean up BookmarkListView a bit. Add ability to change font size of bookmark list view. Remove useless toolbar delegate. Fixed drawer-related memory leaks. Added clear button to paste history. General cleanup of drawer-related things. Make all tools small-font. Hide tool close button when there's only one. Fix bugs around which views are visible, confusion with user defaults. Add jobs tool.

commit 465defd10a83f39d5e851de1f46d6ebc93d36f74
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Sep 6 15:24:55 2011 -0700

    Remove bad references, add shortcut for toolbelt.

commit 65eceab2e5806335b334308e80469f6f0f12f27a
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Sep 6 15:21:45 2011 -0700

    Improved BookmarkListView interface. Add toolbelt menu item. Add pref to show drawer. Add modifier + click to profiles. Save toolbelt prefs.

commit 402cf0e10e1096bbd0abcd4ebe0b22e5842cd0d5
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Sep 6 15:21:36 2011 -0700

    Improved BookmarkListView interface. Add toolbelt menu item. Add pref to show drawer. Add modifier + click to profiles. Save toolbelt prefs.

commit 7c2960d83e263a4e2043f371ffe2042e58f73148
Author: Jack Chen (chendo) <me@chen.do>
Date:   Wed Sep 7 00:05:08 2011 +1000

    Consider backslashes before setting urlFlag to false

commit f0cc766cbf1aefcae2d3f611656b5a9f74d3e385
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Sep 5 14:31:25 2011 -0700

    Add paste history

commit 5f825496135f9055ce0b60e240659949c6b8f2a6
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Sep 5 13:20:47 2011 -0700

    initial add of drawer

commit 93ff9cd5d5a5a9c33b608cf019b43839a37ae9d2
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Sep 5 03:47:57 2011 -0700

    Add uriToken applescript command at the app level. It returns a token that you use as the token arg to a URI request.

commit 43126b447b1987ddf22463dab161387d5cb25f5b
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Sep 4 19:54:24 2011 -0700

    Add support for iterm2:// URLs. For the host, use newtab (to open a new tab or new window if needed), newwindow (to open a new window always), current (to use the current session), or tryCurrent (to use the current session or open a new window if needed). Pass a profile name in the optional profile query arg. If quiet is passed as a query arg then startup activities will be skipped. If the command query arg is passed, it is written to the term followed by a newline.

commit df946326b68078dba172d06f54182adcd805e0b1
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Sep 4 17:23:52 2011 -0700

    Add proprietary escape code to copy text to the clipboard. To use, send esc]50;CopyToClipboard=X^G followed by text followed by esc]50;EndCopy^G, where X is a clipboard name of ruler, find, font, or general. If not specified, general is used.

commit a16a47f55810262c83ef6bfe6b662e9e752f3574
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Sep 4 17:15:25 2011 -0700

    Fix call to wrong method to determine fulscreenness

commit 71233370a064fa8a159a318aada7734000cc29b9
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Sep 4 16:19:15 2011 -0700

    Add proprietary escape code <esc>]50;SetProfile=X^G where X gives a profile name to switch this session to. If =X is omitted then the default profile is used.

commit 3289b03b09b3c4e99c410ad713f245e7a39b4f34
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Sep 4 16:04:16 2011 -0700

    Add ability to change profile from Get Info

commit bf89ff40cac3b913749821f4aa3275f2366042d9
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Sep 4 14:18:00 2011 -0700

    Re-do prompt-on-close migration. Users who had manually set Always Prmopt will lose that change.

commit ed973c0a0bf5e851fcc15fd87c228f4bb72c812a
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Sep 4 13:46:15 2011 -0700

    Allow opening .itermcolors files from finder to import scheme.

commit e7e0787c22d3b248b3e65d6dd9a3c4851fc323b3
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Sep 4 13:09:25 2011 -0700

    Use xterm-256 for default bookmark in Lion

commit d8a4b0c18fd3c8089d6a2b86d4b2bbfe0c1655e9
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Sep 4 12:55:57 2011 -0700

    Exclude hotkey window from 'cyle through windows' cmd-backtick. Fixes bug 1396

commit 2ec549edda28308033f35c861d61e8f66484f2b6
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Sep 4 12:41:15 2011 -0700

    Change how we decide if a window is in Lion fullscreen (it used to say NO if a new window was created while in fullscreen because that would not cause a toggle). Allow the hotkey window to open in the same space as a lion fullscreen iTerm2 window.

commit e947520f9f811f7d43f0abb12ea3137eaf0e126d
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Sep 4 12:00:06 2011 -0700

    Don't dim background windows in Lion fullscreen. Fixes bug 1398

commit aab00d2825d831c79a15aaa9d1ef357144dc3cb5
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Sep 3 22:43:32 2011 -0700

    Fix misplaced label in prefs->general

commit 72950c7800122ae896cbeb5cd2e923774c89e8ef
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Sep 3 22:33:09 2011 -0700

    Implement bracketed paste mode

commit e7b9f0ab07cc052e00ef22cf855c4e1d0dc04a3d
Merge: 4aa298da d6e0be49
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Sep 3 21:52:00 2011 -0700

    Merge, add save scrollback in alternate screen mode pref

commit 4aa298da3a51259fc2e87b4b5190c0534c53f5e5
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Sep 3 21:01:14 2011 -0700

    Add pref to save lines to scrollback in alternate screen. Fixes bug 1399.

commit d6e0be49bcf40cac146d5f3b8db23ec9cbdc0974
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Aug 30 23:24:43 2011 -0700

    Fix bug 1360: dragging a tab to its own tabbar when there's only one tab makes the window disappear

commit f97636ada07d06e3029d50fbb416fa3f9983caff
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Aug 30 23:07:12 2011 -0700

    Fix bug where hotkey window stays up over mission control.

commit 874b16910ee8b4cf7567a81aa419156ae8b91288
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Aug 30 23:01:06 2011 -0700

    Fix bug where opening a new window while in lion fullscreen mode left a pixel of linen showing

commit 89251dd2f7b54ae635738a22ab3ee8b8b4a3f5f4
Author: George Nachman <georgen@google.com>
Date:   Tue Aug 30 15:34:11 2011 -0700

    Improve support for keyboards that don't have unmodified numbers, like czech, by: 1. accepting either chars without mods or chars when switching tabs/windows with kb, and 2. ignore control key when switching window, as ctrl is necessary to press cmd-opt-number in czech.

commit c12a8628b73a33e1aaa316252bb4df4104214760
Author: George Nachman <georgen@google.com>
Date:   Tue Aug 30 15:11:54 2011 -0700

    Fix bug that prevented flagschanged from being called in PseudoTerminal. Fixes bug 1380.

commit fac12a86184c55da3cc415c31d193314ee82a68d
Author: George Nachman <georgen@google.com>
Date:   Tue Aug 30 14:57:48 2011 -0700

    Change definition of current screen when hiding menu bar to the current window's deepest screen to fix a bug where the menu bar would be hidden when restoring an arrangements when there were no terminals.

commit 9ced5ce617cb19de5636e67e842bfa5b841e4d7b
Author: George Nachman <georgen@google.com>
Date:   Tue Aug 30 14:44:19 2011 -0700

    First pass at debugging Frank's mouse problems

commit 3e4f10f03124e5a7badb984f4395b0dc8279d0d2
Author: George Nachman <georgen@google.com>
Date:   Tue Aug 30 14:30:26 2011 -0700

    Add pref to disable transparency when entering fullscreen

commit 35e6dc47002be456437e6e8c481d0adc75be6c2d
Author: George Nachman <georgen@google.com>
Date:   Tue Aug 30 13:53:42 2011 -0700

    Fix migration of prompt on close. Fixes bug 1385

commit 02b123b5e51f9bd74a3bce61d080478adcd73ed0
Author: George Nachman <georgen@google.com>
Date:   Tue Aug 30 13:29:31 2011 -0700

    Show different i-bar mouse cursor when mouse reporting is on

commit 230c960c30e7bafd8ff9c9b6bb8ec36b744336f9
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Aug 29 22:59:27 2011 -0700

    Reduce the number of places where window width is constrained to the screen's size

commit 64e67965194c4f786deaa622800cd4448dda1e93
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Aug 29 22:38:01 2011 -0700

    Add option to copy trailing newline

commit fc314c8c2b805b5537eb86ba703ad99c0875492a
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Aug 29 22:11:19 2011 -0700

    Fix bug where splitting a tab didn't preserve cwd. Fixes bug 1376

commit bb18f67c57546076b6ef3058b60dc8e50544263f
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Aug 29 22:02:32 2011 -0700

    Add three finger click to emulate middle button

commit 908dacb8fd55aede25427e62902c0777b72ca82d
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Aug 29 20:46:01 2011 -0700

    Fix problems with dimming when moving panes and tabs around

commit f5bcbdaa0c366bf59ad2e562175ff7244cec79b5
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Aug 28 22:57:22 2011 -0700

    1.0.0.20110828

commit ede49fadafd33b241006826f3547ae98d99d519b
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Aug 28 17:58:51 2011 -0700

    Fix order of next responders in prefs > profiles > general

commit 4b1fdd59cf3d9f0013d852d2dbc0cc28b3cbd523
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Aug 28 17:58:14 2011 -0700

    Fix bug where dragged background tabs showed upside down image

commit 5cd730a254db9a38acbebbea2dc78def55cc9d41
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Aug 28 15:30:02 2011 -0700

    Add cmd-= as shortcut for duplicate profile

commit bebc3615e073e792de9b768dc16381241bacebcd
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Aug 28 09:44:48 2011 -0700

    Show proper cursor image for drag, select, cmd-click. Fixes bug 778

commit 8db16da4b362e2fff8fb8874e67105a2e6b12b85
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Aug 28 00:32:45 2011 -0700

    Order front when a pane becomes a drag target

commit 3bc0975ae656e4edf2d89da8f4754575ac5da65b
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Aug 28 00:31:36 2011 -0700

    Support dragging from tab bar into panes (as long as the tab has no splits)

commit 53de9f1b278753b1de8b2da58f2d426b0c9227ee
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Aug 27 22:46:17 2011 -0700

    Enable dragging panes into tab bars. Turn on accepts first mouse for drags.

commit b0b4c0bf32587c3a27c31df06230eb95eedafe44
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Aug 27 17:25:21 2011 -0700

    Implement dragging of sessions into split panes using cmd-opt-shift + drag. Tweak hysteresis threshold of SplitSelectionView and shorten messages

commit 070abf1d0dc416d6d6f6792f86dc2d7a5d4d4a40
Author: George Nachman <georgen@google.com>
Date:   Sat Aug 27 12:51:48 2011 -0700

    Add files missing from last commit

commit 54a3adce5232b1290f1bacf230bc7a7628eaab87
Author: George Nachman <georgen@google.com>
Date:   Fri Aug 26 16:18:53 2011 -0700

    Add ability to move panes

commit 8644e33def6a2a636172f20026ef2d024829d1dc
Author: George Nachman <georgen@google.com>
Date:   Fri Aug 26 12:02:29 2011 -0700

    Prettify close dialog text

commit a25301ec223b409a1595ecc5aa256ff43746f993
Merge: 2a59f5d0 b8c763b6
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Aug 26 10:27:28 2011 -0700

    Merge branch 'close_when_not_running'

commit 2a59f5d00b13f61cbf2121420af9147071c3fdb5
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Aug 26 10:27:12 2011 -0700

    Commit appcasts for 8/21, a bit late

commit b8c763b6d0330fefd7b5c32f249bb848aba922cf
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Aug 26 10:26:27 2011 -0700

    Added pref migration for prompt on close. Added code for jobs tableview. Tweaked prompt on close global prefs. Prmopt on quit logic improved, message improved, that code refactored.

commit bb890dfa13a353e28b68226c2f1262a6682a5fca
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Aug 23 23:53:33 2011 -0700

    Add 'restore arrangemenst' to dock menu

commit 4508bcc39ee6cfcd87c11bd8dfb254e77140b3a3
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Aug 23 22:58:24 2011 -0700

    Try using NSLocale currentLocale if the preferred locale getting algorithm fails.

commit bf41db6d106bc32471e9dabf880899fa6dae9ae4
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Aug 23 22:40:38 2011 -0700

    Change smooth resizing modifier to control to avoid Lion's use of shift and opt

commit 0d1ad09c22e00a25706d3f629d446266e9032109
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Aug 21 23:12:25 2011 -0700

    Initial add. May have broken some profile prefs, bulk copy. Need to implement tableview delegate, plus, minus buttons. Need to remove confirmation button from general prefs. Need to add migration code.

commit c9d45fb6c61ddfc5c96588ed4eb0ce8617650c53
Author: Jack Chen (chendo) <me@chen.do>
Date:   Sun Aug 21 01:08:19 2011 +1000

    Oops, reverting to 10.5 SDK build

commit 5a17ab76a2106cc83a53746e37f049d1e9459cb0
Author: Jack Chen (chendo) <me@chen.do>
Date:   Sun Aug 21 01:02:19 2011 +1000

    Added Sublime Text support

commit 71afe74de8d855674e29e1b87db256c3fd80719b
Author: Jack Chen (chendo) <me@chen.do>
Date:   Sun Aug 21 00:29:13 2011 +1000

    Various style fixes as per comments from gnachman

commit 9ab9252bf90014f3e5a5660e4e3f42f80fbd7ba1
Author: Jack Chen (chendo) <me@chen.do>
Date:   Sat Aug 20 23:57:12 2011 +1000

    Made short urls (google.com etc) work again

commit d8bffabf1a22ffa2c2b005b40ea431820496d1b4
Author: Jack Chen (chendo) <me@chen.do>
Date:   Sat Aug 20 23:16:27 2011 +1000

    Added autoreleases for mutableCopies

commit 185811711c8eb0321eb9a1850ef6b4d4646788ff
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Aug 19 01:24:07 2011 -0700

    Fix memory leak in menu items and in lion overlay scroller drawRect

commit 59cff10dcd4fead76f399b426f2229debc4f82b1
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Aug 19 01:09:11 2011 -0700

    Add pinch to change font size. Fix bug where we think we're still zooming after exiting lion fullscreen which breaks e.g. changing font size. Fixes bug 347

commit c5649ed15b4d990e88ac84f9b337ca6b2bab8ef8
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Aug 19 00:27:46 2011 -0700

    Resize tabs after exiting fullscreen. Show/hide tabbar when exiting/entering fullscreen. Fixes bug 1321.

commit 3964de3726dc47cab349f27c6d7eeb4c1da08c10
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Aug 18 23:58:22 2011 -0700

    Don't save state of showing tabs when they're shown in fullscreen by holding cmd. Fixes bug 1301.

commit 8083623b0e1b340543c221def3adffddd5c1001c
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Aug 18 23:50:25 2011 -0700

    Add SplitPanel.xib

commit 5bda10ad547a11417a2dd7174ef007c30d5eb51d
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Aug 18 22:27:34 2011 -0700

    Respect order of GUIDs when opening multiple profiles from bookmarks window

commit 5795a1f1c65820331452d6e6a62a48e261f95b52
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Aug 18 22:15:25 2011 -0700

    Allow insertions into the beginning of the tabview control

commit 87781b6ce2b30da7bc891c1ad56a36425f3895cc
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Aug 18 21:41:38 2011 -0700

    Add a safetey check to ensure that the current temrinal is never a dangling pointer

commit d557dc0e30b87da8ec181827d61f92dca7487096
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Aug 18 21:35:37 2011 -0700

    Fix bug where fullscreen got a funny colored border after entering or exiting IR

commit e70c00c15d770c6e6157e354ad7286cef501c960
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Aug 18 11:05:15 2011 -0700

    Add modal panel to split vertically/horizontally choosing a profile

commit f304c9db180fc548eff5ac98b66606315f7a279f
Merge: 5a6c0a0f 5cb70178
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Aug 18 09:24:02 2011 -0700

    Add CurrentDir kvp escape code

commit 5a6c0a0fca660026709b41b533a87304ec59b01f
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Aug 17 21:37:48 2011 -0700

    Fix bug where StealFocus wouldn't work on fullscreen windows.

commit 5cb7017813220cad3de62258be0e0ff7adbb2757
Author: Evan Krall <meatmanek@gmail.com>
Date:   Sun Aug 14 01:31:06 2011 -0700

    Add CurrentDir escape code to set the current directory.
    
    Can be set using:
    $ echo -e -n "\033]50;CurrentDir=/Path/To/Directory\007"

commit 0148095e0d1955ff011c342c6c38ff180897ce53
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Aug 16 22:37:04 2011 -0700

    Make maximized pane indicator dotted line much more subtle.

commit 9c7875b4e121835a98ad4caba058c68f91f382f4
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Aug 16 21:52:13 2011 -0700

    Swap Shell and Edit menus

commit 50d61a7826e2c3676e07ac77f37006198501e62f
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Aug 16 10:05:18 2011 -0700

    Fix bug where window arrangements were incompatible with custom prefs dir. Improve wording of initial alert w/ custom prefs. Add alert when quitting when there are custom prefs and you've changed something

commit 8bbb57fd51df6657afca01c1f8ecbbcb4ef1370a
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Aug 16 09:59:40 2011 -0700

    Preserve window sizes when restoring arrangements

commit 410bd915f7393e1373f2a52e84a1ff611d2a6fe7
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Aug 16 09:02:18 2011 -0700

    Add next/previous pane actions

commit 22b08c834b21b2255ad23038536e0262e8e6ebb7
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Aug 16 08:51:45 2011 -0700

    Don't allow splits to create too-small sessions

commit 7c1b570c091734087f261ed4ae9d7eb041dae89b
Merge: 499223e1 47ae1e42
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Aug 16 08:38:00 2011 -0700

    Merge branch 'master' of github.com:gnachman/iTerm2

commit 499223e123acfe0a25a3347d033d32121f49ca0a
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Aug 16 08:37:42 2011 -0700

    cmd-opt-click on url now opens in background

commit 8316cf9c1770e0bf5352f3a25e6321d049c6ff3e
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Aug 16 08:15:06 2011 -0700

    Add esc]50;ClearScrollback^G to erase screen and scrollback buffer.

commit 47ae1e427762825ed47f8595d72471881f768032
Merge: 2b747623 9efcd7aa
Author: gnachman <gnachman+github@gmail.com>
Date:   Mon Aug 15 22:32:35 2011 -0700

    Merge pull request #48 from saurik/master
    
    found a resource leak in PTYTextArea trackingRects.

commit 9efcd7aa0b986b45addf8db4cb113f36c8ff1b60
Author: Jay Freeman (saurik) <saurik@saurik.com>
Date:   Mon Aug 15 18:23:49 2011 -0700

    Remove old trackingRect during viewDidMoveToWindow
    
    With long periods of usage, iTerm2 windows slow down while switching tabs.
    All of this time, apparently, was being spent in _CGSRemoveTrackingArea().
    
    Instrumenting calls to {add,remove}TrackingRect showed unbalanced allocation caused by -[PTYTextView refresh] being called on tabs after they were removed from view.
    This "phantom refresh tracking rect" was then dropped/forgotten when the tab came back into view during viewDidMoveToWindow, which did not verify there was not already a tracking rect.
    While there may actually be a more underlying bug with "phantom refresh", this patch should solve the resource/speed leak by guaranteeing we never allocate an extra tracking rect.

commit 2b747623bc4bb2dad279199f4c279c6c9c97b1cc
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Aug 12 22:57:18 2011 -0700

    Make cmd [ and ] work when maximized

commit c34ddccd0d386e46d393171d28a2d7491bacedf4
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Aug 12 21:10:25 2011 -0700

    Add option to disable session initiated printing.

commit 98051828eaa2d4a0ba52713414db0b3dcad21940
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Aug 12 20:46:51 2011 -0700

    Remove sftp support

commit e68d7095e6c56d9a31e82b27cb90a7d43f3bc11b
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Aug 12 20:35:57 2011 -0700

    Perform a quiet launch if a file is being opened. Fixes bug 1319

commit 7b59f8148eee0beddf2a54ec13176e1c31fdaf48
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Aug 12 20:27:26 2011 -0700

    Actually free the find cursor when you're done with it.

commit 31e6b8308f3850e8ea60322261420c5a731f0516
Merge: 196c0cdc 8b658ef8
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Aug 11 23:08:05 2011 -0700

    Merge branch 'master' of github.com:gnachman/iTerm2

commit 8b658ef84cf784201b9d3502d652c29ae4b6fa29
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Aug 11 22:19:03 2011 -0700

    Change filename of autolog files

commit d5668e3cc38dfd3b7c2564f94d1cbb4f69c51df3
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Aug 11 22:09:23 2011 -0700

    Fix bug where right border wasn't shown with overlay scrollers in lion

commit bb1d8efa60460410c6a94a296f826675a234ce3d
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Aug 11 22:01:32 2011 -0700

    When you create a new window while already in lion fullscreen mode, ignore the zoom-vertically-only setting. Fixes bug 1312.

commit 9d9a460c51fef478ec77bfa896242d4c3c58276a
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Aug 11 21:49:16 2011 -0700

    Make hold-cmd work in lion fullscreen. Fixes bug 1313.

commit a0c95c3999000d5be6b1568adf8b168c3e4698f9
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Aug 11 21:41:49 2011 -0700

    Fix bug where file associations wouldn't work. Fixes bug 1315.

commit 196c0cdc68549d1d4eb42bc5e2e3417700072fa6
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Aug 10 23:41:43 2011 -0700

    Fix bug in release.sh

commit f872a9910df124c99c2486f018012031ae191c1c
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Aug 10 23:41:24 2011 -0700

    1.0.0.20110810

commit 247a06e3114ba139b462970dd81c6a6043fcbcba
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Aug 10 22:48:59 2011 -0700

    Make URL support for loading prefs explicit in ui. Improve error message on failed URL prefs load. Fix URL prefs loading.

commit beb1c871124bbfad15f579fcf40fa385d6467035
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Aug 10 22:46:30 2011 -0700

    Fix bug where tall windows, when restored, might have a session bigger than fits.

commit ec3c3abdfaf4436070103cd3a6fad781b5d5ac6f
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Aug 9 23:47:49 2011 -0700

    Implement poorman's prefs sync

commit 531896a3464c1587e21820ea90328ae24ded38b6
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Aug 9 16:01:09 2011 -0700

    Add base conversion to context menu

commit db2a5627700366cc90ad2ce6dc5687aba4890cd8
Merge: 2f4031b9 c7679b3a
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Aug 9 10:22:40 2011 -0700

    Merge branch 'master' of github.com:gnachman/iTerm2

commit 2f4031b90c914e9a1e12d08bc3e584de69ebc47b
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Aug 9 10:21:49 2011 -0700

    Add session auto logging. Fix bug where itermid would have pane -1 for nested panes.

commit c7679b3a8191e327c6746676df9315aa97c66921
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Aug 8 19:39:19 2011 -0700

    Fix regression where hotkey window would use lion fullscreen

commit 0c66c02cc2c72b55ebc22f171b0425635cc6ce60
Author: George Nachman <georgen@google.com>
Date:   Mon Aug 8 10:54:57 2011 -0700

    Find cursor improvements for multiple screens

commit 5c9c363371e8e0c341d3a4a8d57cd9d81c88e91e
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Aug 8 00:19:43 2011 -0700

    Finish up find cursor code.

commit 5f1a8f171087279bc39fdfe86fa6896b20620615
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Aug 8 00:18:37 2011 -0700

    Graphics cleanup

commit 012ac9774efd31329eed366f36676adb159ff661
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Aug 8 00:18:14 2011 -0700

    Fix an assertion I hit while running BSD game 'rain'

commit 00d1dc226df771399830d3eec7874e4a75ee7c73
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Aug 7 22:27:43 2011 -0700

    Add initial find cursor code

commit c8380331db368e4b91076d4c78cf9ed87da4d0f0
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Aug 7 18:00:56 2011 -0700

    Fix bug where top/bottom of screen windows could go fullscreen, leading to crazytimes. Fixes bug 1265

commit 6b41ad6f0ddb8c8f1f896ef069b343ed5d07264e
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Aug 7 17:57:26 2011 -0700

    Fix bug where white rectangle appears briefly on right side of new tabs in Lion with overlay scrollbars. Fixes bug 1291.

commit 553b618a5ebda0649bf04ec9910596e3bc55dfee
Merge: 2f1e1bdd 4ccc75c8
Author: gnachman <gnachman+github@gmail.com>
Date:   Sun Aug 7 16:27:57 2011 -0700

    Merge pull request #40 from x3ro/FixPseudoTerminalWarnings
    
    Some code hygiene

commit 4ccc75c877bbe928449da1f34d7f27b6d13448aa
Author: Lucas Jenss <lucas@x3ro.de>
Date:   Mon Aug 8 01:00:21 2011 +0200

    Fix compiler warnings and make the code a bit clearer
    
    The warnings are generated because GCC 4.2 didn't know of which type the
    object from the array was, and it guessed that it was some object which
    returns an NSString *, which cannot be cast to PTYTab * without warning.

commit b6bbbfb089af82cc870cb4f999f7092dc16d205b
Author: Lucas Jenß <lucas@x3ro.de>
Date:   Fri Jul 29 02:44:33 2011 +0200

    Correct wrong header comment for
    PseudoTerminal#closeTabContextualMenuAction

commit adfa89fd722cb591b62f0ea25034f2077fa2b513
Author: Lucas Jenß <lucas@x3ro.de>
Date:   Fri Jul 29 01:48:57 2011 +0200

    Fix "comparison always true" warning because of unsigned integer >= 0
    comparison

commit a2dc9db94ab79da48c39626beb46ed33ebe908cd
Author: Lucas Jenß <lucas@x3ro.de>
Date:   Fri Jul 29 01:20:44 2011 +0200

    Add some use-case information to PseudoTerminal#indexOfTab

commit 53e6acc9e1b93cc71ed88d6254d517f256c4fa2f
Author: Lucas Jenß <lucas@x3ro.de>
Date:   Fri Jul 29 00:25:19 2011 +0200

    Override - setDelegate: of PTYTabView with its parameter restricted to
    the correct protocol
    
    Fixes warning when setting the delegate of a PTYTabView to a
    PSMTabBarControl, which correctly implements PTYTabViewDelegateProtocol,
    but the correct override for setDelegate was missing in PTYTabView.

commit 5034205486b27e150a96d4d72db874a4fba25a53
Author: Lucas Jenß <lucas@x3ro.de>
Date:   Fri Jul 29 00:07:52 2011 +0200

    Make PseudoTerminal implement NSWindowDelegate
    
    Fixes a warning when assigning PseudoTerminal as the delegate for [self
    window]; inside
    
    (id)initWithSmartLayout:(BOOL)smartLayout windowType:(int)windowType screen:(int)screenNumber

commit 2f1e1bdd9d0aa0f108334e23c86c56e44cf7daf6
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Aug 7 15:56:54 2011 -0700

    Add misc. files

commit a147e023e0f1beb42dc624002cd563b2b9e41e06
Merge: fc85940d 62d00a8c
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Aug 7 15:46:08 2011 -0700

    Merge branch 'master' of github.com:gnachman/iTerm2

commit fc85940d28d7324cd7d1578ee1f6f049eadfe092
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Aug 7 15:46:00 2011 -0700

    Add missing file.

commit 62d00a8cac2d746887a94faf6642bc7a99c1ace6
Merge: 60888ea0 8c53150a
Author: gnachman <gnachman+github@gmail.com>
Date:   Sun Aug 7 15:45:07 2011 -0700

    Merge pull request #39 from gordolio/master
    
    makeMainWindow is required when the terminal is in another space for steal focus to work

commit 60888ea094dcfab10bd487952ea9fb82637d04d9
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Aug 7 15:35:37 2011 -0700

    Add missing files for multiple arrangements

commit 08591bcd7d2e50b1828e59f7d1f713fde05be623
Merge: 0ec472b0 272186ca
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Aug 7 14:16:42 2011 -0700

    Bugfixes for bottom of screen

commit 0ec472b095820a1503fbb7a63c399f31ec9f10f9
Merge: b64fd730 c5480678
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Aug 7 13:17:35 2011 -0700

    Merge branch 'master' of github.com:gnachman/iTerm2

commit b64fd730ada5432c00c759c5362e54f217c93070
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Aug 7 13:16:55 2011 -0700

    Improve handling of default saved arrangement, change wording in prefs->general.

commit dd55e2d8d00ec373db63c0f17ccc15a746480387
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Aug 7 12:42:51 2011 -0700

    Misc bug fixes for saved arrangements

commit 272186ca4599552de8857b7d803c73a3504cf8d9
Author: Samuel Bichsel <melbic@me.com>
Date:   Sun Aug 7 15:08:34 2011 +0200

    Implemented that the Terminal stays at the bottom when resizing/ creating normal window at the bottom

commit fc7195fb053e26779eaa1698b391de5b1163c823
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Aug 7 00:40:46 2011 -0700

    initial add of multiple saved arrangements

commit 8c53150a9885cfb74c6f226492009323a6226bc6
Author: Gordon Child <gordon@gordonchild.com>
Date:   Sun Aug 7 00:43:53 2011 -0500

    makeMainWindow is required when the terminal is in another space for steal focus to work

commit c548067809b20e9cf87373ff6ca3a3a725634332
Merge: 5417d4b7 a06ee192
Author: gnachman <gnachman+github@gmail.com>
Date:   Sat Aug 6 21:18:45 2011 -0700

    Merge pull request #38 from gordolio/steal_focus_terminal_escape_code
    
    added a StealFocus escape code: ESC]50;StealFocus^G

commit a06ee192f8348287c5981386fe97f7432cc1e901
Author: Gordon Child <gordon@gordonchild.com>
Date:   Sat Aug 6 21:33:43 2011 -0500

    Simplified calls to makeKeyAndOrderFront per request from gnachman

commit 8cc64761034791ed4c3304306f42158f26bdab33
Author: Gordon Child <gordon@gordonchild.com>
Date:   Sat Aug 6 20:45:04 2011 -0500

    added a StealFocus escape code
    
    This is able to be activated using
    echo -e -n "\033]50;StealFocus\007"

commit 5417d4b7e9b1a6c40963b8db4cb6bd1f51fce811
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Aug 6 17:51:14 2011 -0700

    Draw a dotted outline around a maximized session.

commit 94ea3865a94ceb5a41c62201f89b7d318dba3ecd
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Aug 6 11:54:24 2011 -0700

    Change setBroadcastMode to toggle instead of set.

commit e305c16606f05dbfe982ec00bff52b5af41baf4c
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Aug 6 11:40:34 2011 -0700

    Make tab position, tab style, and scrollbar visible changes effective immediatley. Fixes bug 1297

commit 23ce37c6fa36f75a4ae5d02c6e2580536d252160
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Aug 6 11:27:48 2011 -0700

    Check in various release files

commit 93f77e2bf974d044be4090184e67e476ddbb7764
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Aug 6 11:27:35 2011 -0700

    Hide tab bar in FS by default

commit 840e98465b13e68ee9013cc23b7cd505ef565e91
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Aug 4 22:23:43 2011 -0700

    Add option to send text to shell at startup. Fix some warnings.

commit af22c5d8595b2ce74d2f5789f2a919891a7db73c
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Aug 4 21:43:18 2011 -0700

    Add new escape code ESC ]6;1;bg;*;default^G to restore tab color to default

commit 64388daa48d55c23f1e579f56669f68231295ac3
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Aug 4 21:10:11 2011 -0700

    Increase maximum blur

commit 457657b30d21738b3c477f0eb7224a645044dc9b
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Aug 4 20:57:27 2011 -0700

    Add debugging for keydown.

commit 2f6baccd9c95cb19d294ff76a54243b5b7a6171e
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Aug 4 18:46:21 2011 -0700

    Improve send input to all sessions to support toggling individual sessions or senidng to just panes in current tab.

commit 2148ace130432cf1a42efb7521fb12a79a4b462c
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Aug 2 22:05:25 2011 -0700

    Don't dim sessions that are receving keyboard input

commit 8b982b1fd9bc7263f897e18008e2d9ecb9e7f85f
Author: Samuel Bichsel <melbic@me.com>
Date:   Tue Aug 2 13:47:44 2011 +0200

    removing project.pbxproj

commit 80bffdebbf96bcf4fad8c8c590a035e2a68213d8
Author: Samuel Bichsel <melbic@me.com>
Date:   Tue Aug 2 13:46:15 2011 +0200

    trying to remove *.pbxproj

commit 8f349848a13ae10e4703a77f106bba3eff3dd5ea
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Aug 2 01:20:56 2011 -0700

    Remove expensive assert

commit cb8032fb714f1392bdc2fbbb724cdf3f340e5606
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Aug 2 01:20:36 2011 -0700

    Fix bug where restored arrangements don't respsect collection behavior. Fixes bug 1258

commit c35d3d597b6490053721a76b1b8fd6fd00e830f4
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Aug 1 23:29:54 2011 -0700

    Fix bug where window was never totally undimmed.

commit 33b4dcd434a6760b74478a84a0bf76cd245d09b2
Merge: 5247327c 36849ff4
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Aug 1 23:10:01 2011 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 5247327cf7693b30af8fb2af1a80e12748bbee75
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Aug 1 23:09:40 2011 -0700

    Adjust window when scrollbar size changes in Lion.

commit 36849ff417c0a7b5dda70dbb9ef8512113513775
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Aug 1 22:42:59 2011 -0700

    Revert to 1.0 way of computing font sizes.

commit 57bf5f381eafa6e53915658b91d79c1a344b8685
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Aug 1 22:09:33 2011 -0700

    20110731

commit 214ef2005ac83bf26dc76223fbb7e7aae2320915
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Aug 1 22:09:24 2011 -0700

    Improve font size estimator's estimates by erring on the high side of baselines. Consider normal low-hanging chars one at a time instead of all at once. Add performance optimizations (takes about 20ms on my Air).

commit 19668875ff8d20bb573f668cc2e898fd8957bf61
Author: Samuel Bichsel <samuelbichsel@gmail.com>
Date:   Mon Aug 1 18:28:49 2011 +0200

    Excluding all iTerm.xcodeproj/* preferences files

commit 62b8044ee35af5d08e7dffdd139e8b9fcdfa9eab
Author: Samuel Bichsel <samuelbichsel@gmail.com>
Date:   Mon Aug 1 18:06:05 2011 +0200

    Revert 4a8f01e504e50c1c5c3b93090cfad95da088d1b3^..HEAD

commit bfa6d7e6b7899b00169384c83b944cc426b9142e
Author: Samuel Bichsel <samuelbichsel@gmail.com>
Date:   Mon Aug 1 18:03:19 2011 +0200

    added .gitignore to .gitignore

commit 4a8f01e504e50c1c5c3b93090cfad95da088d1b3
Author: Samuel Bichsel <samuelbichsel@gmail.com>
Date:   Mon Aug 1 17:25:46 2011 +0200

    Changed the style issues
    
    The indentations weren't really wrong in my Xcode. I now changed it from
    tab to space, maybe it looks right in your case as well.

commit 0bf09561fa3ebe0eb1cd497638c206c44ac19e12
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jul 31 22:21:39 2011 -0700

    Fx some warnings

commit 8db54999fd2147506fad59dab2afbc7e08e16426
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jul 31 22:19:52 2011 -0700

    Add esc-c to reset terminal.

commit 2478ad21bdc649574e99edb13d580ac543f16bea
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jul 31 22:01:11 2011 -0700

    Try to fix blur code by using a different API.

commit 231680a1921f962e142b04ddf7da4fdb918ebe7a
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jul 31 18:52:21 2011 -0700

    Fix bug where clicking on dock icon doesn't open window. Fixes bug 1247.

commit 5695f1d865d947ab38321b5a90c5f19c4cdb7ec8
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jul 31 18:45:23 2011 -0700

    Adjust threshold for font size estimator to bring Consolas tighter. Fixes bug 1227.

commit 66f055c567e0fb5f218c30d36b8a1815d6b79439
Merge: 33411db1 e47694c1
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jul 31 18:24:09 2011 -0700

    Merge branch 'master' of github.com:gnachman/iTerm2

commit 33411db103ed4c8307bac51d42f417ba1d05fca7
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jul 31 18:23:57 2011 -0700

    Add preference to disable dimming animation. Restore 10.5 sdk setting which got stompd accidentally

commit e47694c115040118411aa5fcf6b6cae0b7aa0b16
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jul 31 18:03:42 2011 -0700

    Fix a small leak

commit 570660fc0ddd508abd90cbe6f9e7a7395eec43c9
Author: Frank Laub <frank.laub@gmail.com>
Date:   Sun Jul 31 17:53:45 2011 -0700

    another indent

commit 2d4a304b97c6f42068d943b1af717a2f4e2f11c9
Merge: d1d3dbc7 ac107502
Author: Frank Laub <frank.laub@gmail.com>
Date:   Sun Jul 31 17:52:39 2011 -0700

    Fixing indent

commit d1d3dbc7ea24bcea309843f1b77ceccea042918c
Author: Frank Laub <frank.laub@gmail.com>
Date:   Sun Jul 31 17:48:50 2011 -0700

    Cosmetics as per review

commit ac107502bfdfe9f31f6a19509b58787b025b3114
Author: Frank Laub <frank.laub@gmail.com>
Date:   Sun Jul 31 17:48:50 2011 -0700

    Cosmetics as per review

commit 89790a10036a1b0a48f8cb2c420e42b06c62df06
Merge: 41305355 08bcf22f
Author: Frank Laub <frank.laub@gmail.com>
Date:   Sun Jul 31 17:19:48 2011 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2 into upstream

commit 97a2d13930eee64c5ae129a6a68cabdb26f961b3
Merge: 9e0c331d 08bcf22f
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 31 17:18:28 2011 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 9e0c331db2ccfae71d323d468e17afce45b77dc1
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 31 17:12:35 2011 -0700

    Use 100% of the screen in Lion fullscreen. Fixes bug 1245.

commit 08bcf22f765f63ad7f40bbc8fa4d20187aa4b457
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jul 31 16:46:17 2011 -0700

    Fix color of tabbar in fullscreen. Fix bug where fullscreen tabbar would go away when you cmd-tab and come back

commit 77a807a2ad07e5d667262385bd0c6826b1b22ced
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 31 15:28:23 2011 -0700

    Fix returning to fullscreen app when pressing hotkey in Lion.

commit a3e0cc629585f3bc40f54c1aec85fc45c981c82b
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jul 31 15:16:38 2011 -0700

    Bring back cmd to show tabs

commit e86016f665e6fa42451861890eedc68a9d1659d6
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jul 31 14:40:38 2011 -0700

    Don't try to lighten legacy scrollbars on Lion. Restore option to hide them.

commit 71398b3cc14dbb119601ec5287c6bb05723741e1
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jul 31 13:56:02 2011 -0700

    Draw red stripes in background when sending input to all sessions.

commit 3ff46e46606db5d261a9cfa054d68c8ad11ad258
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jul 31 13:19:30 2011 -0700

    Fix bug 1207: respect lion fullscreen setting for profiles with window type=fullscreen.

commit 7b56bc7f0c7cd1facfd1fcb5c3e8b9c5458fd1b3
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jul 31 13:05:36 2011 -0700

    Fix bug 1110: do not show tab activity right after resizing the window.

commit ca790f9cc9ebc6be4094760a66f7ed01157874ad
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jul 31 13:05:09 2011 -0700

    Return to 10.5

commit 064e24c4197c4253bb3f5d2945f5a2ba3931d6aa
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jul 31 13:04:57 2011 -0700

    Add canary to appcasts path, as it was accidentally used in a test release

commit f0fb73bc03cf527a04daf2b1e5eee4a3207f2faa
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Jul 28 08:01:32 2011 -0700

    20110727

commit f4bbbd38df991c8e46eee08d6612c2205d382797
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Jul 28 08:01:21 2011 -0700

    Fix testing url

commit 757fbf6aaf65062f9e7919a6f4b8df1f6d23dc26
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Jul 28 08:01:12 2011 -0700

    Fix bug where clicking in another iterm window while visor is opened restored previous app.

commit 8a80a9515cdd9deb6989abffd5bdb74cc622afb0
Author: Samuel Bichsel <samuelbichsel@gmail.com>
Date:   Thu Jul 28 16:06:46 2011 +0200

    Ignored Xcode-User data

commit 08cd058be0a8c8a3ae8fa138ff4fa92f3edfe111
Author: Samuel Bichsel <samuelbichsel@gmail.com>
Date:   Thu Jul 28 16:01:05 2011 +0200

    Added support for hotkey-window at screen bottom

commit 2d9d7f6a9ae504d22e4fe2894bfb57368db8a954
Author: Samuel Bichsel <samuelbichsel@gmail.com>
Date:   Thu Jul 28 15:55:03 2011 +0200

    Added support for hotkey-window at screen bottom

commit ea1b10dd3a0004d1b6d1265e4a60175e0da317b2
Author: Samuel Bichsel <samuelbichsel@gmail.com>
Date:   Thu Jul 28 15:48:48 2011 +0200

    Added support for hotkey-window at screen bottom

commit e733f6fe3bc6ef672e4ee2d164486c33f2cd666f
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 27 22:49:55 2011 -0700

    Fix right border in lion.

commit ec7f6249bd1ecf94cafa551b236b0fd2199c88fb
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 27 22:33:13 2011 -0700

    Undo accidental commit of xcode 4 project file

commit 363f5f8cf4e71791f2bddaa71d123597c8f461e1
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 27 22:31:38 2011 -0700

    Restore original behavior of show/hide

commit 8ea49c8276305b41cf8a54a79eeab4bac1585e55
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 27 22:00:59 2011 -0700

    Disable most window resizing logic during zooming on Lion. Fixes bug 1181.

commit 9c5d04e75217cea2cd5a8b11129b255d4245a4d3
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Jul 27 21:40:51 2011 -0700

    Add pref to hide tab's activity indicator.

commit 59427df876343cf10b2b72bec8cda0da4be97953
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 27 21:10:22 2011 -0700

    Really fix bug where we throw an exception in -PTYScroller drawRect:

commit 3304d54842d11c317c230a10da82e4085c00d211
Merge: a6365328 085f361c
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 27 21:06:33 2011 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit 085f361cfe11896b447c7dc225d320310964e4f9
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Jul 27 08:48:33 2011 -0700

    Put 'hide scrollbar and resize control' at end of options so we don't leave a hole when hiding it in Lion.

commit a6365328485e6620efa1dd6981e9de19a5e8d42d
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 27 08:45:47 2011 -0700

    Hide 'hide scrollbar and resize indicator' pref on Lion because it has no effect.

commit a9b91f1e25840b17fd073bcdc37a1314b31de338
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 27 08:41:34 2011 -0700

    Default tabs to being shown in fullscreen.

commit 1d63c8098f118dc96b0edd465612cb17b05b7f49
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 27 08:41:19 2011 -0700

    Fix hilarious bug where views are flipped upside down when the scrollbar is hidden.

commit 7d311093c0ec527f3af3ab32a397cf3266b62f86
Merge: d96bf6b7 3fdd9527
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 27 08:21:27 2011 -0700

    Merge branch 'master' of https://github.com/gnachman/iTerm2

commit d96bf6b75978512cfdf28115c2f40e6cb9b457fc
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 27 08:20:56 2011 -0700

    Fix hilarious bug in which content is flipped when a 0x0 region is drawn in a scrollbar.

commit 3fdd952705550ec0c3bd32aab6b400031d9f08ae
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jul 26 22:51:37 2011 -0700

    1.0.0.20110726

commit 795b4a4aff3fe14a8f8dee11abdbebe9d74c7f83
Merge: 10feda0c 9848f35e
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jul 26 22:13:23 2011 -0700

    Merge branch 'master' of github.com:gnachman/iTerm2

commit 10feda0c29236f26b9f313706d9640553f69aea4
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jul 26 22:13:05 2011 -0700

    Create a version.txt file at startup. Change magic filename to version.txt.

commit 09e4fd77a83ac8b678e518e862f59e69d4f11fbb
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jul 26 20:48:52 2011 -0700

    Add hidden pref MaxPasteHistoryEntries. Commit fixed template.xml

commit 9848f35eca7fb1b9b94ace7a042e6e7f237fcb0f
Author: George Nachman <georgen@google.com>
Date:   Tue Jul 26 11:31:37 2011 -0700

    Fix bug where ITERM_SESSION_ID would have bogus tab or pane number.

commit 0322d0ff46718b9bfed704bed573e807b6e10e54
Merge: ba7056f5 7ead4bcd
Author: George Nachman <georgen@google.com>
Date:   Tue Jul 26 11:03:36 2011 -0700

    Merge branch 'master' of github.com:gnachman/iTerm2

commit 7d5d067842df815165a2bc065c2af5f577053983
Author: Jack Chen (chendo) <me@chen.do>
Date:   Tue Jul 26 22:34:31 2011 +1000

    Various bug fixes and style changes as per the pull request discussion

commit 7ead4bcd17d96deadf5d57ff7c012314b7b2f872
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jul 25 21:55:17 2011 -0700

    Add ITERM_SESSION_ID environment variable.

commit b18d7476a0cfc40460ce7627a277d95e52a4b9ae
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jul 25 21:25:20 2011 -0700

    Add commandmode so you can launch iTerm2 from applescript without performing start-time actions.

commit 0a009680f560f193f9b5f02e50619cdd8dbee2e1
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jul 25 16:43:27 2011 -0700

    Don't send iterm2 to back when doing show/hide without a hotkey

commit ddba7a9f7304d069653fbcccdc56635fbd89c190
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jul 25 16:40:21 2011 -0700

    Restore previously active app when hiding hotkey window.

commit 00e408a0d63eb7c073f1a4e299bfff9a4a2bfdb1
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jul 25 14:46:37 2011 -0700

    Make blur radius configurable.

commit a1346d794c87975c9bcb3098fb6f0fc2b9e836d9
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jul 25 13:56:24 2011 -0700

    Add UI for adjusting dimming amount.

commit c8a247d83483d4facc43705a4422056910ac9c8b
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jul 25 13:20:32 2011 -0700

    Add option to dim only text/nondefault bg colors.

commit 60a7cbeddef642cbc5925d26d1970a661246e6be
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jul 25 10:43:24 2011 -0700

    Add option to dim background windows.

commit fbf6fe24a8dd196f91b07c5513c86105275b10cc
Author: Jack Chen (chendo) <me@chen.do>
Date:   Tue Jul 26 00:14:34 2011 +1000

    Clicking on /s within a path no longer resolves to the path to the left.

commit eed28619915ff528cc76fcd3f863854349c7f817
Author: Jack Chen (chendo) <me@chen.do>
Date:   Mon Jul 25 20:12:31 2011 +1000

    Updated the semantic_history readme

commit 42f66de879d6734acb0b0acafb6bbc461f63f47f
Author: Jack Chen (chendo) <me@chen.do>
Date:   Mon Jul 25 20:08:03 2011 +1000

    URL encode the path so a valid URL gets created

commit db8863cc7f1ee39d404f6ceb1d3d3f268d9632bc
Author: Jack Chen (chendo) <me@chen.do>
Date:   Mon Jul 25 20:08:00 2011 +1000

    Refactored diff path checking into getFullPath to make spaces work as well

commit f7bbf6a432885bea7385c576927a10d95c5ebe59
Author: Jack Chen (chendo) <me@chen.do>
Date:   Mon Jul 25 20:07:21 2011 +1000

    Replaced some NULLs with nils

commit 1716eea7355495a44fa8ab0b5767c3ac51eb1b8e
Author: Jack Chen (chendo) <me@chen.do>
Date:   Mon Jul 25 19:47:43 2011 +1000

    Removed diff of xcode4.diff from itself.

commit 9dfde022ab07465b5593926d1901b77d19afd749
Author: Jack Chen (chendo) <me@chen.do>
Date:   Mon Jul 25 19:38:58 2011 +1000

    Added a flag to ensure Semantic History's Cmd+Drag only gets checked once per drag

commit da9b9822523053799236a5a13e345486624d0f1c
Author: Jack Chen (chendo) <me@chen.do>
Date:   Mon Jul 25 19:26:37 2011 +1000

    Updated the Xcode4 diff

commit 2e8082fadb16bf817f1927c28f593272daed152d
Author: Jack Chen (chendo) <me@chen.do>
Date:   Mon Jul 25 19:26:01 2011 +1000

    Cmd+Clicking URLs now works again

commit 78eb68839d1bbe4bb8a2ea80c7c400cba2576d87
Merge: cf8e0cbc 192ba402
Author: Jack Chen (chendo) <me@chen.do>
Date:   Mon Jul 25 18:40:53 2011 +1000

    Merge branch 'master' of github.com:gnachman/iTerm2
    
    * 'master' of github.com:gnachman/iTerm2: (21 commits)
      remove UI related to hold-cmd-for-tabs.
      Make dock and menu bar autohide in prelion fullscreen mode.
      Make tabview toggleable in fullscreen.
      fix Exposé display when blur effect is enabled
      release.sh
      Fix bug where startup activities aren't always performed on Lion.
      Improve technical correctness of dropping files. See bug 1176 comment 4 and 5.
      Add <Esc>]50;SetMark^G (inspired by bug 947) to set the mark.
      Remove trailing braces from filenames in trouter. Patch from bug 948.
      Expand tildes in trouter. Patch from bug 948.
      Add diff support to trouter (patch from bug 948)
      Apply patch from bug 1176 to handle pasting file names with strings better.
      Introduce a minimum delay between plays of the bell
      Fix some warnings, make it build for 10.5 sdk again.
      Use lighter scrollbar scolor when background is dark.
      Respect vertical only for zooming. Fix some bugs in previous attempt.
      Disregard 'zoom button maximizes vertically only' button.
      Check all ascii characters when measuring font's baseline to avoid brackets and underscores falling too low.
      Ignore hard newlines after terminating backslash. Apply patch in issue 1078.
      Add spaces back for lion (though it only kinda works).
      ...
    
    Conflicts:
            Trouter.m

commit 192ba402fc00b1aa8f204b24569a7e7509079ae2
Merge: 7e683677 f61b826a
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jul 24 22:10:46 2011 -0700

    Merge branch 'master' of github.com:gnachman/iTerm2

commit 7e683677a1bdb93e647c345980789904a313fb89
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jul 24 22:10:30 2011 -0700

    remove UI related to hold-cmd-for-tabs.

commit f61b826a3ef484539319e94e0cacce18ff397588
Merge: 4b606628 f17dbd57
Author: gnachman <gnachman+github@gmail.com>
Date:   Sun Jul 24 21:56:45 2011 -0700

    Merge pull request #19 from erisdiscord/master
    
    fix Exposé display when blur is enabled (seriously)

commit 4b6066281ff53de6c9abfe8e3e64d3aff91890d8
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jul 24 21:56:13 2011 -0700

    Make dock and menu bar autohide in prelion fullscreen mode.

commit 21e8f5b540b13c623798a82203980c655927d2b2
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jul 24 20:37:25 2011 -0700

    Make tabview toggleable in fullscreen.

commit f17dbd57a05b8bac88667013783e204f3eb25239
Author: Eris <eris.discord@gmail.com>
Date:   Sun Jul 24 23:10:07 2011 -0400

    fix Exposé display when blur effect is enabled
    
    Passing kCGWindowFilterDock (0x3001) to CGSAddWindowFilter worked with my
    Blurminal fork and it works here. It sounds a little sketch, but no more
    sketch than using any other undocumented goodness.

commit 362d6e426225275900358b645221443cfb75055d
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jul 24 12:54:11 2011 -0700

    release.sh

commit 11c08e90b4b88050dc26fd8b062c9e7707ea538c
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 24 12:11:03 2011 -0700

    Fix bug where startup activities aren't always performed on Lion.

commit a75579464dc86f9a80d3bf6c983e0555cb118e5c
Author: George Nachman <gnachman@gmail.com>
Date:   Sun Jul 24 12:09:40 2011 -0700

    Improve technical correctness of dropping files. See bug 1176 comment 4 and 5.

commit cf8e0cbca1cf8086a299a8d0d671dbf58e1b922f
Author: Jack Chen (chendo) <me@chen.do>
Date:   Mon Jul 25 00:12:02 2011 +1000

    Updated the diff check to check for NULL instead

commit 81d4b167298aba201fe09806de34ee3d8978e682
Author: Jason Weathered <jason@jasoncodes.com>
Date:   Mon May 23 22:36:46 2011 +1000

    Strip leading "a/" and "b/" from `diff` paths.

commit 3bd85df89e52862e158f4a5aff7fc4cc07b0adb1
Author: Jason Weathered <jason@jasoncodes.com>
Date:   Sun Jun 12 09:10:12 2011 +1000

    Expand tildes in paths when cmd-clicking on paths.

commit aa277dbe12cc9bee03e56cd52390a0986ac96748
Author: Jason Weathered <jason@jasoncodes.com>
Date:   Sun Jun 12 14:33:09 2011 +1000

    Strip any trailing period or parenthesis from extracted path before parsing.
    
    This fixes cmd-clicking of ActiveSupport deprecation warnings
      "DEPRECATION WARNING: something broke! (called from your_code.rb:1)"

commit 25899072c98862a44998d450fbc06b62750d9f0e
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Jul 23 20:58:56 2011 -0700

    Add <Esc>]50;SetMark^G (inspired by bug 947) to set the mark.

commit 5312913494dcead7e1d98f871e95fea24fc4f4d3
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Jul 23 20:51:15 2011 -0700

    Remove trailing braces from filenames in trouter. Patch from bug 948.

commit 6cbfb2757d5b31271145d065f96a1a30dbec2086
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Jul 23 20:47:41 2011 -0700

    Expand tildes in trouter. Patch from bug 948.

commit 87fee50f3658ddab0ebf639d7a78c5c38a0b4d47
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Jul 23 20:44:42 2011 -0700

    Add diff support to trouter (patch from bug 948)

commit baa4d73feff4bbfb0b8d69c642d46a3b7af4229e
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Jul 23 20:00:47 2011 -0700

    Apply patch from bug 1176 to handle pasting file names with strings better.

commit aad25e8b88552750ec108bde509b6c053a6c0118
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Jul 23 19:50:13 2011 -0700

    Introduce a minimum delay between plays of the bell

commit f17e4adcc6305be42c9035b9da5a6f95d302732b
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Jul 23 18:47:52 2011 -0700

    Fix some warnings, make it build for 10.5 sdk again.

commit a20e416459216d303a881493fff54515edc44074
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jul 23 15:51:40 2011 -0700

    Use lighter scrollbar scolor when background is dark.

commit ebc2c46f32c37842ac5a154967fc42d1ab28a68f
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jul 22 13:47:04 2011 -0700

    Respect vertical only for zooming. Fix some bugs in previous attempt.

commit 6d8f6f743315b4b9dd78251648cb442eddb4c690
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jul 22 13:24:58 2011 -0700

    Disregard 'zoom button maximizes vertically only' button.

commit 8053a60bb51b63ec64e0a44bfed99196063c21f0
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Jul 22 13:15:24 2011 -0700

    Check all ascii characters when measuring font's baseline to avoid brackets and underscores falling too low.

commit 325dee5d244b9379558dc593ea35a68a506683f2
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 21 23:28:34 2011 -0700

    Ignore hard newlines after terminating backslash. Apply patch in issue 1078.

commit cae2f72ec81ffe6a887c8820155578c5fd764e88
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 21 23:18:23 2011 -0700

    Add spaces back for lion (though it only kinda works).

commit bc6c7ca5555cd1869d8d7ba2029a6e5075741b4e
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Jul 21 23:10:14 2011 -0700

    Update release.sh for git.

commit 41305355c91b1d70f000d74eefe11a74c0c6ec98
Author: Frank Laub <frank.laub@gmail.com>
Date:   Sun Jun 12 20:07:43 2011 -0700

    Adding MRU iteration of tabs via Ctrl-Tab

commit 78d20cc68d795ffcd315d278d8ecb27325460d1d
Author: Jack Chen (chendo) <me@chen.do>
Date:   Fri Jul 22 02:32:13 2011 +1000

    Semantic History now works with filenames with spaces!

commit 70351024e31b77fd0fa733e5e13c91de697821ed
Author: Jack Chen (chendo) <me@chen.do>
Date:   Fri Jul 22 00:58:32 2011 +1000

    Don't blindly assume that it's a URL

commit 4123a0549efe76c77d10ada5d893fa03ba17f32c
Author: Jack Chen (chendo) <me@chen.do>
Date:   Fri Jul 22 00:57:40 2011 +1000

    Don't return a path if it doesn't exist.

commit 277483c2ae00a7faf33e21dd116886c8daaf90dc
Merge: 43b20ed0 acda6056
Author: Jack Chen (chendo) <me@chen.do>
Date:   Fri Jul 22 00:11:29 2011 +1000

    Merge branch 'master' of github.com:gnachman/iTerm2
    
    * 'master' of github.com:gnachman/iTerm2:
      Add diff file for users who want to use XCode 4.
      Fix when building against 10.6 sdk
      Add lion fullscreens support. Remember window collection behavior for fullscreen windows.
      Revert "Add lion fullscreens support. Remember window collection behavior for fullscreen windows."
      Add lion fullscreens support. Remember window collection behavior for fullscreen windows.

commit acda6056576578f7709c5a5e63ff061e517d5e2c
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 20 21:58:52 2011 -0700

    Add diff file for users who want to use XCode 4.

commit 97755fbec6edb1d463e869e3a893b8c8fedff9fa
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Jul 20 21:58:00 2011 -0700

    Fix when building against 10.6 sdk

commit 06861ce3d0223d68272e28df2f7865a4f89af395
Merge: baf2ee00 e2f03224
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Jul 20 21:45:48 2011 -0700

    Merge branch 'master' of github.com:gnachman/iTerm2

commit baf2ee0021e16fa11fd5c2ccce8118a420c31ded
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Jul 20 21:45:26 2011 -0700

    Add lion fullscreens support. Remember window collection behavior for fullscreen windows.

commit e2f03224d5ee409e9e6f74f027985a5de53fc4a3
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Jul 20 21:44:36 2011 -0700

    Revert "Add lion fullscreens support. Remember window collection behavior for fullscreen windows."
    
    This reverts commit 0a714f50bf2092b91198db264f281e09272bc2d4.

commit 0a714f50bf2092b91198db264f281e09272bc2d4
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Jul 20 21:40:40 2011 -0700

    Add lion fullscreens support. Remember window collection behavior for fullscreen windows.

commit 43b20ed03206f96b7f7535fc5162d4434ed9bfd8
Merge: 09244f8d 755dc804
Author: Jack Chen (chendo) <me@chen.do>
Date:   Thu Jul 21 00:03:42 2011 +1000

    Merge branch 'master' of github.com:gnachman/iTerm2
    
    * 'master' of github.com:gnachman/iTerm2: (97 commits)
      Prevent cmd+key from sending 'key' to terminal if nothing catches cmd-key. Fixes bug 1136.
      Add locks to use of logHandle in PTYTask to fix race conditions.
      Fix bug where find highlights wouldn't wrap lines properly.
      Prevent infocmp from spamming stdout when a new session is created. Fixes bug 1118.
      Fix typo.
      Fix missing two pixels of background at top of screen in fullscreen mode. Fixes bug 1114.
      Performance improvements for Find. Convert positions to x,y ranges in batches. Cache block position in findSubstring:stopAt.
      Fix assertion in FontSizeEstimator.
      initial add.
      Handle control-pgup and control-pgdown. Fixes bug 1112.
      Change how font sizes are estimated by looking at all upper case letters' estimates and the actual bounds of 'X' to determine the bounding box. Looks at 'x' and 'y' to determine real descender. Fixes bug 1108. Also mostly fixes Consolas (though its baseline is still one pixel too low).
      Fix control+key for custom layouts. Fixes bug 1097.
      Show menu bar before creating a normal window. This prevents the miniaturize button from being hidden. Fixes bug 1088.
      optimize reverse search for long lines, which used to beachball. Fix crash when closing a window that is doing a search.
      Preserve collection behavior of fullscreen windows.
      Change label of Closing Hotkey Window May Switch Spaces. Turn it on by default. Addresses comment in bug 823.
      Version 1.0
      beta4
      remvoe some more logging.
      Remove excessive logging from hotkey window code
      ...

commit 09244f8d7f329e987b5cdeff41d7acbd3fa1dc72
Merge: 6b651376 61adaa2a
Author: Jack Chen (chendo) <me@chen.do>
Date:   Thu Jul 21 00:02:25 2011 +1000

    Merge branch 'master' of github.com:chendo/iTerm2
    
    * 'master' of github.com:chendo/iTerm2:
      Added a known issue for Trouter/Semantic History

commit 755dc804e59160dff9eb45165e72f59db25336ff
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jul 19 09:35:43 2011 -0700

    Prevent cmd+key from sending 'key' to terminal if nothing catches cmd-key. Fixes bug 1136.

commit 82b8ac00ab2e666c00a05a4dafe120b1c1d6313f
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jul 19 09:26:00 2011 -0700

    Add locks to use of logHandle in PTYTask to fix race conditions.

commit de5a12f34869fab5e10ad1b8f52696f882ed3f31
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jul 19 09:17:05 2011 -0700

    Fix bug where find highlights wouldn't wrap lines properly.

commit ec4d9480c291b57bad9adb2607fde73f2ab9440b
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jul 19 08:49:07 2011 -0700

    Prevent infocmp from spamming stdout when a new session is created. Fixes bug 1118.

commit 4b7a716d2884cf84c9531cf7e18e3902a88261d4
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jul 19 08:45:07 2011 -0700

    Fix typo.

commit c16e1b06c53bb4f0639c0706f27fa690b74abc2e
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jul 18 23:35:14 2011 -0700

    Fix missing two pixels of background at top of screen in fullscreen mode. Fixes bug 1114.

commit ecc6bad27258b93bcdc3aed6c0fa6b4b0e89c257
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jul 17 23:13:58 2011 -0700

    Performance improvements for Find. Convert positions to x,y ranges in batches. Cache block position in findSubstring:stopAt.

commit 63fd1abdc1d9f20a6d39e401a62812f8ad3a3500
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jul 17 23:12:03 2011 -0700

    Fix assertion in FontSizeEstimator.

commit a063ce8cf48e9e61ba2d1f86a414d5bce2224e7a
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Jul 15 20:58:06 2011 -0700

    initial add.

commit 8769ffef37c14e12f2dd992d264227a67c477201
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Jul 14 09:46:59 2011 -0700

    Handle control-pgup and control-pgdown. Fixes bug 1112.

commit 8977399fd9567691d243c1864951c710d01206db
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Jul 14 09:14:02 2011 -0700

    Change how font sizes are estimated by looking at all upper case letters' estimates and the actual bounds of 'X' to determine the bounding box. Looks at 'x' and 'y' to determine real descender. Fixes bug 1108. Also mostly fixes Consolas (though its baseline is still one pixel too low).

commit 97910b8895789ecd5494f573b850a58daf666f44
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jul 12 22:45:01 2011 -0700

    Fix control+key for custom layouts. Fixes bug 1097.

commit a5ed29dfef9970550c91bcd1897e834c33614464
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jul 12 21:49:10 2011 -0700

    Show menu bar before creating a normal window. This prevents the miniaturize button from being hidden. Fixes bug 1088.

commit d58596e405ffd047c40f415ce0e8966885ddb5d6
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jul 12 21:43:25 2011 -0700

    optimize reverse search for long lines, which used to beachball. Fix crash when closing a window that is doing a search.

commit 58d685bcb531abcee1149bd6191869185fd4eff7
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jul 12 20:20:53 2011 -0700

    Preserve collection behavior of fullscreen windows.

commit e0cdab1d7be1a0ff97bf356c29ad6a4b65f463e7
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jul 12 20:05:39 2011 -0700

    Change label of Closing Hotkey Window May Switch Spaces. Turn it on by default. Addresses comment in bug 823.

commit 3d25b94107b9958abea35836f4f9225904396e96
Author: George Nachman <gnachman@gmail.com>
Date:   Sat Jul 9 16:49:29 2011 -0700

    Version 1.0

commit f6b5ee910ab61bc6b5886e7bba562d4c92437e32
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Jun 30 22:43:49 2011 -0700

    beta4

commit 5a2c49220b6a38f2942c6bd8887daf8726bd3716
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Jun 30 22:27:44 2011 -0700

    remvoe some more logging.

commit 33e67f9ee1ec4d6bf80a20aeb927dc026ecc0743
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Jun 30 22:24:21 2011 -0700

    Remove excessive logging from hotkey window code

commit 109f3dce791f2d376def08e972e37f28c73b7144
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Jun 30 22:20:36 2011 -0700

    Get help up to date

commit a058f6c3ba5fb7bab9bba5b1db86fd24c5e00cc6
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jun 28 22:17:35 2011 -0700

    Check args to getWordForX:y:startX:startY:endX:endY: to try to prevent a crash.

commit f9fd4ae1d2d07c91a22cc11ea64eece1cd304e90
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jun 28 21:59:11 2011 -0700

    Add -shutdown to Popup and don't twiddle key status from within windowDidResignKey, which has crazy side effects. Fix bug where clicking on a background term while a popup is opened resulted in two key terms. Also fix a crash when quitting iTerm2 without confirmation while a popup is open. Fixes a crash when closing a term with cmd-opt-w while a popup is open.

commit 98e4085e123a9d01411366ed0f68a501887afd24
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jun 28 19:36:54 2011 -0700

    Fix bug with appending an empty line after a partial line. It should add a blank line but it was a no-op. This made appendScreenToSCrollback push fewer lines than expected and popScrollbackLines would make a mess of things when called later. Also, empty lines would sometimes be missing from the scrollback buffer.

commit f63fa9d71a4550dc522449aaee83c079d4eb44e5
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jun 27 00:35:53 2011 -0700

    Don't try to resize terminated sessions and don't allow sessions smaller than 1x1. Fixes crash when closing a window in IR while another window exists and is key.

commit 6fd9f0578049d7e22b7fc563299bf00e15370b2e
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jun 27 00:16:00 2011 -0700

    Don't honor pending closes while in IR because it may release a PseudoTerminal that's still in use in the call stack. Also check in DVRBuffer.h, missed in a recent commit.

commit 2f917ccf3196f919c758ed490273365cfa7fcad1
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jun 27 00:06:33 2011 -0700

    Fix crash when you cmd-click in a window when there's no front text view (that happens after closing a window and another window doesn't become key because another app is key).

commit f7fdde5c431a8956d83192a9f407d94a055d374e
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jun 26 23:59:25 2011 -0700

    Fix a crash when using the input method editor while session is 0 columns wide (though I can't get that to happen).

commit 1231828a9f58d36c37a838e401f9c53a7f5e9b78
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jun 26 23:53:20 2011 -0700

    Add sanity check to find corruption of DVRBuffer's index_ pointer.

commit c0df61dc71404efb59ad6f7f2346d56ca111f95a
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jun 26 23:45:41 2011 -0700

    Fail crash due to not handling getpwuid failing.

commit 916710c5e538d8fc41b036c0950a754bf3205205
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jun 26 23:32:58 2011 -0700

    Fix crash while setting dirty bit when moving the cursor down below the last line of the screen when it starts below SCROLL_BOTTOM.

commit a97acb4dfe98032cec7c358088eb46cb01995102
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jun 26 23:10:05 2011 -0700

    Fix assertion in voiceover in _accessibilityAttributeValue when asked for a line number that's too big.

commit d4220db6a1acbc5e1e42e9adf7e374fce421e224
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Jun 26 23:04:44 2011 -0700

    Fix incorrect uses of buffer_start when offset by a cumulative_line_length. Fix crash during find when the first block has dropped lines. Also fix likely crash during resize when getting last line.

commit f6d44c4acf36ee245f08e3e5020c7ce11d8c9d84
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Jun 22 22:19:37 2011 -0700

    add terminal compatibility to default bookmark

commit ba7056f5dae0d5303f1e9659d7402e7ac2b87649
Author: George Nachman <georgen@google.com>
Date:   Wed Jun 22 13:54:43 2011 -0700

    Make default bookmark use Terminal Compatibility key presets for alt+arrow keys

commit 548a48ff3154dede7a5a9183a4de10c70371de63
Author: George Nachman <georgen@google.com>
Date:   Mon Jun 20 15:55:39 2011 -0700

    Add key preset for Terminal.app compatibility with opt-arrow keys.

commit c9dbe5dbd81f6a94aab7bd92782d939eb23da758
Author: George Nachman <georgen@google.com>
Date:   Mon Jun 20 15:55:04 2011 -0700

    beta 3

commit 26b69bb69a4f963817c82d2a0b3f8923374f9895
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Jun 18 18:03:26 2011 -0700

    Try to fix crash due to _findEntryBeforeOffset asserting (i.e., 1308066514.478745826.txt)

commit 917df3bc68923ab29986635fa1a7bf62188329a2
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Jun 18 17:38:12 2011 -0700

    Don't sort bookmarks in tag submenus (trying to fix a problem mentioned in issue 994)

commit 35032c06dcff1169d27730204c55cb3dd6b5a867
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Jun 16 23:26:08 2011 -0700

    Change floats in PTYTextView to doubles. Fixes bug 1029.

commit d4235fb1fd599c149bd03e31a3ed3f45a397c20a
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Jun 15 00:21:45 2011 -0700

    Add a hidden preference for min app running time. Fixes bug 999.

commit dea6ab31c4d6eb2ca0f30749953d2977c91a5085
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Jun 15 00:17:09 2011 -0700

    Always save lines to scrollback buffer in alternate screen mode. Fixes bug 1034. Breaks a comment in bug 839.

commit 585c97a40639f7fc43091dc3e467bdb54280ed0f
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Jun 15 00:08:35 2011 -0700

    Allow esc+almost any char to terminate an OSC string. Fixes bug 1024.

commit 1779398165497a9b1c335b3188ea10d66c82de6a
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jun 14 23:29:53 2011 -0700

    Send alt, home, etc. function keys with modifiers like xterm (e.g., ^[[1;9D). Fixes bug 1037.

commit 6c3ba8eda9e0bb1af76b5aca1726dcf45114a13e
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue Jun 14 22:20:30 2011 -0700

    Escape path when installing xterm-256color terminfo.

commit b5d31faa96d061ec3dd2f34f1a254c212546b38f
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jun 13 21:41:40 2011 -0700

    When splitting panes, use the current version of the profile that was used to create the current pane rather than an old copy of that profile. Fixes bug 1016.

commit d424ac3966a51e586c8859203c477306616754b6
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jun 13 21:33:05 2011 -0700

    Don't send key events to -[PTYSession keyDown:] if the charactersIgnoringModifiers is empty because it might be opt+deadkey which should produce a different deadkey. Fixes bug 1012.

commit 0399bf9f1a371b5300f3fb848bc894717cbdc45c
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jun 13 20:37:19 2011 -0700

    Make the Paste command paste just a little bit slowly so that bash has time to read before screwing up its buffer. Fixes bug 1031.

commit 70ab45071568aa1a363bbca7ba339c9e3df5d021
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Jun 10 00:50:44 2011 -0700

    Fix crash when write() returns -1 with EAGAIN or EINTR reported by hkroger in email.

commit 52c13e58927e1ffba3a5e604a47d42f0239f8288
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Jun 10 00:37:22 2011 -0700

    Fix crash in voiceover. Fixes bug 1003.

commit 7fbc2bbc88c09f9a6618fc5e022560356cdd13aa
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jun 6 22:25:18 2011 -0700

    Save preference about asking for outdated keymappings in additional keys having the guid and the original guid at a global level. There was a case where a profile was saved in a window arrangement and so it would never get the preference stored in a profile. Fixes bug 920 (for real)

commit 554c8a2e6ae3d9981c3859b757e31eaa406ab812
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jun 6 21:46:07 2011 -0700

    Respect clicks where close button would be when it's hidden. Fixes bug 1004.

commit 1d13fd2dd530c98969d9007ca3d054ad2a8d3216
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Jun 6 20:53:15 2011 -0700

    Fix bug where profiles are added to menu twice when they divorce. Fixes bug 1001.

commit 5f7897169854b798a33c2fbd004b8a18fe8df4b8
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Jun 4 23:32:53 2011 -0700

    Add hidden setting GrowlOnForegroundTabs toenable growl messages on foreground tabs. Fixes bug 990.

commit 5259abc2870186991acbd6ab307d1b952becf851
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Jun 4 22:46:11 2011 -0700

    If "save lines to scrollback when an app status bar is present" is on, add lines to scrollback even in alternate screen. This allows tmux & screen to have scrollback.

commit 8693b16e84ca68ff0ac926cf7b646e2bd8a87667
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Jun 4 17:45:55 2011 -0700

    Respect screen preference for fullscreen windows. Fixes bug 982.

commit 49a42e3d70258c0608f87fd101b4c6f94356e6bb
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Jun 4 15:54:19 2011 -0700

    Add command as a criterion for posting a change notification to a profile. Also, do not post a change notification from setBookmark:atIndex: unless it is journalable. This greatly speeds up prefs for non-journalable fields when there are many profiles since menus don't need to be rebuilt.

commit 683cad020a20b63864874dd54a8af7c39952a03b
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Jun 4 13:30:06 2011 -0700

    Don't reference menuFormRepresentation in buildToolbarItemPopUpMenu:forToolbar, which for some reason makes the New button work right in text mode. Fixes bug 995.

commit 1063219225d519fc5d887c288b3527062da3725d
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Jun 4 12:24:39 2011 -0700

    Disable text-sending and navigation key keymaps while in findbar. Fixes bug 996.

commit 059e90761cf65cbedbd2763db9f30a4e1ac3b4c2
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Jun 4 11:52:49 2011 -0700

    Restore tab's size after it's dragged into its own window. Fixes bug 986.

commit 5ccbcd674eb9de741f52f0b3c96ff2180c8cdb8b
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Jun 1 22:10:47 2011 -0700

    Preserve profile order in menus. Fixes bug 981. Fix toolbar profiles menu.

commit f4d7389c8edf15f7c749b5ec90a1ece5985ed6de
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Jun 1 20:30:10 2011 -0700

    Toggle tab bar after fitting window to tabs when number of tabview items changes.  Fixes bug 975.

commit 93627ec19eb626b6ee5c31745d309e930ea50940
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Jun 1 00:09:08 2011 -0700

    beta2

commit d095c894996dcc19ae09cabfffef4ad574ef2fea
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue May 31 23:33:10 2011 -0700

    Offer to install xterm-256color terminfo automatically, if it's missing. Fixes bug 835.

commit 77d743993a7eb1f192e5bdecac370ac3fc77f904
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue May 31 23:32:05 2011 -0700

    Add mapping for cmd-tab to send tab to presets and default bookmark. Fixes bug 968.

commit daec9d9885bb32c178e669870b8bdc077de91432
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun May 29 21:57:49 2011 -0700

    remove project.pbxproj from gitignore

commit 509028ec465ed05a724828c608bb8ba423cc5205
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun May 29 12:46:37 2011 -0700

    Remove VT100Screen's current_scrollback_lines, which for some unknown reason differed from LineBuffer's idea of how many lines it has, which caused an assertion. LineBuffer caches it anyway, so it was nothing but trouble.

commit 6291d8606076ecdf125aaf891b03e02c959659be
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun May 29 12:41:48 2011 -0700

    Add an assert to try to catch a crash in LineBlock converPosition:withWidth:toX:toY

commit 9a1c5ce16daf2454dce23b56a2393a054325675d
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun May 29 12:28:27 2011 -0700

    When closing IR, first set replay session's size to that of the live session to ensure that the live session's size is correct. Then, instead of blindly restoring the previous window frame, use fitWindowToTabs. Fixes bug 965.

commit f5f9ded79a8cca4ed0db1e6186e7a0d01ca72e53
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun May 29 11:50:30 2011 -0700

    Terminate replay sessions to prevent their timer from firing after their tab is freed. Fixes bug 964.

commit 9a7346656af885a11ca4c03de00818dbbdbbd843
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat May 28 19:41:01 2011 -0700

    Try to fix a crash in putToken by remove memset from ANSICSI_ECH (CSI n X) which erases up to the end of the current line

commit f6f43bac377e5b3c5c16de41ac16c9972d5c911d
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat May 28 19:08:50 2011 -0700

    Fix bug where doing a search while scrollback buffer overflows highlights a line off by 1.

commit c777be851e3007a6fba0148b380fb9a9e558d9fa
Merge: 69217426 9d2791c7
Author: gnachman <gnachman+github@gmail.com>
Date:   Sat May 28 13:40:25 2011 -0700

    Merge pull request #1 from shabble/shab-dev
    
    Patch from shabble: load keyboard presets from plist instead of hardcoding them.

commit 9d2791c7fc05c593bed67a16505431cf7ec34090
Author: Tom Feist <shabble@metavore.org>
Date:   Fri May 27 14:52:57 2011 +0100

    remove misleading comment

commit eb80a666d2ea9058575474ba0652fb5eafe80edc
Author: Tom Feist <shabble@metavore.org>
Date:   Fri May 27 14:51:57 2011 +0100

    added error checking for presetkey plist loading, which disables the button and displays an error label upon failure

commit fcbb6cb3f09ee1d7a773534290a4e531f75a6c28
Author: Tom Feist <shabble@metavore.org>
Date:   Fri May 27 14:23:37 2011 +0100

    factored out the preset key plist loading into "readPresetKeyMappingsFromPlist:"

commit 69217426b3208e566ce40f8f8fb184ba8615b3ec
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu May 26 20:07:39 2011 -0700

    Take window border into account when fitting window size when exiting fullscreen mode. Fixes bug 957.

commit 8dc2ba55d58fbd456a9829220aac0a919bd01fd7
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu May 26 19:50:11 2011 -0700

    Remove excessive logging in Growl code.

commit 7c53a04a0925aae3c0938a296f2ab680d478d051
Author: Tom Feist <shabble@metavore.org>
Date:   Fri May 27 02:07:46 2011 +0100

    missed one call to presetKeyMappingNamesAvailable when renaming.

commit e275a66c30a296dc5fef15f32c40d84bebeaa6ca
Author: Tom Feist <shabble@metavore.org>
Date:   Fri May 27 01:51:05 2011 +0100

    reverted PresetKeyMappings.plist to remove my testing examples.

commit 0da628ba9d8c9953234080a31a4c492b40b1789a
Author: Tom Feist <shabble@metavore.org>
Date:   Fri May 27 01:49:32 2011 +0100

    removed spaces after colons

commit decbeb8d8754b06f7075bb3bc5f4cc9e8b995118
Author: Tom Feist <shabble@metavore.org>
Date:   Fri May 27 01:45:55 2011 +0100

    rename presetKeyMappingNamesAvailable to presetKeyMappingsNames as suggested

commit 10efc61915ca15fb21e0640abf434dc35b7e5bbe
Author: Tom Feist <shabble@metavore.org>
Date:   Fri May 27 01:43:35 2011 +0100

    removed commented dead code relating to the hardcoded selection stuff.

commit fadc5687576ebb8db5a0dfefbec6f4190d2d94e4
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed May 25 23:57:13 2011 -0700

    Adjust the number of lines temporarily pushed into linebuffer when resizing a session to avoid unnecessarily pulling a screen's worth of content down when making a small adjustment. Fixes bug 953.

commit 842939e4635cf972b00197e843b07c062b582fbc
Author: Tom Feist <shabble@metavore.org>
Date:   Wed May 25 19:27:40 2011 +0100

    profiles "Load Preset..." button is now dynamically populated from top-level keys in PresetKeyMappings.plist

commit 02f90f0de61049fce1800cad39367bf6acca942f
Author: Tom Feist <shabble@metavore.org>
Date:   Wed May 25 08:37:44 2011 +0100

    update ignore to hide build/ dir

commit 47e23c33fa20ea4bc90b7c288a67cb0d3611730f
Author: Tom Feist <shabble@metavore.org>
Date:   Wed May 25 08:35:46 2011 +0100

    added FixTerm preset to PresetKeyMappings and all the other bis to make it work

commit 835ba3a07207936ba81493c79297218c0a07a628
Author: Tom Feist <shabble@metavore.org>
Date:   Wed May 25 07:57:40 2011 +0100

    restored personal makefile with more functionality

commit acd82047fcec7c2d9da85395bf27f9972a667b1c
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue May 24 22:43:23 2011 -0700

    Rewrite how profiles menus are maintained to apply diffs of rebuilding from scratch. Fixes bug 907.

commit 0205964f6cd1a2dff1e22e760ef3d647c2f23075
Merge: 60f40b63 3e6b0ffe
Author: George Nachman <git.xyz@georgester.com>
Date:   Tue May 24 22:11:44 2011 -0700

    Merge branch 'master' of github.com:gnachman/iTerm2

commit 60f40b63e59943c6e8f8380a1d1098b499865fd6
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun May 22 01:16:48 2011 -0700

    Set tab order

commit 3e6b0ffe0d67a1a493b6576c2806d36c42b163a4
Author: George Nachman <georgen@google.com>
Date:   Fri May 20 11:26:49 2011 -0700

    Use GTM for carbon hotkey events instead of using event taps.

commit 51e9aaa512d2783c8091d92552179a6df384db3f
Author: George Nachman <georgen@google.com>
Date:   Fri May 20 10:32:20 2011 -0700

    Fix compilation under 10.6 by changing ifdef to if. Fixes bug 941.

commit d2b0a2af06f0e932277faf7a945c1cbde9c6c0b6
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu May 19 23:32:52 2011 -0700

    Keep window from resizing inappropriately. Fixes bug 916. Respect sesssion size in term prefs for window style=fullscreen windows when exiting fullscrene.

commit 8bbd60d05d2af820dc1b5a50b5eda613f3c43d66
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu May 19 22:14:55 2011 -0700

    Enable transparency by default with windows of style fullscreen. Fixes bug 890.

commit 66166e0a51723c76acda0ca459edffff309d1c48
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu May 19 21:52:39 2011 -0700

    Set ^T as status char in tty. Fixes bug 930.

commit 681673612d12147d7fa1e636cf52a7737a17f2c1
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu May 19 21:43:54 2011 -0700

    Catch up with svn

commit e17c034379e5c25afa01178683ee00a436a4abfc
Merge: f67a29a8 6b651376
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu May 19 21:43:19 2011 -0700

    Merge branch 'master' of github.com:gnachman/iTerm2

commit f67a29a8ef15610e8e589c9d83be4715417a592b
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu May 19 21:43:00 2011 -0700

    Fix performnace when there isn't an alternate buffer.

commit 6b6513762b2e514133c82dffe334dc6178bd2baf
Author: George Nachman <gnachman@gmail.com>
Date:   Sun May 15 11:36:30 2011 -0700

    Fix alternate of 'Open All' in profiles menus to open all in a new window. Fixes bug 919.

commit 54400fb49f020faff6741d4034fc3c37cdde6b41
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat May 14 16:56:34 2011 -0700

    Fix up framework search path. Fixes bug 915.

commit 0b998955b6866262cbc286a5016a1e040fd2dd3c
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu May 12 21:48:38 2011 -0700

    Convert NSAssert's into assert's

commit 4a27672c60162a9f649a2733d0568ed0ed8b12ff
Author: George Nachman <georgen@google.com>
Date:   Thu May 12 14:52:08 2011 -0700

    Remove chatty log line, fixes bug 906.

commit 971fc5f12d05795c2273bd934498ffcdbada690d
Author: George Nachman <georgen@google.com>
Date:   Wed May 11 10:06:04 2011 -0700

    Fix high cpu when split pane dimming amount is 0. Fixes bug 902.

commit b89900a657fcf1ebaac164422b3fa4822e501c8c
Author: George Nachman <georgen@google.com>
Date:   Wed May 11 09:59:52 2011 -0700

    Set home page link to new site.

commit 60737df9cf716b700fb8710078231a08db82a7b5
Author: George Nachman <georgen@google.com>
Date:   Wed May 11 09:58:18 2011 -0700

    Style improvements to code.

commit 2ddb52e08d8391b1ace2ab8414212d9b549a4d06
Author: George Nachman <georgen@google.com>
Date:   Wed May 11 09:57:57 2011 -0700

    Add ! to list of escaped shell characters. Fixes bug 904

commit 1cd518f8065d22b050cb739bf6a76f424c00aaa7
Author: George Nachman <georgen@google.com>
Date:   Tue May 10 11:16:36 2011 -0700

    Don't save lines to scrollback buffer when in alternate screen mode. Addresses a comment in bug 839.

commit 3c26674ddb6f2f0a68ee3a1e2ceaf0bcc73fa3ac
Author: George Nachman <georgen@google.com>
Date:   Tue May 10 10:52:35 2011 -0700

    Handle cycles in process ccahe's ancestry map. See bug 771.

commit ee4b7750d68567c6cd7364caf506c90705394c34
Author: George Nachman <georgen@google.com>
Date:   Mon May 9 16:13:13 2011 -0700

    Swap find next and find previous behavior so cmd-g searches backward. Fixes bug 883.

commit f0a9c716736930ecf61efbadf00e10f7b70a89f1
Author: George Nachman <georgen@google.com>
Date:   Mon May 9 15:51:52 2011 -0700

    Fix race condition alleged in bug 771

commit 85f75d8d9e8ef0040ca39f14381bbcd3f3f5e4e6
Author: George Nachman <georgen@google.com>
Date:   Mon May 9 15:40:29 2011 -0700

    Don't report xterm mouse down on first mouse. Fixes bug 895.

commit 8d84b004c2ba5f9662ea30d1128866ee57a3c6d6
Author: George Nachman <georgen@google.com>
Date:   Mon May 9 12:03:14 2011 -0700

    Don't hide menu bar when hidden hotkey window becomes key. Fixes bug 892.

commit fbabc0238f83504d1a3632880be9118ebf914bac
Author: George Nachman <georgen@google.com>
Date:   Mon May 9 11:12:59 2011 -0700

    Change default left option key behavior to normal to avoid confusing non-US keyboard users.

commit 9eee14d92c77e1c1149a81ce4a5ebca2f46bab81
Author: George Nachman <georgen@google.com>
Date:   Mon May 9 11:07:38 2011 -0700

    Swap positions of OK and Cancel buttons in edit key bindings dialog. Fixes bug 899.

commit b7ad1c6b87bfa9fa1dab349fd9302a639878e5b2
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun May 8 23:01:17 2011 -0700

    Improve perceived brightness formula. Fix bug where bold fg was used to compute bg brightness. Fix lots of bugs in computing farthest-away brightness value. Fix fg contrast with smart cursor color bug.

commit e5dd5b5c407741a58a59f4d7da75a25da28b3d05
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon May 2 22:40:27 2011 -0700

    Allow cmd-w to close the about box. Fixes bug 669

commit faeba25c0eae2dbc3817957937ec9bc2ce171c46
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon May 2 22:29:53 2011 -0700

    Don't show menu bar when visor is hidden if current term is fullscreen.

commit a01cb0b7a898743a0a4dcde8876437fbd0dadd0a
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon May 2 22:22:48 2011 -0700

    Hide visor window from expose. Fixes bug 664.

commit 98d7b81ba6e20b440e881c4a984c8e61d128cb04
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon May 2 21:49:43 2011 -0700

    Make reuse tab's directory work when opening a new window, not just a new tab. Fixes bug 555.

commit 749b1657856301dd54fb4097fbb83bdc527b8e0a
Merge: 5469e0f6 50dde300
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon May 2 21:13:12 2011 -0700

    Merge branch 'master' of github.com:gnachman/iTerm2

commit 50dde300c120f1c4db14ef1678cef63ef8681291
Author: George Nachman <georgen@google.com>
Date:   Mon May 2 16:38:09 2011 -0700

    Don't hide menu bar when fullscreen window is not on main screne. Fixes bug 750.

commit 61a946d3d925a3c2f5afcb6487d087ef0070c088
Author: George Nachman <georgen@google.com>
Date:   Mon May 2 16:36:08 2011 -0700

    Add bonjour optimizations.

commit 5469e0f658685375f2a7eff0574b9ad6a6ca137b
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun May 1 12:24:55 2011 -0700

    Improve performance of adding/removing bonjour bookmarks. Limit bookmarks in menus to 100 or 50 for bonjour folder to improve performance.

commit 26f24c737c948010748b5dcdad2b907d6bb02e11
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun May 1 11:36:23 2011 -0700

    Patch from Tom Feist adds pref to toggle hotkey window by clicking dock icon. Always hide hkw when click on dock icon.

commit acf19a261efc775a2d57a6559d50277f0c2e730c
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Apr 30 17:32:35 2011 -0700

    Keep updateDisplay timer running always when active. Keep it running for 10 seconds after last output when inactive to catch changes in job name. Fixes bug 238.

commit 527441a6ab9cf444389e5e5e118c5f98ef80f5cd
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Apr 30 17:19:48 2011 -0700

    Respect key bindings when terminal is key window but the textview doesn't have focus (e.g., focus is in findbar). Fixes bug 814. This may have unexpected consequences.

commit ea59e6b00c62eb37ff21a317d41e886be48a635b
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Apr 30 00:37:24 2011 -0700

    fix use selection for find. Fixes bug 877.

commit 8264ebc558cb71364acf98ca90679c9071405895
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Apr 30 00:21:25 2011 -0700

    Suppress growl output/idle messages after resizing a window. Fixes bug 514.

commit 04bcab576afafefbc62335de5532a18ec7bb028f
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Apr 29 23:25:26 2011 -0700

    Speed up autocomplete.

commit b0d4a975b1dc260db6291813efe8c97794b671b9
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Apr 29 20:25:33 2011 -0700

    Use Lion-style scrollbars where available. Mouseover doesn't work for some reason.

commit c87cd9a078d9b9a233fc2c84dfd7b8315a8ca56a
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Apr 29 19:54:40 2011 -0700

    Make zooming windows go to top of screen.

commit 06bba4d5b1f6d58d715a49c4d1d94cbc5b6f9cb9
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Apr 28 21:38:35 2011 -0700

    Make CPU usage go to 0 when there's no new output, nothing is blinking, and no tab statuses are changing. Also fix bug where windows jump screens on maximize.

commit e3d4cd406727bf96fbf08f7d5d1d6bf97422acca
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Apr 28 20:25:48 2011 -0700

    Remove some files git shouldn't be tracking, add to .gitignore.

commit 5d3b60859a7d065e667127aa82613dca355a9fba
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Apr 27 23:39:06 2011 -0700

    Don't fiddle with transparency when toggling fullscreen. Fixes bug 865.

commit ba6c99bc2273a6901f469bba28e93ddb76386930
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Apr 27 23:29:24 2011 -0700

    Allow cmd-click in inactive tab. Fixes bug 870.

commit 376cfc2ea290fad95009f66877f2042474d107c7
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Apr 25 23:14:38 2011 -0700

    Fix crashing bug in convertPosition.

commit 39b4ef4b0104787eff72435acc5c1085313dcb8c
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Apr 24 16:01:40 2011 -0700

    Fix crash when going to prev/next pane while in IR. Fixes bug 858.

commit 81108f3967f456a8bf5bee21413562a65f04e990
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Apr 23 18:54:59 2011 -0700

    Rename toggleFullScreen to fix 10.7 compatability issue. Fixes bug 667.

commit 75e0f6e408375b4558b7555e97fba7278029505f
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Apr 23 18:46:22 2011 -0700

    Improve visor behavior when switching to a terminal or profiles window

commit c9d5819212efb49fc084e2e1e64e310f582d3289
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Apr 23 17:36:44 2011 -0700

    Change wording from green button zooms to zoom button maximizes. Fixes bug 851.

commit db480059e7ef104e3c9cd793e68fd1e35a023faf
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Apr 23 17:29:39 2011 -0700

    Only update process cache when there is output.

commit 28ab160ed40c751d4053f118ca822b0c04599159
Author: George Nachman <git.xyz@georgester.com>
Date:   Sat Apr 23 16:49:55 2011 -0700

    Get git caught up

commit 50779a1e4b5a239252e515dedc3b5123914e8a4e
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Apr 22 19:11:51 2011 -0700

    Fix a leak of CGEvents every time you pressed a key. Fixes bug 854.

commit 6cb363e5ab90980a2736f405ca72644284174ca3
Author: George Nachman <gnachman@gmail.com>
Date:   Fri Apr 22 19:02:40 2011 -0700

    Handle changing number of screens for fullscreen and top-of-screen windows. Fixes bug 590.

commit d7afefd6df98a3ee04a5f61056370ca84f3807dd
Author: George Nachman <georgen@google.com>
Date:   Wed Apr 20 15:40:13 2011 -0700

    Sleep more in process cache thread when app is inactive to avoid activity monitor spikes. Fixes bug 844.

commit 66198c95d33a6328cd08aa629d6a7e5189ab7456
Author: George Nachman <georgen@google.com>
Date:   Wed Apr 20 15:04:33 2011 -0700

    Properly escape query param for 'search goog for selection'

commit 5364efb0e09b3322ef72a95fdd30576d504361ec
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 19 21:26:20 2011 -0700

    Improve performance of closing prefs if there are many bookmarks with empty-string for shortcut. Fixes bug 566.

commit b3b254054c928d27ac4d00f709d2619cf25818c9
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 19 21:17:26 2011 -0700

    Add logging to keyDown: to diagnose non-US keyboard issues

commit 2a5b0ab5f318f23f9c9b276ef6807c8a2dc486ef
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 19 21:05:00 2011 -0700

    If you click on the second half of a line-wrapped URL, be smart about ignoring hard newlines if doing so produces a string that really looks like a URL. Fixes bug 816.

commit 53651aa72d902839229d8302c9e834014108e01d
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 19 20:40:01 2011 -0700

    Add a pref to make visor mode preserve your space at the cost of focus issues. Fixes bug 823.

commit ee0e4cca8db8b12778d3f5c1aa8e6e7504f14364
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 19 20:11:42 2011 -0700

    Add a pref to control whether scrolling in the presence of a status bar affects scrollback buffer. Fixes bug 839.

commit f7eed7bb776d2eea0a0c97496d1978757e015625
Author: George Nachman <gnachman@gmail.com>
Date:   Tue Apr 19 10:44:49 2011 -0700

    Smart selection: Fix priority of dotted words to be the same as paths. Add semicolon to regex url.

commit bbb09d25988f35268e59aac4df99fd5cb3e2d737
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Apr 18 23:25:45 2011 -0700

    Profile searches beginning with * match infixes. Fixes bug 815.

commit 99ddd7dd6e9a41f379a212801b22400eb1c0e28b
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Apr 18 23:18:46 2011 -0700

    Don't close hotkey window when prefs opens. Fixes bug 825.

commit a0bc50980c6bd491f4ad1e4bd5c4f6f8f3dae71c
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Apr 18 23:14:11 2011 -0700

    Allow IR mem to be set to 0.

commit 3319197b2a25a9d77d95cbde3a4a7f9574297105
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Apr 18 22:51:04 2011 -0700

    Move scroll-to-bottom from timer to PTYTextView refresh. Fixes bug mentioned in email by marco.ferragina.

commit fe7c636bdddd005d91c9fdc18044724cbfd8460e
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Apr 18 22:05:50 2011 -0700

    If a custom command isn't set and you try to open a URL with a profile, build a custom command on the fly for ssh, ftp, and telnet. Fixes bug 831.

commit 292acdc81d93d064adc0e8654dafeab9ecc55ca7
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Apr 18 21:52:11 2011 -0700

    Don't show broken pipe growl if foreground tab's session ends. Improve wording to be less nerdy. Fixes bug 358

commit 8929c86ed4d182e62018d6fe1761d6d334e6d917
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Apr 18 21:39:01 2011 -0700

    Keep process cache up to date in a new thread to avoid blocking the UI loop when the CPU is slammed and there are many processes. Fixes bug 804.

commit f7b1c72808a3443d4780a97115df359731e9488e
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Apr 18 18:44:12 2011 -0700

    Disallow selection on firstmouse. Fixes bug 838.

commit 5ffaeecb42f021df481a6ae7ff0db3569bbcb32e
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Apr 15 08:53:54 2011 -0700

    Fix shift-click to extend a selection, which resetting the selection on mouseup. Fixes bug 820

commit 26691cde5c798aacf605dcb36148d26ee22afb9d
Author: George Nachman <git.xyz@georgester.com>
Date:   Fri Apr 15 08:40:49 2011 -0700

    Fix bug with parsing 256-color-mode control sequences that assumed it would be the first part of an SGR.

commit d74bd047cbcd39b4982f79f830e58c02d2f1c937
Author: George Nachman <git.xyz@georgester.com>
Date:   Wed Apr 13 20:27:14 2011 -0700

    Remember max scrollback lines after clearing buffer with cmd-k. Fixes bug 777.

commit 8f39e70036baeca6534b264e420c04381812066a
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Apr 11 21:55:25 2011 -0700

    Make jump to mark work when you're jumping down. Fix assertion when doing a search while receving lots of output that causes the initial search offset to be a dropped line.

commit 1e9b83db6c47549c9bcd6fc965e9bca275953d7c
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Apr 11 21:25:16 2011 -0700

    Don't send any input for cmd-shift-enter if no pane to maximize. Fixes bug 731.

commit b22ee5862fe0c46d9c3244ada5a7793d97e599ed
Author: George Nachman <git.xyz@georgester.com>
Date:   Mon Apr 11 21:08:45 2011 -0700

    Add warning about spaces

commit 619e43d74a9789fa3b91f11f6d4777e567bf0425
Author: George Nachman <georgen@google.com>
Date:   Mon Apr 11 17:14:05 2011 -0700

    Fix assertion-crash when doing cmd-[ or ] when a pane is maximized.

commit c2c725a5bc9f4c80fe8aaefbf2cfaf123f9e6cc7
Author: George Nachman <georgen@google.com>
Date:   Mon Apr 11 16:33:23 2011 -0700

    Don't confirm quits if only bookmarks/prefs is open. Fixes bug 793.

commit 41858b5d0f8894bc13e979126ad3bc441f61e12f
Author: George Nachman <georgen@google.com>
Date:   Mon Apr 11 16:25:20 2011 -0700

    Fix weird thing where highlighted search matches would stay there even after an interactive program changes the text so it doesn't match the search.

commit 2480bf4c301ba9c0f2631d863990315714ee1eb4
Author: George Nachman <georgen@google.com>
Date:   Mon Apr 11 16:07:57 2011 -0700

    Fix bug where closing a popup changed window order.

commit 25d1ac339803d787149bbd95aba844ec9085a7b7
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Apr 10 22:17:14 2011 -0700

    Add ctrl-shift-arrow keymaps

commit ba65e1bc323a8477aa33e42bbaa97e39e18548b2
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Apr 10 22:01:50 2011 -0700

    Fix how dragging threshold works to not affect selection.

commit a978427e4223623b481858f3ab549a5d00b1c6f1
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Apr 10 18:08:56 2011 -0700

    Remove bogus logging. Warn about short-lived sessions only if they had a broken pipe.

commit 10e96ad3239dc59fc725d84a28eda583e6968b08
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Apr 10 17:33:05 2011 -0700

    Fix compile error, warning on 10.5. Fix clicking on mailto: url which incorrectly prepended http:// to it. Fix ui where another app grabs a URL handler, and also when iTerm holds URL handler and we try to change it (showed bogus dialog).

commit b08ab5df0dbe4ecb7636d5ddf48086ff852d3ab0
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Apr 10 17:03:47 2011 -0700

    Formatting improvements. Remove some logging.

commit 4392442633dcb7dd5aed80c7c31c40373da86011
Merge: a7cdc185 11a45333
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Apr 10 16:51:27 2011 -0700

    Merge branch 'master' of github.com:gnachman/iTerm2

commit a7cdc185b468599a0824baeb4ef9bfe5928f0761
Author: George Nachman <git.xyz@georgester.com>
Date:   Sun Apr 10 16:50:55 2011 -0700

    Fix cmd-click to open a URL.

commit 11a453334a85bae80125a0a778602dc3a4bb606b
Author: Jack Chen (chendo) <me@chen.do>
Date:   Sun Apr 10 00:15:15 2011 +1000

    Gave a 3 pixel tolerance before considering it a drag

commit e56205e410f91053e051799164aa0d0772c105e3
Author: Jack Chen (chendo) <me@chen.do>
Date:   Sat Apr 9 22:51:35 2011 +1000

    Resolve the absolute path in getFullPath

commit a30ac5d51728c6ee0217b5d011233e9f3c7352f7
Author: Jack Chen (chendo) <me@chen.do>
Date:   Sat Apr 9 12:23:15 2011 +1000

    Added logging for workingDirectory lookups

commit d78c5050781ad7971a49ca97e73cba5ed76c62ec
Author: Jack Chen (chendo) <me@chen.do>
Date:   Sat Apr 9 12:10:48 2011 +1000

    Added a #ifdef for 10.6 for the pbi_start stuff

commit 9cc90c177c3428658c8d6bcd20ae78179569ca0f
Author: Jack Chen (chendo) <me@chen.do>
Date:   Sat Apr 9 12:05:07 2011 +1000

    Random character, dammit vim

commit 46e1851d16ba24195e058689877a022130421004
Author: Jack Chen (chendo) <me@chen.do>
Date:   Sat Apr 9 12:00:18 2011 +1000

    Refactored escaping paths into NSString extensions, and fixed #786 on Google Code

commit 32c5d578e13d3036204686b6c92000f2d4d34b82
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Apr 7 22:36:38 2011 -0700

    Add $$RES$$ to commands for resource specifier.

commit 8c7def4fad06117bdd03f015384a78cb0d65470b
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Apr 7 22:16:50 2011 -0700

    Improve debug logging for input.

commit 61adaa2ab315ea839ba94db50584b9b0e4a55a95
Author: Jack Chen (chendo) <me@chen.do>
Date:   Fri Apr 8 14:20:22 2011 +1000

    Added a known issue for Trouter/Semantic History

commit 4d44358c5d04b88409821b693aa89a326ff6ef87
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Apr 7 18:44:50 2011 -0700

    Rename advanced font rendering settings

commit 05862229c28d59f723a3b66a50c956f102378a16
Author: George Nachman <git.xyz@georgester.com>
Date:   Thu Apr 7 18:37:01 2011 -0700

    If the profile has a bogus command, don't quit iTerm immediately.

commit eb0f43a65076529f45e435cdaf86e8c13d13aab5
Author: George Nachman <georgen@google.com>
Date:   Thu Apr 7 17:29:41 2011 -0700

    add docs for semantic history

commit 3e229c73e51cc79e94ee14d147f597eae390c5a3
Author: George Nachman <georgen@google.com>
Date:   Thu Apr 7 17:29:18 2011 -0700

    Formatting fixes

commit 148d1251808f28d455b775f29865ff5fc3eec49e
Author: George Nachman <georgen@google.com>
Date:   Thu Apr 7 17:27:04 2011 -0700

    Add new files for smart selection

commit 157af71ed8927793c53c7ffcd834942a47575e1a
Author: George Nachman <georgen@google.com>
Date:   Thu Apr 7 17:26:34 2011 -0700

    Move smart selection into plist

commit 1d2b4061c0f50a3c7174552bac7692056e68a5e6
Merge: b6e788b3 2808b2e6
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Apr 7 08:38:44 2011 -0700

    Merge branch 'master' of github.com:gnachman/iTerm2
    
    Conflicts:
            FindViewController.m
            Headers/iTerm/VT100Screen.h
            PTYScrollView.m
            Trouter.h
            Trouter.m

commit b6e788b30c75977ac330d403b358fc9944a53362
Author: George Nachman <gnachman@gmail.com>
Date:   Thu Apr 7 08:10:36 2011 -0700

    Add trouter files.

commit 2808b2e68677ff4617914613460ef327460f1ddd
Author: Jack Chen (chendo) <me@chen.do>
Date:   Thu Apr 7 11:53:43 2011 +1000

    Re-added gnachman's mods to my shoddy Obj-C

commit 30656066e4f56b322db0f65b4246b0496e650ac9
Merge: 79f1daad ab0af370
Author: Jack Chen (chendo) <me@chen.do>
Date:   Thu Apr 7 11:23:40 2011 +1000

    Merge branch 'cross_repo_merge'
    
    * cross_repo_merge: (63 commits)
      Remove variable stroke thickness from prefs for performance reasons
      Fix how inet_ntop was called. Fixes bug 519.
      Fix leak of job name
      Split panes using the original profile of the source pane.
      Use same baseline for bold secondary font as for regular secondary font. Fixes bug 760.
      Fix bug where right click didn't open context menu
      Change split pane dimming. Improve docs.
      Make shift-arrows move through IR faster.
      Improve URL regex. Handle smart matches that go to last char. Give URLs higher precision that email addresses to handle URLs with username/pw that look like email addrs
      Improve regex for paths. Fix smart-select-and-drag.
      Update docs
      Try to fix bug 753 by ignoring drag events where the mouse isn't down.
      Swap triple and quad click functions. Fix url regex.
      remove text indent
      Update docs to latest version
      Add dot to URL smart match pattern. Update help to match website.
      Fix ghosting issue. Fixes bug 299. Speed up find ui's animation.
      Make fullscreen visor window work better with focus follow mouse. Send visor to back of app's widows when closed.
      Allow you to unregister a profile for a url scheme. Fixes bug 752.
      Handle case where there's a selection after the last non-empty line.
      ...
    
    Conflicts:
            Headers/iTerm/PTYTextView.h

commit ab0af3709a72f385ef34c289de8df17b04ae3af5
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Apr 6 15:42:22 2011 +0000

    Remove variable stroke thickness from prefs for performance reasons

commit bdb19c981b27bff82e5dc75efb08344ba4f0fb84
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Apr 1 20:02:55 2011 +0000

    Fix how inet_ntop was called. Fixes bug 519.

commit 35606025392b9dd21c502980ed20c18a289fc7b2
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Apr 1 19:53:55 2011 +0000

    Fix leak of job name

commit cf7b72217e1b9592dfdc00157a4ff5f2d43f77b5
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Apr 1 05:37:45 2011 +0000

    Split panes using the original profile of the source pane.

commit be3e3850190eb956d65c1d7def47c4ff00af387c
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Apr 1 05:25:10 2011 +0000

    Use same baseline for bold secondary font as for regular secondary font. Fixes bug 760.

commit 47a90f6da3ee0554a61dbc3f24bd381a0bdc84d6
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Apr 1 03:52:04 2011 +0000

    Fix bug where right click didn't open context menu

commit ad134cbb7ed368e29e79b6c6dfcd3dda607cbc9e
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Apr 1 03:49:27 2011 +0000

    Change split pane dimming. Improve docs.

commit 74786b553a4f503a5323739c23a083e4ed9b66ec
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Mar 31 04:09:38 2011 +0000

    Make shift-arrows move through IR faster.

commit 1d94e6db98b90362a17fd5a495ed5b10a4e02817
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Mar 31 04:06:59 2011 +0000

    Improve URL regex. Handle smart matches that go to last char. Give URLs higher precision that email addresses to handle URLs with username/pw that look like email addrs

commit 31f56516aeea4ff35c20339c08d5074db99cfb02
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Mar 31 03:46:54 2011 +0000

    Improve regex for paths. Fix smart-select-and-drag.

commit 088b0ba315be752d3ba5374ea0cb1cb919e7cbed
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Mar 31 03:34:39 2011 +0000

    Update docs

commit d6b6b829f22a71a929b18568434d2171bebda3c9
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Mar 31 03:30:23 2011 +0000

    Try to fix bug 753 by ignoring drag events where the mouse isn't down.

commit 321433dbb531bd92a4f72fd7ec80c118658c4d59
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Mar 31 02:59:03 2011 +0000

    Swap triple and quad click functions. Fix url regex.

commit 5e5069694b0998f01db962eba3e787b154f4db54
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Mar 30 07:37:49 2011 +0000

    remove text indent

commit 9e53275aa8ad3ea292db801f06612c1f3649fa45
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Mar 30 07:23:41 2011 +0000

    Update docs to latest version

commit 3d619a7998792c0d8d73ad507d8b1d22231b0bb0
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Mar 30 06:13:30 2011 +0000

    Add dot to URL smart match pattern. Update help to match website.

commit ee6dbba15c7feb7582f6d655edaef995cd1947d0
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Mar 30 00:35:43 2011 +0000

    Fix ghosting issue. Fixes bug 299. Speed up find ui's animation.

commit 4b6d0007f163fc75fa65a6d02acd2e67e5e73727
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Mar 30 00:00:51 2011 +0000

    Make fullscreen visor window work better with focus follow mouse. Send visor to back of app's widows when closed.

commit 76bed3a11c44070c18bf39afa5f0e6f2ea221734
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Mar 29 23:51:40 2011 +0000

    Allow you to unregister a profile for a url scheme. Fixes bug 752.

commit 76f2dfeacd94ca8823034abece3467c94b3c5524
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Mar 29 21:11:02 2011 +0000

    Handle case where there's a selection after the last non-empty line.

commit bbaef7f27df72d76dd3562e9be25a1ccc2187434
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Mar 29 18:38:07 2011 +0000

    Apply patch from Tejas Dinkar to add a hidden setting for visor animation. Make sure menu bar's hidden status is correct with fullscreen visor.

commit 93627c0263b823d6a3cc295fdf56519a9d029531
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Mar 29 17:50:37 2011 +0000

    Fix cmd-e to affect all sessions. Clear matches on cmd-k.

commit 70ea12b45352e4113df9a93746939f7af99b3f6f
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Mar 29 06:06:05 2011 +0000

    Improve path smart matching

commit ff15a1be2e9b8d2b132d71b19d0db2d86ef8f747
Author: George Nachman <gnachman@gmail.com>
Date:   Wed Apr 6 11:01:55 2011 -0700

    Get git up to date with svn

commit 79f1daad3992930157bcdce016f13d9736b47701
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Apr 6 15:42:22 2011 +0000

    Remove variable stroke thickness from prefs for performance reasons

commit 599ec03f72403c16368cfb632a068b959185527d
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 4 22:58:59 2011 -0700

    Add missing files

commit d1321d040b2d09b331df100e80c255662fa3a638
Author: George Nachman <gnachman@gmail.com>
Date:   Mon Apr 4 22:58:19 2011 -0700

    "Autocomplete.h"
    "Autocomplete.m"
    "DVR.h"
    "DVR.m"
    "DVRBuffer.h"
    "DVRBuffer.m"
    "DVRDecoder.h"
    "DVRDecoder.m"
    "DVREncoder.h"
    "DVREncoder.m"
    "DVRIndexEntry.h"
    "DVRIndexEntry.m"
    "EncodingsWithLowerCase.plist"
    "English.lproj/Autocomplete.xib"
    "English.lproj/FindView.xib"
    "English.lproj/GlobalSearch.xib"
    "English.lproj/PasteboardHistory.xib"
    "English.lproj/iTerm2 Help/"
    "FakeWindow.h"
    "FakeWindow.m"
    "FindView.h"
    "FindView.m"
    "FindViewController.h"
    "FindViewController.m"
    "GlobalSearch.h"
    "GlobalSearch.m"
    "NSDateFormatterExtras.h"
    "NSDateFormatterExtras.m"
    "PSMTabBarControl/iTermDiffs/"
    "PTYTab.h"
    "PTYTab.m"
    "PasteboardHistory.h"
    "PasteboardHistory.m"
    "Popup.h"
    "Popup.m"
    "RegexKitLite/"
    "ScreenChar.h"
    "ScreenChar.m"
    "SessionView.h"
    "SessionView.m"
    "TextViewWrapper.h"
    "TextViewWrapper.m"
    "UKCrashReporter/"
    "WindowControllerInterface.h"
    "crash_report_to_plist.py"
    "iTerm.xcodeproj/georgen.mode1v3"
    "iTerm.xcodeproj/georgen.pbxuser"
    "iTermExpose.h"
    "iTermExpose.m"
    "iTermSearchField.h"
    "iTermSearchField.m"
    "images/IBarCursor.png"
    "images/bell.png"
    "images/bell.psd"
    "images/screen.png"
    "images/wrap.psd"
    "images/wrap_to_bottom.png"
    "images/wrap_to_top.png"
    "nightly.sh"
    "ply/"
    "tests/UTF-8-demo.txt"
    "tests/a-harpoon.txt"
    "tests/acid.txt"
    "tests/apple.txt"
    "tests/bogusutf8.txt"
    "tests/bold-complex.txt"
    "tests/bug439.applescript"
    "tests/colors.sh"
    "tests/combiningmark.txt"
    "tests/dw_sip.txt"
    "tests/enclosing-mark.txt"
    "tests/english_and_chinese.txt"
    "tests/greek.txt"
    "tests/harpoon.txt"
    "tests/low-surrogate.txt"
    "tests/radical.txt"
    "tests/ranges.py"
    "tests/register_bonjour_host"
    "tests/reverse_mode.txt"
    "tests/searchtext"
    "tests/set_icon_title.txt"
    "tests/set_icon_window_title.txt"
    "tests/set_window_title.txt"
    "tests/setbg-blue"
    "tests/setbg-yellow"
    "tests/setpal"
    "tests/spaces.txt"
    "tests/spacing-combining-mark.txt"
    "tests/spam-tabs.cc"
    "tests/suits.txt"
    "tests/surrogatepair.txt"
    "tests/too_many_parts.txt"
    "tests/u2000b.txt"
    "tests/zeta.txt"

commit 922081b6d89843e6cd12f7e49711cad9ab4a4036
Author: Jack Chen (chendo) <me@chen.do>
Date:   Mon Apr 4 00:41:27 2011 +1000

    Basic functionality still works even if the shell isn't setting window titles

commit 87aa895311b756d9f905566051b67d2e06a7f597
Author: Jack Chen (chendo) <me@chen.do>
Date:   Mon Apr 4 00:05:11 2011 +1000

    Removed stupid Xcode 4 user data

commit e8e81beba97957b5f5ead52644319714e2d0c828
Author: Jack Chen (chendo) <me@chen.do>
Date:   Sun Apr 3 23:19:39 2011 +1000

    Moved to Xcode 4 and 10.6. Removed ppc arch

commit 42227094c1c4a3852c56c8c07d466d242c0d4ae3
Author: Jack Chen (chendo) <me@chen.do>
Date:   Sun Apr 3 21:57:32 2011 +1000

    Updated README again

commit 8ee45712fa04aa9e868018625428f6b86fa81a8f
Author: Jack Chen (chendo) <me@chen.do>
Date:   Sun Apr 3 21:34:20 2011 +1000

    Updated the screencast link to point to new screencast

commit 06b17596e2ccbe738ea515e413242b73030ab501
Author: Jack Chen (chendo) <me@chen.do>
Date:   Sun Apr 3 20:08:10 2011 +1000

    Remove all working directory entries when the buffer is cleared

commit 914f2d6ceb00c40e7912917e91b92e407d89b400
Author: Jack Chen (chendo) <me@chen.do>
Date:   Sun Apr 3 15:01:00 2011 +1000

    Renamed MITS/Trouter to Semantic History

commit 58a69b54e19531859cf30886fc3040e253b2f12b
Author: Jack Chen (chendo) <me@chen.do>
Date:   Sun Apr 3 14:17:18 2011 +1000

    Added alpha2 change log to README

commit bd00c3f74e4bafb539c92833cbb5ad67f9e233ad
Author: Jack Chen (chendo) <me@chen.do>
Date:   Sun Apr 3 12:52:24 2011 +1000

    Scrolling with wheel should always scroll at least one line

commit 445e36291de6c7ec44b7b7c71ce927b8fa8f2af0
Author: Jack Chen (chendo) <me@chen.do>
Date:   Sun Apr 3 12:38:42 2011 +1000

    Building with llvm/clang cause it's better

commit b601a07781980d594e16fec6e68723039d65f6c0
Author: Jack Chen (chendo) <me@chen.do>
Date:   Sun Apr 3 12:16:03 2011 +1000

    Rewrote isTextFile to use `file` since it's more reliable

commit 53901e583fa53858c6814b250936ea23c8e3c349
Author: Jack Chen (chendo) <me@chen.do>
Date:   Sun Apr 3 11:57:41 2011 +1000

    Fixed Trouter with absolute paths again.

commit 4973eb305aae9eafde6d1150350b6ad02eff50cc
Author: Jack Chen (chendo) <me@chen.do>
Date:   Sun Apr 3 02:28:17 2011 +1100

    Added a ^C to change directory cause we shouldn't whatever's typed into the buffer

commit e21c5a00b50c73ea7cfe9fae6599b7afae2e2537
Author: Jack Chen (chendo) <me@chen.do>
Date:   Sun Apr 3 02:22:42 2011 +1100

    Added alpha1's changelog history

commit 4270347bb265d828ed4637802470d41fd1060bea
Author: Jack Chen (chendo) <me@chen.do>
Date:   Sun Apr 3 02:17:11 2011 +1100

    Fixed up an if statement that was causing the shift key to not work

commit 7a1dd024e3c7ce7dd41f4dceb21107d9c42dd431
Author: Jack Chen (chendo) <me@chen.do>
Date:   Sun Apr 3 02:14:27 2011 +1100

    Option sucks, Shift is better

commit 9857a3157208f4195b9d3a65fe3cd4c564bc7e38
Author: Jack Chen (chendo) <me@chen.do>
Date:   Sun Apr 3 02:12:16 2011 +1100

    Use absolute paths when changing directories

commit b002e2b60018e55eb6995ff2556a225a6fadbc24
Author: Jack Chen (chendo) <me@chen.do>
Date:   Sun Apr 3 02:08:53 2011 +1100

    Updated README

commit 72d55b223a841d12e7f4f953fd9241de0822cbed
Author: Jack Chen (chendo) <me@chen.do>
Date:   Sun Apr 3 02:03:49 2011 +1100

    Command + Option + Click does `cd <path>; ls` if it is a directory.

commit d58bc9d4e26a97db81527bcbdfd19665acf8b84f
Author: Jack Chen (chendo) <me@chen.do>
Date:   Sun Apr 3 01:43:04 2011 +1100

    Now tracking working directories. Trouter functions work on paths that
    are no longer the shell's current directory!

commit 0f42f218ad9b758d9f7f9903f2914b39d26b0e3c
Author: Jack Chen (chendo) <me@chen.do>
Date:   Sat Apr 2 23:44:37 2011 +1100

    Updated README

commit 679ca3991354a87b7b84bf6f138b0e445185560a
Author: Jack Chen (chendo) <me@chen.do>
Date:   Sat Apr 2 23:38:23 2011 +1100

    Re-added external script support

commit c128c71e2a9d8b2441a1df7b3983f1216bdf027a
Author: Jack Chen (chendo) <me@chen.do>
Date:   Sat Apr 2 23:29:03 2011 +1100

    Fixed a warning and unaccidently'd a forgotten part of a refactor

commit 9e715c19c5938ac39faaf8c0716a9df63bb28c51
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Apr 1 20:02:55 2011 +0000

    Fix how inet_ntop was called. Fixes bug 519.

commit 3d3d90dd3a125e67f47dc20faa19abde012bacd6
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Apr 1 19:53:55 2011 +0000

    Fix leak of job name

commit d75a85d526994a0d40bf3939979733a4f4cf62d0
Author: Jack Chen (chendo) <me@chen.do>
Date:   Fri Apr 1 21:13:02 2011 +1100

    Added untested BBedit support.
    Renamed getFilename to getFullPath and made it actually return full
    paths.

commit 7d007235304491e140cce02e0bda69487b4819fb
Author: Jack Chen (chendo) <me@chen.do>
Date:   Fri Apr 1 18:14:15 2011 +1100

    Added dragging paths and files from within the shell!

commit 6e5c6465cdaf8678b132f21334ea894130f210d8
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Apr 1 05:37:45 2011 +0000

    Split panes using the original profile of the source pane.

commit 159534eae32310232eea42b64d36e7bb024018a5
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Apr 1 05:25:10 2011 +0000

    Use same baseline for bold secondary font as for regular secondary font. Fixes bug 760.

commit de7893b894c4021e3a9c9f27655e9ffd27b99818
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Apr 1 03:52:04 2011 +0000

    Fix bug where right click didn't open context menu

commit 1fa6c9259833526746e0a9d5a7b9d2d41e8463fb
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Apr 1 03:49:27 2011 +0000

    Change split pane dimming. Improve docs.

commit 11b6c06efe56498beafcb4d504fb4113b18e0f94
Author: Jack Chen (chendo) <me@chen.do>
Date:   Fri Apr 1 10:33:56 2011 +1100

    Made line number support work nothing after file.ext:XX:

commit e4c5323336cfb8eba101cf67962f4eb262d0000a
Author: Jack Chen (chendo) <me@chen.do>
Date:   Fri Apr 1 08:38:10 2011 +1100

    Added more stuff to the README

commit 41e2377b5603a85d3e0634b2bbd7082d561bf7c4
Author: Jack Chen (chendo) <me@chen.do>
Date:   Fri Apr 1 08:37:06 2011 +1100

    Default to `open` if there are no valid text editors

commit 198d6f4c73b9f59a7b53a0900684a04f0c54a99c
Author: Jack Chen (chendo) <me@chen.do>
Date:   Fri Apr 1 01:53:44 2011 +1100

    determineEditor crashes if it doesn't find the application >_>

commit 6bec1a65f01966789915a58a6de2e73f8f49da4a
Author: Jack Chen (chendo) <me@chen.do>
Date:   Fri Apr 1 01:29:13 2011 +1100

    Added a link to the downloads page in the README

commit ad35f0555351e618f60494558198cca92fc84d86
Author: Jack Chen (chendo) <me@chen.do>
Date:   Fri Apr 1 01:19:14 2011 +1100

    Tweaks to the README

commit f85f5abecb548ddbf24d6c6ca1ef4b3d5df30973
Author: Jack Chen (chendo) <me@chen.do>
Date:   Fri Apr 1 01:09:44 2011 +1100

    Added a README

commit 7285dbbed54a7f402000ff9bfccafd37b2b14759
Author: Jack Chen (chendo) <me@chen.do>
Date:   Fri Apr 1 00:52:00 2011 +1100

    Renamed routePath to openPath

commit 1a356270f10d17c57407d89b60c5f1157e47f1ec
Author: Jack Chen (chendo) <me@chen.do>
Date:   Fri Apr 1 00:49:51 2011 +1100

    Refactored filename resolution into a getFilename method

commit 56ac2ed7c965eb198974b5fdd53993c65f7b7812
Author: Jack Chen (chendo) <me@chen.do>
Date:   Thu Mar 31 23:36:08 2011 +1100

    Moved working directory and path joining into Trouter and added isTextFile method

commit 96501246fcc8980419913e237a4eab0fe0fe635d
Author: Jack Chen (chendo) <me@chen.do>
Date:   Thu Mar 31 21:17:45 2011 +1100

    Line number support reimplemented

commit 8ed91849945965fd0bdb8fff95147e836ebdc6e1
Author: Jack Chen (chendo) <me@chen.do>
Date:   Thu Mar 31 21:01:11 2011 +1100

    Fixed a declaration mismatch

commit aa163c34eb2e3cc2049d5b535e7dc9efbc75c2aa
Author: Jack Chen (chendo) <me@chen.do>
Date:   Thu Mar 31 20:23:11 2011 +1100

    Basic Trouter functionality re-implemented in pure Objective-C

commit b73a63718efb4d2ea43ffac6a0e404fba62be98a
Author: Jack Chen (chendo) <me@chen.do>
Date:   Thu Mar 31 18:59:48 2011 +1100

    Moved getting working directory into iTerm

commit 86c5b0f50d7a52a5e5cd58b36a7d277f0609f920
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Mar 31 04:09:38 2011 +0000

    Make shift-arrows move through IR faster.

commit 357e1fb09674c310985fa01953e7d9256b680110
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Mar 31 04:06:59 2011 +0000

    Improve URL regex. Handle smart matches that go to last char. Give URLs higher precision that email addresses to handle URLs with username/pw that look like email addrs

commit af1b5e850e5174ceb97a86644c0b0cba8739128b
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Mar 31 03:46:54 2011 +0000

    Improve regex for paths. Fix smart-select-and-drag.

commit 2b695a848d74a31ced5a533289e5037c030411d6
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Mar 31 03:34:39 2011 +0000

    Update docs

commit 67c83cda8d896968684d487a0c3a0677cb088515
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Mar 31 03:30:23 2011 +0000

    Try to fix bug 753 by ignoring drag events where the mouse isn't down.

commit 7575c151e01d20479ff1ad7c6e4550de76319ecb
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Mar 31 02:59:03 2011 +0000

    Swap triple and quad click functions. Fix url regex.

commit 146ee763b862f1161ce2d530f32a88cfdcf3d592
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Mar 30 07:37:49 2011 +0000

    remove text indent

commit 8c9888da2e92e02809f38f6e2df660363b51100a
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Mar 30 07:23:41 2011 +0000

    Update docs to latest version

commit ac7b949de2ee12705796435ca659935e2577ce3c
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Mar 30 06:13:30 2011 +0000

    Add dot to URL smart match pattern. Update help to match website.

commit 4aef6426a769134b93febb5c14200692c670989c
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Mar 30 00:35:43 2011 +0000

    Fix ghosting issue. Fixes bug 299. Speed up find ui's animation.

commit ea8798d4a7994ef0496fbc1305c746a50a862209
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Mar 30 00:00:51 2011 +0000

    Make fullscreen visor window work better with focus follow mouse. Send visor to back of app's widows when closed.

commit 1c1aabbf25a7726dacdbf72895c604c10eb5af23
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Mar 29 23:51:40 2011 +0000

    Allow you to unregister a profile for a url scheme. Fixes bug 752.

commit a75ff116e29452d8c54b0cb3a17de1fd99655682
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Mar 29 21:11:02 2011 +0000

    Handle case where there's a selection after the last non-empty line.

commit d688f102c416bd91b683514544c5f583ae388644
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Mar 29 18:38:07 2011 +0000

    Apply patch from Tejas Dinkar to add a hidden setting for visor animation. Make sure menu bar's hidden status is correct with fullscreen visor.

commit ba932c4298338f5d90baa8f9aeeb4f671daa7570
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Mar 29 17:50:37 2011 +0000

    Fix cmd-e to affect all sessions. Clear matches on cmd-k.

commit 1830b42deedbff52cc1a5bfadb0bba4ae7e8cb3d
Author: Jack Chen (chendo) <me@chen.do>
Date:   Tue Mar 29 23:33:49 2011 +1100

    Call external path handler if openURL gets an invalid URL

commit 534e3019e1565228c93d957f405106ce43b17862
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Mar 29 06:06:05 2011 +0000

    Improve path smart matching

commit f82c0ea8a9334e867b09f267bc4d2bdf6100e2c5
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Mar 28 07:40:55 2011 +0000

    Change blackColor and yellowColor to calibarated colors in PTYTextView

commit 896270e34294b1c9abc997a64a19ef322c98a96d
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Mar 25 18:22:11 2011 +0000

    Smart select on triple click, whole line on quad click

commit c781bfb5c28cb2eadbeed46b4f4b9529d8cd6e35
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Mar 25 17:05:16 2011 +0000

    Change keyboard action to popup button, which behaves better (it doesn't add an item equal to the current selection).

commit e30d5b7654af3ef1f5a2b309c1cbbb9653db4ec3
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Mar 24 07:28:01 2011 +0000

    Don't assume that visor is on main screen. Add commented-out code for smart matches.

commit 0a32bc1ca7203d8372102e70756eba230f48a894
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Mar 24 02:04:37 2011 +0000

    Fix bug where focus incorrectly returns to hotkey window after closing popup.

commit 3460636e0aecbc2080e31a586fc5ce87d51e7c52
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Mar 23 05:56:25 2011 +0000

    Only set LANG to the reported locale if it makes sense according to setlocale(), otherwise only set LC_CTYPE to the encoding. Fixes bug 743.

commit b4c01f32f12d6ecd1050e6a39553c9446bca4ced
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Mar 23 05:48:34 2011 +0000

    Don't wrap around hard newlines when grabbing URLs. Fixes bug 739.

commit 2ed5ed9b67d0e56f66c78e1fb94b44fbee8354a6
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Mar 23 05:20:20 2011 +0000

    Preserve window numbers when a window closes. Fixes bug 746.

commit 10445f00831f2a4ba2f0e59f8199a2b44782ff35
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Mar 23 04:55:57 2011 +0000

    Fix leak when changing toolbar and app menu items profiles. It was especially visible with Bonjour. Fixes bug 705.

commit 475ad3f8360e94122aa6a8f4a617066ff4ebcb3a
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Mar 22 16:27:00 2011 +0000

    Fix crash on autocomplete.

commit 122fa676e5ee39362b4592458c6576a745dc7a79
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Mar 19 22:45:43 2011 +0000

    Add preference to disable blink. Fixes bug 344.

commit e5b0bde61d1d7044a757f6a74217983fd2859f89
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Mar 19 21:04:24 2011 +0000

    When scrolling a region with SCROLL_BOTTOM < HEIGHT-1 but SCROLL_TOP=0, add the top line of the screen to the scrollback buffer.

commit d8558325e21459e1d3c0918ec01c866a8cca2a95
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Mar 19 19:21:27 2011 +0000

    Do not show non-hotkey windows when the hotkey window closes. Fixes bug 734.

commit a5e213a588f31ada02170e0237621dcc96b268d9
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Mar 19 19:00:44 2011 +0000

    Only preserve profile name in session-set title if global show-profile option is on. Fixes bug 733.

commit c0a54ac757f19c03ed80566f2ac20d1fb6814c2f
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Mar 19 18:40:16 2011 +0000

    Add pref for border around window. Rename Send Input To All Tabs to Send Input To All Sessions

commit d5243041312c8cf7a4fee993224482d1b0bf3501
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Mar 19 17:31:36 2011 +0000

    Set either LANG or LC_CTYPE (if language is not knowable). Seems to work like Terminal, now.

commit 523782cac80d5e5226e89df34d16ebe60c12160f
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Mar 19 17:06:20 2011 +0000

    Simplify how locale is determined. Just concat all available of: language, country, encoding

commit 4df801de430591520f237bb11541f23ccd6e843f
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Mar 19 16:42:42 2011 +0000

    Use login when possible to keep utmpx updated. Remove warnAboutDirsAndBash.

commit 304d0dc4f8047ae26c62e33af0c0eec5d5d3a96c
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Mar 18 23:04:29 2011 +0000

    Stop running login; instead detect the user's shell and launch it with - as the first char of argv[0]. Also change how locale is detected. Fixes bug 588.

commit bfd0a0e7fca388f23bb1feda53d4d313db2357e2
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Mar 17 05:26:40 2011 +0000

    Use kill instead of killpg which seems to terminate more subprocesses. Fixes bug 370. Also fix a crash in -[PTYSession brokenPipe] caused by a dangling PTYTab pointer.

commit 7c26d5039c275253032af5138baa45c1e6ad7c14
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Mar 17 04:49:50 2011 +0000

    Reduce time of split pane dimming animation. Fixes bug 724.

commit 6d4b4a695ccaffcb197d976a8715328e2a4ddd57
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Mar 16 05:44:44 2011 +0000

    Don't overwrite name when copying session to profile.

commit 51b548350a1efb589b111118035bf0ec4464e12b
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Mar 16 04:42:24 2011 +0000

    Add a 'copy to profile' button in session info. Fixes bug 662.

commit 98e4fd9556bb1b8ffd0e6a88467bc355541c19e1
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Mar 15 18:26:27 2011 +0000

    Don't order windows in/out when showing/hiding visor. Improves behavior when switching spaces.

commit 73593b25f6e7ca30ea4f9093b2d31488a50862e0
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Mar 15 06:16:03 2011 +0000

    Disable transparency when window type is fullscreen. Draw border of fullscreen window properly when it is not transparent and there is no bg image. Fixes bug 700.

commit aad48ad520dad7c6892289ead6115f309ca40e7c
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Mar 15 05:50:29 2011 +0000

    Add key preset that disables application keypad.

commit bbc45d021ee8bf50930042efffccd5edfe8825b1
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Mar 15 03:40:25 2011 +0000

    Accept first click on text areas. Fixes bug 720.

commit b3ff4c6cbd80fe3e3f09d45413fe42cd6882e2fb
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Mar 15 00:54:34 2011 +0000

    Fix how transparency is drawn. Automatically generate a visor profile when feature is enabled.

commit 9748c4636bd1312ded96c506152f9452d982c067
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Mar 14 17:18:57 2011 +0000

    Move ambiguous width char pref from terminal to text tab.

commit 0d4f295138433a48eaca1f16dd127dfe82436d24
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Mar 14 07:17:02 2011 +0000

    Move hotkey stuff to keys tab of prefs.

commit 688c089ff1d5fd1a25ba7c4d64dffd97479c1ca3
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Mar 14 07:06:30 2011 +0000

    Add new key actions to open window, tab, split horizontally, and split vertically, allowing you to specify a profile.

commit 3f145906934d3e0a2cc95348de1a10cfa2b198a7
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Mar 13 23:53:26 2011 +0000

    Make esc, left, right arrow close/step in IR. Don't close IR bar immediately on entering live view. Fixes bug 601.

commit 75eab79008719ef54303846eea72210b7a6333ac
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Mar 13 23:15:54 2011 +0000

    Focus search field when opening profiles window. Fixes bug 367.

commit 25895e40b26d8e98613b4fd46ca145ebd7b921cc
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Mar 13 23:02:00 2011 +0000

    Add pref to disable alternate screens. Fixes bug 324.

commit 8e46c1ed67bd8eed1cc5e0a354161f15b78e3165
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Mar 13 21:51:17 2011 +0000

    Move delete-sends-^h setting to profiles. Migrate legacy setting. General code cleanup in a few modules.

commit b74ba8958656adcf9f18b4e2078b9a0b59721042
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Mar 13 19:50:24 2011 +0000

    Remove global growl setting. Prevent 1M from showing in scrollback lines when using unlimited. Rearrange prefs, removing Advanced tab.

commit 821a45e087e8b06a752fbe430f2a937965ae611c
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Mar 11 19:00:13 2011 +0000

    Add proprietary escape code to set cursor shape.

commit d1044eaaf19ef302395dcb0c6795d876abd738b1
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Mar 11 09:15:02 2011 +0000

    Move url scheme handling out of advanced and into profiles.

commit 2ababb8b494984a68c3477dc2b1393b2e24e2f17
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Mar 11 08:09:26 2011 +0000

    Move a lot of prefs into profiles. Add another tab to profile prefs. Rearrange prefs generally.

commit 9b61bcf4d33eecfe4614c416775fc4064875ba0a
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Mar 11 06:05:26 2011 +0000

    Make find view shrink when window is narrow.

commit ae9aab0c3ec3b10800ac18e91157b8a9872fd647
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Mar 11 05:46:49 2011 +0000

    Fix bug where exiting IR resizes window. Simplify bottom bar code because findbar is gone. Fix crash when doing search on empty string.

commit d8bad73d490beff0fc41770775624e4978e42fca
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Mar 11 02:43:54 2011 +0000

    Add prev/next pane support. Fix crash when closing an inactive tab in which one pane of many has closed itself (characterized by a call from NSTextInput to PTYTextView respondsToSelector, but often dying in obj_msgsend_vtable5 or the like).

commit 838a41d7dc00d9aedfa342eae0084c111c14779e
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Mar 10 18:01:38 2011 +0000

    Insert event tap at tail for compatibility with Synergy. Fixes bug 685.

commit 8ad5d1bb67d72a24f883402002f1b8b5fc8a445c
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Mar 10 08:29:02 2011 +0000

    Fix some warnings

commit e3758a75b440a61211a860f58877134684c0fd86
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Mar 10 08:09:05 2011 +0000

    Flash a graphic when search wraps around.

commit 5960d6597b2dcb85b97f819d10aa8d20f9c1e841
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Mar 10 07:36:14 2011 +0000

    Fix cmd-g forward search and fix a warning.

commit a003689d93e2a224c5f9a6603d6177fdf40cdc4c
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Mar 10 06:59:00 2011 +0000

    Fix memory leaks in search. Reset highlights when window resized. Make prefix search optimization work again (init method wasn't called in find view ctrl)

commit cabed24287877e1adb652e62db6e902f6c8fae47
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Mar 10 06:32:16 2011 +0000

    Performance improvements for search. Fix bug where ignore case and regex worked inconsistently.

commit edb837cebea970647a793d6a5d618af74dd6b6dd
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Mar 9 19:56:50 2011 +0000

    Make find highlight all matches. Fix checkmarks on ignore case/regex. Make bell flash a graphic instead of blinking the screen.

commit c8e72c9bae8ef885547664b87b2e6130b9684618
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Mar 8 03:44:50 2011 +0000

    Have PTYSession not listen for iTermTabViewWillRedraw notification, which caused the entire window to redraw. I don't remember why I implemented this in the first place, but taking this out really speeds things up with many tabs and a large window. Let's see what breaks...

commit 51e4e1759adf0b3d4ebebed68f9d024bde9ecb80
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Mar 3 08:48:47 2011 +0000

    Show job name in title by default. Fixes bug 690.

commit 4039e1ada43dac114e6cd812dfa51c444729784e
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Mar 3 08:46:58 2011 +0000

    Add FindView.xib

commit 86cb7fb542a5361694ade3eea98b3ead37a37aa3
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Mar 3 08:45:59 2011 +0000

    Add FindView files.

commit 6df94b4a8be4165ad94239b546508dac3481c9cd
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Mar 3 07:38:28 2011 +0000

    Confirm overwriting saved window arrangement. Fixes bug 686.

commit 4143b7862550a8b72f1b065147609e57faded797
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Mar 3 07:32:38 2011 +0000

    Fix bug where fullscreen windows (by display setting) can't exit fullscreen properly. Fixes bug 627.

commit ec27225cfd1b5a4959d72ed3d21723cf77b97a8b
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Mar 3 07:27:11 2011 +0000

    Dim inactive panes less, and not color-sensitively.

commit ec284b64adaa989b4108c5677b6b9a61e6cae0a5
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Mar 3 07:23:37 2011 +0000

    Confirm quit only if there are nontrivial windows open. Fixes bug 677.

commit 11d270ef43f6951ca3fb2aa6a5f242ddd2fe3ff3
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Mar 3 07:09:41 2011 +0000

    Make find ui drop down from top of pane instead of living in bottom bar.

commit 2c3fb59a4a1ac216d5a4c3ca4a539231eb9b05e0
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Mar 2 05:56:28 2011 +0000

    alpha17

commit 220c16b9f09ad2114cf4fbe0849724daf12aff87
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Mar 2 04:45:53 2011 +0000

    Improve wording on smart cursor color warning alert.

commit 5a77a83d4b6a398bfd3f48b3aac9255b84333144
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Mar 2 03:04:23 2011 +0000

    Print a warning when the user tries to change the cursor color if smart cursor color is on.

commit e4f0c1be621a29425c9ce8a7cb043016fb2347cf
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Mar 1 17:06:07 2011 +0000

    Fix assertion when inserting a tab while the cursor is at cursorX==WIDTH and another when cursorY==HEIGHT.

commit 0ce3baeda2aaa4619cb7b707669a0331bc22aed2
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Mar 1 05:30:01 2011 +0000

    Make hotkey window work better with focus-follows-mouse (it would hide the hkw immediately sometimes)

commit cf17e47a0ad6f1b04410d8081e3d06170f44c6e4
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Mar 1 04:59:19 2011 +0000

    Fix bug where action was always Ignore when editing a keymap. Rename address book (entry) to profile/profiles. Fix warnings. Allow global keymaps to menu items to work when terminal is not key. Fixed appearance of New Tab icon in toolbar.

commit 4099fd8c76064ae9f939b2f54b2257d9d0dbf8c4
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Feb 27 21:26:58 2011 +0000

    Respect use-transparency setting when there is a background image. Fixes bug 627.

commit bc7e680e3b2abdca1d3024d4bd5d1c78e67cfb83
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Feb 27 21:17:26 2011 +0000

    Don't move window when closing findbar if it was moved after opening it. Fixes bug 625. Don't resize window when opening findbar if it has horizontal splits.

commit 1a4dcfcb121b78b178cbf68323e46ad4b9708527
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Feb 27 02:29:05 2011 +0000

    Make cmd-shift-bracket change tabs by menu option and add cmd-left/right arrow to default global keys. Fixes bug 622.

commit ae91775bd8228c7b378d108815fc33b36dcb0612
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Feb 27 02:20:27 2011 +0000

    Reject hotkey if any modifier besides the specified modifiers is pressed. Fixes bug 621.

commit 9254135ee8ecf22357e18190567e2944b2190522
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Feb 27 02:18:09 2011 +0000

    Improve smart cursor color to work right with inverted colors and consider nearby background colors to ensure the cursor is always a different color than its neighbors. Fixes bug 606.

commit 3940332d55620f1957601204632863a5577e548f
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Feb 27 01:21:03 2011 +0000

    Clean up toolbar. Fixes bug 542.

commit 212d46f6430147b769cce5805546fef353938014
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Feb 27 01:17:15 2011 +0000

    Stabilize window hight when exiting IR. Fixes bug 534.

commit f1dfb40d9decb8c7cbc1b9dab85b29975d564198
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Feb 27 01:06:25 2011 +0000

    Respect bookmark's growl setting. Fixes bug 512.

commit ce88952ec84e16312f05797896bf064c805b3852
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Feb 27 00:12:58 2011 +0000

    Remove 10.6 restriction on dimmed panes. Dim panes by modifying colors rather than having an overlapping view. Fix bug where sometimes char in frame cursor has wrong color.

commit b568564e9201fcc3769a883a8af28c1af418e77a
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Feb 26 21:32:01 2011 +0000

    Fix crash on exit where NSWindow is freed before PseudoTerminal dealloc. Undoes change in r590.

commit 11ac4585e174b00fca113d3068160449db73d43d
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Feb 26 21:26:24 2011 +0000

    Fix annoying thing where window would get shorter when you split hit horizontally. Instead of making the window perfectly fit the rows, just allow larger margins.

commit b5d037b185e1906963909b13eb0f0583c9c61839
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Feb 26 21:17:43 2011 +0000

    Remove unnecessary (I hope) call to fitWindowToTabs when hiding findbar. Fixes bug 561.

commit cf64daa447d02818911661df103c7d3f9835b504
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Feb 26 02:59:04 2011 +0000

    Improve looks of cmd-i window. Fixes bug 629.

commit dde33b9edbfe6afe5f0258a67c8ff6765cdfc612
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Feb 26 02:39:39 2011 +0000

    Do not open visor under dock when dock is on left. Fixes bug 665.

commit 078c24d2b8b3b4f83ab7323f8a219540bc62b352
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Feb 24 19:34:39 2011 +0000

    Fix bug where pasting when pasteboard is empty crashes.

commit b7b0f53bf92606b7b63109ff45c27c2cce030eaf
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Feb 24 19:06:43 2011 +0000

    Fix bug where a new window was created each time the visor hotkey is pressed

commit fd9ee68f4bc7459fdd0a01b73b19f3b3afe8e1e4
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Feb 24 18:51:29 2011 +0000

    Fix assertion on 1-line-tall sessions.

commit a9abe447daede0747e8a59903c8c192a088ae905
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Feb 24 18:47:07 2011 +0000

    Fix assertion when erasing line while cursor is in WIDTH position.

commit 3f0e9f6b11c9d752d04883b8c5cc0be3dadb0efa
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Feb 24 18:28:42 2011 +0000

    Fix assertion when blinking cursor in last column.

commit 3850285175a59ff4334468f2a8a82196650bf955
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Feb 24 07:03:41 2011 +0000

    Fix some warnings

commit 1c2d3f862a5f675a868b9b393a3672d7b49bb4e7
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Feb 24 05:58:52 2011 +0000

    Don't hide normal windows when visor opens, just set their alphas to 0. When visor closes, unhide but don't become active (unless iterm was active before the visor opened). Fixes bug 591.

commit 4eb99b1e775dccab9358b4ec85c7eebeacb3e0be
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Feb 24 04:48:06 2011 +0000

    Add ctrl up, down as xterm keybindings. Fix bug where text field in keybindings panel wasn't editable. Fixes bug 655.

commit f1020275a4a230c85672924bb48a055b28a6544e
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Feb 24 00:11:02 2011 +0000

    Remove shift-arrow, shift-home, shift-end from default global keymap because it conflicts with default abe key binding.

commit 91d58a1dc40d00bf3639d114f7ef14c434a5b733
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Feb 24 00:03:20 2011 +0000

    Remove delete, all 'send text/hex code' values from default global keymap. Add various navigation shortcuts to global keymap that were in basic defaults and xterm. Fix bug where key binding panel always shows Ignore regardless of the actual action. Fixed bug where Load Factory Defaults for global keymap didn't work. Remove basic defaults keymap because it is now all in globals. Add control-number values to default bookmark and xterm keymaps (fixes bug 657). Remove delete from xterm, default keymaps. Update default bookmark with modern version, including updated xterm keymap.

commit 61b461ca3c03b4b5ed6edc7a2c475221fb0d1716
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Feb 23 21:28:07 2011 +0000

    Don't maximize when restoring maximization unless needed. Fixes bug 630

commit cc13ee0cf4081e85a7a757a812a45908f9b2e562
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Feb 21 09:17:00 2011 +0000

    Add nightly.sh script for releasing nightly builds.

commit 8a957690e35d71312bf8a6828a86f822c66adb61
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Feb 21 09:11:53 2011 +0000

    Change Enter Full Screen to Toggle Full Screen. Fixes bug 652.

commit 5edf7d2c4625aebfa04ca94800cfdcf584612093
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Feb 21 09:01:21 2011 +0000

    Prevent hotkey window from hiding when a popup opens or closes. Fixes bug 613.

commit d1cde55ce394f6c6a968bb3f1015880f4968eb6f
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Feb 21 08:22:21 2011 +0000

    Disable focus follows mouse for expose and popups. Fixes bug 505. Fixes bug 613.

commit 66a602c01b627690a0de3fbde071b68c0692d3ea
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Feb 21 08:13:45 2011 +0000

    Allow prefs panel and ab window to be closed with cmd-w. Rename 'close session' to 'close'. Fixes bug 607.

commit f2b96b61dc65be4876ccd1dbbfd1eb81526bdfe2
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Feb 21 07:45:55 2011 +0000

    Paste full path when a file is in the clipboard. Fixes bug 531.

commit 7c5619c615d84db96fea92626630fc82e740c38a
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Feb 21 07:22:27 2011 +0000

    Fix leak when setting keybinding. Fixes bug 510.

commit c24c438c4860d8a1966c4c6b9569fd6d2817e758
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Feb 21 07:11:24 2011 +0000

    Add script that prints color test

commit bf077d5fed2212e6744e89ea8db910e055521e2f
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Feb 21 07:08:12 2011 +0000

    Fix bug in PTYTask that might have caused heap corruption by treating num bytes as num pids in getFirstChildOfPid.

commit 6abbb84055a132ec738dd616035ad3577b270d10
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Feb 21 06:52:40 2011 +0000

    Remove excess logging. Allow cursor to draw in the margin when cursorX==WIDTH.

commit 5f6e166c1f86378529338eef6402898294b61757
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Feb 20 21:22:10 2011 +0000

    Fix drawing metal tabs to not erase shadow line. Fixes bug 651.

commit d2ca9ff3e8969f1d29668ca77fbf65217794b1e6
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Feb 20 21:10:17 2011 +0000

    Warn about having option send meta. Default to left option sends meta, right option is normal. Fixes bug 649.

commit 57f6951afb583232ee712fbe304fd77c2f4ae2fa
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Feb 20 07:43:43 2011 +0000

    Fix a crashing bug while saving selection. Use proper encoding for saved selection. Suggest filename based on date when saving selection. Improve menu item title for saving selection.

commit b2010830967bf22cdb0ae990bf4d5599cd2e46fd
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Feb 20 06:56:01 2011 +0000

    Fix crashing bug in -[LineBlock convertPosition:withWidth:toX:toY:] when searching for double-width chars.

commit 44edf76e7fdcef675ba7c66062d2931e60d42606
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Feb 20 05:52:33 2011 +0000

    Make pseudoterminal window first responder before destroying it to try to prevent a crash in -[NSView _endEditingIfFirstResponderIsASubview]

commit 5000391db4a5b0f93c7bc2b09dbe83cf23215687
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Feb 20 03:28:46 2011 +0000

    Try to defend against using a freed DVRBuffer causing a crash in DVR firstTimeStamp.

commit 1d6bd38afe7fc4e188d4ff7fef649295ffbd4915
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Feb 20 03:19:49 2011 +0000

    Be a bit more paranoid when freeing old DVR entries to avoid a crash (not sure this will fix it, but at least it'll hit an assert if things are crazy).

commit 243445436715c66a9c2e1796e9ff9d6c1a6d575b
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Feb 20 02:57:44 2011 +0000

    Add tool to convert crash reports into plist files for testing.

commit 32849ffcbde95c7fca6fcd55821e54cb7687b149
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Feb 19 19:29:51 2011 +0000

    Second try to fix Sparkle hang. Keep a list of pids that need to be wait()ed on and wait() on them until they're good and dead. Fixes bug 475. Fixes bug 458.

commit 4cad77eba8bc390afceceb9372df4a2f7466545d
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Feb 19 08:37:52 2011 +0000

    Do not wait() for children; instead ignore SIGCHLD so we don't need to wait. Fixes bug 460.

commit dd082bb7d825d1526078099ab249e697e79012b4
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Feb 19 08:26:22 2011 +0000

    Fix warnings in PTYTask

commit 6b0add1de8b8566549dbe243219c7573324af3d5
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Feb 19 08:01:33 2011 +0000

    Unregister event tap at exit to solve race condition that caused occasional crash-on-exit.

commit 017d41cfd21ba08c79fe22cc9009db8d2f3aa50f
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Feb 19 07:24:14 2011 +0000

    Fix crash when closing session after/while using slow paste.

commit db9fc456b56f2c0d82583abc1b6c4201a1795288
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Feb 19 07:01:59 2011 +0000

    Fix crash while removing outdated keybinding while prefs window is open to bm->keyboard

commit 48d15baca78c75cd60db996ef795d6d0e9fe3176
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Feb 19 07:01:20 2011 +0000

    Fix possible crash in clearScreen.

commit aed06259d2f517e93bbd5c965aaa506f49a8958c
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Feb 18 07:35:59 2011 +0000

    Ensure changes to dirty never overflow or underflow (there were several cases where they did). Fixes crashing and heap-corrupting bug 489. Also improve appearance of fake bold antialiassed by not drawing shifted by 1 pixel. Fixes bug 639.

commit 8b2c6621cefb7bb347d40e4f29800616e2fb1b1b
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Feb 15 22:09:54 2011 +0000

    Fix some prefs panel bugs.

commit 165830e0e8089c0790dc68ff354e8c344d0a5c02
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Feb 15 19:46:09 2011 +0000

    Remove bogus textfield from display prefs panel. Fix warnings in xib files.

commit f5b6bc93ae04579c2c03cc695d7a87aedf4aafd8
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Feb 15 09:08:46 2011 +0000

    Improve regex search. Remove dynamic * to + rewriting. Handle ^ and $ properly. Make forward regex search work correctly. Make forward non-regex begin at first char after prev match.

commit 5e2130855cf0dc99b5a80eaefd65a2f1d3d5d452
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Feb 15 02:51:08 2011 +0000

    Add pref to confirm quit command. Fixes bug 357.

commit aa020d37c7d435debd65dc34d9242ffc46265450
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Feb 13 18:34:00 2011 +0000

    Change tab number to show shortcut, remove ellipse background. Improved order of modifiers in iTermKeyboardManager.

commit 433bc13c9399c424e051d53d28867e1e4f988a57
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Feb 13 17:24:03 2011 +0000

    Fix regex rewriting to handle [*] as a literal star

commit d94bd041ecc9114870756a29b6e365ff43fc40aa
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Feb 13 02:18:24 2011 +0000

    Add keybinding action to select an arbitrary menu item. Fixes bug 536.

commit 755a9332d11736552f7014f85f2aedd67d5a3f35
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Feb 13 00:59:37 2011 +0000

    Add preference to adjust delay for showing tabbar in fullscreen mode while holding cmd. Fixes bug 532. Pressing another modifier while tabbar is showing in fullscreen doesn't hide tabbar. Fixes bug 557.

commit 32b2e0edca0215e15ff9596bf1484a8995566d22
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Feb 13 00:43:13 2011 +0000

    Add RegexKitLite

commit 4c0830aa7667ffa743923d089f07da9afd68de83
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Feb 12 22:05:25 2011 +0000

    Add regex support to findbar. Fixes bug 521. Save ignores case/regex status in findbar to userdefaults.

commit 4de0225a1142f73d614d6295cc95f8eae2f7bbbd
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Feb 12 06:41:22 2011 +0000

    Fix bug where you couldn't click on the focus follows mouse checkbox

commit 706da31f38f20720f3f3dc7f12bf2eb186d1b7f6
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Feb 11 23:13:42 2011 +0000

    Remove excessive NSLog statements. Add save/jump to mark feature. Remove currentEvent string that was for debugging. Fixes bug 530.

commit 0fc041ce73aaab17cb99c17d0fbaf2bd56272114
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Feb 11 18:03:09 2011 +0000

    Add ability to maximize the active pane, including support for arrangements and exposÃ©. Fix bug where nested splitters have no delegate. Fix leak of sessions. Fix crash in saving arrangement if pwd can't be determined.

commit 6aa47c964b515f9dbf039ca04007f68105015a36
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Feb 11 04:53:24 2011 +0000

    Fix warning in console about toolbar when creating top-of-screen window.

commit 1920f65383c934920eb3f2fbcefb3a8813c4b284
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Feb 11 00:00:49 2011 +0000

    Work around apparent OS bug with sending clicks to next receiver. Fixes bug 614.

commit e2640c9480fcbf34872b35c23231ffb75ddbb928
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Feb 9 23:14:41 2011 +0000

    Clear out tab's pointer to PseudoTerminal when PseudoTerminal is deallocated. Fixes bug 608.

commit 5087b7ac160497e6453d2620f103f67054702165
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Feb 9 17:29:22 2011 +0000

    Speak extended xterm and urxvt mouse reporting protocols. Fixes bug 432.

commit 9e4e8942457db0f5b8de4a2beda7bea1242c27d2
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Feb 9 16:50:47 2011 +0000

    Accept first click for focusing a pane. Fixes bug 597.

commit bdd426b300cd62225a4f9be46b1638829a4e9e60
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Feb 9 04:50:06 2011 +0000

    Add apple character to tests

commit 1ec21f7b59c3c1b74fa31fc66e54d91089dfdec0
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Feb 9 04:49:41 2011 +0000

    Allow wide chars to overlap adjacent cell. Fixes bug 515. Display apple char. Fixes bug 497.

commit 2c14ca88de1c92366b0381753eeec8332ae838b7
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Feb 8 23:56:53 2011 +0000

    Rollback unintentional commit of certain files.

commit e2ea3427a544707f374cf7dc5f75b3e2972485b4
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Feb 8 23:54:08 2011 +0000

    Warn about the deleterious effects of not starting in your home directory. Fixes bug 588.

commit df049cbef43044ded8dcbf5b6903ac25d29e1dcb
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Feb 8 23:34:56 2011 +0000

    Roll in hotkey window when you jump to it with cmd-opt-n. Fixes bug 599.

commit 89c64b167d19a6cd269d3c17798e30e5ce1c8d60
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Feb 8 23:30:49 2011 +0000

    Remove check for doCommandBySelectorCalled that interfered with DefaultKeyBindings.dict. Fixes bug 350.

commit 7ff00593caf301846796078e13987e3e8ab689c2
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Feb 8 23:26:29 2011 +0000

    Add 'remap modifiers in iterm2 only' action. Fixes bug 572.

commit dafdf36226adf096de64441c23d636424a56410b
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Feb 8 17:21:17 2011 +0000

    Fix crash in event tap. Fixes bug 600.

commit 4297534b9c33087d47bbd9ba531863b1411947be
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Feb 8 07:04:41 2011 +0000

    Use kCFRunLoopCommonModes instead of kCFRunLoopDefaultMode when adding event tap's runloop source. Allows the tap runloop to run while the main runloop is blocked on a dialog box. Fixes bug 595.

commit f0604afe0e093d4907e03b830265f976ace9effe
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Feb 7 20:47:17 2011 +0000

    Roll back previous change and improve comments in the affected code.

commit d444bb36d9e684579deee98ee017959ebf2f4f5a
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Feb 7 20:34:26 2011 +0000

    Always pass -l to login. Fixes bug 588.

commit 9da5f6130285ff5d632d202c7aeb0677319f3e19
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Feb 6 07:23:31 2011 +0000

    Fix a bug where you could drag a window taller but it can't show an additional row (when it becomes about as tall as the screen)

commit e1a7379f7c702307969316ba454eca04401e7683
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Feb 6 01:51:34 2011 +0000

    Add lots of NSLog statements to help debug visor. Refactor visor code. Fix occasional window flash when hiding visor. Fix bug where normal window disappears after closing visor. Fix interactions between visor and exposé. Show non-visor windows when visor session ends. Fix bug where selected bookmark for visor is forgotten if two bookmarks have the same name.

commit 89ff82d048f7c51176f6623011b789f88cd347f4
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Feb 5 23:30:43 2011 +0000

    Prevent windows from flashing when toggling visor. Fixes bug 589.

commit 531cb77bbe86d838cf82dee43f56465dccf05849
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Feb 5 03:17:00 2011 +0000

    Add acid test of unicode diacriticals.

commit 942154dbe23bcf5d7fd0b228b65a747fb5a9cb83
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Feb 5 03:15:18 2011 +0000

    Make starting screen and space configurable per bookmark. Fix bug where hotkey bookmark was lost when any bookmark change was made. Disable hotkey bookmark prefs if the hotkey is not enabled. Fixes bug 582. Fixes bug 321.

commit b961be57b4261e4def14024c4bcb3329435003f1
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Feb 3 19:50:48 2011 +0000

    Make reset (cmd-r) draw the correct default line (had alt semantics flags wrong). Fixes bug 517.

commit 0d4e7e144f2c3209715ffe51b562cb4cbe0fe66a
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Feb 3 17:39:48 2011 +0000

    Remap hotkey when iTerm is not active (unless it's DNR). Fixes bug 579.

commit bf4d975fe57115c98a06420d5ddc00bcd609df3c
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Feb 3 17:15:09 2011 +0000

    Fix bugs with making menu selections in expose.

commit 61a4e961e489b82c637b31cb618f8b5f0efb3987
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Feb 3 07:08:38 2011 +0000

    Add swipe support. Fixes bug 567.

commit bf9b610208ef2dfa9bbb2ee9b920a17af1439676
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Feb 3 05:41:30 2011 +0000

    Various improvements to visor mode. Make windows animate in and out correctly. Make it work with window types besides top-of-screen. Make it work with side dock. Improve prefs panel cmd-i mode w/r/t window-specific settings.

commit a845cb72dbddedca63fd062c37c4798bd4548913
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Feb 3 01:05:19 2011 +0000

    Add visor mode with a dedicated visor window and animation. Fixes bug 151.

commit d4b068860be9034f84e959a10dee98570c9e86b2
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Feb 2 21:25:38 2011 +0000

    Add appearance tab to prefs. Remove IR checkbox from prefs. Rearrange prefs.

commit 5549893bcf38bbfa409c4a4f202bea49d0797ce3
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Feb 2 05:31:40 2011 +0000

    Rename Bookmarks to Address Book. Fixes bug 449. WOOHOO.

commit a52c7d37bf1d2a6b0d79d192e2dd241b25432b60
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Feb 2 04:18:15 2011 +0000

    Add tags in sorted order to bookmark menus.

commit 035d44a2a83fe61fd0fc863b9edbdcd2ee067d7f
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Feb 2 04:11:18 2011 +0000

    Fix up bookmark menus to have a working 'open all' option.

commit 55e9024131df0012d30537c27427ec17e6e21c1a
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Feb 2 03:41:02 2011 +0000

    Add bookmark pref for opening a new window in fullscreen. Fixes bug 307.

commit e85f0e1eaf9ae44932a03d8bd2278265f7231114
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Feb 1 08:04:35 2011 +0000

    Fix reverse video.

commit 40de2a6f9f20b9605c5326ddcafa42487ddd36a7
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Feb 1 07:55:52 2011 +0000

    Use all vertical space in fullscreen. Fixes bug 570

commit 7ff771cde2a294f1a4c7dcbc641b5879906b00c3
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Feb 1 07:45:15 2011 +0000

    Add keybindings for Do Not Remap Modifiers and Toggle Fullscreen. FIxes bug 558.

commit 17aeb4b1ff5aa990fbfd948cb9f026f10c58784f
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Feb 1 05:37:49 2011 +0000

    Apply patch to fix window resizing. Fixes bug 498.

commit 760ad7bd683e405eef188ed25562b2b0a51f6a45
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Feb 1 05:28:53 2011 +0000

    Fix exception with grayscale colors in 256 color mode by ensuring all colors are RGB.

commit 8ecb2270cd4cb6c1e223fcb06a5da239e35fbc31
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Feb 1 05:26:15 2011 +0000

    Get bg color setting working for all tab styles. Get bg color to affect window title bar/toolbar for all styles. Fix missing command textfield.

commit f334245a00ebee4bbf4ebfb802b75b846eea7b36
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Jan 31 17:13:38 2011 +0000

    Make global keybindings stick. Fixes bug 565.

commit 26f8ab0d80ed520b7fe64f2d7f0cc5b3add4f218
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Jan 31 08:05:13 2011 +0000

    Add nonstandard escape cdoes for setting color palette and tab/window chrome color. Fixes bug 454.

commit e1327d725ad4191dc6e9b7c2f47e5b3c55d5eae9
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Jan 31 03:46:25 2011 +0000

    Add option to pass control-click through instead of opening a menu when xterm mouse reporting is on. Fixes bug 438.

commit d73254d1d02e4bca7e844d2780afcf66640cdf2f
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Jan 30 17:39:39 2011 +0000

    When navigating panes with cmd-opt-arrow and the choice is ambiguous, pick the most recently used session. Fixes bug 433.

commit bdff65ac3edb4d661b0cbe3c341d2647f21c197e
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Jan 30 16:20:35 2011 +0000

    Swap shortcuts for close tab and close pane. Fixes bug 424.

commit 9f3d2074ff33739c2b2d9157173bfdb2f50bc671
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Jan 30 16:14:29 2011 +0000

    Remove assertion that fires during nib unpacking. Fixes bug 564.

commit a96d0e7ae8b5da996fb2471428c054a354f7562b
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Jan 30 16:13:44 2011 +0000

    Save and restore working directories along with window arrangement for bookmarks that open in previous tab's directory. Fixes bug 421.

commit 3d3dfab3289471316fac205c8c282da5bfb5c081
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Jan 30 07:49:31 2011 +0000

    Add support for left vs right command key in keyboard prefs. Use event tap to remap modifiers when possible. Fixes bug 329.

commit c5f16550f97eb7c70058061f394c96dbb9aa248b
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Jan 28 17:03:52 2011 +0000

    Add global key mappings ui include global key mappings, remapping modifiers, and setting backspace default to c-h. Fixes bug 403. Add actions for select pane above, below. Fixes bug 430. Change capitalization of action names. Fix cmd-9 to go the last tab. Fixes bug 524. Move delete out of default bookmark keymaps. Re-enable event tap when it times out due to user input. Fixes bug 445. Don't pay attention to left vs right option key in hotkey modifier mask. Fixes bug 523.

commit 4f8f6fac59246bcd9d0a1e90cad4aa6f77edfae0
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Jan 27 05:40:43 2011 +0000

    Made zoom go to multiple of line height. Still broken with split panes.

commit a5589c834f691b534eb258f5b41b46d32d09fb0a
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Jan 26 19:35:41 2011 +0000

    Add preference to show bookmark name in tab/window titles. Also improve updating of job names. Fixes bug 371.

commit 53071cd0e52661c8b66b5f0de2986c06e5955331
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Jan 26 18:36:24 2011 +0000

    Add preference for unlimited scrollback buffer. Fixes bug 313.

commit 09ee98cf5b4198e4d3bb33b671db3971f826fe7c
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Jan 26 06:36:10 2011 +0000

    Add support for consecutive autocompletes. Fixes bug 316. Make dock menu open windows or tabs. Fixes bug 318. Fixes bug 387. Fixes bug 402. Fixes bug 330.

commit 5b80aa05c2f4f962c6d8dcab030623ac1d7c8132
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Jan 25 19:35:02 2011 +0000

    Fix crash on split and fix bug where tab images split pane layouts were flipped vertically.

commit 5532d1af82278b355762ca5f578571bbab0fdf93
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Jan 25 17:53:57 2011 +0000

    Improve behavior when a tab closes inside expose.

commit 12e04dadb3b1b93c4f03d72497ec36010c73a494
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Jan 25 07:25:09 2011 +0000

    Fix busted checkin.

commit f67406974ab5e461ad99e8c7ab9f2a8a0a60be2a
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Jan 25 05:35:56 2011 +0000

    Refactor BookmarkSearchField into its own file. Add global search to expose, make thumbnails move out of the way of the results window. Make clicking on the background hide expose'. Make thumbnails appear in reasonable order. Fix drawing of textview images to draw margins correctly and not use a humongous image.

commit f46cdb8abafea7ecd5354ffaaf6d407b4340af2d
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Jan 20 00:55:23 2011 +0000

    Fix expose bug where all tabs had the 'defunct' label. Fix expose bug where tabs that didn't need to would move when highlighted.

commit 731a6ab441c933df02f24f3638f6c7b855b4391b
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Jan 20 00:22:30 2011 +0000

    Fix drawing cursor when capturing an image of a textview. Fixes bug 505.

commit 2b156354dcfae926312f9e72d282ad858612f851
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Jan 19 22:21:55 2011 +0000

    Don't close expose when tabs change size, existence, etc. Fixes bug 505.

commit 2c5beb9fe6670f80cf11b6feeb72bcfb26300365
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Jan 19 04:22:57 2011 +0000

    Use proper size for rows/cols when restoring windows. Fixes bug 463.

commit 4b6a49f9380c1d8d34a5d86a241babd904202c46
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Jan 18 06:31:00 2011 +0000

    Add iTerm2-specific Expose mode. Fixes bug 306. Formatting, dead code fixes. Improve PTYTab's image code to not draw an enormouse frame into a tiny view, and to draw the visible part; also to draw a proper background for splitters and scrollview.

commit e046245c8c89b98fd1aa58fa0b30e6ed2dcbdd2f
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Jan 16 05:38:18 2011 +0000

    Show bookmark name in title after restore arrangement. Fixes bug 461.

commit 809455c8fcaf2fbe22cbe50ac9985526d9519931
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Jan 16 05:33:23 2011 +0000

    Add minimum contrast option to Advanced prefs. Fixes bug 289.

commit b5746d7eae55d220a3f2ffcdb0381e269137da56
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Jan 15 03:36:57 2011 +0000

    Add advanced rendering option. Fixes bug 251.

commit 50e19054037d81992f4f3d4b189e6566decb33e2
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Jan 14 17:02:52 2011 +0000

    Make thin splitters into a global flag

commit 48f0f4ae8fb9436d0e75e086b05fab9987adca11
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Jan 14 16:54:36 2011 +0000

    Add link to online color gallery and allow multiple imports of color presets.

commit fa9601181cb8ffaea42ef8c3ea71ab95dc9733fa
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Jan 14 16:23:28 2011 +0000

    Add rudimentary accessibility.

commit 0a07aa5f9aef6694870fe1604e42ecd9b0b12b21
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Jan 14 16:18:00 2011 +0000

    Fix building in paths with spaces. Fixes bug 490.

commit a4e7cb78dae8b59d64f29a28fd3cd85c49a589fc
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Jan 13 19:55:35 2011 +0000

    Fix a bug with resizing computing the wrong diff in windowWillResize. Reduce minimum session size to 2x2. Don't assert on 0x0 sessions. Fixes bug 481.

commit 42d007cb179140cce266593136a488d734c88cad
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Jan 13 19:55:01 2011 +0000

    Do not allow empty string in keydown to generate a null keypress. Fixes bug 237

commit 643e6d63f4894d6cd084f11182308f75e80ea969
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Jan 13 07:00:40 2011 +0000

    Allow separate anti-aliasing for ascii vs nonascii text. Fixes bug 228.

commit c74ddb440d2d09d53410022cbefde2ab74cb1f64
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Jan 12 07:10:22 2011 +0000

    Allow binding of multiple hex codes to one key. Fixes bug 170.

commit 3814625ace1c97065181447ba26d7f12391607cc
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Jan 12 06:50:23 2011 +0000

    Add ability to import and export color schemes.

commit edba30b3a863fd76c9ed026e4d9151f8a2d5e88e
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Jan 12 04:11:45 2011 +0000

    Fix another valgrind warning and remove bogus test code from last submit

commit 8265b94d992d2dc34979d7d7d537e36a70868824
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Jan 12 04:01:42 2011 +0000

    Fix up valgrind warnings. Allocate the correct amount of memory when getting process list in PTYTask.

commit 84a851df94dcb31aca91342302c61e0320a6d335
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Jan 11 23:26:01 2011 +0000

    Bring back use transparency. Fixes bug 165. Enable transparency in fullscreen mode. Fixes bug 276.

commit 776ffb79f30777236aa4cc3d54326462511720c0
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Jan 11 19:40:42 2011 +0000

    Improve about box.

commit ce8e14fffc5bb1e64cde99536117affd40d4fe66
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Jan 10 02:49:35 2011 +0000

    alpha16

commit b5c60323190744744b86146de3b75d4da1c9995b
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Jan 9 21:18:03 2011 +0000

    Make secure input persistent across invocations of iTerm2. Fixes bug 325.

commit df10348548a79bde6b3390df1692927afab925b5
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Jan 9 20:46:57 2011 +0000

    Make hotkey work when secure input is on. Fixes bug 450.

commit 2ef5cedb3d490a5645dcb005e440a2bfdaf6cee7
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Jan 9 20:02:53 2011 +0000

    Fix crash when setting tabs stops for very large windows. Various code formatting improvements. Fixes bug 382.

commit 94d883d26668fbec80f1d6efdcb19a0e2b69e87a
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Jan 9 17:44:00 2011 +0000

    Make sure that the terminal only gets resized once when exiting fullscreen mode. Fixes bug 191.

commit e014dea531aa0cb416575ea0b63b474e51ad5c8d
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Jan 9 07:35:36 2011 +0000

    Remember window size and restore it when closing findbar. It is fragile: if any change is made that could affect the window's size then the size won't be restored and the findbar will simply be hidden. Fixes bug 425.

commit 9c7886d8d1c7dd279a22116b8fce633632aea532
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Jan 9 06:42:10 2011 +0000

    Preserve text selection when window changes size. Fixes bug 414.

commit fb4576a31c3b97d78dbf6963ee157b45d84f4790
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Jan 9 02:34:16 2011 +0000

    Fix crash that happened when you open pbhistory popup, close the session, and then do a copy.

commit cb226c54ecce82d339b19d8a65c293c4b9bd8d45
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Jan 8 21:59:22 2011 +0000

    Make scrolling-by-selection go faster, allowing it to move by multiple lines per update.

commit af1d15305d73138036bda852fb6aa27a9abb896f
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Jan 8 21:38:41 2011 +0000

    Add an assertion in setString for TERMINAL (regarding bug 382) and fix some static analysis bugs

commit b10726f92124f2ac890c40f0e10cb311bb21c1d9
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Jan 8 21:17:37 2011 +0000

    Change default settings to warn when closing multiple tabs and smart cursor is on by default. Fixes bug 448.

commit 2143a8ea818a5ecb9d8863027909a97e8b97a4b5
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Jan 8 21:12:11 2011 +0000

    Fix default pref to maximize fullscreen rather than only vertically.

commit eaf67d4c3565e797dd96f4372b3db8845f9af0ae
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Jan 8 21:07:12 2011 +0000

    Disable dimming split panes on 10.5. Fixes bug 440.

commit fb6a857f331ff1aea32c2c293526135972f80c50
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Jan 8 20:44:49 2011 +0000

    Disable dimming inactive sessions for 10.5. Fixes bug 440.

commit ace102b0439cff911e5803cb35aa2f65b2b09bd2
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Jan 8 07:21:32 2011 +0000

    Fix infinite loop when using nowrap mode in an ANSI terminal. Also improve performance by moving check for ANSI out of inner loop of setString! Fixes bug 444.

commit bc30af9f488af814e56d906e5e2317a76ee1fd4f
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Jan 8 07:20:50 2011 +0000

    Fix how underlines are drawn (wasn't drawing first one, and was not properly initializing underline flag for char at cursor). Fixes bug 451.

commit ffc0bbb29275a6a709828f64fbd12a3949365ed0
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Jan 6 18:50:39 2011 +0000

    Add UKCrashReporter.

commit 07f16d99f12c735191a5ce746581b3dde75238bb
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Jan 6 18:13:22 2011 +0000

    Fix bug where cmd-click on URL didn't detect url vs non-url chars correctly. Fixes bug 442.

commit 013c50030d9621d5cd05900787a86ea8d1bbf91a
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Jan 6 17:54:00 2011 +0000

    Handle increasing font size when window can't grow. Fixes bug 446.

commit f36b1e0faff24abd5eed1c46617f2ceb50b2be2e
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Jan 6 17:42:45 2011 +0000

    Make inactive panes take focus when xterm mouse reporting is on. Fixes bug 419.

commit 907baa0914d38e5e8814a558a7dc83f91cd13ef2
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Jan 6 06:46:37 2011 +0000

    Handle changing font size in fullscreen mode correctly. Fixes bug 426.

commit 70b85a283cfbf874ee4ed843702add14e567e28d
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Jan 6 06:04:58 2011 +0000

    Prompt the user when he tries to switch panes and has the old iterm cmd-opt-arrow mapping installed. Fixes bug 427.

commit c3d8f30f2e7d8e4341c412e980de177bb2426305
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Jan 6 04:24:38 2011 +0000

    Set draw bold text in bright colors control correctly; it was always set to on. Fixes bug 429.

commit 796fed0a5403c12998f7ce9e7455f926b2bd0a45
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Jan 6 03:58:30 2011 +0000

    Do not output a digit if you press cmd+number without the corresponding tab. Fixes bug 434.

commit 0b099cf881f306054fc28928289dd95e8617dcc0
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Jan 6 03:37:36 2011 +0000

    Turn off Bonjour by default. Fixes bug 436

commit f52c0e1aae2617d0c62a81d1f2a4167be36a4bcf
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Jan 6 03:29:03 2011 +0000

    Fix broken applescript session lookup. Fixes bug 439.

commit ec3ba72fb1a38589e5c244c729962c8be3e2eb57
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Jan 5 06:41:45 2011 +0000

    Add support for combining marks and surrogate pairs. Update list of double-width and ambiguous-width chars for Unicode 6.0. Made screen_char_t smaller and turned it into bit fields. Refactored text rendering. Lots of code readability improvements. When rendering nonascii, don't try to find a better font if the glyph is missing, but use NSAttributedString to draw instead. Improved benchmarking code to output combining marks only if you give it a second argument. Fixes bug 207.

commit 6509d2270bf980b77c3c61d273a080711c1b347e
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Jan 3 21:16:16 2011 +0000

    alpha15 trunk

commit 759ff916292bc64752776a89b53b4e9eba20344e
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Dec 29 02:47:47 2010 +0000

    Add preference to dim inactive sessions.

commit 9fbde502d0b00c3c4962313263ed051f524aac38
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Dec 29 02:33:16 2010 +0000

    Disable split pane navigation menu items when there is no split pane. Also move them into a submenu under Window.

commit b1aae0b5741ae7b05812ce34bfda58cd5f218809
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Dec 28 07:18:34 2010 +0000

    Fix selection behavior with split panes. Fixes bug 411

commit 74c3faa48844240a1218a03aab029590b35ae241
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Dec 28 07:09:22 2010 +0000

    Make focus follows mouse select split panes

commit 49cc66dadce97e0e7b219969bf5c8665dca5e645
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Dec 28 03:12:36 2010 +0000

    Move New Window button up one pixel.

commit f5d4655a91344d25944cdf916ac28b8bd3f447a4
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Dec 28 02:55:35 2010 +0000

    Make job name and window number window elements optional. Fixes bug 336. Fixes bug 334. Also fixes a leak of PTYTab in restored windows.

commit a8d682f344464b2a9715713d7e1551b913f55b4b
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Dec 27 06:54:56 2010 +0000

    Add save/restore window arrangement feature.

commit 4fb74b2b08801e087061e47d6df7c276b2b318d8
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Dec 25 01:45:08 2010 +0000

    Fix alt-arrow, page up, page down, home, and end when alt is configured to send esc+.

commit 885efe3385f928087bd9e6beb00ae3cc34af97cb
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Dec 24 06:20:48 2010 +0000

    Fix arrow keys in flipped popups. Fixes bug 407.

commit 5a6a34306b9fdf3d40888a8e8a63ec93e782c342
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Dec 23 20:35:36 2010 +0000

    Integrate with shared findboard. Fixes bug 406.

commit 30b02331222f3f31f4347539190b0809243ccb19
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Dec 23 20:08:02 2010 +0000

    Make cmd-opt-control not switch windows to avoid conflicting with opening numeric bookmark shortcuts in a new window by holding down opt.

commit b400d7266e829788cdd7474eeec3523421ec064c
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Dec 23 20:03:01 2010 +0000

    Change home and end default global keybindings to cmd-home and cmd-end. Fixes bug 405.

commit f15531c46f70e54195a5bddd24964c1622c59bce
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Dec 23 07:27:20 2010 +0000

    Flesh out pane support in Bookmark window. Fixes bug 398. Various cosmetic code improvements.

commit 97f96bac3ac8b02c5f9fd79e9bf716542318e78e
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Dec 23 06:03:46 2010 +0000

    Add global keys for line up/down (cmd-arrow), page up/down (cmd-pgup/pgdn), and home and end to go to top or bottom of scroll. Fixes bug 385.

commit a63a9f3eda5b641cbfb30c8f6ea5deddc01437dc
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Dec 23 00:44:18 2010 +0000

    Fix find with selection to behave like a standard Cocoa app (Pelle's patch). Fixes bug 359. Use system-supplied frame origin when no saved location exists and smart placement is off. Fixes bug 364.

commit 1f43581e99259a0f65385cf26face83766148250
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Dec 22 22:32:31 2010 +0000

    Properly handle kCGEventTapDisabledByTimeout in event tap which caused a crash.

commit b2bf4249aa7782260801a71bb5ea462d9c28b4ab
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Dec 22 21:50:39 2010 +0000

    Swallow hockey in event tap. Fixes bug 381. Improve hockey UI in prefs. Fixes bug 327. Add assertions for crash in bug 382.

commit 5421d6f1bfbce32139d32ab1c32cf9cef6ec8494
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Dec 22 19:43:58 2010 +0000

    Make Preferences and Bookmark windows into Panels so they close with esc key. Fixes bug 400.

commit 60f532f8d5f795114c6616f89c8704e293fc9626
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Dec 22 19:35:03 2010 +0000

    Make inactive sessions dimmed to a level determined by their background color.

commit 452c8c9288d54a0ec991a4adcad0027fdf1fa7ef
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Dec 22 19:12:13 2010 +0000

    Fix up context menus with panes. Make all actions apply to the selected pane if it's not active. Fix bug where context menu doesn't open after a window shade exists. Hide window shade when its alpha==0. Fixes bug 397.

commit cc44aff35094416c9ae51af8b32936876f280b81
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Dec 22 16:46:12 2010 +0000

    Add option to split panes to session context menu. Improve labels in context menu. Fix sending mail to prepend mailto: to address if it's missing.

commit ecb380062507d2d3e96a4764f67e9e2ce6ca569b
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Dec 22 16:26:31 2010 +0000

    Move split horizontally, split vertically menu items into Shell menu.

commit 28f486a7ab44e96bff85e9154f66d7dd1ade907f
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Dec 22 16:22:25 2010 +0000

    Fix crash on close-pane when IR open. Fix bogus cursor rect after closing pane. Fixes bug 401.

commit 9330df2642e67f500fc88547dc31d526962bcc9c
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Dec 22 04:18:54 2010 +0000

    Fix some warnings.

commit 0a7f4ff634df5759700a1aa67cca87dd7bb1baa1
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Dec 22 04:14:11 2010 +0000

    Big post-Mexico checkin: Implement horizontal splits. Make window->arrange horizontally respect the minimum window size. Move cmd-opt-arrow key for navigating between panes into window menu. Make inactive panes dim. Do not allow window to become larger than the screen when resizing even if a tab-size constraint is broken. Fix bug with reordering tabs in fullscreen mode. Fixes bug 377. Disable progress indicators while fading tabbarcontrol because that causes a crash (os bug). Fix bug where the right side of a pane could get clipped. Prevent clicks to switch panes from being xterm-reported. Fixes bug 379. Re-fix problem with window size changing after exiting fullscreen. Fixes bug 226.

commit b2f97eee100148154cf4e71f4fe64fa271cb9151
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Dec 10 16:19:59 2010 +0000

    Do not allow inactive panes' cursors to blink even if the window is key. Addresses a complaint in forum by lucashoffmann42

commit df032fa35d06c9abab465298ed709885c3d577db
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Dec 10 05:52:53 2010 +0000

    Disable the unimplemented horizontal split menu

commit b3bec7f1560c559ee3a20fe4925b22c613bc21d4
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Dec 10 05:51:38 2010 +0000

    Add support for vertically split tabs. Make cmd-opt-arrow move between panes.  Remove cmd-opt-arrow from "basic key mappings" preset. Many formatting improvements. Removed some dead code. Rewrote how windows are resized. Fixed some broken applescript commands like setting rows/cols before adding a session. Fixed a bug where session-initiated resize could make the window bigger than the screen. Added willDropTabViewItem to PMSTabBarControl delegate. Add select pane left/right keybinding options.

commit a607f59539c00d55473df6816c0ade84d902a6ef
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Dec 5 08:20:44 2010 +0000

    Integrate changes from juhagman's branch at r390. Fix lead of DVR buffer. Introduce PTYTab abstraction in preparation for split panes.  Only show tabs in fullscreen mode if the cmd key alone is depressed.  Introduce SessionView in preparation for split panes. Fix a bug where you try to enter IR with no frames due to lack of memory in buffer for even one frame.  Fixed some memory leaks.

commit 1a0c1cba0cb3a5aed3e3f40f38cec191dd780ab8
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Dec 5 01:25:54 2010 +0000

    git test: make change 3

commit 196d8f092bf78ef857e46de1e56ec04e37ffa5de
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Dec 5 01:25:50 2010 +0000

    git test: make change 2

commit 2e521c42584fbfbc6734afa24931cb92f8d8780d
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Dec 5 00:58:09 2010 +0000

    commit message

commit d6a4988f7b69c3316f2cb2f18675231c36a23816
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Dec 1 04:46:22 2010 +0000

    alpha14

commit a9a3e6a0e12e430bc24508e3317d991f42b2dc5e
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Nov 30 19:38:13 2010 +0000

    Try to get the user name through a more proper api. Also quote it. Fixes bug 293

commit 7f1c0979deb8103717b4922dba44b84fe97076d6
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Nov 24 06:30:57 2010 +0000

    Add option to separate bold font from bright colors.

commit 6c8bd5a686042e08fcd8ae3fe5d859a08693c295
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Nov 24 04:51:33 2010 +0000

    Use default bookmark with applescript 'make new session' command. Fixes bug 301

commit ce43d8f83a01f24013f9a0b8bca92d47d9ee23dc
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Nov 24 04:41:56 2010 +0000

    Ensure that bookmarks always have GUIDs. Fixes bug 302

commit 73245c50205620f78afc106f5e0a9d54af4485d5
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Nov 24 04:31:16 2010 +0000

    Fix cmd-i crash. Fix crash on closing fullscreen window. Fix crash on quitting item while in fullscreen.  Fixes bug 295.

commit 902a5375b1724b65652c9f10318d5862cff6a3a7
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Nov 24 00:13:22 2010 +0000

    Set language when running svn info. Fixes bug 274

commit 4c70edcc879b71a644dd37b392e0ffd1a2384a20
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Nov 23 23:50:10 2010 +0000

    Add new key bindings for ^H and ^? because it was really not obvious how to do this.

commit c94074b7cca460a61f03f32e27dd8f24bde5debb
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Nov 23 23:33:56 2010 +0000

    Add option to prefs to allow a separate binding for the right option key. Fixes bug 115.

commit d3e872b3af8f8fcca4bd5b468caeee885199dc50
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Nov 23 07:55:04 2010 +0000

    Sort tags in dropdown menu in bookmarklistview.

commit 861d47536ea69a41fbeebf0864199cfab80ea1fb
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Nov 23 07:50:56 2010 +0000

    Allow bookmarks to be sorted. Fixes bug 113.

commit 42a2639d323ffe715c9ed6dd52ecf30b7d6e4191
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Nov 23 01:36:53 2010 +0000

    Assign each window a number shown in the title bar. Cmd+opt+N switches to that windows. Fixes bug 110. Fixes bug 298.

commit 6afba8a09d5d4c6ce1c79e02b1a62116be57334d
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Nov 23 00:26:07 2010 +0000

    Put process name in tab/window title. Fix some small memory leaks. Remove some dead code for handling opt-click. Fix problem where window wouldn't fill the screen if the tab bar is visible. Fixes bug 83

commit 4a61399f1bd174ccb4c1a9cc52be9624501bd531
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Nov 22 18:39:04 2010 +0000

    Change launch session command to return the newly launched session.

commit 21de401ee93bf598b383beddada32a68e864f293
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Nov 22 07:24:48 2010 +0000

    Add arrange horizontally option to Window menu. Fixes bug 112

commit 6d4168330088f7a3e2007778619cdbb1d055214e
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Nov 22 06:02:26 2010 +0000

    Add tango, pastel color schemes. Have preset colors menu built dynamically from ColorPresets.plist.

commit ae081837c7b09419ecf492f7b8ea4925d27125bd
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Nov 22 01:57:40 2010 +0000

    Show tabs in fullscreen mode if you hold the cmd key down for 1 second. Fixes bug 67.

commit a12f21fe381db6c35bfa1d3dbccde1653d45a37b
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Nov 19 04:28:30 2010 +0000

    Fix issues in code review for r338

commit 43a42d7b8632e2d01ab51e4af0d560d8db26b055
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Nov 18 08:54:46 2010 +0000

    Add secure input. Also link Carbon library to support this. Fixes bug 265.

commit 5058f7f5e6d6d22e9b490ddca733b67bfb0e8ee0
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Nov 18 08:03:02 2010 +0000

    Add preference to disable flashing bell.

commit 7dec8d8166fe828a8844aaa86382851b53e6f3e2
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Nov 18 07:47:54 2010 +0000

    Add TextViewWrapper which should have been in r358

commit 4c001df352b4b6972acde4195087af606642bf32
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Nov 18 07:47:25 2010 +0000

    Add top margin. Get rid of bottom margin preference. Fix bug where tab characters are inserted in the wrong place. Fix bug where COLORFGBG wasn't set. Fix a bug where changing the font size in a tab with an excess margin caused the wrong size excess margin. Fixes bug 137.

commit 9a6476056bb34fa4d7f193a49d66ec1d489529aa
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Nov 13 21:44:47 2010 +0000

    Make hockey toggle app rather than only bringing it to the front. Fixes bug 151. Change how tags are displayed in bookmark list view. Allow multiple bookmarks to be selected in prefs panel. Fixes bug 120. Disable popup button for bookmarks in prefs panel when it oughtn't be used. Change Copy From to a new Copy To UI in prefs panel. Fixes bug 82. Add visual bell that flashes the screen. Fixes bug 104. Increase max speed of scroll-by-drag. Allow scroll-by-drag to reach the last line. Add slow paste feature. Fixes bug 94. Add 'close after opening bookmark' option to bookmarks window. Fixes bug 95.  Add 'open as tabs in new window' button when multiple tabs are selected in bookmark window. Fixes bug 126.

commit a6210afaf37141cd5b8b2b0547e83b8f0acfbdbe
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Nov 11 02:52:47 2010 +0000

    alpha13

commit 230b7d3d82fa3379ef72124471348b21d7902ece
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Nov 11 02:35:27 2010 +0000

    Change NSLog to DebugLog for Popup,Autocomplete,event tap code.

commit e33aec0995de04cb93021a7cbc9524c6a43c6eab
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Nov 10 21:23:52 2010 +0000

    Integrate change to add preference to highlight tab labels on activity from peppyhax. Fixes bug 287

commit 75f37f38199add64e2378cd4cc638321257a8540
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Nov 10 07:49:27 2010 +0000

    Apply part of patch for font name. Fixes bug 264.

commit 8317f115205eb28d0e4612860585adf7525c8bba
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Nov 10 07:38:27 2010 +0000

    Select and escape URLs properly. Fixes bug 291

commit 0020a08975df18e85de9d2acd7c576644369fa29
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Nov 10 07:03:35 2010 +0000

    In session prefspanel use shared prefspanel for source in copy-from operations. Fixes bug 272

commit 9cd505d88f2bace72a36099e02126b5f9d851237
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Nov 10 06:58:08 2010 +0000

    Last commit didn't work. Set LANG iTerm1-style, don't set LC_ anything. Fixes bug 290

commit 6417d207e0eff1324a3cc889e5559b95a357b892
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Nov 10 06:49:21 2010 +0000

    Set only LANG to country.encoding, and do not set LC_* vars. For bug 290

commit 032fa6864765ca1580d59d8f095b00ac32d1632a
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Nov 10 06:41:37 2010 +0000

    Add persistent pasteboard history and preference.

commit 2b37a3a7b9192a7b33f3277395373842e362ee70
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Nov 10 05:42:20 2010 +0000

    Fix text color in selected item in popup. Fix scoring for pasteboard history.

commit b88c8544a9c26fb0aa886b38130394e5062ede75
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Nov 10 05:03:25 2010 +0000

    In popups, preserve user selection when adding items.

commit 12fca148fe5be15607504596886a2dc3384d59a4
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Nov 10 04:52:56 2010 +0000

    For autocomplete: increase context length. Pay less attention to 1-char context. Boost similarity score before squaring. Don't apply short word penalty if similarity is very high. Don't show whitespace for suffix completions. Don't suggest suffix completion if there is space before cursor. Increase severity of hit multiplier.

commit 43020264f4332b29516b72f9e929b9c3db473549
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Nov 10 02:29:14 2010 +0000

    Index pasteboard entries for autocomplete and fix how scoring is done for repeated hits on the same thing.

commit bb92e2979f199f79f3bee8ad4b9b5937c6e16df0
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Nov 10 00:10:03 2010 +0000

    Minor refactoring of pasteboard history.

commit 8a25f2e5869f48892f9fcd08f2d76c7204772dab
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Nov 9 22:03:10 2010 +0000

    Add option to open system prefs when an event tap can't be created.

commit 48f83d45a1d9255c5cc3cab86768fae7d8acbf75
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Nov 9 21:57:30 2010 +0000

    Reduce score of full-word matches. Improve display of full word matches by showing prefix. Fix bug where first autocomlete window had no options.

commit 89e735204c07fff935ab0e18054c597c74f6d69c
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Nov 9 21:44:18 2010 +0000

    Tell the user when a hotkey is registered but can't work because of assistive devices being off.

commit 560cdff300d85e324150832a03b1ac2df4791184
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Nov 9 20:50:08 2010 +0000

    handle failure of CGEventTapCreate. Reduce effect of multiple hits for the same word in autocomplete. Keep best autocomplete result selected until user makes a change. Keep scoring results even after max options are reached in AC.

commit 138191a65b6745b5229212f2496d0e56c294d518
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Nov 9 06:36:11 2010 +0000

    Merge changes from juhagman. Fixes bug 288

commit 542863e887382fb03076ac5fc7dd1bfdf2ff3f87
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Nov 9 02:46:28 2010 +0000

    Don't suggest whitespace in autocomplete if there is already some before cursor. Turn logging in autocomplete on to tune scoring. Improve autocomplete scoring for very short words.

commit 3a4ab9e8615d0d292cc215c8fa9176312b07b860
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Nov 9 01:40:46 2010 +0000

    Fix bug where a null pointer might be freed.

commit 52963cd9bfd130255bac9fe5c9c5162a9631b014
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Nov 9 00:29:21 2010 +0000

    Remove carbon dependency and make hotkeys work in 64 bit.

commit 66f60d66caad2a0a80b83760c547ee1763719316
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Nov 8 23:30:11 2010 +0000

    Add hotkey to bring iterm to fore. Improve display of keyboard shortcuts. Rename iterm to iterm2 in about box. Add carbon dependency. Fixes bug 151

commit 4e86370309b267b1b1d53b7e3bfc15e7dc26cc76
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Nov 8 07:45:42 2010 +0000

    Set only LANG and LC_CTYPE. Fixes bug 281.

commit 62866450b8e588943591712ef98ac45e2aa4e230
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Nov 8 07:31:29 2010 +0000

    Rename newGuid to freshGuid. Fixes bug 284

commit 3ecd708dfe9b77ca24ec2c460d46835d85875fa3
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Nov 8 07:30:17 2010 +0000

    Fix control-/, control-?, control-shift-y. Fixes bug 285

commit a5449d7bd0e407bfcc36dad93994e1c115fd47fd
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Nov 8 07:11:39 2010 +0000

    Clean up tabView:menuForTabViewItem. Fixes bug 286.

commit 05590cd497a834f3537e0e8cc85fc8ed2b2fabe5
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Nov 8 07:04:58 2010 +0000

    Make autocomplete work on words, not just parts of words. Takes context into account. Keep selected item selected when popup flips sides.

commit c7cb7d78b353aa45fdddd7689bacf68b098055c9
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Nov 7 01:30:26 2010 +0000

    Add Popup.h/m, forgotten in prev commit

commit 11c5052599f7fff12217ef7c6228d9fbbe1e6690
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Nov 5 07:50:33 2010 +0000

    Refactor paste history and autocomplete.

commit b5b77a53828ea7133f2a2cff7d68aab13d458883
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Nov 5 04:42:23 2010 +0000

    Don't allow filter change to flip autocomplete window.

commit c74e81919bf7cf46c7f61efbd20da080a18adb77
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Nov 5 04:22:44 2010 +0000

    Fixes: PreferencePanel -tokenField:compeltionsForSubstring leaks the result array. Fixes bug 280.

commit 497df587786b372f0933d2f17ddf83f2c0c03137
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Nov 5 04:17:30 2010 +0000

    Fixes: If prototype is nil, aDict will be leaked. Fixes bug 279

commit 595a1138e567f929a826bda12b335e1dac7241a9
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Nov 5 04:15:21 2010 +0000

    Fix for: iTermKeyBindingMgr -formatKeyCombination does not return autoreleased object as it should according to the Cocoa conventions. Fixes bug 278.

commit cb758c456c390e2854889b092ef2611b1aaceb2b
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Nov 5 00:24:41 2010 +0000

    Fix memory leak in about box. Fixes bug 277.

commit c1b7e4e369abbff47753b6dc0d7ffe81b2701e53
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Nov 4 23:07:06 2010 +0000

    Open pasteboard history in the proper monitor.

commit 5b363e4ee002acb8e392e7ae771f0c2efe68e839
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Nov 4 23:02:10 2010 +0000

    Display autocomplete on the correct monitor. Make sure autocomplete timer is off on close. Don't get autocomplete stuck on first character. Don't use gray in autocomplete items.

commit b01b0827fc5972c94c3e23f91b61434c9b431bce
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Nov 4 18:00:59 2010 +0000

    Fix bug where cmd-+ with large window caused window to reach invalid size.

commit 673b3658c63a528373100d3419c1eaaef6e2c951
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Nov 4 08:44:00 2010 +0000

    Forestall possible future problem with ^U

commit 7ef5ef4fddb6ec7a8e5fc2fb200ad2e95c2513ac
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Nov 4 08:19:40 2010 +0000

    Many improvements to autocomplete. Fix position, ordering, default selection of paste history window.

commit 71baec55d6d96638d343b74be07234a7dcec401e
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Nov 4 01:39:48 2010 +0000

    Unbreak control-q. FIxes bug 273

commit cb51b77754aa6d3d540f43a44769a44dbca0301e
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Nov 4 00:31:46 2010 +0000

    Initial add of autocomplete code.

commit 1243f9818b5fe80642296d510d3cf9a3d97db047
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Nov 3 14:49:14 2010 +0000

    Associate paste history window with current space. Fixes bug 268.

commit e3abb52990847857909dd5cd4230d74f74e1eac8
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Nov 3 04:59:50 2010 +0000

    alpha12

commit 857c527897099c199aaa47caaca1d8077dd9b513
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Nov 2 21:46:50 2010 +0000

    Fix bug where a really big window makes dvr crash.

commit 764ae47cf871901603ebe97b467435bdf06cdc42
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Nov 2 18:41:56 2010 +0000

    Turn on instant replay by default. Clarify text in prefs panel for IR memory usage.

commit 2d378a34ffdf833e42bfdb699112194dcb000080
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Oct 31 07:04:42 2010 +0000

    Integrate patch from muraken. Fixes bug 263

commit 8dc4dbaa940a67c15d1a84b8c49b434838c93d5b
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Oct 31 07:01:04 2010 +0000

    Set localization environment variables more correctly. Fixes bug where entering japanese text at the prompt has no effect.

commit 46ce25866fecd8bd9d6f617b298b87335d7ef109
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Oct 31 01:10:31 2010 +0000

    Limit transparency to 90%. Fixes bug 250

commit b07733a6ba903fcd5bdb6f711e2530718f6931e7
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Oct 31 00:59:48 2010 +0000

    Limit window to size of all screens, not just of current window's screen. Fixes bug 201

commit 407e71a871f4530c7a015e01b49e997cc695db14
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Oct 31 00:46:42 2010 +0000

    Translate both ipv4 and ipv6 addresses for bonjour hosts. Fixes bug 91

commit cfa5083e22eb8a6907a067955dc7f6e7b978ecc7
Author: ionic@ionic.de <ionic@ionic.de@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Oct 30 23:43:08 2010 +0000

    Quick typo fix.

commit 6e1a6516c1d8a17bfaa07b8c0c44e0f762e07767
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Oct 30 23:28:13 2010 +0000

    Turn browsing for network services on and off as the preference is toggled. Fixes bug 89

commit 5e675d0120c0f225d38c0b030db86a70b9ec68b4
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Oct 30 19:05:14 2010 +0000

    When adding a value to paste history, if the latest entry is its prefix, replace the latest entry instead of appending. Automatically select the latest entry in paste history. Fixes bug 258

commit 521736db7455e1b50b60712cdfc61a1d5c8defee
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Oct 30 18:59:11 2010 +0000

    Don't change origin of paste history when it's above the cursor. Fixes bug 259

commit 306d8c57d3c6e78ca6139f7489e40bb36413a06c
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Oct 30 18:42:33 2010 +0000

    Do not grow selection to include a hard newline. Fixes bug 257

commit 6cf5f3a92a994bb0c3086063790dc291e42b1c9c
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Oct 30 18:21:40 2010 +0000

    Force window to draw when getting/losing key or main status. Fixes bug 240.

commit be35df18908f7ae7fb867d132d0397bd6c4e46f9
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Oct 30 18:18:37 2010 +0000

    Improve i-bar cursor appearance. Fixes bug 235.

commit 029c42b79538e46e4bb724302b43dcaf309884dd
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Oct 30 15:14:28 2010 +0000

    Update sessions' objectCount when preferences change. Fixes bug 196

commit 66b946ca6954530085015748d231692b71194439
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Oct 29 18:49:36 2010 +0000

    Make PtyLog write to debug log. Add PtyLog for windowDidResignKey to try to figure out bug 240.

commit 2cdd2c9c61a58ed2e0709276d69d0d855260851b
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Oct 29 15:50:01 2010 +0000

    Fix a bug where sftp hosts were left behind, possibly causing bug 43. Fix bug where blinking cursor didn't update properly. Fixes bug 240

commit 20b1c3a53128c36a66b4e5f191bcd096fd764197
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Oct 28 21:12:32 2010 +0000

    Fix bug where page scrolling would sometimes stop working. Fix bug where keyboard shortcuts stopped working after exiting instant replay.

commit bdd569a9b72049639c22580f660d353029af84ac
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Oct 28 16:41:41 2010 +0000

    Add test command to register bonjour host.

commit 0101cc4130bc45766b7021ee456697412e3b3e4d
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Oct 27 02:57:25 2010 +0000

    Add missing files for instant replay and paste history

commit e7c27940d8d4d2ed30f59f75dbd6eaa73ed535ca
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Oct 26 17:10:54 2010 +0000

    Don't allow updateDisplay timer to be pushed back indefinitely for background tabs. Update tab just before it becomes visible. Fixes bug 244. Fixes bug 243.

commit ac13db5c1addf6217ce4539ef8b0e7c15e44210d
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Oct 26 16:37:14 2010 +0000

    Add pasteboard history. Fixes bug 16

commit fa468e3760b60be2f6f437c98d687ccc4ee44000
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Oct 25 05:40:07 2010 +0000

    Improve findbar UI (smaller, more appropriate controls). When in findbar, tab/shift+tab grow selection and copy; alt-enter pastes match. Fix bug with black line at top of findbar not drawing completely. Add undo/redo to edit menu for the benefit of text fields. Change zoom shortcut to cmd-shift-= to avoid breaking undo. Fixes bug 15. Fixes bug 69.

commit 171a5970877f3fed0d46a12e80d26b24fb54ab29
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Oct 24 17:42:14 2010 +0000

    Add instant replay feature. Also fixes bug where margin is not respected in fullscreen mode. Also fix bug where preference changes are lost if the prefs window is closed without changing focus. Fixes bug 14

commit aa977ed2251a23d651170c707788a46db63c754e
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Oct 21 20:10:53 2010 +0000

    Fix find forwards.

commit e6a4addec9eaf0871987561bf601c8fa386e19b4
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Oct 15 18:28:33 2010 +0000

    Fix broken labels for numeric shortcuts. Fixes bug 241

commit 3025c674d40e608eb63585c9e2a76c863bac0d29
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Oct 15 18:23:57 2010 +0000

    Improve read performance by reading larger chunks at once from the socket. Reduce idle CPU by running background tabs timer less often. Remove refresh rate slider and replace with dynamic refresh rate.

commit a43087800be826b37d2bf4210417dcdeb1a1e250
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Oct 14 07:50:16 2010 +0000

    Greatly improve CPU usage when idle. Do not redraw cursor's line every half second.

commit 9aea72e7f2527392fd2fb79a622e6a4cab43251e
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Oct 13 08:35:30 2010 +0000

    Fix window->return to default size. Fixes bug 223

commit 6e7ef98248cdba37436ee7ba1b808ec854c5b96d
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Oct 13 08:19:30 2010 +0000

    Bring iTerm to the foreground if a new window is not key. Fixes bug 220

commit 1cb17d1981ce5feedb8e08477498718c533d6f00
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Oct 13 07:24:38 2010 +0000

    Add a list of known encodings with lower-case characters. All others will be uppercased. This works around a bug in CFStringConvertEncodingToIANACharSetName. Fixes bug 204

commit 449e727d573356faad962090029a164d0680ef87
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Oct 13 06:55:33 2010 +0000

    Disable several window resizing related callbacks during toggle full screen. Also take scrollbar into account in fitSessionToWindow to avoid creeping width growth as you toggle/untoggle fullscreen.

commit ac4dbadd3c68d5c746227fc1d47bba466a0f23d2
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Oct 13 06:22:15 2010 +0000

    Put focus in bookmark name field when opening prefs with a single bookmark. Fixes bug 181

commit 01274059ad2282eeead5be3c574ab49f532783be
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Oct 13 06:12:58 2010 +0000

    Encode URLs with percent-sign escaping before creating an NSURL. Fixes bug 174

commit 95919ba47516399f7ca8bcc74827d13c8fbfb205
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Oct 13 05:56:15 2010 +0000

    Fix find behavior with non-ascii characters by specifying encoding correctly. Fixes bug 163

commit 74fcd681fcd4d17544dc9003d665e39fd9e6dd84
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Oct 13 05:03:57 2010 +0000

    Make the IME a first-class citizen. It wraps at the end of the line. When it hits the end of the screen, it scrolls to make room for its contents. When removed, it can restore the original screen contents if nothing was inserted. Fixes bug 160.

commit 3258aab82855793ec16e2e37a7369b674282b8e7
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Oct 12 14:48:15 2010 +0000

    Redraw screen and update scroll position during resize. Fixes bug 98

commit 48e046759b62290f7d395008da17cf91b51b3ec3
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Oct 11 18:39:54 2010 +0000

    Save and restore fg/bg color with cursor attributes. Fixes bug 99

commit 18a469208479fc7e343f1b34efa527748cb2dfb3
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Oct 11 16:32:32 2010 +0000

    Add cmd-z shortcut for window->zoom

commit 8514759b817ab8e3a8500949bfa1c272fae15c01
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Oct 11 16:30:47 2010 +0000

    Hold an extra reference in toggleFullScreen until the end of the function to avoid dereferencing freed memory in member vars.

commit 1e63dbfe895daaf195eb5242f76570e82ca25c6b
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Oct 11 06:33:47 2010 +0000

    Fix some static analysis warnings. Introduce timer to do selection-drag-scrolling, and make it work in full screen window. Fixes bug 133

commit 149ae7fe031609fc34f2febadcd78d25af484a97
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Oct 11 05:08:19 2010 +0000

    Select bookmark name when adding a new bookmark. Fixes bug 128

commit d6ece1b8e09255aa39a338899225e3f84ca86f3f
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Oct 11 04:55:53 2010 +0000

    Select new bookmark after making a copy. FIxes bug 127.

commit d0b97c8b95c453cd0384e645caae47b7ea1302e7
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Oct 11 04:49:05 2010 +0000

    Make bookmarks window resize properly. Fixes bug 114

commit 8a89c1c88169dc7ff7787a87f5ac634130d5928a
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Oct 11 04:44:11 2010 +0000

    Add a lot of logging to PseudoTerminal that can be enabled with a #define.

commit 83607af4876101505c34bcb35345d1fd244f2228
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Oct 8 06:17:22 2010 +0000

    alpha11

commit e6f56c71c00a6c7b3bd1f732ad766f4f3e05e39e
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Oct 8 05:53:00 2010 +0000

    Fix some warnings.

commit 75ac1c4edb385d7af1f83ef4d9f087ef56932c70
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Oct 8 05:43:36 2010 +0000

    Change how child processes are wait()ed for to avoid the occasional race condition.

commit 852dda13b37df50e55bfdf66f6ff79b2a64e6f3b
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Oct 8 05:39:16 2010 +0000

    When you right click on a script and choose open with->iTerm, we no longer invoke the command directly. Instead we open a session as usual and stuff cmd; exit; into it. This is what terminal does and I can't figure out why, but the old method resulted in a SIGHUP being sent to background jobs that were children of the bash command we invoked. Fixes bug 203

commit e28105fd1cf3b1e30c4e73ed5a783382dc9b4afe
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Oct 7 23:48:03 2010 +0000

    Show which bookmark has which shortcut in prefs. When you set a shortcut, remove it from a bookmark that already had that shortcut. Fixes bug 92.

commit 2cb57e73c04e7940410a5ae1a95244df64243f5c
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Oct 7 22:49:56 2010 +0000

    Do not draw tab filler at cursor position. Fixes bug 222

commit e23a66faa3ca8afc6809db3dc42fc4cf05fafb9c
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Oct 7 16:12:07 2010 +0000

    Change how tabs are rendered. Instead of simply moving they cursor, they write a sequence of TAB_FILLER followed by TAB, but only if there were NULs under the positions the cursor advanced. Selection now copies tabs. Fixes bug 90.

commit 3c7aa3747b211d3d95428833d917ad27e9ab0cfe
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Oct 7 03:55:31 2010 +0000

    Send SIGHUP to a child's process group instead of SIGKILL. This gives login, etc. a chance to shut down cleanly (such as modifying utmp). Fixes bug 87

commit 4876135d52d36079006851d35b1a24422c0513a4
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Oct 7 00:50:03 2010 +0000

    Adjust baseline offset to avoid cutting off descenders. Fixes bug 197.

commit 1aa5984b23e7d0b74c255831dea0da43f70c0263
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Oct 6 05:45:27 2010 +0000

    Change selection behavior to grab blocks of whitespace at a time when you double click and drag. Also allow copy to the clipboard of empty string. Fixes bug 84.

commit 15717db72563a23c2b93bfd2086db2aefc8afdd4
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Oct 5 19:07:01 2010 +0000

    If the shell's process is owned by root, use the cwd of its oldest child to determine its pwd. Fixes bug 75.

commit 20ea7d9d42f97950c4c404256d35b0aa16c8a46e
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Oct 5 18:02:43 2010 +0000

    Fix date because release.sh was run just after midnight

commit f182ea2be6556cb60ff38807427fc9d6a05afa7d
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Oct 5 16:11:42 2010 +0000

    Optimize debug logging. Fixes bug 182.

commit 29477ee1df997761f533724e62de0911434f33ad
Author: ionic@ionic.de <ionic@ionic.de@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Oct 5 13:52:47 2010 +0000

    Build universally (for real, this time).

commit 1cbb5ced1e564906ef93b6d059cae27896a80a56
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Oct 5 06:27:00 2010 +0000

    Try to prevent crashes in cmd-enter by preventing impossible window sizes and ignoring them when they happen.

commit 30b880f7036653546938edad84f169d05f0331d5
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Oct 5 06:18:05 2010 +0000

    Bring pack PPC support. Untested for lack of a PPC machine. Fixes bug 198.

commit 8bd38b0f854b9588606df4e46bfca8efcb59ddbc
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Oct 5 06:10:29 2010 +0000

    Correct max refresh rate in interface. Fixes bug 202.

commit 09f574c93819e76260b578afa98075c9c633f875
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Oct 5 06:10:04 2010 +0000

    Change rectangular selection to cmd+alt. Fixes bug 124.

commit 39786bca1abf345790c4acb6238f330edee3e6b5
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Oct 5 05:12:29 2010 +0000

    Fix problem where certain characters were rendered incorrectly. Fixes bug 200.

commit e4187cae772ab2fcb845569e194cc6f8a48c883c
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Oct 5 05:12:29 2010 +0000

    Fix problem where certain characters were rendered incorrectly. Fixes bug 200.

commit 36136ef6ff3eb49ad417ab09aae0efa6973f4295
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Oct 4 07:07:57 2010 +0000

    alpha10

commit 0f6c18374ab8ec53c106c05db756fa90523ab808
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Oct 4 07:07:57 2010 +0000

    alpha10

commit 7d2ae35edcdc44875942f9c4aad22bb124d55667
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Oct 4 06:49:43 2010 +0000

    Draw underline in IME. Fixes bug 180.

commit 7065a6fa46d11bc5c714e792dd5365fad8306920
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Oct 4 06:49:43 2010 +0000

    Draw underline in IME. Fixes bug 180.

commit db819cc94e54ec4921f9f33c6df9ab1e1272a171
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Oct 4 06:41:38 2010 +0000

    Show selected bold text with selection fg color. Also add non-scrolling benchmark. Fixes bug 106

commit 9e24a09c9dce9b31b5da421414ea7196510404f6
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Oct 4 06:41:38 2010 +0000

    Show selected bold text with selection fg color. Also add non-scrolling benchmark. Fixes bug 106

commit 35e84de1befef25419888939d323a3782da7a799
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Oct 4 05:17:03 2010 +0000

    Fix bug where cursor remains I-bar in title. Fixes bug 88

commit 01d6b0ae326c8109aba1ffafb5cee7aa3ae43e35
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Oct 4 05:17:03 2010 +0000

    Fix bug where cursor remains I-bar in title. Fixes bug 88

commit 2c6c793f33dd74af5053d703f362e5d0be6f2026
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Oct 4 03:08:45 2010 +0000

    Resynchornize properly after invalid utf-8 sequence. Fixes bug 73.

commit b18d4cf1cc6a4ffb135fadb765d146cc1000c0a7
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Oct 4 03:08:45 2010 +0000

    Resynchornize properly after invalid utf-8 sequence. Fixes bug 73.

commit 3d07b789b6777d755920940f354e4ef5853d311e
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Oct 4 02:46:05 2010 +0000

    Fix bug where opening a tab changes window size. Fix race condition when toggling full screen and a draw occurs.

commit e34e35fbc3bd51987af285af6c9ee5ee92e8d6fb
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Oct 4 02:46:05 2010 +0000

    Fix bug where opening a tab changes window size. Fix race condition when toggling full screen and a draw occurs.

commit 498fb26a88e52215550aa5a913330bfad1e20eae
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Oct 4 01:43:50 2010 +0000

    Fix some minor memory leaks and static analysis warnings. If the secondary font is missing a glyph, use a new font suggested by core text. Fixes bug 186.

commit 36568c01b1362ee1aee9d6f04bbd36826667ffbe
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Oct 4 01:43:50 2010 +0000

    Fix some minor memory leaks and static analysis warnings. If the secondary font is missing a glyph, use a new font suggested by core text. Fixes bug 186.

commit 64a7db336d32f190982700ae4fb1edef028a4635
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Oct 3 06:19:40 2010 +0000

    Fix some drawing bugs caused by rare race conditions.

commit 36101ec5401c595e5d4cf78d7255884976ce1c15
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Oct 3 06:19:40 2010 +0000

    Fix some drawing bugs caused by rare race conditions.

commit fa3d91f113371f186d7100c75aea4ab9e652918a
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Oct 1 04:05:25 2010 +0000

    Make line height calculation consistent. Fixes bug 184.

commit 3cdc0a76fd3d5e657d4f3e2f397a859eac7d96f3
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Oct 1 04:05:25 2010 +0000

    Make line height calculation consistent. Fixes bug 184.

commit db87e416c7d3c8291b620bd2e1a2bf9c1111675c
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 30 15:47:18 2010 +0000

    Adjust how the baseline offset is rounded. Fixs bug 183.

commit a646982bf26c4b2903e6186483d934d8cfc74de8
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 30 15:47:18 2010 +0000

    Adjust how the baseline offset is rounded. Fixs bug 183.

commit 21be09f77dbc27411e8395fb817601909255851a
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 30 07:07:06 2010 +0000

    Fix warnings. Set deployment target to 10.5. Go to 64-bit build.

commit d25ad01166a390e40f73931503a42ed5c8734f85
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 30 07:07:06 2010 +0000

    Fix warnings. Set deployment target to 10.5. Go to 64-bit build.

commit 0e65d4267ff94d8b69a92549da9dde64e2b40d94
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 30 06:20:16 2010 +0000

    Try to pick a sane baseline offset. Fixes bug 183.

commit 8788b75d2003a3f8fdbc2f8e6881864c0f035e06
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 30 06:20:16 2010 +0000

    Try to pick a sane baseline offset. Fixes bug 183.

commit 079c187da2b890efd544fc6abc057d2b2b18f0a6
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Sep 29 06:23:58 2010 +0000

    Major improvement in drawing performance (spam 30k benchmark went from 3.44 seconds to 0.6 seconds). IME alignment and regular text alignment improved, inspired by patch thecloudexpanse. Fixes bug 176.

commit 6c53874d8b54ce97cb14f25dff6e8ea229e82422
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Wed Sep 29 06:23:58 2010 +0000

    Major improvement in drawing performance (spam 30k benchmark went from 3.44 seconds to 0.6 seconds). IME alignment and regular text alignment improved, inspired by patch thecloudexpanse. Fixes bug 176.

commit 8c1238b8054d42df656780d8a7f6111d0df1f07f
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Sep 28 06:43:39 2010 +0000

    Rearrange window widgets on resize. Do not reset tab bar control to top in fitWindowToSessions. Fixes bug 167.

commit 76a705fc26dd685b72cad8a3997fea96b995e67e
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Sep 28 06:43:39 2010 +0000

    Rearrange window widgets on resize. Do not reset tab bar control to top in fitWindowToSessions. Fixes bug 167.

commit 789e3ca987b8b44baedd9b0b07cb5acc970f25d4
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Sep 28 06:17:06 2010 +0000

    Handle one-word commands. Fixes bug 166.

commit 6011ceed4d4534bcf32feb3224efffebf9d3230f
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Sep 28 06:17:06 2010 +0000

    Handle one-word commands. Fixes bug 166.

commit 1ebbad14617e1b339860e4d4e819b2d0374fb55e
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Sep 27 06:03:25 2010 +0000

    alpha9 trunk

commit 859b9618c95e54249d03d7605dd9ecea8433990e
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Sep 27 06:03:25 2010 +0000

    alpha9 trunk

commit d0f9eb42de0123cec6450f08047066e6e24d2281
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Sep 27 04:39:00 2010 +0000

    Handle cmd-number when focus in findbar. Fixes bug 111.

commit f4ed3e635bfb89a1e53b7038b7757c8d22390413
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Sep 27 04:39:00 2010 +0000

    Handle cmd-number when focus in findbar. Fixes bug 111.

commit 7289d8640680765534badc6158d423b902d7aed8
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Sep 27 04:25:02 2010 +0000

    Disable regular cursor while IME is open. Also fix bug where cursor is drawn over half of two double-width characters. Fixes bug 162.

commit 4790f1b5c6a2281dc0aaef90a5b8aa374c44774d
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Sep 27 04:25:02 2010 +0000

    Disable regular cursor while IME is open. Also fix bug where cursor is drawn over half of two double-width characters. Fixes bug 162.

commit 7c4dc313395e8f30361d97dd1a5cac90d516ddec
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Sep 26 21:29:12 2010 +0000

    Apply IME improvement patch. Fixes bug 117.

commit 5fdce2fd1035cf02f8859091faadce23eac8977f
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Sep 26 21:29:12 2010 +0000

    Apply IME improvement patch. Fixes bug 117.

commit 82f92b6addb081e0600764c93d2e5b44ddee43b5
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Sep 26 21:17:41 2010 +0000

    Make IME text appear at the correct height.

commit 80f6a3743fa3362ceddec8c360ce663801ec0d79
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Sep 26 21:17:41 2010 +0000

    Make IME text appear at the correct height.

commit 79b71dd08a8523408a6c19a59dc9cbe58143fa36
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Sep 26 20:23:32 2010 +0000

    Fix bug 149 (terminal size counts backwards)

commit 23c04544cd964f13bd2a0334a68c39951cd044b0
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Sep 26 20:23:32 2010 +0000

    Fix bug 149 (terminal size counts backwards)

commit f2531dd5d0207b387707499c41e6a4ce8ca91c6c
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Sep 26 20:16:02 2010 +0000

    Fix bug 156 (session size shrinks when opening a second tab). Fix bug 86 (minimize button disappears after exiting fullscreen). Fix bug 129 (adding a bookmark changed default bookmark). Fix a bug where making a change in Edit Session would wipe out all bookmarks. Fix a bug where cmd-+ or cmd-- would update an open Edit Session window, and making a change in it would lose the font change. Now making a font change with cmd-+/- divorces the session from the bookmark.

commit 80c267c55d3a5540d76cd0a26695c2c6cc71c1f7
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Sep 26 20:16:02 2010 +0000

    Fix bug 156 (session size shrinks when opening a second tab). Fix bug 86 (minimize button disappears after exiting fullscreen). Fix bug 129 (adding a bookmark changed default bookmark). Fix a bug where making a change in Edit Session would wipe out all bookmarks. Fix a bug where cmd-+ or cmd-- would update an open Edit Session window, and making a change in it would lose the font change. Now making a font change with cmd-+/- divorces the session from the bookmark.

commit ac444c5e335c25efdd9b9b6ed3d8d36b16f57673
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Sep 25 19:10:30 2010 +0000

    Was negating smart layout incorrectly. Fixes bug 158.

commit 196e6bf73dd81d7eea05df85535f79275e0bbe38
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Sep 25 19:10:30 2010 +0000

    Was negating smart layout incorrectly. Fixes bug 158.

commit cedaa1f398149dbe78c504c3e3e67a61cb5ead79
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Sep 25 19:04:16 2010 +0000

    Use core graphics to render fake bold. Respect antialias setting when rendering text with core graphics. Truncate coordinates before drawing so core graphics and cocoa put things in the same place. Fixes bug 155.

commit 923ceb2254e4b964f98be0f690cc4249fe1a7740
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Sep 25 19:04:16 2010 +0000

    Use core graphics to render fake bold. Respect antialias setting when rendering text with core graphics. Truncate coordinates before drawing so core graphics and cocoa put things in the same place. Fixes bug 155.

commit e97343203ac06b161d0dde863407e1e8b50872e8
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Sep 25 18:30:16 2010 +0000

    Rename 'Non Ascii Double Width' to 'Ambiguous Double Width'. It will default to off, which is the right setting for non-CJK users. Fixes bug 154.

commit f650e75cd3f64abf46c1608c7a93b5ebb2f7d54a
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Sep 25 18:30:16 2010 +0000

    Rename 'Non Ascii Double Width' to 'Ambiguous Double Width'. It will default to off, which is the right setting for non-CJK users. Fixes bug 154.

commit 6cae0680731c9cdb952ddad9ea8ec7a67952a90e
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Sep 24 07:00:03 2010 +0000

    Integrate faster text patch. Improves text drawing performance, at least for some machines or configurations. Fixes bug 143.

commit 8f38fa85da7887e40de016016c2488a8a7035684
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Sep 24 07:00:03 2010 +0000

    Integrate faster text patch. Improves text drawing performance, at least for some machines or configurations. Fixes bug 143.

commit 354e580ece94daf102270d033ea4d8f15440b5cb
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Sep 24 06:28:32 2010 +0000

    Make search work correctly for non-ascii text and search queries. Fixes bug 70.

commit 1ee77a7bb8d2961d3e966e5c690ffa085a006ff4
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Sep 24 06:28:32 2010 +0000

    Make search work correctly for non-ascii text and search queries. Fixes bug 70.

commit bb2db6847b28da5fac04f5792dfdcf04ac07174e
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 23 17:02:20 2010 +0000

    Integrate command line parsing patch. Fixes bug 121.

commit c57e49d2a15965f93528d66b00fd4c8ef0fa2f2a
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 23 17:02:20 2010 +0000

    Integrate command line parsing patch. Fixes bug 121.

commit 516ec7a223dbd0d60333871cf25a3dcb336c7078
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 23 06:34:16 2010 +0000

    Fix bug with bogus wrapped-num-lines cache.

commit 9231b5f6a1d0a1a3c670f1341fb168b9d4d5511d
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 23 06:34:16 2010 +0000

    Fix bug with bogus wrapped-num-lines cache.

commit 72a510697c333b775844d652332dc6f29a9bfbb7
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 23 05:58:03 2010 +0000

    Do not draw text or cursor below last visible line when there is an excess lower margin. Fixes bug 145.

commit 685acd4814a7b058be29f3b703f18bab649f69ba
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 23 05:58:03 2010 +0000

    Do not draw text or cursor below last visible line when there is an excess lower margin. Fixes bug 145.

commit c785b33d7f39f40c749e3ceeb02d02abf36d3d40
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 23 05:30:32 2010 +0000

    Keep Bookmark and Prefs window in the Spaces screen you're in instead of switching to the app's original screen. Fixes bug 147.

commit 60f9a4f4647c15c9fb583205df80a5a92a1687ea
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 23 05:30:32 2010 +0000

    Keep Bookmark and Prefs window in the Spaces screen you're in instead of switching to the app's original screen. Fixes bug 147.

commit 7f4859919a5dd10c8d018df085798f77f266cd4a
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 23 05:22:22 2010 +0000

    Respect bookmark's size preference when opening a new window. Fixes bug 148.

commit 7b4d53f707db801db48427522d40a17d59034506
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 23 05:22:22 2010 +0000

    Respect bookmark's size preference when opening a new window. Fixes bug 148.

commit e4ec6e98aaf28be3abf723549b6ef6031a0305a0
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 23 05:14:27 2010 +0000

    Fix bug 71: wrapping of double-width characters. Fix double-click on words with double-width characters. Fix bug where key mappings are applied while cursor is in findbar.

commit 57431f81a7a96457ac351f3ab983e6a75fc8e41e
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 23 05:14:27 2010 +0000

    Fix bug 71: wrapping of double-width characters. Fix double-click on words with double-width characters. Fix bug where key mappings are applied while cursor is in findbar.

commit b433f3a808427a33465de66e45fe5f8f3d442326
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Sep 20 20:43:27 2010 +0000

    Round up char size earlier to avoid discrepancies in line height. Fixes bug 146.

commit 87ba4d8587e3e848a815ea939787c956490b7d18
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Sep 20 20:43:27 2010 +0000

    Round up char size earlier to avoid discrepancies in line height. Fixes bug 146.

commit 3d6b72396aff9d1c33a75b55d0e3a2f768cb067d
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Sep 20 20:05:58 2010 +0000

    Don't include tab bar control in visibleContentRect height calculation in full screen mode. Fixes bug 141.

commit c344e3d91f29831dbc37478b4b2f9010ddb26e40
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Sep 20 20:05:58 2010 +0000

    Don't include tab bar control in visibleContentRect height calculation in full screen mode. Fixes bug 141.

commit 29f6e6508ae4143b2c8bb310226a62929b36adc9
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Sep 19 20:16:04 2010 +0000

    Add some test-related files.

commit 2cce0a35593a9390c28b7f4cbe778d65b85b11c5
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Sep 19 20:16:04 2010 +0000

    Add some test-related files.

commit f91f4184e72fdd7e1c4181208f812ce090f4d620
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Sep 19 20:15:04 2010 +0000

    Fix #undef PRETTY_BOLD. Change wording of Paste With Escape. Remove Font Size Follows Window and Use Transparency menu items. Various style fixes. Remove vestiges of bookmarks drawer. Fix bug 66.

commit 4740bb87d41a46d67c2e0d7965ab41b7fe3f243d
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Sep 19 20:15:04 2010 +0000

    Fix #undef PRETTY_BOLD. Change wording of Paste With Escape. Remove Font Size Follows Window and Use Transparency menu items. Various style fixes. Remove vestiges of bookmarks drawer. Fix bug 66.

commit 59423b05725a3a49d171d1d0a6509aacd6c40b4e
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Sep 19 07:12:59 2010 +0000

    Performance improvements. Partially fixes bug 39.

commit 3be54e19f8605eed129557cc4dda5ce6bcd05230
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Sep 19 07:12:59 2010 +0000

    Performance improvements. Partially fixes bug 39.

commit ff92af293e41423ab700aa0ecb09d895839ebff4
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Sep 18 22:49:59 2010 +0000

    Unbreak Applescript support.

commit b37383c8b6246e7ca25722aba75c7326b39aa36b
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Sep 18 22:49:59 2010 +0000

    Unbreak Applescript support.

commit 14b7b4efbcb2dbe9ba5b7eeb2dc55ab88854c462
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Sep 18 21:56:28 2010 +0000

    Axe locale detection for double-width characters (which used to decide the width of ambiguous-width CJK characters). Make the preference setting control only the width of ambiguous-width characters. Double-width characters are now ALWAYS double-width. Style improvements. Fixes bug 30.

commit d2a8f972ae2b0df7446d52a171e74c627c66b065
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Sep 18 21:56:28 2010 +0000

    Axe locale detection for double-width characters (which used to decide the width of ambiguous-width CJK characters). Make the preference setting control only the width of ambiguous-width characters. Double-width characters are now ALWAYS double-width. Style improvements. Fixes bug 30.

commit 2dc5adf2b375456afe73cca4883424735252f6b4
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Sep 18 19:48:02 2010 +0000

    Style fixes. Major rehaul of PseudoTerminal to allow each tab to have its own font, blur, and anti-alias setting. Font Size Follows Window was a casualty, as was the Use Transparency menu. PreferencePanel was changed to show font, anti-alias, and transparency when editing a session. PTYTextView now has a vertical margin of excess space at the bottom that pads out tabs with smaller fonts to fit the window when there are mixed font sizes. Fix bug in PSMTagDragAssistant that caused an occasional crash (modifying a container during enumeration). Remove vestiges of the drawer. Made grow/shrink font more granular. CopyToScroll was disabled as a side-effect of allowing a mix of font sizes: keep an eye out to see if this hurts performance.

commit 4c0c6719504747965daf88551729adb75f4fd752
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Sep 18 19:48:02 2010 +0000

    Style fixes. Major rehaul of PseudoTerminal to allow each tab to have its own font, blur, and anti-alias setting. Font Size Follows Window was a casualty, as was the Use Transparency menu. PreferencePanel was changed to show font, anti-alias, and transparency when editing a session. PTYTextView now has a vertical margin of excess space at the bottom that pads out tabs with smaller fonts to fit the window when there are mixed font sizes. Fix bug in PSMTagDragAssistant that caused an occasional crash (modifying a container during enumeration). Remove vestiges of the drawer. Made grow/shrink font more granular. CopyToScroll was disabled as a side-effect of allowing a mix of font sizes: keep an eye out to see if this hurts performance.

commit cf4ff24c1e3b46a857e9ff7aa59104c62099f24a
Author: ionic@ionic.de <ionic@ionic.de@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Sep 13 17:07:20 2010 +0000

    Merging branch mihai back into trunk. Fixes bug #72. Fixes bug #76. Fixes bug #107.

commit dd95c2dd308d65713a582919569a86429ee059ab
Merge: d03f1eba 3fce807b
Author: ionic@ionic.de <ionic@ionic.de@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Sep 13 17:07:20 2010 +0000

    Merging branch mihai back into trunk. Fixes bug #72. Fixes bug #76. Fixes bug #107.

commit 3fce807b893661cae44c60ebf211b92d95c85e20
Author: ionic@ionic.de <ionic@ionic.de@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Sep 11 09:07:30 2010 +0000

    Reverted potentially over-time breaking code.

commit 9bc83445e2613d75d3f705922c7f6cb3fc5a704c
Merge: 03cd745c d03f1eba
Author: ionic@ionic.de <ionic@ionic.de@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Sep 11 06:51:24 2010 +0000

    Quick merge with trunk.

commit 03cd745cfab4fb1b4a7d6d943f217dcdf2457888
Author: ionic@ionic.de <ionic@ionic.de@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Sep 11 06:36:35 2010 +0000

    Multiple fixes for problems found by Code Review.

commit add8aff8fe60ba696b66dba23f40b1579f479c11
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Sep 10 22:24:16 2010 +0000

    Convert colors to RGB before trying to get brightness component to prevent exceptions at random times. Fixes bug 123. Fixes bug 122.

commit d03f1eba3f8449c764028279a8a454575382b08b
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Sep 10 22:24:16 2010 +0000

    Convert colors to RGB before trying to get brightness component to prevent exceptions at random times. Fixes bug 123. Fixes bug 122.

commit 8c321859983bfe4500b627d0820459bbe8eee047
Author: ionic@ionic.de <ionic@ionic.de@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Sep 10 03:13:35 2010 +0000

    Fixes a typo in code.

commit 12b7a08775cdb18281b50cd72ab8c21d0c67f35a
Author: ionic@ionic.de <ionic@ionic.de@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Sep 10 03:06:47 2010 +0000

    Indentation fixes, style fixes, minor speed improvements.

commit 914c22a80f18cb88af18bd8b1294c23dabc85c99
Author: ionic@ionic.de <ionic@ionic.de@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Sep 10 02:37:58 2010 +0000

    Indentation fixes, minor performance improvements, fixes as requested by Code Review.

commit 3b61644cd911ed4cfa6af1784d2fdeffa9fc0fa3
Author: ionic@ionic.de <ionic@ionic.de@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 9 08:19:37 2010 +0000

    And this was Search and Replace... sorry.

commit e52f89bd30489d2002449440943a0e87de730b4f
Author: ionic@ionic.de <ionic@ionic.de@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 9 08:15:52 2010 +0000

    Quick'n'Dirty fix for #72.

commit dbc6b7163f8e10cf3899323a50398b96db4e5c03
Author: ionic@ionic.de <ionic@ionic.de@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 9 04:35:14 2010 +0000

    Fixing double-click selection and introducing understandable comments for what is happening there. Disabling a noisy debug call. ("Drag to pixel..."). Adding a patch for IM key input. Fixes bug #97. Fixes bug #105.

commit 6ab67a7f76ce537e2411f24a34dda16f632c7ce2
Merge: 8c493d01 34e9754e
Author: ionic@ionic.de <ionic@ionic.de@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 9 04:35:14 2010 +0000

    Fixing double-click selection and introducing understandable comments for what is happening there. Disabling a noisy debug call. ("Drag to pixel..."). Adding a patch for IM key input. Fixes bug #97. Fixes bug #105.

commit 34e9754e8a4ba8a32327b952c4bc41fb845f5812
Author: ionic@ionic.de <ionic@ionic.de@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 9 04:26:12 2010 +0000

    Fixing double-click selection (bug #97), introducing understandable comments, disabling a noisy debug call, adding a patch for IM key input (bug #105).

commit bb0dc983ab26f6eca516e7068127f8cf5488e09a
Author: ionic@ionic.de <ionic@ionic.de@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 9 01:37:22 2010 +0000

    Merging branch mihai back into trunk. Features a re-worked, non-broken About dialogue and Shift-Cmd-Arrow Left/Right can now be used for switching tabs, too (known from Safari et al.). Fixes bug #93.

commit 8c493d01dc022855685e3e55435783e1402bfe67
Merge: fb31babb 64c33456
Author: ionic@ionic.de <ionic@ionic.de@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 9 01:37:22 2010 +0000

    Merging branch mihai back into trunk. Features a re-worked, non-broken About dialogue and Shift-Cmd-Arrow Left/Right can now be used for switching tabs, too (known from Safari et al.). Fixes bug #93.

commit 64c33456945ccd17acc746d87c2d76c49d37edea
Author: ionic@ionic.de <ionic@ionic.de@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 9 01:30:52 2010 +0000

    Minor About dialogue changes, code cleanup (scrolling code completely removed).

commit 8010d8a9c9907e1bf7489841bf40b4ff2cc79099
Author: ionic@ionic.de <ionic@ionic.de@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 9 01:09:45 2010 +0000

    Minor about dialogue style changes.

commit 51274b2eebdd0f1df69b73cc1460adb95b17632c
Merge: e80c1843 fb31babb
Author: ionic@ionic.de <ionic@ionic.de@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 9 00:53:44 2010 +0000

    Automatic scrolling makes mouse cursor flicker. Removed and updated about dialogue, fixes bug #93.

commit e6d738be1d7fc58d3e933160d5ddb6f46963ad16
Author: ionic@ionic.de <ionic@ionic.de@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Sep 7 17:46:23 2010 +0000

    Merging branch mihai back into trunk, fixing bug #101 and #103.

commit fb31babbd55b9620809b6c8055c4d9f1ec60f67a
Merge: 1ef6a16f e80c1843
Author: ionic@ionic.de <ionic@ionic.de@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Sep 7 17:46:23 2010 +0000

    Merging branch mihai back into trunk, fixing bug #101 and #103.

commit e80c18438dc9d7059717f7cd81e1330326adbb03
Author: ionic@ionic.de <ionic@ionic.de@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Sep 7 16:43:47 2010 +0000

    stringByExpandingTildeInPath is automatically called by stringByStandardizingPath, no need to do this redundantly.

commit 34663e0ee139c1d331003ef407b5e38c02227f9f
Author: ionic@ionic.de <ionic@ionic.de@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Sep 7 16:15:58 2010 +0000

    Better fix.

commit 48534869b57c2982f5013e29dd94f6e00cd8884b
Merge: 9804017b 1ef6a16f
Author: ionic@ionic.de <ionic@ionic.de@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Sep 7 15:53:31 2010 +0000

    Sync and bug fix. (see 101)

commit f1ac001673667618850018bc99692014cfa75c4a
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Sep 7 05:25:01 2010 +0000

    Add context menu to bookmarks window. Fixes bug 33.

commit 1ef6a16f2d20624411cf4e026947ff53b4856d6a
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Sep 7 05:25:01 2010 +0000

    Add context menu to bookmarks window. Fixes bug 33.

commit 5748a2c230d80bb609f46c4dbb99de90b7a3f01a
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Sep 7 02:11:15 2010 +0000

    Single-clicking in the window sets the location to begin searching. It persists until you type a key. Fixes bug 17.

commit a0995d1089e76c676de9d5717f1e8394fbcaaac1
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Sep 7 02:11:15 2010 +0000

    Single-clicking in the window sets the location to begin searching. It persists until you type a key. Fixes bug 17.

commit ccb59b8b15f2336a69b6d11d24a752b4618f05ba
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Sep 6 22:01:00 2010 +0000

    Redraw screen when scroll buffer overflows and scrollbar is at top. Fixes bug 25.

commit 6e3e13d159936cd067a2a4a7475bf846d2741e6d
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Sep 6 22:01:00 2010 +0000

    Redraw screen when scroll buffer overflows and scrollbar is at top. Fixes bug 25.

commit 9804017b0f1306156d912235116d902961a746ab
Merge: 0025fb98 334f9427
Author: ionic@ionic.de <ionic@ionic.de@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Sep 6 03:26:55 2010 +0000

    Quick sync w/ trunk.

commit 4a7af7ab81e290074f9eb0841579793e287e05f2
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Sep 6 03:09:38 2010 +0000

    alpha8

commit 334f9427e934b5e1f63037d46af5cdf8e501949a
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Sep 6 03:09:38 2010 +0000

    alpha8

commit e265eb2320eb3b9174d69c0f69484453f53a0b39
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Sep 6 02:57:41 2010 +0000

    Make bold text black or white by default, not red/pink.

commit c60921e6e0f4d163ccbe3d4129e2f55224282b27
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Sep 6 02:57:41 2010 +0000

    Make bold text black or white by default, not red/pink.

commit 938c050ae1bf16db62b99da6b9967a56266ddc56
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Sep 6 02:40:30 2010 +0000

    Fix a warning

commit d9369f8cbc26fad7951c41c6cb1f73f224fbfb36
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Sep 6 02:40:30 2010 +0000

    Fix a warning

commit 8c6ddedc9258269bf603822c64712bf58cf23902
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Sep 6 02:37:04 2010 +0000

    Add dropdown menu to search field with tags. Make tag completion work.

commit a428acac139c3321cc3d79abfd6c62dcb924f394
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Sep 6 02:37:04 2010 +0000

    Add dropdown menu to search field with tags. Make tag completion work.

commit 11f77dcb83508075fe2fc83527b3a46233aafa26
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Sep 6 00:57:59 2010 +0000

    Make all bold text bright. Fixes bug 62.

commit cc8e630a450866c0a5a2f89946fcfc055ce4db04
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Sep 6 00:57:59 2010 +0000

    Make all bold text bright. Fixes bug 62.

commit c5e8c2197148a25b34d5db39c969437ba9c3322d
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Sep 6 00:29:55 2010 +0000

    Add tags column to BookmarkListView. Make Bookmarks window resizable. Update bookmarks when tags are added. Select a bookmark when prefs are opened. Widen prefs window. Disable new tab/window button in boomkarks window when no bookmark is selected.

commit d00b20ce30b9c1fc8be9ff93c099ae65a9fa30b2
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Mon Sep 6 00:29:55 2010 +0000

    Add tags column to BookmarkListView. Make Bookmarks window resizable. Update bookmarks when tags are added. Select a bookmark when prefs are opened. Widen prefs window. Disable new tab/window button in boomkarks window when no bookmark is selected.

commit d1691fd717fc257a5b3006b08a0b2b2880684802
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Sep 5 20:25:39 2010 +0000

    Fix a warning

commit 41a9c4466db3857a339a41ab8c788cee2d651e7f
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Sep 5 20:25:39 2010 +0000

    Fix a warning

commit cd437df8a4a2c54041ee33b0b1a057b17984a138
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Sep 5 19:45:29 2010 +0000

    Add Recycle option to custom_directory. Migrate empty paths to be Recycle. Fixes bug 65.

commit 1483ddc641290491dd949bedb7d29ee199d7b56e
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Sep 5 19:45:29 2010 +0000

    Add Recycle option to custom_directory. Migrate empty paths to be Recycle. Fixes bug 65.

commit 39f0739ff02be9fd8ce5f74b0ea327035454bffd
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Sep 5 19:00:54 2010 +0000

    Handle busted lines in output of svn info. Fixes bug 64.

commit 7fc0cd7ffc2d7527637103b0a3b9c6eb474c0ed1
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Sep 5 19:00:54 2010 +0000

    Handle busted lines in output of svn info. Fixes bug 64.

commit e8cc49ca074e1f42db10a7fabf01d461d461041b
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Sep 5 18:55:11 2010 +0000

    Remove georgen files. Fixes bug 63.

commit ac4ac6e1a8205b564de6fe6f49cffa5fa23ba733
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Sep 5 18:55:11 2010 +0000

    Remove georgen files. Fixes bug 63.

commit 08348ada580b6f218af3d96f8aa7950e5b5668dc
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Sep 5 18:38:38 2010 +0000

    Make selection work like Cocoa selections by making the boundary be on the half character. Fixes bug 60.

commit 3ef5f16addd510d385751bc83b08f40e668c71ac
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Sep 5 18:38:38 2010 +0000

    Make selection work like Cocoa selections by making the boundary be on the half character. Fixes bug 60.

commit 149e35b4992cf18babb236d43ae851a25988f478
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Sep 5 07:18:56 2010 +0000

    Tentatively make bold type look nicer by using a separate font for it when available.

commit 983d68e9c1cc17d7da751a755827dcdee8cab2f0
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Sep 5 07:18:56 2010 +0000

    Tentatively make bold type look nicer by using a separate font for it when available.

commit 10a5a418f1bc7c5ef0adf2ac764874f08832982e
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Sep 5 06:48:15 2010 +0000

    Fix bug where double-clicking on an empty line in the keymap crashed. Also fixed a bug where the edit-keymap panel didn't work in cmd-i mode.

commit 73f805c206929e108afa07d114a2c6861bdb4627
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Sep 5 06:48:15 2010 +0000

    Fix bug where double-clicking on an empty line in the keymap crashed. Also fixed a bug where the edit-keymap panel didn't work in cmd-i mode.

commit e15fd9d61584a461cf392003a068cf751de5d46e
Author: ionic@ionic.de <ionic@ionic.de@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Sep 5 05:23:53 2010 +0000

    Merging branch mihai back into trunk, updating escape sequences and fixing bug #53.

commit f7e32482a98041ae3522ed0fbb51f8044352c925
Merge: 35ffb220 0025fb98
Author: ionic@ionic.de <ionic@ionic.de@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Sep 5 05:23:53 2010 +0000

    Merging branch mihai back into trunk, updating escape sequences and fixing bug #53.

commit 0025fb986086967e4bc640869d3f3b4ae17c50bc
Merge: e31fe026 35ffb220
Author: ionic@ionic.de <ionic@ionic.de@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Sep 5 04:59:15 2010 +0000

    Sync with trunk, added comment as to how the xterm behavior changed and the new escape codes were added.

commit dc5fcaecb61a8aec34dc05e9b7360e44e94de558
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Sep 5 04:45:48 2010 +0000

    Don't close the font panel when a PseudoTerminal gains focus. Fixes bug 51.

commit 35ffb220d099aad2958fbc78d080972a89821574
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Sep 5 04:45:48 2010 +0000

    Don't close the font panel when a PseudoTerminal gains focus. Fixes bug 51.

commit 064afdaaf311ade9aaa10e0a7c0fc7b27f0baf00
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Sep 5 02:51:07 2010 +0000

    Added dragging of bookmarks. Make up/down arrow keys navigate bookmarks table while in search field. Enable multiple selection, fixes bug 41.

commit 25a5b678e8e894b4d8867584ac5ff2ef6f006b5e
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Sep 5 02:51:07 2010 +0000

    Added dragging of bookmarks. Make up/down arrow keys navigate bookmarks table while in search field. Enable multiple selection, fixes bug 41.

commit e31fe0269dfcdbc29cc61f0c8329f3a885af6efe
Author: ionic@ionic.de <ionic@ionic.de@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Sep 5 01:48:44 2010 +0000

    Whoops, that's better (and faster!) for ObjC. Again fixes #53, but the style of how is better this time.

commit 09cc41c1d6de2493a438944a1423d67d2598793d
Author: ionic@ionic.de <ionic@ionic.de@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Sep 5 01:41:21 2010 +0000

    Correctly update the bookmark list view, if the shortcut has been unset for a profile. Fixes bug #53.

commit d3d818059fadcccac888dee704e4e66bf5429dcf
Author: ionic@ionic.de <ionic@ionic.de@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Sep 4 23:43:20 2010 +0000

    Updated default xterm key mappings (values reported to recent xterm versions)

commit 2a2432d65d99ee1a209cd942f2203c0f5306378a
Merge: 507ac843 46637a78
Author: ionic@ionic.de <ionic@ionic.de@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Sep 4 23:38:41 2010 +0000

    Synced branch mihai with trunk

commit bef2fdc2c4eacf02d52506fea6335a5c19f9856e
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Sep 4 20:13:23 2010 +0000

    Introduce a global keymap (not yet editable). Fixes bug 55. Allows ^-shift-{ } to switch tabs, ^6 to send ^^, ^- to send ^_.

commit 46637a781d5ee762b175af19daea71a9629c05eb
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Sep 4 20:13:23 2010 +0000

    Introduce a global keymap (not yet editable). Fixes bug 55. Allows ^-shift-{ } to switch tabs, ^6 to send ^^, ^- to send ^_.

commit 3d5cbb7bbdbe0f0d2bc4e9f0400f159a35bea557
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Sep 4 19:26:12 2010 +0000

    Implement drag in bookmark table view. Rename BookmarkTableView to BookmarkListView which is less miseleading. Fixes bug 54. Fixes bug 57.

commit 9e53b22d84ac33a6afdc693444288c3ddacc057b
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Sep 4 19:26:12 2010 +0000

    Implement drag in bookmark table view. Rename BookmarkTableView to BookmarkListView which is less miseleading. Fixes bug 54. Fixes bug 57.

commit 8cba9e1a20a01500191bb7b4dd55c91c51f525d2
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Sep 4 16:32:56 2010 +0000

    Fixes bug 54: Trying to drag bookmarks in Preferences | Bookmarks to reorder makes all copies of first selected

commit d70f191bfb81e4c4a3de489207ce787799096b1d
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Sep 4 16:32:56 2010 +0000

    Fixes bug 54: Trying to drag bookmarks in Preferences | Bookmarks to reorder makes all copies of first selected

commit edd8188127216be015cd391075bf3d276eae0ce9
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Sep 4 07:34:33 2010 +0000

    Update contributors

commit ac81a7034962e194f1804752293b38da75c6c89c
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Sep 4 07:34:33 2010 +0000

    Update contributors

commit cccdbae239576fab6aedef54541b7ea1434db38e
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Sep 4 07:23:14 2010 +0000

    New iTerm icon!

commit b2a468c4c2c36d87a29872f9025d7dfb73cb086f
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Sep 4 07:23:14 2010 +0000

    New iTerm icon!

commit 499e17a86626b8166b14b7779ce2a9fcebacd505
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Sep 3 16:55:16 2010 +0000

    Fix broken cmd-number to swtich tabs. Also remove profiles.plist. Fixes bug 48.

commit b2cf26a960933232e27c8b0defad020c4dcd748e
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Sep 3 16:55:16 2010 +0000

    Fix broken cmd-number to swtich tabs. Also remove profiles.plist. Fixes bug 48.

commit 507ac843339b79d72dddb98acb153c2f4ff00040
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Sep 3 07:41:27 2010 +0000

    Create dev branch for Mihai

commit 96d545f72c2366edb9af880f9547589749001d36
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Sep 3 07:27:19 2010 +0000

    Improve release script

commit 744176783f8ed8d656c3b262a41345da07a64d21
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Sep 3 07:27:19 2010 +0000

    Improve release script

commit 275907d3406ebd593978626bfc709ace1b1d6470
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Sep 3 07:25:17 2010 +0000

    Alpha7 try 2

commit c0d879f5b60244c5463ac90e631c7c12cf9af8d6
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Sep 3 07:25:17 2010 +0000

    Alpha7 try 2

commit 0bd129af1d6210e97367b7d5bf0788ea8cd44316
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Sep 3 07:10:58 2010 +0000

    alpha7

commit 79d53a99b0c7dcede5525719cdc1cf6ce0d1599e
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Sep 3 07:10:58 2010 +0000

    alpha7

commit c3eebeb74eb9fb742815153a9d96e34d061b0bc0
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Sep 3 06:49:16 2010 +0000

    Make Global pref tab the default because the global button is selected by default.

commit 1967a4eb44131c0833a2d1c624f21aea4c867850
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Sep 3 06:49:16 2010 +0000

    Make Global pref tab the default because the global button is selected by default.

commit eaa93d33204df6110f7ea60688487a9075db380a
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Sep 3 06:47:14 2010 +0000

    Fix a warning. Fix a possible bug where the continuation char wasn't initialized in resizeWidth.

commit 9cf9ceada5ff3cf1f0b00ebebe7ba8262bce42c2
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Sep 3 06:47:14 2010 +0000

    Fix a warning. Fix a possible bug where the continuation char wasn't initialized in resizeWidth.

commit 15a0a89e36302bdbfb7bb303f08e0d54594e52b7
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Sep 3 06:28:38 2010 +0000

    Do not force prefs to show general tab. Fixes bug 42.

commit 800e5fe36bcf8a385249cf6449dde1a978e24079
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Sep 3 06:28:38 2010 +0000

    Do not force prefs to show general tab. Fixes bug 42.

commit ba4b0448fc450b3e0149fd03563181bf8cb84bca
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Sep 3 06:26:23 2010 +0000

    Set KEY_CUSTOM_COMMAND when migrating old bookmarks. Also fix a bug where the Auto Close -> Close Sessions On End was not imported properly.

commit 3453a407f154c1f978bb4e9570e5cca0ad3bf0fc
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Sep 3 06:26:23 2010 +0000

    Set KEY_CUSTOM_COMMAND when migrating old bookmarks. Also fix a bug where the Auto Close -> Close Sessions On End was not imported properly.

commit eece7b9b63d88849b6d96d8b269ad77f8316f9ce
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Sep 3 06:01:11 2010 +0000

    Pass -l option to login if a custom dir is specified with login shell. Fixes bug 44.

commit 03a8a10fc293ee6f8bde3b17fd859c3b0585f80c
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Sep 3 06:01:11 2010 +0000

    Pass -l option to login if a custom dir is specified with login shell. Fixes bug 44.

commit bcf8ad95a4563d13ad5ac7ee613b5311c90797bc
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 2 07:18:01 2010 +0000

    Holding down shift and zooming goes full width, fixes bug 24. Fix bug 26 with matching URLs.

commit 83e43660d528cde8908a668de624acd351232ca2
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 2 07:18:01 2010 +0000

    Holding down shift and zooming goes full width, fixes bug 24. Fix bug 26 with matching URLs.

commit ac92564cd240079935d8724f1ac063101b32862b
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 2 06:38:55 2010 +0000

    Do not lose screen contents on cmd-R reset. Fixes bug 23.

commit 02cdd6725ccd1a2af12dab4401f0d0ca60e3e072
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 2 06:38:55 2010 +0000

    Do not lose screen contents on cmd-R reset. Fixes bug 23.

commit 404051678f9429203469d31f4ddb80bd14051c8c
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 2 06:26:14 2010 +0000

    Fix bug 22

commit 652fa1d92fa4a0c800440ff828de6c224b5b6d13
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 2 06:26:14 2010 +0000

    Fix bug 22

commit c2dc57ea3c1dc821b2ea0662450265e65ba1ab38
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 2 06:20:20 2010 +0000

    Improve appearance of bookmark table view. Fixes bug 34.

commit 7a2af623262ea4c269810bdc207bf4af7e87aa57
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 2 06:20:20 2010 +0000

    Improve appearance of bookmark table view. Fixes bug 34.

commit b3507091c5874fb7d90af18103b854ac31c57c5d
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 2 05:41:15 2010 +0000

    Ensure that a default bookmark exists even if the config file specifies one that doesn't exist. Also fix a crash on termination. Fixes bug 36.

commit d36e3a32776f213f5ae272a3ddcd4a5c6e477b3f
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 2 05:41:15 2010 +0000

    Ensure that a default bookmark exists even if the config file specifies one that doesn't exist. Also fix a crash on termination. Fixes bug 36.

commit 2143da9565c14b2d001752174a3d79215ea7b32e
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 2 05:15:45 2010 +0000

    Do not let keybindings affect search field in bookmarks drawer. Fixes bug 35.

commit 53733ef8aa93a656d06900a271416d1adafad65c
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 2 05:15:45 2010 +0000

    Do not let keybindings affect search field in bookmarks drawer. Fixes bug 35.

commit ff15cb2d82970b78b3b4e34b8857c83fb3df41f9
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 2 00:43:23 2010 +0000

    Fix missing version number

commit f11d30e8c6dbc775dfa8f332af8551519b9a8d26
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 2 00:43:23 2010 +0000

    Fix missing version number

commit f8aa305d681238168493ec6c60457dfa2cf508e0
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 2 00:38:28 2010 +0000

    alpha6

commit 1695e49f912ff2127c1a33d92ae99657bacdf546
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 2 00:38:28 2010 +0000

    alpha6

commit a0999d1d5888f33073bda9f3536b898e7f9f3f08
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 2 00:28:57 2010 +0000

    Fix up some warnings.

commit 7f5e9916ef06e15d72d866e1e5591346ce3c3af2
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 2 00:28:57 2010 +0000

    Fix up some warnings.

commit 35b029cfda2dcf84e36b9ffcc3fafa6852f0d148
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 2 00:04:31 2010 +0000

    This is an enormous change which reworks preferences. Most of the incremental changes were done in a private Git server. The highlights are:
    - Completely redesigned preferences dialog
    - Fix lots of warnings.
    - Got rid of profiles altogether.
    - Define color and keyboard presets and store them in plist files.
    - Bookmarks now have tags instead of neted directories.
    - Remove the tree view and replace it with a flat table.
    - Bookmarks list includes a search field.
    - Make bookmarks changes be reflected immediately in open sessions.
    - Changes to the bookmark affect only that session, which is forever divorced from its founding bookmark.
    - A separate prefs panel is opened that hides the bookmarks table.
    - Bookmarks now have unique GUIDs assigned and are usually referred to by GUID instead of by pointers, which are evanescent.
    - When you do cmd-i, the session's bookmark is copied into a separate model and given a new guid.
    - Make the prefs window work differently when editing a session.
    - Display star graphic next to default bookmark.

commit cfad9cf9ddfdb3b37cbc4ac28f693bf84689eb36
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Sep 2 00:04:31 2010 +0000

    This is an enormous change which reworks preferences. Most of the incremental changes were done in a private Git server. The highlights are:
    - Completely redesigned preferences dialog
    - Fix lots of warnings.
    - Got rid of profiles altogether.
    - Define color and keyboard presets and store them in plist files.
    - Bookmarks now have tags instead of neted directories.
    - Remove the tree view and replace it with a flat table.
    - Bookmarks list includes a search field.
    - Make bookmarks changes be reflected immediately in open sessions.
    - Changes to the bookmark affect only that session, which is forever divorced from its founding bookmark.
    - A separate prefs panel is opened that hides the bookmarks table.
    - Bookmarks now have unique GUIDs assigned and are usually referred to by GUID instead of by pointers, which are evanescent.
    - When you do cmd-i, the session's bookmark is copied into a separate model and given a new guid.
    - Make the prefs window work differently when editing a session.
    - Display star graphic next to default bookmark.

commit 6fff453d6221b329f956442306dd99d68bf816c6
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Aug 13 18:16:11 2010 +0000

    Rename Compability to Compatability, and add Compatability.h which was missed in the previous checkin.

commit cfd598efadd449f25e6f342a48fd91f4f045420f
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Aug 13 18:16:11 2010 +0000

    Rename Compability to Compatability, and add Compatability.h which was missed in the previous checkin.

commit eb08b9c65e276570febba96353727309345ac870
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Aug 12 22:53:08 2010 +0000

    Include change from Mark to include Compatibility.h

commit c65bed8424e7eb437d190f729be8fee5f53faee6
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Aug 12 22:53:08 2010 +0000

    Include change from Mark to include Compatibility.h

commit dbd65049d52d233e3a05d224ce816ad87dadd061
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Aug 12 21:58:20 2010 +0000

    Switch sparkle dir from fork to trunk

commit 58b0c7042093a5986c88d34f0400be297bc57d11
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Aug 12 21:58:20 2010 +0000

    Switch sparkle dir from fork to trunk

commit 172d561a41e9a01195e10260d9ed5c6f71181ce4
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Aug 12 20:58:01 2010 +0000

    Update release process

commit c5a5df298153197bdb00ae84175cabb281321a25
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Aug 12 20:58:01 2010 +0000

    Update release process

commit 8b8aa3e60f3cc4d42b394eb98d2a19d89e18e632
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Aug 12 18:58:58 2010 +0000

    Alpha 5

commit b35cde7e506ffa868cbe388057eb4caaf9204201
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Aug 12 18:58:58 2010 +0000

    Alpha 5

commit 6e3e8000a8401eb65149e29bea306e34d5df3f8b
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Aug 12 18:45:59 2010 +0000

    Merge in georgen.typedown2 branch.

commit 2178c3601a29940a9ab78e89a202574e4ad562b0
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Aug 12 18:45:59 2010 +0000

    Merge in georgen.typedown2 branch.

commit ed654d0505b510db06f009f101f559069705ae92
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Aug 12 00:41:47 2010 +0000

    Remove vestigial code

commit 7ca50ca4f6d3bb803d490e77e2bd91bb3d310912
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Aug 12 00:41:47 2010 +0000

    Remove vestigial code

commit 0115762b122a8d0a42a0c46f546f4d9789c984d2
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Aug 12 00:38:09 2010 +0000

    Fix formatting and warnings. Add support for inverted cursor.  Add debug logging. Remove epic hack performance optimization that caused drawing errors.  Change base sdk to 10.5.

commit 7fc6d38e45faa8f2834f4c2fd58b1d265804ca4b
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Aug 12 00:38:09 2010 +0000

    Fix formatting and warnings. Add support for inverted cursor.  Add debug logging. Remove epic hack performance optimization that caused drawing errors.  Change base sdk to 10.5.

commit c8b44f8957c87d4c5e1a7ee9c8d9d3386281aaa0
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Aug 7 00:11:23 2010 +0000

    Fix warnings

commit 732e2016a488f9e06a88cd2ab3925436e437864e
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Aug 7 00:11:23 2010 +0000

    Fix warnings

commit b63ae37eef9209ccc57bd72b6300c2c76951851b
Merge: 220c5eaf 02d3ba85
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Aug 6 22:47:07 2010 +0000

    Move fork to trunk to follow svn conventions better.

commit 02d3ba8524418d64b2280e6378665c7801f980a3
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Aug 6 21:44:10 2010 +0000

    Improve performance of debuglogging by storing in 100m memory buffer until turned off

commit 220c5eaf4130b64fb0a063fa59fc80175bef61e7
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Aug 6 05:56:36 2010 +0000

    Merge fork branch at 2:HEAD

commit 65be32b4f43905b8ad05dc5439a494521fb2ec50
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Aug 5 21:15:19 2010 +0000

    Added debug logging. Fixed bug tangential to issue 2 (and mentioned in its comments) where eraseInDisplay wrapped around the circular buffer incorrectly.

commit 8e20a11764d88cf8f1178ab41570e511d2be5698
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Aug 3 05:46:19 2010 +0000

    Add feature: holding down Alt causes select to highlight a box rather than consecutive chars

commit 0c1c56be74ca14cd491c7a6bb2f94cd4cab368df
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Aug 3 05:04:29 2010 +0000

    Improve URL selection

commit d732e08d70ad7b030e5e421b81fc1cec57a60643
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Jul 31 20:35:35 2010 +0000

    Fix bug in find and add test for it.

commit 1a8ff76d5a698da6f32ea053b7367e75618a5ce3
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Jul 30 07:32:16 2010 +0000

    Add template for automated release process.

commit f837aaa396cbcf49b8d183993686f0c4d6b21d43
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Jul 30 06:57:13 2010 +0000

    Change from html to txt because googlecode serves the file up as plain text.

commit 316633f078a047373a16aa68f9cad73af04998dd
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Jul 30 06:55:11 2010 +0000

    Fix release notes link

commit 32bf1b4e8db21e31b20dc4c3273a2d9587de976d
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Jul 30 06:51:02 2010 +0000

    Add alpha 4

commit 62111cc40fd55ab56732a1bcf5c7c4000510d734
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Jul 30 06:50:48 2010 +0000

    Update for all versions up to alpha-4

commit 37318c23a671f8554101dab0786cdda0ae1a540e
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Jul 30 04:33:24 2010 +0000

    Fix jump-to-scroll to stay at the scroll position. Fixed bug 13: cannot select one character.

commit bafa9c738a1007fa74fb8b0f209c193f89034ee2
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Jul 29 16:08:39 2010 +0000

    Apply patch from iTerm1 bug 2905335: adds an option to disable smart placement and saves window positions in prefs.

commit 7fc8193603a9d8bd286ee38164fda70144d49440
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Jul 29 06:28:00 2010 +0000

    Migrate old preferences, fixing bug 5. Also remove some extraneous build files from svn.

commit 4943c5e729082746c8d58d758f99bcd99a8b8fdb
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Jul 29 06:11:38 2010 +0000

    Fix bug where display is corrupted when reizing with font size follows window turned on (bug 3).

commit 63dfc7179ed40fe16ff44e41eb9d7c84fe2777ba
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Jul 29 01:58:50 2010 +0000

    Fixed some warnings in PTYTask. Moved assertion in linebuffer per bug 9.

commit 38f5d0bdaad4aefb656d19e4ce833f5ac941f87f
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Thu Jul 29 01:49:14 2010 +0000

    Fix a bug in the psmtabbar where they mutate an array while enumerating it. Also fix a race condition that caused Major fail! crashes or dereferencing free memory in PTYTask by properly locking the list of tasks and tolerating closed fd rather than hoping usleep prevents the race (hint: it doesn't)

commit 4e460b58b7ad6f85f6c48e98a88e889ebc11a7a8
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Jul 25 20:12:17 2010 +0000

    Fixed some bugs with find. Changed credits. Updated Sparkle for the new site.

commit bdd88f2edb09515bfd062d7f1b869a4e605fc176
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Jul 25 03:01:49 2010 +0000

    Fix warnings, based on a patch from Marc Haisenko.

commit 9b1b7720a649b7ce1c72d431683f8345f97fd01c
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sun Jul 25 01:30:13 2010 +0000

    Make find work again.

commit dc0c48bcd5d96c063d63a4d943881557d775d598
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Sat Jul 24 00:30:22 2010 +0000

    Fix bug with lastfinx

commit be2eb8f06f9a8dd005c576f79a6dd06bd5f92366
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Jul 23 17:31:47 2010 +0000

    Remove build

commit 7964cfdd64f4f6411a8ad53de31b0522b0e521fe
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Jul 23 17:30:48 2010 +0000

    Finish intial recoding of find feature

commit 312631cb0bb50b165a161b9c30666cefa72b8eec
Author: gnachman <gnachman@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Fri Jul 23 01:06:54 2010 +0000

    Submit working changes for speeding up find. Find functionality is broken by this change

commit 682b4e58c0b60a955ea15a9e511b7ec831c0ba7d
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Jul 20 22:22:13 2010 +0000

    Initial fork of iTerm

commit 12659c09f331bfd7ddda88b259c808ef3d771ad0
Author: georgen@google.com <georgen@google.com@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Jul 20 22:22:13 2010 +0000

    Initial fork of iTerm

commit eb4c3c33506b604e35640b35e75883b8b82abea3
Author: (no author) <(no author)@5c829b59-20ba-c297-566c-b9ce016b2d6a>
Date:   Tue Jul 20 21:50:33 2010 +0000

    Initial directory structure.
